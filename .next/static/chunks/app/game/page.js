/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/game/page"],{

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fyume%2FDesktop%2F%E9%A1%B9%E7%9B%AE1%2Fcomponents%2FGameScene.tsx%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fyume%2FDesktop%2F%E9%A1%B9%E7%9B%AE1%2Fnode_modules%2Fnext%2Fdist%2Fshared%2Flib%2Flazy-dynamic%2Fdynamic-bailout-to-csr.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fyume%2FDesktop%2F%E9%A1%B9%E7%9B%AE1%2Fnode_modules%2Fnext%2Fdist%2Fshared%2Flib%2Flazy-dynamic%2Fpreload-css.js%22%2C%22ids%22%3A%5B%5D%7D&server=false!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fyume%2FDesktop%2F%E9%A1%B9%E7%9B%AE1%2Fcomponents%2FGameScene.tsx%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fyume%2FDesktop%2F%E9%A1%B9%E7%9B%AE1%2Fnode_modules%2Fnext%2Fdist%2Fshared%2Flib%2Flazy-dynamic%2Fdynamic-bailout-to-csr.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fyume%2FDesktop%2F%E9%A1%B9%E7%9B%AE1%2Fnode_modules%2Fnext%2Fdist%2Fshared%2Flib%2Flazy-dynamic%2Fpreload-css.js%22%2C%22ids%22%3A%5B%5D%7D&server=false! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/GameScene.tsx */ \"(app-pages-browser)/./components/GameScene.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./node_modules/next/dist/shared/lib/lazy-dynamic/preload-css.js */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/preload-css.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZ5dW1lJTJGRGVza3RvcCUyRiVFOSVBMSVCOSVFNyU5QiVBRTElMkZjb21wb25lbnRzJTJGR2FtZVNjZW5lLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRnl1bWUlMkZEZXNrdG9wJTJGJUU5JUExJUI5JUU3JTlCJUFFMSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGc2hhcmVkJTJGbGliJTJGbGF6eS1keW5hbWljJTJGZHluYW1pYy1iYWlsb3V0LXRvLWNzci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRnl1bWUlMkZEZXNrdG9wJTJGJUU5JUExJUI5JUU3JTlCJUFFMSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGc2hhcmVkJTJGbGliJTJGbGF6eS1keW5hbWljJTJGcHJlbG9hZC1jc3MuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPWZhbHNlISIsIm1hcHBpbmdzIjoiQUFBQSw4S0FBcUY7QUFDckY7QUFDQSw4UUFBcUk7QUFDckk7QUFDQSx3UEFBMEgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLz9jZTJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL3l1bWUvRGVza3RvcC/pobnnm64xL2NvbXBvbmVudHMvR2FtZVNjZW5lLnRzeFwiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL3l1bWUvRGVza3RvcC/pobnnm64xL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2hhcmVkL2xpYi9sYXp5LWR5bmFtaWMvZHluYW1pYy1iYWlsb3V0LXRvLWNzci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL3l1bWUvRGVza3RvcC/pobnnm64xL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2hhcmVkL2xpYi9sYXp5LWR5bmFtaWMvcHJlbG9hZC1jc3MuanNcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fyume%2FDesktop%2F%E9%A1%B9%E7%9B%AE1%2Fcomponents%2FGameScene.tsx%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fyume%2FDesktop%2F%E9%A1%B9%E7%9B%AE1%2Fnode_modules%2Fnext%2Fdist%2Fshared%2Flib%2Flazy-dynamic%2Fdynamic-bailout-to-csr.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fyume%2FDesktop%2F%E9%A1%B9%E7%9B%AE1%2Fnode_modules%2Fnext%2Fdist%2Fshared%2Flib%2Flazy-dynamic%2Fpreload-css.js%22%2C%22ids%22%3A%5B%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/narraleaf-react/dist/main.js":
/*!***************************************************!*\
  !*** ./node_modules/narraleaf-react/dist/main.js ***!
  \***************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("!function(t,e){ true?module.exports=e(__webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\"),__webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\")):0}(this,((t,e)=>(()=>{var n={587:(t,e,n)=>{\"use strict\";n.d(e,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,\"/*\\n! tailwindcss v3.4.11 | MIT License | https://tailwindcss.com\\n*//*\\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\\n*/\\n\\n*,\\n::before,\\n::after {\\n  box-sizing: border-box; /* 1 */\\n  border-width: 0; /* 2 */\\n  border-style: solid; /* 2 */\\n  border-color: #e5e7eb; /* 2 */\\n}\\n\\n::before,\\n::after {\\n  --tw-content: '';\\n}\\n\\n/*\\n1. Use a consistent sensible line-height in all browsers.\\n2. Prevent adjustments of font size after orientation changes in iOS.\\n3. Use a more readable tab size.\\n4. Use the user's configured `sans` font-family by default.\\n5. Use the user's configured `sans` font-feature-settings by default.\\n6. Use the user's configured `sans` font-variation-settings by default.\\n7. Disable tap highlights on iOS\\n*/\\n\\nhtml,\\n:host {\\n  line-height: 1.5; /* 1 */\\n  -webkit-text-size-adjust: 100%; /* 2 */\\n  -moz-tab-size: 4; /* 3 */\\n  -o-tab-size: 4;\\n     tab-size: 4; /* 3 */\\n  font-family: ui-sans-serif, system-ui, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\", \\\"Noto Color Emoji\\\"; /* 4 */\\n  font-feature-settings: normal; /* 5 */\\n  font-variation-settings: normal; /* 6 */\\n  -webkit-tap-highlight-color: transparent; /* 7 */\\n}\\n\\n/*\\n1. Remove the margin in all browsers.\\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\\n*/\\n\\nbody {\\n  margin: 0; /* 1 */\\n  line-height: inherit; /* 2 */\\n}\\n\\n/*\\n1. Add the correct height in Firefox.\\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\\n3. Ensure horizontal rules are visible by default.\\n*/\\n\\nhr {\\n  height: 0; /* 1 */\\n  color: inherit; /* 2 */\\n  border-top-width: 1px; /* 3 */\\n}\\n\\n/*\\nAdd the correct text decoration in Chrome, Edge, and Safari.\\n*/\\n\\nabbr:where([title]) {\\n  -webkit-text-decoration: underline dotted;\\n          text-decoration: underline dotted;\\n}\\n\\n/*\\nRemove the default font size and weight for headings.\\n*/\\n\\nh1,\\nh2,\\nh3,\\nh4,\\nh5,\\nh6 {\\n  font-size: inherit;\\n  font-weight: inherit;\\n}\\n\\n/*\\nReset links to optimize for opt-in styling instead of opt-out.\\n*/\\n\\na {\\n  color: inherit;\\n  text-decoration: inherit;\\n}\\n\\n/*\\nAdd the correct font weight in Edge and Safari.\\n*/\\n\\nb,\\nstrong {\\n  font-weight: bolder;\\n}\\n\\n/*\\n1. Use the user's configured `mono` font-family by default.\\n2. Use the user's configured `mono` font-feature-settings by default.\\n3. Use the user's configured `mono` font-variation-settings by default.\\n4. Correct the odd `em` font sizing in all browsers.\\n*/\\n\\ncode,\\nkbd,\\nsamp,\\npre {\\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \\\"Liberation Mono\\\", \\\"Courier New\\\", monospace; /* 1 */\\n  font-feature-settings: normal; /* 2 */\\n  font-variation-settings: normal; /* 3 */\\n  font-size: 1em; /* 4 */\\n}\\n\\n/*\\nAdd the correct font size in all browsers.\\n*/\\n\\nsmall {\\n  font-size: 80%;\\n}\\n\\n/*\\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\\n*/\\n\\nsub,\\nsup {\\n  font-size: 75%;\\n  line-height: 0;\\n  position: relative;\\n  vertical-align: baseline;\\n}\\n\\nsub {\\n  bottom: -0.25em;\\n}\\n\\nsup {\\n  top: -0.5em;\\n}\\n\\n/*\\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\\n3. Remove gaps between table borders by default.\\n*/\\n\\ntable {\\n  text-indent: 0; /* 1 */\\n  border-color: inherit; /* 2 */\\n  border-collapse: collapse; /* 3 */\\n}\\n\\n/*\\n1. Change the font styles in all browsers.\\n2. Remove the margin in Firefox and Safari.\\n3. Remove default padding in all browsers.\\n*/\\n\\nbutton,\\ninput,\\noptgroup,\\nselect,\\ntextarea {\\n  font-family: inherit; /* 1 */\\n  font-feature-settings: inherit; /* 1 */\\n  font-variation-settings: inherit; /* 1 */\\n  font-size: 100%; /* 1 */\\n  font-weight: inherit; /* 1 */\\n  line-height: inherit; /* 1 */\\n  letter-spacing: inherit; /* 1 */\\n  color: inherit; /* 1 */\\n  margin: 0; /* 2 */\\n  padding: 0; /* 3 */\\n}\\n\\n/*\\nRemove the inheritance of text transform in Edge and Firefox.\\n*/\\n\\nbutton,\\nselect {\\n  text-transform: none;\\n}\\n\\n/*\\n1. Correct the inability to style clickable types in iOS and Safari.\\n2. Remove default button styles.\\n*/\\n\\nbutton,\\ninput:where([type='button']),\\ninput:where([type='reset']),\\ninput:where([type='submit']) {\\n  -webkit-appearance: button; /* 1 */\\n  background-color: transparent; /* 2 */\\n  background-image: none; /* 2 */\\n}\\n\\n/*\\nUse the modern Firefox focus style for all focusable elements.\\n*/\\n\\n:-moz-focusring {\\n  outline: auto;\\n}\\n\\n/*\\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\\n*/\\n\\n:-moz-ui-invalid {\\n  box-shadow: none;\\n}\\n\\n/*\\nAdd the correct vertical alignment in Chrome and Firefox.\\n*/\\n\\nprogress {\\n  vertical-align: baseline;\\n}\\n\\n/*\\nCorrect the cursor style of increment and decrement buttons in Safari.\\n*/\\n\\n::-webkit-inner-spin-button,\\n::-webkit-outer-spin-button {\\n  height: auto;\\n}\\n\\n/*\\n1. Correct the odd appearance in Chrome and Safari.\\n2. Correct the outline style in Safari.\\n*/\\n\\n[type='search'] {\\n  -webkit-appearance: textfield; /* 1 */\\n  outline-offset: -2px; /* 2 */\\n}\\n\\n/*\\nRemove the inner padding in Chrome and Safari on macOS.\\n*/\\n\\n::-webkit-search-decoration {\\n  -webkit-appearance: none;\\n}\\n\\n/*\\n1. Correct the inability to style clickable types in iOS and Safari.\\n2. Change font properties to `inherit` in Safari.\\n*/\\n\\n::-webkit-file-upload-button {\\n  -webkit-appearance: button; /* 1 */\\n  font: inherit; /* 2 */\\n}\\n\\n/*\\nAdd the correct display in Chrome and Safari.\\n*/\\n\\nsummary {\\n  display: list-item;\\n}\\n\\n/*\\nRemoves the default spacing and border for appropriate elements.\\n*/\\n\\nblockquote,\\ndl,\\ndd,\\nh1,\\nh2,\\nh3,\\nh4,\\nh5,\\nh6,\\nhr,\\nfigure,\\np,\\npre {\\n  margin: 0;\\n}\\n\\nfieldset {\\n  margin: 0;\\n  padding: 0;\\n}\\n\\nlegend {\\n  padding: 0;\\n}\\n\\nol,\\nul,\\nmenu {\\n  list-style: none;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n/*\\nReset default styling for dialogs.\\n*/\\ndialog {\\n  padding: 0;\\n}\\n\\n/*\\nPrevent resizing textareas horizontally by default.\\n*/\\n\\ntextarea {\\n  resize: vertical;\\n}\\n\\n/*\\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\\n2. Set the default placeholder color to the user's configured gray 400 color.\\n*/\\n\\ninput::-moz-placeholder, textarea::-moz-placeholder {\\n  opacity: 1; /* 1 */\\n  color: #9ca3af; /* 2 */\\n}\\n\\ninput::placeholder,\\ntextarea::placeholder {\\n  opacity: 1; /* 1 */\\n  color: #9ca3af; /* 2 */\\n}\\n\\n/*\\nSet the default cursor for buttons.\\n*/\\n\\nbutton,\\n[role=\\\"button\\\"] {\\n  cursor: pointer;\\n}\\n\\n/*\\nMake sure disabled buttons don't get the pointer cursor.\\n*/\\n:disabled {\\n  cursor: default;\\n}\\n\\n/*\\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\\n   This can trigger a poorly considered lint error in some tools but is included by design.\\n*/\\n\\nimg,\\nsvg,\\nvideo,\\ncanvas,\\naudio,\\niframe,\\nembed,\\nobject {\\n  display: block; /* 1 */\\n  vertical-align: middle; /* 2 */\\n}\\n\\n/*\\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\\n*/\\n\\nimg,\\nvideo {\\n  max-width: 100%;\\n  height: auto;\\n}\\n\\n/* Make elements with the HTML hidden attribute stay hidden by default */\\n[hidden] {\\n  display: none;\\n}\\n\\n*, ::before, ::after {\\n  --tw-border-spacing-x: 0;\\n  --tw-border-spacing-y: 0;\\n  --tw-translate-x: 0;\\n  --tw-translate-y: 0;\\n  --tw-rotate: 0;\\n  --tw-skew-x: 0;\\n  --tw-skew-y: 0;\\n  --tw-scale-x: 1;\\n  --tw-scale-y: 1;\\n  --tw-pan-x:  ;\\n  --tw-pan-y:  ;\\n  --tw-pinch-zoom:  ;\\n  --tw-scroll-snap-strictness: proximity;\\n  --tw-gradient-from-position:  ;\\n  --tw-gradient-via-position:  ;\\n  --tw-gradient-to-position:  ;\\n  --tw-ordinal:  ;\\n  --tw-slashed-zero:  ;\\n  --tw-numeric-figure:  ;\\n  --tw-numeric-spacing:  ;\\n  --tw-numeric-fraction:  ;\\n  --tw-ring-inset:  ;\\n  --tw-ring-offset-width: 0px;\\n  --tw-ring-offset-color: #fff;\\n  --tw-ring-color: rgb(59 130 246 / 0.5);\\n  --tw-ring-offset-shadow: 0 0 #0000;\\n  --tw-ring-shadow: 0 0 #0000;\\n  --tw-shadow: 0 0 #0000;\\n  --tw-shadow-colored: 0 0 #0000;\\n  --tw-blur:  ;\\n  --tw-brightness:  ;\\n  --tw-contrast:  ;\\n  --tw-grayscale:  ;\\n  --tw-hue-rotate:  ;\\n  --tw-invert:  ;\\n  --tw-saturate:  ;\\n  --tw-sepia:  ;\\n  --tw-drop-shadow:  ;\\n  --tw-backdrop-blur:  ;\\n  --tw-backdrop-brightness:  ;\\n  --tw-backdrop-contrast:  ;\\n  --tw-backdrop-grayscale:  ;\\n  --tw-backdrop-hue-rotate:  ;\\n  --tw-backdrop-invert:  ;\\n  --tw-backdrop-opacity:  ;\\n  --tw-backdrop-saturate:  ;\\n  --tw-backdrop-sepia:  ;\\n  --tw-contain-size:  ;\\n  --tw-contain-layout:  ;\\n  --tw-contain-paint:  ;\\n  --tw-contain-style:  ;\\n}\\n\\n::backdrop {\\n  --tw-border-spacing-x: 0;\\n  --tw-border-spacing-y: 0;\\n  --tw-translate-x: 0;\\n  --tw-translate-y: 0;\\n  --tw-rotate: 0;\\n  --tw-skew-x: 0;\\n  --tw-skew-y: 0;\\n  --tw-scale-x: 1;\\n  --tw-scale-y: 1;\\n  --tw-pan-x:  ;\\n  --tw-pan-y:  ;\\n  --tw-pinch-zoom:  ;\\n  --tw-scroll-snap-strictness: proximity;\\n  --tw-gradient-from-position:  ;\\n  --tw-gradient-via-position:  ;\\n  --tw-gradient-to-position:  ;\\n  --tw-ordinal:  ;\\n  --tw-slashed-zero:  ;\\n  --tw-numeric-figure:  ;\\n  --tw-numeric-spacing:  ;\\n  --tw-numeric-fraction:  ;\\n  --tw-ring-inset:  ;\\n  --tw-ring-offset-width: 0px;\\n  --tw-ring-offset-color: #fff;\\n  --tw-ring-color: rgb(59 130 246 / 0.5);\\n  --tw-ring-offset-shadow: 0 0 #0000;\\n  --tw-ring-shadow: 0 0 #0000;\\n  --tw-shadow: 0 0 #0000;\\n  --tw-shadow-colored: 0 0 #0000;\\n  --tw-blur:  ;\\n  --tw-brightness:  ;\\n  --tw-contrast:  ;\\n  --tw-grayscale:  ;\\n  --tw-hue-rotate:  ;\\n  --tw-invert:  ;\\n  --tw-saturate:  ;\\n  --tw-sepia:  ;\\n  --tw-drop-shadow:  ;\\n  --tw-backdrop-blur:  ;\\n  --tw-backdrop-brightness:  ;\\n  --tw-backdrop-contrast:  ;\\n  --tw-backdrop-grayscale:  ;\\n  --tw-backdrop-hue-rotate:  ;\\n  --tw-backdrop-invert:  ;\\n  --tw-backdrop-opacity:  ;\\n  --tw-backdrop-saturate:  ;\\n  --tw-backdrop-sepia:  ;\\n  --tw-contain-size:  ;\\n  --tw-contain-layout:  ;\\n  --tw-contain-paint:  ;\\n  --tw-contain-style:  ;\\n}\\n.container {\\n  width: 100%;\\n}\\n@media (min-width: 640px) {\\n\\n  .container {\\n    max-width: 640px;\\n  }\\n}\\n@media (min-width: 768px) {\\n\\n  .container {\\n    max-width: 768px;\\n  }\\n}\\n@media (min-width: 1024px) {\\n\\n  .container {\\n    max-width: 1024px;\\n  }\\n}\\n@media (min-width: 1280px) {\\n\\n  .container {\\n    max-width: 1280px;\\n  }\\n}\\n@media (min-width: 1536px) {\\n\\n  .container {\\n    max-width: 1536px;\\n  }\\n}\\n.pointer-events-none {\\n  pointer-events: none;\\n}\\n.static {\\n  position: static;\\n}\\n.absolute {\\n  position: absolute;\\n}\\n.relative {\\n  position: relative;\\n}\\n.inset-0 {\\n  inset: 0px;\\n}\\n.bottom-0 {\\n  bottom: 0px;\\n}\\n.z-10 {\\n  z-index: 10;\\n}\\n.z-20 {\\n  z-index: 20;\\n}\\n.m-4 {\\n  margin: 1rem;\\n}\\n.mt-2 {\\n  margin-top: 0.5rem;\\n}\\n.mt-4 {\\n  margin-top: 1rem;\\n}\\n.block {\\n  display: block;\\n}\\n.inline-block {\\n  display: inline-block;\\n}\\n.flex {\\n  display: flex;\\n}\\n.hidden {\\n  display: none;\\n}\\n.h-full {\\n  height: 100%;\\n}\\n.min-h-\\\\[calc\\\\(33\\\\%-40px\\\\)\\\\] {\\n  min-height: calc(33% - 40px);\\n}\\n.w-1\\\\/2 {\\n  width: 50%;\\n}\\n.w-\\\\[calc\\\\(100\\\\%-40px\\\\)\\\\] {\\n  width: calc(100% - 40px);\\n}\\n.w-full {\\n  width: 100%;\\n}\\n.min-w-full {\\n  min-width: 100%;\\n}\\n.flex-grow {\\n  flex-grow: 1;\\n}\\n.transform {\\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\\n}\\n.resize {\\n  resize: both;\\n}\\n.flex-col {\\n  flex-direction: column;\\n}\\n.items-start {\\n  align-items: flex-start;\\n}\\n.items-center {\\n  align-items: center;\\n}\\n.justify-center {\\n  justify-content: center;\\n}\\n.justify-between {\\n  justify-content: space-between;\\n}\\n.overflow-auto {\\n  overflow: auto;\\n}\\n.overflow-hidden {\\n  overflow: hidden;\\n}\\n.whitespace-pre {\\n  white-space: pre;\\n}\\n.whitespace-pre-wrap {\\n  white-space: pre-wrap;\\n}\\n.rounded {\\n  border-radius: 0.25rem;\\n}\\n.rounded-lg {\\n  border-radius: 0.5rem;\\n}\\n.rounded-md {\\n  border-radius: 0.375rem;\\n}\\n.rounded-br-md {\\n  border-bottom-right-radius: 0.375rem;\\n}\\n.border {\\n  border-width: 1px;\\n}\\n.bg-white {\\n  --tw-bg-opacity: 1;\\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity));\\n}\\n.bg-cover {\\n  background-size: cover;\\n}\\n.bg-center {\\n  background-position: center;\\n}\\n.p-2 {\\n  padding: 0.5rem;\\n}\\n.p-4 {\\n  padding: 1rem;\\n}\\n.text-center {\\n  text-align: center;\\n}\\n.align-bottom {\\n  vertical-align: bottom;\\n}\\n.font-bold {\\n  font-weight: 700;\\n}\\n.italic {\\n  font-style: italic;\\n}\\n.text-black {\\n  --tw-text-opacity: 1;\\n  color: rgb(0 0 0 / var(--tw-text-opacity));\\n}\\n.shadow-md {\\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\\n}\\n.filter {\\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\\n}\\n.\\\\!transition {\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter !important;\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter !important;\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter !important;\\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;\\n  transition-duration: 150ms !important;\\n}\\n.transition {\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;\\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\\n  transition-duration: 150ms;\\n}\\n\\n.__narraleaf_content-player * {\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n            user-select: none;\\n}\\n\\n.__narraleaf_content-player img {\\n    pointer-events: none;\\n    -webkit-user-drag: none;\\n    -webkit-user-select: none;\\n}\\n\",\"\"]);const s=a},314:t=>{\"use strict\";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=\"\",r=void 0!==e[5];return e[4]&&(n+=\"@supports (\".concat(e[4],\") {\")),e[2]&&(n+=\"@media \".concat(e[2],\" {\")),r&&(n+=\"@layer\".concat(e[5].length>0?\" \".concat(e[5]):\"\",\" {\")),n+=t(e),r&&(n+=\"}\"),e[2]&&(n+=\"}\"),e[4]&&(n+=\"}\"),n})).join(\"\")},e.i=function(t,n,r,o,i){\"string\"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]=\"@layer\".concat(l[5].length>0?\" \".concat(l[5]):\"\",\" {\").concat(l[1],\"}\")),l[5]=i),n&&(l[2]?(l[1]=\"@media \".concat(l[2],\" {\").concat(l[1],\"}\"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]=\"@supports (\".concat(l[4],\") {\").concat(l[1],\"}\"),l[4]=o):l[4]=\"\".concat(o)),e.push(l))}},e}},601:t=>{\"use strict\";t.exports=function(t){return t[1]}},196:(t,e,n)=>{var r;\n/*!\n *  howler.js v2.2.4\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */!function(){\"use strict\";var o=function(){this.init()};o.prototype={init:function(){var t=this||i;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent=\"canplaythrough\",t._navigator=\"undefined\"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||i;if(t=parseFloat(t),e.ctx||d(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,i.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=e._howls[n]._soundById(r[o]);a&&a._node&&(a._node.volume=a._volume*t)}return e}return e._volume},mute:function(t){var e=this||i;e.ctx||d(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,i.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=e._howls[n]._soundById(r[o]);a&&a._node&&(a._node.muted=!!t||a._muted)}return e},stop:function(){for(var t=this||i,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||i,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,d()),t},codecs:function(t){return(this||i)._codecs[t.replace(/^x-/,\"\")]},_setup:function(){var t=this||i;if(t.state=t.ctx&&t.ctx.state||\"suspended\",t._autoSuspend(),!t.usingWebAudio)if(\"undefined\"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent=\"canplay\")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||i,e=null;try{e=\"undefined\"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||\"function\"!=typeof e.canPlayType)return t;var n=e.canPlayType(\"audio/mpeg;\").replace(/^no$/,\"\"),r=t._navigator?t._navigator.userAgent:\"\",o=r.match(/OPR\\/(\\d+)/g),a=o&&parseInt(o[0].split(\"/\")[1],10)<33,s=-1!==r.indexOf(\"Safari\")&&-1===r.indexOf(\"Chrome\"),u=r.match(/Version\\/(.*?) /),c=s&&u&&parseInt(u[1],10)<15;return t._codecs={mp3:!(a||!n&&!e.canPlayType(\"audio/mp3;\").replace(/^no$/,\"\")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/,\"\"),ogg:!!e.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),oga:!!e.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),wav:!!(e.canPlayType('audio/wav; codecs=\"1\"')||e.canPlayType(\"audio/wav\")).replace(/^no$/,\"\"),aac:!!e.canPlayType(\"audio/aac;\").replace(/^no$/,\"\"),caf:!!e.canPlayType(\"audio/x-caf;\").replace(/^no$/,\"\"),m4a:!!(e.canPlayType(\"audio/x-m4a;\")||e.canPlayType(\"audio/m4a;\")||e.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),m4b:!!(e.canPlayType(\"audio/x-m4b;\")||e.canPlayType(\"audio/m4b;\")||e.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),mp4:!!(e.canPlayType(\"audio/x-mp4;\")||e.canPlayType(\"audio/mp4;\")||e.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),weba:!(c||!e.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\")),webm:!(c||!e.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\")),dolby:!!e.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/,\"\"),flac:!!(e.canPlayType(\"audio/x-flac;\")||e.canPlayType(\"audio/flac;\")).replace(/^no$/,\"\")},t},_unlockAudio:function(){var t=this||i;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(n){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,t._releaseHtml5Audio(r)}catch(n){t.noAudio=!0;break}for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var i=t._howls[o]._getSoundIds(),a=0;a<i.length;a++){var s=t._howls[o]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}t._autoResume();var u=t.ctx.createBufferSource();u.buffer=t._scratchBuffer,u.connect(t.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),\"function\"==typeof t.ctx.resume&&t.ctx.resume(),u.onended=function(){u.disconnect(0),t._audioUnlocked=!0,document.removeEventListener(\"touchstart\",e,!0),document.removeEventListener(\"touchend\",e,!0),document.removeEventListener(\"click\",e,!0),document.removeEventListener(\"keydown\",e,!0);for(var n=0;n<t._howls.length;n++)t._howls[n]._emit(\"unlock\")}};return document.addEventListener(\"touchstart\",e,!0),document.addEventListener(\"touchend\",e,!0),document.addEventListener(\"click\",e,!0),document.addEventListener(\"keydown\",e,!0),t}},_obtainHtml5Audio:function(){var t=this||i;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&\"undefined\"!=typeof Promise&&(e instanceof Promise||\"function\"==typeof e.then)&&e.catch((function(){console.warn(\"HTML5 Audio pool exhausted, returning potentially locked audio object.\")})),new Audio},_releaseHtml5Audio:function(t){var e=this||i;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&i.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){if(t.autoSuspend){t._suspendTimer=null,t.state=\"suspending\";var e=function(){t.state=\"suspended\",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&i.usingWebAudio)return\"running\"===t.state&&\"interrupted\"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):\"suspended\"===t.state||\"running\"===t.state&&\"interrupted\"===t.ctx.state?(t.ctx.resume().then((function(){t.state=\"running\";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit(\"resume\")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):\"suspending\"===t.state&&(t._resumeAfterSuspend=!0),t}};var i=new o,a=function(t){t.src&&0!==t.src.length?this.init(t):console.error(\"An array of source files must be passed with any new Howl.\")};a.prototype={init:function(t){var e=this;return i.ctx||d(),e._autoplay=t.autoplay||!1,e._format=\"string\"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload=\"boolean\"!=typeof t.preload&&\"metadata\"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src=\"string\"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:\"GET\",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state=\"unloaded\",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=i.usingWebAudio&&!e._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(e),e._autoplay&&e._queue.push({event:\"play\",action:function(){e.play()}}),e._preload&&\"none\"!==e._preload&&e.load(),e},load:function(){var t=this,e=null;if(i.noAudio)t._emit(\"loaderror\",null,\"No audio support.\");else{\"string\"==typeof t._src&&(t._src=[t._src]);for(var n=0;n<t._src.length;n++){var r,o;if(t._format&&t._format[n])r=t._format[n];else{if(\"string\"!=typeof(o=t._src[n])){t._emit(\"loaderror\",null,\"Non-string found in selected audio sources - ignoring.\");continue}(r=/^data:audio\\/([^;,]+);/i.exec(o))||(r=/\\.([^.]+)$/.exec(o.split(\"?\",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.'),r&&i.codecs(r)){e=t._src[n];break}}if(e)return t._src=e,t._state=\"loading\",\"https:\"===window.location.protocol&&\"http:\"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new s(t),t._webAudio&&c(t),t;t._emit(\"loaderror\",null,\"No codec support for selected audio sources.\")}},play:function(t,e){var n=this,r=null;if(\"number\"==typeof t)r=t,t=null;else{if(\"string\"==typeof t&&\"loaded\"===n._state&&!n._sprite[t])return null;if(void 0===t&&(t=\"__default\",!n._playLock)){for(var o=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(o++,r=n._sounds[a]._id);1===o?t=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!t&&(t=s._sprite||\"__default\"),\"loaded\"!==n._state){s._sprite=t,s._ended=!1;var u=s._id;return n._queue.push({event:\"play\",action:function(){n.play(u)}}),u}if(r&&!s._paused)return e||n._loadQueue(\"play\"),s._id;n._webAudio&&i._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[t][0]/1e3),l=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-c),f=1e3*l/Math.abs(s._rate),p=n._sprite[t][0]/1e3,d=(n._sprite[t][0]+n._sprite[t][1])/1e3;s._sprite=t,s._ended=!1;var h=function(){s._paused=!1,s._seek=c,s._start=p,s._stop=d,s._loop=!(!s._loop&&!n._sprite[t][2])};if(!(c>=d)){var y=s._node;if(n._webAudio){var v=function(){n._playLock=!1,h(),n._refreshBuffer(s);var t=s._muted||n._muted?0:s._volume;y.gain.setValueAtTime(t,i.ctx.currentTime),s._playStart=i.ctx.currentTime,void 0===y.bufferSource.start?s._loop?y.bufferSource.noteGrainOn(0,c,86400):y.bufferSource.noteGrainOn(0,c,l):s._loop?y.bufferSource.start(0,c,86400):y.bufferSource.start(0,c,l),f!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),f)),e||setTimeout((function(){n._emit(\"play\",s._id),n._loadQueue()}),0)};\"running\"===i.state&&\"interrupted\"!==i.ctx.state?v():(n._playLock=!0,n.once(\"resume\",v),n._clearTimer(s._id))}else{var m=function(){y.currentTime=c,y.muted=s._muted||n._muted||i._muted||y.muted,y.volume=s._volume*i.volume(),y.playbackRate=s._rate;try{var r=y.play();if(r&&\"undefined\"!=typeof Promise&&(r instanceof Promise||\"function\"==typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,y._unlocked=!0,e?n._loadQueue():n._emit(\"play\",s._id)})).catch((function(){n._playLock=!1,n._emit(\"playerror\",s._id,\"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.\"),s._ended=!0,s._paused=!0}))):e||(n._playLock=!1,h(),n._emit(\"play\",s._id)),y.playbackRate=s._rate,y.paused)return void n._emit(\"playerror\",s._id,\"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.\");\"__default\"!==t||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),f):(n._endTimers[s._id]=function(){n._ended(s),y.removeEventListener(\"ended\",n._endTimers[s._id],!1)},y.addEventListener(\"ended\",n._endTimers[s._id],!1))}catch(t){n._emit(\"playerror\",s._id,t)}};\"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA\"===y.src&&(y.src=n._src,y.load());var g=window&&window.ejecta||!y.readyState&&i._navigator.isCocoonJS;if(y.readyState>=3||g)m();else{n._playLock=!0,n._state=\"loading\";var b=function(){n._state=\"loaded\",m(),y.removeEventListener(i._canPlayEvent,b,!1)};y.addEventListener(i._canPlayEvent,b,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(t){var e=this;if(\"loaded\"!==e._state||e._playLock)return e._queue.push({event:\"pause\",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),r=0;r<n.length;r++){e._clearTimer(n[r]);var o=e._soundById(n[r]);if(o&&!o._paused&&(o._seek=e.seek(n[r]),o._rateSeek=0,o._paused=!0,e._stopFade(n[r]),o._node))if(e._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),e._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||e._emit(\"pause\",o?o._id:null)}return e},stop:function(t,e){var n=this;if(\"loaded\"!==n._state||n._playLock)return n._queue.push({event:\"stop\",action:function(){n.stop(t)}}),n;for(var r=n._getSoundIds(t),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),e||n._emit(\"stop\",i._id))}return n},mute:function(t,e){var n=this;if(\"loaded\"!==n._state||n._playLock)return n._queue.push({event:\"mute\",action:function(){n.mute(t,e)}}),n;if(void 0===e){if(\"boolean\"!=typeof t)return n._muted;n._muted=t}for(var r=n._getSoundIds(e),o=0;o<r.length;o++){var a=n._soundById(r[o]);a&&(a._muted=t,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(t?0:a._volume,i.ctx.currentTime):a._node&&(a._node.muted=!!i._muted||t),n._emit(\"mute\",a._id))}return n},volume:function(){var t,e,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]?r._getSoundIds().indexOf(o[0])>=0?e=parseInt(o[0],10):t=parseFloat(o[0]):o.length>=2&&(t=parseFloat(o[0]),e=parseInt(o[1],10)),!(void 0!==t&&t>=0&&t<=1))return(n=e?r._soundById(e):r._sounds[0])?n._volume:0;if(\"loaded\"!==r._state||r._playLock)return r._queue.push({event:\"volume\",action:function(){r.volume.apply(r,o)}}),r;void 0===e&&(r._volume=t),e=r._getSoundIds(e);for(var a=0;a<e.length;a++)(n=r._soundById(e[a]))&&(n._volume=t,o[2]||r._stopFade(e[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(t,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=t*i.volume()),r._emit(\"volume\",n._id));return r},fade:function(t,e,n,r){var o=this;if(\"loaded\"!==o._state||o._playLock)return o._queue.push({event:\"fade\",action:function(){o.fade(t,e,n,r)}}),o;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),n=parseFloat(n),o.volume(t,r);for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if(r||o._stopFade(a[s]),o._webAudio&&!u._muted){var c=i.ctx.currentTime,l=c+n/1e3;u._volume=t,u._node.gain.setValueAtTime(t,c),u._node.gain.linearRampToValueAtTime(e,l)}o._startFadeInterval(u,t,e,n,a[s],void 0===r)}}return o},_startFadeInterval:function(t,e,n,r,o,i){var a=this,s=e,u=n-e,c=Math.abs(u/.01),l=Math.max(4,c>0?r/c:r),f=Date.now();t._fadeTo=n,t._interval=setInterval((function(){var o=(Date.now()-f)/r;f=Date.now(),s+=u*o,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),a._webAudio?t._volume=s:a.volume(s,t._id,!0),i&&(a._volume=s),(n<e&&s<=n||n>e&&s>=n)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(n,t._id),a._emit(\"fade\",t._id))}),l)},_stopFade:function(t){var e=this,n=e._soundById(t);return n&&n._interval&&(e._webAudio&&n._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(n._interval),n._interval=null,e.volume(n._fadeTo,t),n._fadeTo=null,e._emit(\"fade\",t)),e},loop:function(){var t,e,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if(\"boolean\"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;t=o[0],r._loop=t}else 2===o.length&&(t=o[0],e=parseInt(o[1],10));for(var i=r._getSoundIds(e),a=0;a<i.length;a++)(n=r._soundById(i[a]))&&(n._loop=t,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(i[a])&&(r.pause(i[a],!0),r.play(i[a],!0)))));return r},rate:function(){var t,e,n,r=this,o=arguments;if(0===o.length)e=r._sounds[0]._id;else if(1===o.length){r._getSoundIds().indexOf(o[0])>=0?e=parseInt(o[0],10):t=parseFloat(o[0])}else 2===o.length&&(t=parseFloat(o[0]),e=parseInt(o[1],10));if(\"number\"!=typeof t)return(n=r._soundById(e))?n._rate:r._rate;if(\"loaded\"!==r._state||r._playLock)return r._queue.push({event:\"rate\",action:function(){r.rate.apply(r,o)}}),r;void 0===e&&(r._rate=t),e=r._getSoundIds(e);for(var a=0;a<e.length;a++)if(n=r._soundById(e[a])){r.playing(e[a])&&(n._rateSeek=r.seek(e[a]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=t,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(t,i.ctx.currentTime):n._node&&(n._node.playbackRate=t);var s=r.seek(e[a]),u=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!r._endTimers[e[a]]&&n._paused||(r._clearTimer(e[a]),r._endTimers[e[a]]=setTimeout(r._ended.bind(r,n),u)),r._emit(\"rate\",n._id)}return r},seek:function(){var t,e,n=this,r=arguments;if(0===r.length)n._sounds.length&&(e=n._sounds[0]._id);else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?e=parseInt(r[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(r[0]))}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));if(void 0===e)return 0;if(\"number\"==typeof t&&(\"loaded\"!==n._state||n._playLock))return n._queue.push({event:\"seek\",action:function(){n.seek.apply(n,r)}}),n;var o=n._soundById(e);if(o){if(!(\"number\"==typeof t&&t>=0)){if(n._webAudio){var a=n.playing(e)?i.ctx.currentTime-o._playStart:0,s=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(s+a*Math.abs(o._rate))}return o._node.currentTime}var u=n.playing(e);u&&n.pause(e,!0),o._seek=t,o._ended=!1,n._clearTimer(e),n._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=t);var c=function(){u&&n.play(e,!0),n._emit(\"seek\",e)};if(u&&!n._webAudio){var l=function(){n._playLock?setTimeout(l,0):c()};setTimeout(l,0)}else c()}return n},playing:function(t){var e=this;if(\"number\"==typeof t){var n=e._soundById(t);return!!n&&!n._paused}for(var r=0;r<e._sounds.length;r++)if(!e._sounds[r]._paused)return!0;return!1},duration:function(t){var e=this,n=e._duration,r=e._soundById(t);return r&&(n=e._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++)e[n]._paused||t.stop(e[n]._id),t._webAudio||(t._clearSound(e[n]._node),e[n]._node.removeEventListener(\"error\",e[n]._errorFn,!1),e[n]._node.removeEventListener(i._canPlayEvent,e[n]._loadFn,!1),e[n]._node.removeEventListener(\"ended\",e[n]._endFn,!1),i._releaseHtml5Audio(e[n]._node)),delete e[n]._node,t._clearTimer(e[n]._id);var r=i._howls.indexOf(t);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===t._src||t._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return u&&o&&delete u[t._src],i.noAudio=!1,t._state=\"unloaded\",t._sounds=[],t=null,null},on:function(t,e,n,r){var o=this[\"_on\"+t];return\"function\"==typeof e&&o.push(r?{id:n,fn:e,once:r}:{id:n,fn:e}),this},off:function(t,e,n){var r=this,o=r[\"_on\"+t],i=0;if(\"number\"==typeof e&&(n=e,e=null),e||n)for(i=0;i<o.length;i++){var a=n===o[i].id;if(e===o[i].fn&&a||!e&&a){o.splice(i,1);break}}else if(t)r[\"_on\"+t]=[];else{var s=Object.keys(r);for(i=0;i<s.length;i++)0===s[i].indexOf(\"_on\")&&Array.isArray(r[s[i]])&&(r[s[i]]=[])}return r},once:function(t,e,n){return this.on(t,e,n,1),this},_emit:function(t,e,n){for(var r=this,o=r[\"_on\"+t],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==e&&\"load\"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(t,o[i].fn,o[i].id));return r._loadQueue(t),r},_loadQueue:function(t){var e=this;if(e._queue.length>0){var n=e._queue[0];n.event===t&&(e._queue.shift(),e._loadQueue()),t||n.action()}return e},_ended:function(t){var e=this,n=t._sprite;if(!e._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(e._ended.bind(e,t),100),e;var r=!(!t._loop&&!e._sprite[n][2]);if(e._emit(\"end\",t._id),!e._webAudio&&r&&e.stop(t._id,!0).play(t._id),e._webAudio&&r){e._emit(\"play\",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=i.ctx.currentTime;var o=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),o)}return e._webAudio&&!r&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),i._autoSuspend()),e._webAudio||r||e.stop(t._id,!0),e},_clearTimer:function(t){var e=this;if(e._endTimers[t]){if(\"function\"!=typeof e._endTimers[t])clearTimeout(e._endTimers[t]);else{var n=e._soundById(t);n&&n._node&&n._node.removeEventListener(\"ended\",e._endTimers[t],!1)}delete e._endTimers[t]}return e},_soundById:function(t){for(var e=this,n=0;n<e._sounds.length;n++)if(t===e._sounds[n]._id)return e._sounds[n];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new s(t)},_drain:function(){var t=this,e=t._pool,n=0,r=0;if(!(t._sounds.length<e)){for(r=0;r<t._sounds.length;r++)t._sounds[r]._ended&&n++;for(r=t._sounds.length-1;r>=0;r--){if(n<=e)return;t._sounds[r]._ended&&(t._webAudio&&t._sounds[r]._node&&t._sounds[r]._node.disconnect(0),t._sounds.splice(r,1),n--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],n=0;n<this._sounds.length;n++)e.push(this._sounds[n]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=i.ctx.createBufferSource(),t._node.bufferSource.buffer=u[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,i.ctx.currentTime),this},_cleanBuffer:function(t){var e=i._navigator&&i._navigator.vendor.indexOf(\"Apple\")>=0;if(!t.bufferSource)return this;if(i._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=i._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\\//.test(i._navigator&&i._navigator.userAgent)||(t.src=\"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA\")}};var s=function(t){this._parent=t,this.init()};s.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite=\"__default\",t._id=++i._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,n=i._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),t._node.gain.setValueAtTime(n,i.ctx.currentTime),t._node.paused=!0,t._node.connect(i.masterGain)):i.noAudio||(t._node=i._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener(\"error\",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(i._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener(\"ended\",t._endFn,!1),t._node.src=e._src,t._node.preload=!0===e._preload?\"auto\":e._preload,t._node.volume=n*i.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite=\"__default\",t._id=++i._counter,t},_errorListener:function(){var t=this;t._parent._emit(\"loaderror\",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener(\"error\",t._errorFn,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),\"loaded\"!==e._state&&(e._state=\"loaded\",e._emit(\"load\"),e._loadQueue()),t._node.removeEventListener(i._canPlayEvent,t._loadFn,!1)},_endListener:function(){var t=this,e=t._parent;e._duration===1/0&&(e._duration=Math.ceil(10*t._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(t)),t._node.removeEventListener(\"ended\",t._endFn,!1)}};var u={},c=function(t){var e=t._src;if(u[e])return t._duration=u[e].duration,void p(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(\",\")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);f(r.buffer,t)}else{var i=new XMLHttpRequest;i.open(t._xhr.method,e,!0),i.withCredentials=t._xhr.withCredentials,i.responseType=\"arraybuffer\",t._xhr.headers&&Object.keys(t._xhr.headers).forEach((function(e){i.setRequestHeader(e,t._xhr.headers[e])})),i.onload=function(){var e=(i.status+\"\")[0];\"0\"===e||\"2\"===e||\"3\"===e?f(i.response,t):t._emit(\"loaderror\",null,\"Failed loading audio file with status: \"+i.status+\".\")},i.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete u[e],t.load())},l(i)}},l=function(t){try{t.send()}catch(e){t.onerror()}},f=function(t,e){var n=function(){e._emit(\"loaderror\",null,\"Decoding audio data failed.\")},r=function(t){t&&e._sounds.length>0?(u[e._src]=t,p(e,t)):n()};\"undefined\"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(t).then(r).catch(n):i.ctx.decodeAudioData(t,r,n)},p=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),\"loaded\"!==t._state&&(t._state=\"loaded\",t._emit(\"load\"),t._loadQueue())},d=function(){if(i.usingWebAudio){try{\"undefined\"!=typeof AudioContext?i.ctx=new AudioContext:\"undefined\"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(t){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),e=i._navigator&&i._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=function(){return{Howler:i,Howl:a}}.apply(e,[]))||(t.exports=r),e.Howler=i,e.Howl=a,void 0!==n.g?(n.g.HowlerGlobal=o,n.g.Howler=i,n.g.Howl=a,n.g.Sound=s):\"undefined\"!=typeof window&&(window.HowlerGlobal=o,window.Howler=i,window.Howl=a,window.Sound=s)}(),\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.2.4\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\nfunction(){\"use strict\";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var n=e._howls.length-1;n>=0;n--)e._howls[n].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,n){var r=this;return r.ctx&&r.ctx.listener?(e=\"number\"!=typeof e?r._pos[1]:e,n=\"number\"!=typeof n?r._pos[2]:n,\"number\"!=typeof t?r._pos:(r._pos=[t,e,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(t,e,n,r,o,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return e=\"number\"!=typeof e?s[1]:e,n=\"number\"!=typeof n?s[2]:n,r=\"number\"!=typeof r?s[3]:r,o=\"number\"!=typeof o?s[4]:o,i=\"number\"!=typeof i?s[5]:i,\"number\"!=typeof t?s:(a._orientation=[t,e,n,r,o,i],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(t,e,n,r,o,i),a)},Howl.prototype.init=(t=Howl.prototype.init,function(e){var n=this;return n._orientation=e.orientation||[1,0,0],n._stereo=e.stereo||null,n._pos=e.pos||null,n._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:\"inverse\",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:\"HRTF\",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},n._onstereo=e.onstereo?[{fn:e.onstereo}]:[],n._onpos=e.onpos?[{fn:e.onpos}]:[],n._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if(\"loaded\"!==r._state)return r._queue.push({event:\"stereo\",action:function(){r.stereo(t,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?\"spatial\":\"stereo\";if(void 0===n){if(\"number\"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var i=r._getSoundIds(n),a=0;a<i.length;a++){var s=r._soundById(i[a]);if(s){if(\"number\"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel=\"equalpower\",s._panner&&s._panner.pan||e(s,o),\"spatial\"===o?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit(\"stereo\",s._id)}}return r},Howl.prototype.pos=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if(\"loaded\"!==i._state)return i._queue.push({event:\"pos\",action:function(){i.pos(t,n,r,o)}}),i;if(n=\"number\"!=typeof n?0:n,r=\"number\"!=typeof r?-.5:r,void 0===o){if(\"number\"!=typeof t)return i._pos;i._pos=[t,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(\"number\"!=typeof t)return u._pos;u._pos=[t,n,r],u._node&&(u._panner&&!u._panner.pan||e(u,\"spatial\"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(t,n,r)),i._emit(\"pos\",u._id)}}return i},Howl.prototype.orientation=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if(\"loaded\"!==i._state)return i._queue.push({event:\"orientation\",action:function(){i.orientation(t,n,r,o)}}),i;if(n=\"number\"!=typeof n?i._orientation[1]:n,r=\"number\"!=typeof r?i._orientation[2]:r,void 0===o){if(\"number\"!=typeof t)return i._orientation;i._orientation=[t,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(\"number\"!=typeof t)return u._orientation;u._orientation=[t,n,r],u._node&&(u._panner||(u._pos||(u._pos=i._pos||[0,0,-.5]),e(u,\"spatial\")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(t,n,r)),i._emit(\"orientation\",u._id)}}return i},Howl.prototype.pannerAttr=function(){var t,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if(\"object\"!=typeof i[0])return(r=o._soundById(parseInt(i[0],10)))?r._pannerAttr:o._pannerAttr;t=i[0],void 0===n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),o._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:o._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:o._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:o._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:o._panningModel})}else 2===i.length&&(t=i[0],n=parseInt(i[1],10));for(var a=o._getSoundIds(n),s=0;s<a.length;s++)if(r=o._soundById(a[s])){var u=r._pannerAttr;u={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:u.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:u.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:u.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:u.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:u.panningModel};var c=r._panner;c||(r._pos||(r._pos=o._pos||[0,0,-.5]),e(r,\"spatial\"),c=r._panner),c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel}return o},Sound.prototype.init=function(t){return function(){var e=this,n=e._parent;e._orientation=n._orientation,e._stereo=n._stereo,e._pos=n._pos,e._pannerAttr=n._pannerAttr,t.call(this),e._stereo?n.stereo(e._stereo):e._pos&&n.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,n=e._parent;return e._orientation=n._orientation,e._stereo=n._stereo,e._pos=n._pos,e._pannerAttr=n._pannerAttr,e._stereo?n.stereo(e._stereo):e._pos?n.pos(e._pos[0],e._pos[1],e._pos[2],e._id):e._panner&&(e._panner.disconnect(0),e._panner=void 0,n._refreshBuffer(e)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){\"spatial\"===(e=e||\"spatial\")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()},20:(t,e,n)=>{\"use strict\";var r=n(12),o=Symbol.for(\"react.element\"),i=Symbol.for(\"react.fragment\"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};\n/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */function c(t,e,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=\"\"+n),void 0!==e.key&&(c=\"\"+e.key),void 0!==e.ref&&(l=e.ref),e)a.call(e,r)&&!u.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:o,type:t,key:c,ref:l,props:i,_owner:s.current}}e.jsx=c,e.jsxs=c},848:(t,e,n)=>{\"use strict\";t.exports=n(20)},72:t=>{\"use strict\";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var u=t[s],c=r.base?u[0]+r.base:u[0],l=i[c]||0,f=\"\".concat(c,\" \").concat(l);i[c]=l+1;var p=n(f),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)e[p].references++,e[p].updater(d);else{var h=o(d,r);r.byIndex=s,e.splice(s,0,{identifier:f,updater:h,references:1})}a.push(f)}return a}function o(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var u=r(t,o),c=0;c<i.length;c++){var l=n(i[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=u}}},659:t=>{\"use strict\";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");r.appendChild(n)}},540:t=>{\"use strict\";t.exports=function(t){var e=document.createElement(\"style\");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{\"use strict\";t.exports=function(t){var e=n.nc;e&&t.setAttribute(\"nonce\",e)}},825:t=>{\"use strict\";t.exports=function(t){if(\"undefined\"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r=\"\";n.supports&&(r+=\"@supports (\".concat(n.supports,\") {\")),n.media&&(r+=\"@media \".concat(n.media,\" {\"));var o=void 0!==n.layer;o&&(r+=\"@layer\".concat(n.layer.length>0?\" \".concat(n.layer):\"\",\" {\")),r+=n.css,o&&(r+=\"}\"),n.media&&(r+=\"}\"),n.supports&&(r+=\"}\");var i=n.sourceMap;i&&\"undefined\"!=typeof btoa&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i)))),\" */\")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{\"use strict\";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},12:e=>{\"use strict\";e.exports=t},33:t=>{\"use strict\";t.exports=e}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={id:t,exports:{}};return n[t](i,i.exports,o),i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(t){if(\"object\"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.nc=void 0;var i={};return(()=>{\"use strict\";o.r(i),o.d(i,{Align:()=>Pe,BaseImageTransition:()=>Mc,BaseTextTransition:()=>Rc,BaseTransition:()=>Nc,Character:()=>uu,CommonPosition:()=>Te,CommonPositionType:()=>he,Condition:()=>Iu,Control:()=>Va,Coord2D:()=>Ee,Dissolve:()=>$h,Fade:()=>jh,FadeIn:()=>Dh,Game:()=>Vf,GameProviders:()=>Sh,GameState:()=>ef,Image:()=>qa,Isolated:()=>mf,Lambda:()=>Lu,LiveGame:()=>Gf,Menu:()=>Qu,Namespace:()=>zl,Pause:()=>Ns,Player:()=>wh,Say:()=>Tf,Scene:()=>ll,Script:()=>El,Sentence:()=>zs,Sound:()=>js,SoundType:()=>ws,Storable:()=>Wl,Story:()=>Rl,Text:()=>Qc,Transform:()=>La,Utils:()=>bs,Word:()=>Ds,useGame:()=>Lf});var t={say:\"character:say\",action:\"character:action\",setName:\"character:setName\"},e={action:\"scene:action\",setBackground:\"scene:setBackground\",sleep:\"scene:sleep\",setTransition:\"scene:setTransition\",applyTransition:\"scene:applyTransition\",init:\"scene:init\",exit:\"scene:exit\",jumpTo:\"scene:jumpTo\",setBackgroundMusic:\"scene:setBackgroundMusic\",preUnmount:\"scene:preUnmount\",applyTransform:\"scene:applyTransform\"},n={action:\"image:action\",setSrc:\"image:setSrc\",setPosition:\"image:setPosition\",show:\"image:show\",hide:\"image:hide\",applyTransform:\"image:applyTransform\",init:\"image:init\",dispose:\"image:dispose\",setTransition:\"image:setTransition\",applyTransition:\"image:applyTransition\",flush:\"image:flush\"},r={action:\"sound:action\",play:\"sound:play\",stop:\"sound:stop\",fade:\"sound:fade\",setVolume:\"sound:setVolume\",setRate:\"sound:setRate\",pause:\"sound:pause\",resume:\"sound:resume\"},a={action:\"control:action\",do:\"control:do\",doAsync:\"control:doAsync\",any:\"control:any\",all:\"control:all\",allAsync:\"control:allAsync\",repeat:\"control:repeat\",sleep:\"control:sleep\"},s={action:\"text:action\",setText:\"text:setText\",show:\"text:show\",hide:\"text:hide\",applyTransform:\"text:applyTransform\",init:\"text:init\",applyTransition:\"text:applyTransition\",setFontSize:\"text:setFontSize\"};function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},\"\")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new L(r||[]);return o(a,\"_invoke\",{value:E(t,n,s)}),a}function p(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=f;var d=\"suspendedStart\",h=\"suspendedYield\",y=\"executing\",v=\"completed\",g={};function b(){}function w(){}function _(){}var S={};l(S,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(I([])));x&&x!==n&&r.call(x,a)&&(S=x);var A=_.prototype=b.prototype=Object.create(S);function O(t){[\"next\",\"throw\",\"return\"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,s){var u=p(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==m(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,n,r){var o=d;return function(i,a){if(o===y)throw Error(\"Generator is already running\");if(o===v){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===g)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===d)throw o=v,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=y;var c=p(e,n,r);if(\"normal\"===c.type){if(o=r.done?v:h,c.arg===g)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=v,r.method=\"throw\",r.arg=c.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,P(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),g;var i=p(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,g):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(j,this),this.reset(!0)}function I(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(m(e)+\" is not iterable\")}return w.prototype=_,o(A,\"constructor\",{value:_,configurable:!0}),o(_,\"constructor\",{value:w,configurable:!0}),w.displayName=l(_,c,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===w||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,\"GeneratorFunction\")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},O(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(A),l(A,c,\"Generator\"),l(A,a,(function(){return this})),l(A,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;C(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),g}},e}function c(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=y(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function l(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function p(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function d(t){var e=function(t,e){if(\"object\"!=m(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=m(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==m(e)?e:e+\"\"}function h(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||y(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function y(t,e){if(t){if(\"string\"==typeof t)return v(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function m(t){return m=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},m(t)}var g=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};function b(t,e){var n=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r={},o=function(t,e,n){return\"object\"!==m(e)||null===e||Array.isArray(e)||\"object\"!==m(n)||null===n||Array.isArray(n)?Array.isArray(e)&&Array.isArray(n)?e.map((function(t,e){return\"object\"===m(t)&&null!==t&&!Array.isArray(t)&&n[e]?b(t,n[e]):t})):void 0===n?e:n:e.constructor!==Object||n.constructor!==Object?n||e:b(e,n)};for(var i in t)n(t,i)&&(r[i]=o(0,t[i],e[i]));for(var a in e)n(e,a)&&!n(r,a)&&(\"object\"===m(e[a])&&null!==e[a]&&e[a].constructor===Object?r[a]=b({},e[a]):r[a]=e[a]);for(var s=arguments.length,u=new Array(s>2?s-2:0),c=2;c<s;c++)u[c-2]=arguments[c];if(u.length){var l=u[0],f=u.slice(1);return b.apply(void 0,[r,l].concat(h(f)))}return r}var w=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t},n=arguments.length>1?arguments[1]:void 0;l(this,t),this.solved=!1,this.listeners=[],this.receiver=e,this.skipController=n}return p(t,[{key:\"registerSkipController\",value:function(t){return this.skipController=t,this}},{key:\"resolve\",value:function(t){if(!this.solved){this.result=this.receiver(t),this.solved=!0,this.skipController&&this.skipController.cancel();var e,n=c(this.listeners);try{for(n.s();!(e=n.n()).done;){(0,e.value)(this.result)}}catch(t){n.e(t)}finally{n.f()}}}},{key:\"then\",value:function(t){this.result?t(this.result):this.listeners.push(t)}},{key:\"abort\",value:function(){return this.skipController?this.skipController.abort():this.result}}],[{key:\"isAwaitable\",value:function(e){return e instanceof t}}])}();function _(t){var e=new WeakSet;return function t(n){if(null===n||\"object\"!==m(n))return n;if(!e.has(n)){if(e.add(n),Array.isArray(n)){var r,o=[],i=c(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;o.push(t(a))}}catch(t){i.e(t)}finally{i.f()}return o}var s={};for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(s[u]=t(n[u]));return s}}(t)}function S(t){return\"string\"==typeof t?t:\"#\".concat((t.r||0).toString(16).padStart(2,\"0\")).concat((t.g||0).toString(16).padStart(2,\"0\")).concat((t.b||0).toString(16).padStart(2,\"0\")).concat(void 0===t.a?\"\":t.a.toString(16).padStart(2,\"0\"))}w.nothing=function(t){return t};var k=function(){return p((function t(){l(this,t),this.events={}}),[{key:\"on\",value:function(t,e){return this.events[t]||(this.events[t]=[]),this.events[t].push(e),this.emit(\"event:EventDispatcher.register\",t,e),e}},{key:\"onEvents\",value:function(t){var e=this,n=t.map((function(t){var n=t.type,r=t.listener;return{type:n,listener:r,cancel:function(){e.off(n,r)}}}));return{tokens:n,cancel:function(){n.forEach((function(t){return t.cancel()}))}}}},{key:\"off\",value:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter((function(t){return t!==e})))}},{key:\"emit\",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.events[t]&&this.events[t].forEach((function(t){t.apply(void 0,n)}))}},{key:\"once\",value:function(t,e){var n=this,r=function(){e.apply(void 0,arguments),n.off(t,r)};return this.on(t,r)}},{key:\"any\",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return g(this,void 0,void 0,u().mark((function e(){var r,o,i,a,s,l=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.events[t]||(this.events[t]=[]),r=[],o=c(this.events[t]);try{for(o.s();!(i=o.n()).done;)a=i.value,(s=a.apply(void 0,n))&&\"object\"===m(s)&&\"function\"==typeof s.then&&r.push(s)}catch(t){o.e(t)}finally{o.f()}if(this.events[t]=this.events[t].filter((function(t){return!r.includes(t)})),0!==r.length){e.next=7;break}return e.abrupt(\"return\",new Promise((function(e){var r=l.on(\"event:EventDispatcher.register\",(function(o,i){if(o===t){l.off(o,r);var a=null==i?void 0:i.apply(void 0,n);a&&a.then?a.then(e):e(a)}}))})));case 7:return e.next=9,Promise.all(r);case 9:return e.abrupt(\"return\",void 0);case 10:case\"end\":return e.stop()}}),e,this)})))}},{key:\"clear\",value:function(){this.events={}}}])}();function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(new Error).stack;return n?n.split(\"\\n\").slice(t+1,-e).join(\"\\n\").trim():\"\"}function A(t){return new Promise((function(e){return setTimeout(e,t)}))}function O(t,e){if(t===e)return!0;if(\"object\"!==m(t)||\"object\"!==m(e)||null===t||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0,i=n;o<i.length;o++){var a=i[o];if(!r.includes(a)||!O(t[a],e[a]))return!1}return!0}var T=function(){return p((function t(e,n){l(this,t),this.game=e,this.prefix=n}),[{key:\"log\",value:function(t){if(this.game.config.app.logger.log){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).log.apply(e,h(this._log.apply(this,[t].concat(r))))}}},{key:\"info\",value:function(t){if(this.game.config.app.logger.info){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).info.apply(e,h(this._log.apply(this,[t].concat(r))))}}},{key:\"warn\",value:function(t){if(this.game.config.app.logger.warn){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).warn.apply(e,h(this._log.apply(this,[t].concat(r))))}}},{key:\"error\",value:function(t){if(this.game.config.app.logger.error){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).error.apply(e,h(this._log.apply(this,[t].concat(r))))}}},{key:\"debug\",value:function(t){if(this.game.config.app.logger.debug){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).debug.apply(e,h(this._log.apply(this,[t].concat(r))))}}},{key:\"trace\",value:function(t){if(this.game.config.app.logger.trace){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];console.trace(this._log.apply(this,[t].concat(n)))}}},{key:\"_log\",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return 0===n.length?[this.prefix||\"\",t]:[\"\".concat(this.prefix||\"\",\" [\").concat(t,\"]\")].concat(n)}}])}(),E=function(){return p((function t(e){l(this,t),this.abortHandler=e,this.events=new k,this.aborted=!1}),[{key:\"abort\",value:function(){return this.aborted||(this.aborted=!0,this.result=this.abortHandler.apply(this,arguments)),this.result}},{key:\"isAborted\",value:function(){return this.aborted}},{key:\"cancel\",value:function(){this.aborted=!0}}])}();E.EventTypes={\"event:skipController.abort\":\"event:skipController.abort\"};var P=function(){return p((function t(){l(this,t),this.locked=!1,this.listeners=[],this.unlockListeners=[]}),[{key:\"lock\",value:function(){return this.locked=!0,this}},{key:\"unlock\",value:function(){this.locked=!1;var t,e=c(this.listeners);try{for(e.s();!(t=e.n()).done;){(0,t.value)()}}catch(t){e.e(t)}finally{e.f()}var n,r=c(this.unlockListeners);try{for(r.s();!(n=r.n()).done;){(0,n.value)()}}catch(t){r.e(t)}finally{r.f()}return this.listeners=[],this}},{key:\"onUnlock\",value:function(t){return this.unlockListeners.push(t),t}},{key:\"offUnlock\",value:function(t){this.unlockListeners=this.unlockListeners.filter((function(e){return e!==t}))}},{key:\"nextUnlock\",value:function(){return g(this,void 0,void 0,u().mark((function t(){var e=this;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.locked){t.next=2;break}return t.abrupt(\"return\");case 2:return t.abrupt(\"return\",new Promise((function(t){e.listeners.push(t)})));case 3:case\"end\":return t.stop()}}),t,this)})))}},{key:\"isLocked\",value:function(){return this.locked}}])}(),j=function(){return p((function t(){l(this,t),this.locks=[]}),[{key:\"unlock\",value:function(t){return t.unlock(),this.off(t),t}},{key:\"register\",value:function(t){var e=t||new P;return this.locks.push(e),e}},{key:\"off\",value:function(t){this.locks=this.locks.filter((function(e){return e!==t}))}},{key:\"nextUnlock\",value:function(){return g(this,void 0,void 0,u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.locks.map((function(t){return t.nextUnlock()})),t.abrupt(\"return\",Promise.all(e));case 2:case\"end\":return t.stop()}}),t,this)})))}},{key:\"isLocked\",value:function(){return this.locks.some((function(t){return t.isLocked()}))}}])}();function C(t){return C=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},C(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,I(r.key),r)}}function I(t){var e=function(t,e){if(\"object\"!=C(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=C(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==C(e)?e:e+\"\"}var N=function(){return function(t,e,n){return e&&L(t.prototype,e),n&&L(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}((function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.callee=e,this.type=n,this.contentNode=r,this.__stack=x(),this._id=\"\"}),[{key:\"executeAction\",value:function(t){return{type:this.type,node:this.contentNode.getChild()}}},{key:\"getId\",value:function(){return this._id}},{key:\"setId\",value:function(t){this._id=t}},{key:\"getFutureActions\",value:function(){var t=this.contentNode.getChild();return t&&t.action?[t.action]:[]}}])}();function M(t){return M=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},M(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,F(r.key),r)}}function F(t){var e=function(t,e){if(\"object\"!=M(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=M(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==M(e)?e:e+\"\"}function D(t,e,n){return e=V(e),function(t,e){if(e&&(\"object\"==M(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,B()?Reflect.construct(e,n||[],V(t).constructor):e.apply(t,n))}function B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(B=function(){return!!t})()}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}function G(t,e){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},G(t,e)}N.ActionTypes={action:\"action\"};var U=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=D(this,e,[t,n,r])).callee=t.getSelf(),o.contentNode.action=o,o}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&G(t,e)}(e,t),function(t,e,n){return e&&R(t.prototype,e),n&&R(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"unknownType\",value:function(){throw new Error(\"Unknown action type: \"+this.type)}}])}(N);function H(t){return H=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},H(t)}function z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return W(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Y(r.key),r)}}function Y(t){var e=function(t,e){if(\"object\"!=H(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=H(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==H(e)?e:e+\"\"}function q(t,e,n){return e=Q(e),function(t,e){if(e&&(\"object\"==H(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,X()?Reflect.construct(e,n||[],Q(t).constructor):e.apply(t,n))}function X(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(X=function(){return!!t})()}function K(t,e,n,r){var o=Z(Q(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}function Z(){return Z=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Q(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Z.apply(null,arguments)}function Q(t){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Q(t)}function J(t,e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},J(t,e)}var tt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),q(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&J(t,e)}(e,t),function(t,e,n){return e&&$(t.prototype,e),n&&$(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"executeAction\",value:function(t){var n=this;if(this.type===r.play){if(e.initSound(t,this.callee),!this.callee.getPlaying())throw new Error(\"Howl is not initialized\");if(this.callee.config.sync&&!this.callee.config.loop){var o=new w((function(t){return t}));return t.playSound(this.callee,(function(){var e;t.stopSound(n.callee),o.resolve({type:n.type,node:null===(e=n.contentNode)||void 0===e?void 0:e.getChild()})})),o}return t.playSound(this.callee,(function(){t.stopSound(n.callee)})),K(e,\"executeAction\",this,3)([t])}if(this.type===r.stop)return t.stopSound(this.callee),K(e,\"executeAction\",this,3)([t]);if(this.type===r.fade){var i=z(this.contentNode.getContent(),1)[0],a=i.start,s=i.end,u=i.duration;if(this.callee.getPlaying()){var c=void 0===a?this.callee.getPlaying().volume():a;this.callee.getPlaying().fade(c,s,u,this.callee.getToken())}return K(e,\"executeAction\",this,3)([t])}if(this.type===r.setVolume){var l=z(this.contentNode.getContent(),1)[0];return this.callee.getPlaying()&&this.callee.getPlaying().volume(l,this.callee.getToken()),K(e,\"executeAction\",this,3)([t])}if(this.type===r.setRate){var f=z(this.contentNode.getContent(),1)[0];return this.callee.getPlaying()&&this.callee.getPlaying().rate(f,this.callee.getToken()),K(e,\"executeAction\",this,3)([t])}if(this.type===r.pause)return this.callee.getPlaying()&&this.callee.getPlaying().pause(this.callee.getToken()),K(e,\"executeAction\",this,3)([t]);if(this.type===r.resume)return this.callee.getPlaying()&&this.callee.getPlaying().play(this.callee.getToken()),K(e,\"executeAction\",this,3)([t]);throw K(e,\"unknownType\",this,3)([])}}],[{key:\"initSound\",value:function(t,e){e.getPlaying()||e.setPlaying(new(t.getHowl())(e.getHowlOptions()))}}])}(U);function et(t){return et=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},et(t)}function nt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return rt(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rt(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function rt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,it(r.key),r)}}function it(t){var e=function(t,e){if(\"object\"!=et(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=et(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==et(e)?e:e+\"\"}function at(t,e,n){return e=lt(e),function(t,e){if(e&&(\"object\"==et(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,st()?Reflect.construct(e,n||[],lt(t).constructor):e.apply(t,n))}function st(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(st=function(){return!!t})()}function ut(t,e,n,r){var o=ct(lt(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}function ct(){return ct=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=lt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ct.apply(null,arguments)}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}function ft(t,e){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ft(t,e)}tt.ActionTypes=r;var pt,dt=function(t){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,n),at(this,n,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&ft(t,e)}(n,t),function(t,e,n){return e&&ot(t.prototype,e),n&&ot(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(n,[{key:\"executeAction\",value:function(t){var r,o=this;if(this.type===e.action)return ut(n,\"executeAction\",this,3)([t]);if(this.type===e.setBackground)return this.callee.state.background=this.contentNode.getContent()[0],ut(n,\"executeAction\",this,3)([t]);if(this.type===e.sleep){var i=new w((function(t){return t})),a=this.contentNode.getContent();return new Promise((function(t){\"number\"==typeof a?setTimeout((function(){t()}),a):w.isAwaitable(a)?a.then(t):null==a||a.then(t)})).then((function(){i.resolve({type:o.type,node:o.contentNode.getChild()}),t.stage.next()})),i}if(this.type===e.applyTransition){var s=(new w).registerSkipController(new E((function(){return t.logger.info(\"NarraLeaf-React: Background Transition\",\"Skipped\"),{type:o.type,node:o.contentNode.getChild()}}))),u=this.contentNode.getContent()[0];return this.callee.events.any(\"event:displayable.applyTransition\",u).then((function(){s.resolve({type:o.type,node:o.contentNode.getChild()}),t.stage.next()})),s}if(this.type===e.init){var c=new w((function(t){return t}));return n.handleSceneInit(this,t,c)}if(this.type===e.exit){t.offSrcManager(this.callee.srcManager).removeScene(this.callee);var l=new w((function(t){return t}));return this.callee.events.once(\"event:scene.unmount\",(function(){l.resolve({type:o.type,node:o.contentNode.getChild()}),t.stage.next()})),l}if(this.type===e.jumpTo){var f=this.contentNode.getContent()[0],p=this.contentNode,d=(null===(r=f.sceneRoot)||void 0===r?void 0:r.contentNode)||null;return d&&p.addChild(d),ut(n,\"executeAction\",this,3)([t])}if(this.type===e.setBackgroundMusic){var h=nt(this.contentNode.getContent(),2),y=h[0],v=h[1];return this.callee.events.emit(\"event:scene.setBackgroundMusic\",y,v||0),ut(n,\"executeAction\",this,3)([t])}if(this.type===e.preUnmount)return this.callee.events.emit(\"event:scene.preUnmount\"),ut(n,\"executeAction\",this,3)([t]);if(this.type===e.applyTransform){var m=nt(this.contentNode.getContent(),1)[0],g=new w((function(t){return t})).registerSkipController(new E((function(){return{type:o.type,node:o.contentNode.getChild()}})));return this.callee.events.any(\"event:displayable.applyTransform\",m).then((function(){g.resolve({type:o.type,node:o.contentNode.getChild()}),t.stage.next()})),g}throw new Error(\"Unknown scene action type: \"+this.type)}},{key:\"getFutureActions\",value:function(){var t,n,r;if(this.type===e.jumpTo){var o=null===(n=null===(t=this.contentNode.getContent()[0])||void 0===t?void 0:t.sceneRoot)||void 0===n?void 0:n.contentNode;return(null==o?void 0:o.action)?[o.action]:[]}var i=null===(r=this.contentNode.getChild())||void 0===r?void 0:r.action;return i?[i]:[]}}],[{key:\"handleSceneInit\",value:function(t,e,r){return e.isSceneActive(t.callee)?{type:t.type,node:t.contentNode.getChild()}:(e.registerSrcManager(t.callee.srcManager).addScene(t.callee),n.registerEventListeners(t.callee,e,(function(){r.resolve({type:t.type,node:t.contentNode.getChild()}),e.stage.next()})),r)}},{key:\"registerEventListeners\",value:function(t,e,n){t.events.once(\"event:scene.unmount\",(function(){e.offSrcManager(t.srcManager)})),t.events.once(\"event:scene.mount\",(function(){t.state.backgroundMusic&&(tt.initSound(e,t.state.backgroundMusic),t.events.emit(\"event:scene.setBackgroundMusic\",t.state.backgroundMusic,t.config.backgroundMusicFade))})),t.events.any(\"event:displayable.init\").then((function(){n&&n()}))}}])}(U);function ht(t){return ht=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ht(t)}function yt(t,e,n){return e=mt(e),function(t,e){if(e&&(\"object\"==ht(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,vt()?Reflect.construct(e,n||[],mt(t).constructor):e.apply(t,n))}function vt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vt=function(){return!!t})()}function mt(t){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mt(t)}function gt(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&bt(t,e)}function bt(t,e){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bt(t,e)}function wt(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,kt(r.key),r)}}function St(t,e,n){return e&&_t(t.prototype,e),n&&_t(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function kt(t){var e=function(t,e){if(\"object\"!=ht(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=ht(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==ht(e)?e:e+\"\"}dt.ActionTypes=e,function(t){t.TreeNode=\"TreeNode\",t.ContentNode=\"ContentNode\"}(pt||(pt={}));var xt=function(t){function e(t,n,r){var o;return wt(this,e),(o=yt(this,e,[pt.ContentNode])).child=r||null,o.parent=n||null,o.action=t||null,o}return gt(e,t),St(e,[{key:\"setParent\",value:function(t){if(t===this)throw new Error(\"Cannot set parent to itself\");return this.parent=t,this}},{key:\"setChild\",value:function(t){if(t===this)throw new Error(\"Cannot set child to itself\");return this.child=t,t&&t.parent!==this&&t.remove().setParent(this),this}},{key:\"getChild\",value:function(){return this.child||null}},{key:\"getParent\",value:function(){return this.parent||null}},{key:\"addChild\",value:function(t){return this.setChild(t),this}},{key:\"removeChild\",value:function(t){return t&&this.child===t?(this.child=null,t.setParent(null)):t||(this.child=null),this}},{key:\"remove\",value:function(){var t;return null===(t=this.parent)||void 0===t||t.removeChild(this),this}},{key:\"hasChild\",value:function(){return!!this.child}}],[{key:\"forEachParent\",value:function(t,e){for(var n=new Set,r=t;r&&!n.has(r);)n.add(r),e(r),r=r.getParent()}},{key:\"forEachChild\",value:function(t,e){for(var n=new Set,r=t;r&&!n.has(r);)n.add(r),e(r),r=r.getChild()}}])}(function(){return St((function t(e){wt(this,t),this.type=e,this.content=void 0}),[{key:\"setContent\",value:function(t){return this.content=t,this}},{key:\"getContent\",value:function(){return this.content}}])}());function At(t){return At=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},At(t)}function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Tt(r.key),r)}}function Tt(t){var e=function(t,e){if(\"object\"!=At(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=At(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==At(e)?e:e+\"\"}var Et=function(){return function(t,e,n){return e&&Ot(t.prototype,e),n&&Ot(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.id=\"\"}),[{key:\"setId\",value:function(t){this.id=t}},{key:\"getId\",value:function(){return this.id}},{key:\"reset\",value:function(){}},{key:\"fromData\",value:function(t){return this}},{key:\"construct\",value:function(t){for(var e,n=0;n<t.length;n++){var r=t[n];0!==n&&(null===(e=t[n-1])||void 0===e||e.contentNode.setChild(r.contentNode))}return t}}])}();function Pt(t){return Pt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Pt(t)}function jt(t){return function(t){if(Array.isArray(t))return Nt(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||It(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ct(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=It(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Lt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||It(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function It(t,e){if(t){if(\"string\"==typeof t)return Nt(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(t,e):void 0}}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Mt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Mt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,\"_invoke\",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",v={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(C([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==Pt(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=p;return function(i,a){if(o===h)throw Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===v)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=h;var c=f(e,n,r);if(\"normal\"===c.type){if(o=r.done?y:d,c.arg===v)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=y,r.method=\"throw\",r.arg=c.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,T(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,v):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function C(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Pt(e)+\" is not iterable\")}return g.prototype=b,o(k,\"constructor\",{value:b,configurable:!0}),o(b,\"constructor\",{value:g,configurable:!0}),g.displayName=c(b,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,\"GeneratorFunction\")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,u,\"Generator\"),c(k,a,(function(){return this})),c(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),v}},e}function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Ft(r.key),r)}}function Ft(t){var e=function(t,e){if(\"object\"!=Pt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Pt(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Pt(e)?e:e+\"\"}function Dt(t,e,n){return e=Ut(e),function(t,e){if(e&&(\"object\"==Pt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Bt()?Reflect.construct(e,n||[],Ut(t).constructor):e.apply(t,n))}function Bt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Bt=function(){return!!t})()}function Vt(t,e,n,r){var o=Gt(Ut(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}function Gt(){return Gt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Ut(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Gt.apply(null,arguments)}function Ut(t){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ut(t)}function Ht(t,e){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ht(t,e)}var zt,Wt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},$t=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Dt(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Ht(t,e)}(e,t),function(t,e,n){return e&&Rt(t.prototype,e),n&&Rt(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"executeAllActions\",value:function(t,e){return Wt(this,void 0,void 0,Mt().mark((function n(){var r,o,i;return Mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=!1,o=e,i=Mt().mark((function e(){var n,r,i;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.game.getLiveGame().executeAction(t,o),t.logger.debug(\"Control - Next Action\",n),n){e.next=4;break}return e.abrupt(\"return\",0);case 4:if(!w.isAwaitable(n)){e.next=16;break}return e.next=7,new Promise((function(t){n.then((function(e){return t(n.result)}))}));case 7:if(r=e.sent,!(i=r.node)){e.next=13;break}o=i.action,e.next=14;break;case 13:return e.abrupt(\"return\",0);case 14:e.next=17;break;case 16:o=n;case 17:case\"end\":return e.stop()}}),e)}));case 3:if(r||!o){n.next=10;break}return n.delegateYield(i(),\"t0\",5);case 5:if(0!==n.t0){n.next=8;break}return n.abrupt(\"break\",10);case 8:n.next=3;break;case 10:case\"end\":return n.stop()}}),n)})))}},{key:\"executeSingleAction\",value:function(t,e){return Wt(this,void 0,void 0,Mt().mark((function n(){var r,o,i;return Mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.game.getLiveGame().executeAction(t,e),!w.isAwaitable(r)){n.next=9;break}return n.next=4,new Promise((function(t){r.then((function(e){return t(r.result)}))}));case 4:return o=n.sent,i=o.node,n.abrupt(\"return\",i);case 9:return n.abrupt(\"return\",r);case 10:case\"end\":return n.stop()}}),n)})))}},{key:\"execute\",value:function(t,n,r){var o=this;return r.length>0?(this.executeAllActions(t,r[0]).then((function(){n.resolve({type:o.type,node:o.contentNode.getChild()}),t.stage.next()})),n):Vt(e,\"executeAction\",this,3)([t])}},{key:\"executeAction\",value:function(t){var n=this,r=Lt(this.contentNode.getContent(),1)[0];if(this.type===a.do){var o=new w((function(t){return t}));return this.execute(t,o,r)}if(this.type===a.doAsync)return Wt(n,void 0,void 0,Mt().mark((function e(){return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>0)){e.next=3;break}return e.next=3,this.executeAllActions(t,r[0]);case 3:case\"end\":return e.stop()}}),e,this)}))),Vt(e,\"executeAction\",this,3)([t]);if(this.type===a.any){var i=new w((function(t){return t})),s=r.map((function(e){return n.executeSingleAction(t,e)}));return Promise.any(s).then((function(){i.resolve({type:n.type,node:n.contentNode.getChild()}),t.stage.next()})),i}if(this.type===a.all){var u=new w((function(t){return t}));return Wt(n,void 0,void 0,Mt().mark((function e(){var n=this;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(r.map((function(e){return n.executeSingleAction(t,e)})));case 2:u.resolve({type:this.type,node:this.contentNode.getChild()}),t.stage.next();case 4:case\"end\":return e.stop()}}),e,this)}))),u}if(this.type===a.allAsync)return Wt(n,void 0,void 0,Mt().mark((function e(){var n,o,i;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ct(r);try{for(n.s();!(o=n.n()).done;)i=o.value,this.executeSingleAction(t,i).then((function(t){}))}catch(t){n.e(t)}finally{n.f()}case 2:case\"end\":return e.stop()}}),e,this)}))),Vt(e,\"executeAction\",this,3)([t]);if(this.type===a.repeat){var c=Lt(this.contentNode.getContent(),2),l=c[0],f=c[1],p=new w((function(t){return t}));return Wt(n,void 0,void 0,Mt().mark((function e(){var n;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<f)){e.next=8;break}if(!(l.length>0)){e.next=5;break}return e.next=5,this.executeAllActions(t,l[0]);case 5:n++,e.next=1;break;case 8:p.resolve({type:this.type,node:this.contentNode.getChild()}),t.stage.next();case 10:case\"end\":return e.stop()}}),e,this)}))),p}if(this.type===a.sleep){var d=new w((function(t){return t})),h=Lt(this.contentNode.getContent(),2)[1];return new Promise((function(t){\"number\"==typeof h?setTimeout((function(){t()}),h):w.isAwaitable(h)?h.then(t):null==h||h.then(t)})).then((function(){d.resolve({type:n.type,node:n.contentNode.getChild()}),t.stage.next()})),d}throw new Error(\"Unknown control action type: \"+this.type)}},{key:\"getFutureActions\",value:function(){var t=this.contentNode.getContent()[0],n=Vt(e,\"getFutureActions\",this,3)([]);return[].concat(jt(t),jt(n))}}])}(U);function Yt(t){return Yt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Yt(t)}function qt(t){return function(t){if(Array.isArray(t))return Xt(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return Xt(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xt(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Kt(t,e,n){return e=Qt(e),function(t,e){if(e&&(\"object\"==Yt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Zt()?Reflect.construct(e,n||[],Qt(t).constructor):e.apply(t,n))}function Zt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Zt=function(){return!!t})()}function Qt(t){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qt(t)}function Jt(t,e){return Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jt(t,e)}function te(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,re(r.key),r)}}function ne(t,e,n){return e&&ee(t.prototype,e),n&&ee(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function re(t){var e=function(t,e){if(\"object\"!=Yt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Yt(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Yt(e)?e:e+\"\"}$t.ActionTypes=a;var oe=Symbol(\"_Chained\"),ie=function(){function t(e){te(this,t),this[zt]=!0,this.__actions=[],this.__self=e}return ne(t,[{key:\"push\",value:function(){var t;(t=this.__actions).push.apply(t,arguments)}},{key:\"getActions\",value:function(){return this.__actions}},{key:\"getSelf\",value:function(){return this.__self}},{key:\"newChain\",value:function(){return this.getSelf().chain()}}],[{key:\"isChained\",value:function(t){return t&&t[oe]}},{key:\"toActions\",value:function(e){return e.flat(2).map((function(e){return t.isChained(e)?e.fromChained(e):e})).flat(3)}}])}();zt=oe;var ae=function(t){function e(){return te(this,e),Kt(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Jt(t,e)}(e,t),ne(e,[{key:\"chain\",value:function(t){var e=ie.isChained(this)?this:this.proxy(this,new ie(this));if(!t)return e;var n=Array.isArray(t)?t:[t];return e.push.apply(e,qt(n)),e}},{key:\"proxy\",value:function(t,e){var n=new Proxy(t,{get:function(t,r){if(r in e)return e[r];var o=t[r];return\"function\"==typeof o?o.bind(n):o},set:function(t,e,n){return t[e]=n,!0}});return n}},{key:\"combineActions\",value:function(t,e){var n=e(this.chain().newChain()),r=new $t(t.chain(),$t.ActionTypes.do,(new xt).setContent([this.construct(ie.toActions([n]))]));return this.chain(r)}}])}(Et);function se(t){return se=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},se(t)}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,ce(r.key),r)}}function ce(t){var e=function(t,e){if(\"object\"!=se(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=se(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==se(e)?e:e+\"\"}function le(t,e,n){return e=pe(e),function(t,e){if(e&&(\"object\"==se(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,fe()?Reflect.construct(e,n||[],pe(t).constructor):e.apply(t,n))}function fe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fe=function(){return!!t})()}function pe(t){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pe(t)}function de(t,e){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},de(t,e)}var he,ye=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),le(this,e)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&de(t,e)}(e,t),function(t,e,n){return e&&ue(t.prototype,e),n&&ue(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"toData\",value:function(){return null}},{key:\"fromChained\",value:function(t){return t.getActions()}}])}(ae),ve=\"center\",me=\"left\",ge=\"right\";function be(t){return be=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},be(t)}function we(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,xe(r.key),r)}}function Se(t,e,n){return e&&_e(t.prototype,e),n&&_e(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function ke(t,e,n){return(e=xe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xe(t){var e=function(t,e){if(\"object\"!=be(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=be(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==be(e)?e:e+\"\"}!function(t){t.Left=\"left\",t.Center=\"center\",t.Right=\"right\"}(he||(he={}));var Ae=ke(ke(ke({},he.Left,\"33.33%\"),he.Center,\"50%\"),he.Right,\"66.66%\"),Oe=function(){function t(){we(this,t)}return Se(t,null,[{key:\"isUnknown\",value:function(e){return e===t.Unknown}},{key:\"wrap\",value:function(t){return Object.assign({left:\"auto\",top:\"auto\",right:\"auto\",bottom:\"auto\"},t)}},{key:\"D2PositionToCSS\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.calc(t.y,t.yoffset),o=this.calc(t.x,t.xoffset),i=n?{bottom:r}:{top:r},a=e?{right:o}:{left:o};return this.wrap(Object.assign(Object.assign({},i),a))}},{key:\"calc\",value:function(e,n){if(!e||t.isUnknown(e))return\"auto\";if(void 0===n||t.isUnknown(n))return\"calc(\".concat(e,\" + 0px)\");var r=\"number\"==typeof e?\"\".concat(e,\"px\"):e;return\"calc(\".concat(r,\" + (\").concat(n,\"px))\")}},{key:\"toCoord2D\",value:function(t){if(Te.isCommonPositionType(t))return Ee.fromCommonPosition(t);if(Ee.isCoord2DPosition(t))return t;if(Pe.isAlignPosition(t))return Ee.fromAlignPosition(t);if(\"object\"===be(t)&&[\"x\",\"y\",\"xoffset\",\"yoffset\"].some((function(e){return e in t})))return new Ee(t);throw new Error(\"Invalid position type\")}},{key:\"orUnknown\",value:function(e){return t.isUnknown(e)||void 0===e?t.Unknown:e}},{key:\"mergePosition\",value:function(t,e){var n=this.toCoord2D(t),r=this.toCoord2D(e);return Ee.merge(n,r)}},{key:\"serializePosition\",value:function(e){var n=this.toCoord2D(e);return{x:t.isUnknown(n.x)?0:n.x,y:t.isUnknown(n.y)?0:n.y,xoffset:t.isUnknown(n.xoffset)?0:n.xoffset,yoffset:t.isUnknown(n.yoffset)?0:n.yoffset}}},{key:\"isRawCommonPositionType\",value:function(t){return Object.values(he).includes(t)}},{key:\"isRawCoord2DPosition\",value:function(t){return\"object\"===be(t)&&(\"x\"in t||\"y\"in t||\"xoffset\"in t||\"yoffset\"in t)}},{key:\"isRawAlignPosition\",value:function(t){return\"object\"===be(t)&&(\"xalign\"in t||\"yalign\"in t||\"xoffset\"in t||\"yoffset\"in t)}},{key:\"isRawPosition\",value:function(t){return this.isRawCommonPositionType(t)||this.isRawCoord2DPosition(t)||this.isRawAlignPosition(t)}},{key:\"isPosition\",value:function(t){return t instanceof Te||t instanceof Ee||t instanceof Pe}},{key:\"rawPositionToCoord2D\",value:function(t){if(this.isRawCommonPositionType(t))return Ee.fromCommonPosition(new Te(t));if(this.isRawCoord2DPosition(t))return new Ee(t);if(this.isRawAlignPosition(t))return Ee.fromAlignPosition(t);throw new Error(\"Invalid position type\")}},{key:\"tryParsePosition\",value:function(t){if(this.isPosition(t))return t;if(this.isRawPosition(t))return this.rawPositionToCoord2D(t);throw new Error(\"Invalid position type\")}}])}();Oe.Unknown=Symbol(\"Unknown\");var Te=function(){function t(e){we(this,t),this.position=e}return Se(t,[{key:\"toCSS\",value:function(){return{x:Ae[this.position],y:\"50%\",xoffset:0,yoffset:0}}}],[{key:\"isCommonPositionType\",value:function(e){return e instanceof t}}])}();Te.Positions=he;var Ee=function(){function t(e,n){we(this,t),\"object\"===be(e)?(this.x=Oe.orUnknown(e.x),this.y=Oe.orUnknown(e.y),this.xoffset=Oe.orUnknown(e.xoffset),this.yoffset=Oe.orUnknown(e.yoffset)):(this.x=Oe.orUnknown(e),this.y=Oe.orUnknown(n),this.xoffset=Oe.Unknown,this.yoffset=Oe.Unknown)}return Se(t,[{key:\"toCSS\",value:function(){return{x:this.x,y:this.y,xoffset:this.xoffset,yoffset:this.yoffset}}}],[{key:\"isCoord2DPosition\",value:function(e){return e instanceof t}},{key:\"fromCommonPosition\",value:function(e){return new t({x:Ae[e.position],y:\"50%\"})}},{key:\"fromAlignPosition\",value:function(e){return new t({x:Oe.isUnknown(e.xalign)?Oe.Unknown:\"\".concat(100*e.xalign,\"%\"),y:Oe.isUnknown(e.yalign)?Oe.Unknown:\"\".concat(100*e.yalign,\"%\"),xoffset:e.xoffset,yoffset:e.yoffset})}},{key:\"merge\",value:function(e,n){return new t({x:Oe.isUnknown(n.x)?e.x:n.x,y:Oe.isUnknown(n.y)?e.y:n.y,xoffset:Oe.isUnknown(n.xoffset)?e.xoffset:n.xoffset,yoffset:Oe.isUnknown(n.yoffset)?e.yoffset:n.yoffset})}}])}(),Pe=function(){function t(e,n){we(this,t),\"object\"===be(e)?(this.xalign=Oe.orUnknown(e.xalign),this.yalign=Oe.orUnknown(e.yalign),this.xoffset=Oe.orUnknown(e.xoffset),this.yoffset=Oe.orUnknown(e.yoffset)):(this.xalign=Oe.orUnknown(e),this.yalign=Oe.orUnknown(n),this.xoffset=Oe.Unknown,this.yoffset=Oe.Unknown)}return Se(t,[{key:\"toCSS\",value:function(){return{x:Oe.isUnknown(this.xalign)?this.xalign:\"\".concat(100*this.xalign,\"%\"),y:Oe.isUnknown(this.yalign)?this.yalign:\"\".concat(100*this.yalign,\"%\"),xoffset:this.xoffset,yoffset:this.yoffset}}}],[{key:\"isAlignPosition\",value:function(e){return e instanceof t}}])}();function je(t){let e;return()=>(void 0===e&&(e=t()),e)}const Ce=je((()=>void 0!==window.ScrollTimeline));class Le{constructor(t){this.stop=()=>this.runAll(\"stop\"),this.animations=t.filter(Boolean)}then(t,e){return Promise.all(this.animations).then(t).catch(e)}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t,e){const n=this.animations.map((n=>Ce()&&n.attachTimeline?n.attachTimeline(t):e(n)));return()=>{n.forEach(((t,e)=>{t&&t(),this.animations[e].stop()}))}}get time(){return this.getAll(\"time\")}set time(t){this.setAll(\"time\",t)}get speed(){return this.getAll(\"speed\")}set speed(t){this.setAll(\"speed\",t)}get startTime(){return this.getAll(\"startTime\")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach((e=>e[t]()))}play(){this.runAll(\"play\")}pause(){this.runAll(\"pause\")}cancel(){this.runAll(\"cancel\")}complete(){this.runAll(\"complete\")}}const Ie=t=>1e3*t,Ne=t=>t/1e3;function Me(t,e){return e?t*(1e3/e):0}const Re=5;function Fe(t,e,n){const r=Math.max(e-Re,0);return Me(n-t(r),e-r)}const De=t=>t;let Be=De,Ve=De;const Ge=(t,e,n)=>n>e?e:n<t?t:n,Ue=.001,He=.01,ze=10,We=.05,$e=1;function Ye({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,i;Be(t<=Ie(ze),\"Spring duration must be 10 seconds or less\");let a=1-e;a=Ge(We,$e,a),t=Ge(He,ze,Ne(t)),a<1?(o=e=>{const r=e*a,o=r*t,i=r-n,s=Xe(e,a),u=Math.exp(-o);return Ue-i/s*u},i=e=>{const r=e*a*t,i=r*n+n,s=Math.pow(a,2)*Math.pow(e,2)*t,u=Math.exp(-r),c=Xe(Math.pow(e,2),a);return(-o(e)+Ue>0?-1:1)*((i-s)*u)/c}):(o=e=>Math.exp(-e*t)*((e-n)*t+1)-Ue,i=e=>Math.exp(-e*t)*(t*t*(n-e)));const s=function(t,e,n){let r=n;for(let n=1;n<qe;n++)r-=t(r)/e(r);return r}(o,i,5/t);if(t=Ie(t),isNaN(s))return{stiffness:100,damping:10,duration:t};{const e=Math.pow(s,2)*r;return{stiffness:e,damping:2*a*Math.sqrt(r*e),duration:t}}}const qe=12;function Xe(t,e){return t*Math.sqrt(1-e*e)}const Ke=[\"duration\",\"bounce\"],Ze=[\"stiffness\",\"damping\",\"mass\"];function Qe(t,e){return e.some((e=>void 0!==t[e]))}function Je({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],i=t[t.length-1],a={done:!1,value:o},{stiffness:s,damping:u,mass:c,duration:l,velocity:f,isResolvedFromDuration:p}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Qe(t,Ze)&&Qe(t,Ke)){const n=Ye(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}({...r,velocity:-Ne(r.velocity||0)}),d=f||0,h=u/(2*Math.sqrt(s*c)),y=i-o,v=Ne(Math.sqrt(s/c)),m=Math.abs(y)<5;let g;if(n||(n=m?.01:2),e||(e=m?.005:.5),h<1){const t=Xe(v,h);g=e=>{const n=Math.exp(-h*v*e);return i-n*((d+h*v*y)/t*Math.sin(t*e)+y*Math.cos(t*e))}}else if(1===h)g=t=>i-Math.exp(-v*t)*(y+(d+v*y)*t);else{const t=v*Math.sqrt(h*h-1);g=e=>{const n=Math.exp(-h*v*e),r=Math.min(t*e,300);return i-n*((d+h*v*y)*Math.sinh(r)+t*y*Math.cosh(r))/t}}return{calculatedDuration:p&&l||null,next:t=>{const r=g(t);if(p)a.done=t>=l;else{let o=0;h<1&&(o=0===t?Ie(d):Fe(g,t,r));const s=Math.abs(o)<=n,u=Math.abs(i-r)<=e;a.done=s&&u}return a.value=a.done?i:r,a}}}const tn=2e4;function en(t){let e=0;let n=t.next(e);for(;!n.done&&e<tn;)e+=50,n=t.next(e);return e>=tn?1/0:e}function nn(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(en(r),tn);return{type:\"keyframes\",ease:t=>r.next(o*t).value/e,duration:Ne(o)}}const rn=(t,e,n)=>t+(e-t)*n,on=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r};function an(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=on(0,e,r);t.push(rn(n,1,o))}}function sn(t){const e=[0];return an(e,t.length-1),e}const un=t=>Boolean(t&&t.getVelocity);function cn(t){return\"object\"==typeof t&&!Array.isArray(t)}function ln(t,e,n,r){return\"string\"==typeof t&&cn(e)?function(t,e,n){var r;if(\"string\"==typeof t){let o=document;e&&(Ve(Boolean(e.current),\"Scope provided, but no element detected.\"),o=e.current),n?(null!==(r=n[t])&&void 0!==r||(n[t]=o.querySelectorAll(t)),t=n[t]):t=o.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function fn(t){return\"function\"==typeof t}function pn(t,e,n,r){var o;return\"number\"==typeof e?e:e.startsWith(\"-\")||e.startsWith(\"+\")?Math.max(0,t+parseFloat(e)):\"<\"===e?n:null!==(o=r.get(e))&&void 0!==o?o:t}const dn=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t},hn=t=>Array.isArray(t)&&\"number\"!=typeof t[0];function yn(t,e){return hn(t)?t[dn(0,t.length,e)]:t}function vn(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function mn(t,e,n,r,o,i){!function(t,e,n){for(let r=0;r<t.length;r++){const o=t[r];o.at>e&&o.at<n&&(vn(t,o),r--)}}(t,o,i);for(let a=0;a<e.length;a++)t.push({value:e[a],at:rn(o,i,r[a]),easing:yn(n,a)})}function gn(t,e){return t.at===e.at?null===t.value?1:null===e.value?-1:0:t.at-e.at}const bn=\"easeInOut\";function wn(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function _n(t,e){return e[t]||(e[t]=[]),e[t]}function Sn(t){return Array.isArray(t)?t:[t]}function kn(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const xn=t=>\"number\"==typeof t,An=t=>t.every(xn),On=new WeakMap,Tn=[\"transformPerspective\",\"x\",\"y\",\"z\",\"translateX\",\"translateY\",\"translateZ\",\"scale\",\"scaleX\",\"scaleY\",\"rotate\",\"rotateX\",\"rotateY\",\"rotateZ\",\"skew\",\"skewX\",\"skewY\"],En=new Set(Tn),Pn={type:\"spring\",stiffness:500,damping:25,restSpeed:10},jn={type:\"keyframes\",duration:.8},Cn={type:\"keyframes\",ease:[.25,.1,.35,1],duration:.3},Ln=(t,{keyframes:e})=>e.length>2?jn:En.has(t)?t.startsWith(\"scale\")?{type:\"spring\",stiffness:550,damping:0===e[1]?2*Math.sqrt(550):30,restSpeed:10}:Pn:Cn;function In(t,e){return t?t[e]||t.default||t:void 0}const Nn=!1,Mn=!1,Rn=!1,Fn=t=>null!==t;function Dn(t,{repeat:e,repeatType:n=\"loop\"},r){const o=t.filter(Fn),i=e&&\"loop\"!==n&&e%2==1?0:o.length-1;return i&&void 0!==r?r:o[i]}const Bn=[\"read\",\"resolveKeyframes\",\"update\",\"preRender\",\"render\",\"postRender\"];function Vn(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Bn.reduce(((t,e)=>(t[e]=function(t){let e=new Set,n=new Set,r=!1,o=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function s(e){i.has(e)&&(u.schedule(e),t()),e(a)}const u={schedule:(t,o=!1,a=!1)=>{const s=a&&r?e:n;return o&&i.add(t),s.has(t)||s.add(t),t},cancel:t=>{n.delete(t),i.delete(t)},process:t=>{a=t,r?o=!0:(r=!0,[e,n]=[n,e],n.clear(),e.forEach(s),r=!1,o&&(o=!1,u.process(t)))}};return u}(i),t)),{}),{read:s,resolveKeyframes:u,update:c,preRender:l,render:f,postRender:p}=a,d=()=>{const i=Mn?o.timestamp:performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(i-o.timestamp,40),1),o.timestamp=i,o.isProcessing=!0,s.process(o),u.process(o),c.process(o),l.process(o),f.process(o),p.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(d))};return{schedule:Bn.reduce(((e,i)=>{const s=a[i];return e[i]=(e,i=!1,a=!1)=>(n||(n=!0,r=!0,o.isProcessing||t(d)),s.schedule(e,i,a)),e}),{}),cancel:t=>{for(let e=0;e<Bn.length;e++)a[Bn[e]].cancel(t)},state:o,steps:a}}const{schedule:Gn,cancel:Un,state:Hn,steps:zn}=Vn(\"undefined\"!=typeof requestAnimationFrame?requestAnimationFrame:De,!0),Wn=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$n=1e-7,Yn=12;function qn(t,e,n,r){if(t===e&&n===r)return De;const o=e=>function(t,e,n,r,o){let i,a,s=0;do{a=e+(n-e)/2,i=Wn(a,r,o)-t,i>0?n=a:e=a}while(Math.abs(i)>$n&&++s<Yn);return a}(e,0,1,t,n);return t=>0===t||1===t?t:Wn(o(t),e,r)}const Xn=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Kn=t=>e=>1-t(1-e),Zn=qn(.33,1.53,.69,.99),Qn=Kn(Zn),Jn=Xn(Qn),tr=t=>(t*=2)<1?.5*Qn(t):.5*(2-Math.pow(2,-10*(t-1))),er=t=>1-Math.sin(Math.acos(t)),nr=Kn(er),rr=Xn(er),or=t=>/^0[^.\\s]+$/u.test(t);const ir=t=>/^-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)$/u.test(t),ar=t=>e=>\"string\"==typeof e&&e.startsWith(t),sr=ar(\"--\"),ur=ar(\"var(--\"),cr=t=>!!ur(t)&&lr.test(t.split(\"/*\")[0].trim()),lr=/var\\(--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)$/iu,fr=/^var\\(--(?:([\\w-]+)|([\\w-]+), ?([a-zA-Z\\d ()%#.,-]+))\\)/u;function pr(t,e,n=1){Ve(n<=4,`Max CSS variable fallback depth detected in property \"${t}\". This may indicate a circular fallback dependency.`);const[r,o]=function(t){const e=fr.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${null!=n?n:r}`,o]}(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const t=i.trim();return ir(t)?parseFloat(t):t}return cr(o)?pr(o,e,n+1):o}const dr={test:t=>\"number\"==typeof t,parse:parseFloat,transform:t=>t},hr={...dr,transform:t=>Ge(0,1,t)},yr={...dr,default:1},vr=t=>({test:e=>\"string\"==typeof e&&e.endsWith(t)&&1===e.split(\" \").length,parse:parseFloat,transform:e=>`${e}${t}`}),mr=vr(\"deg\"),gr=vr(\"%\"),br=vr(\"px\"),wr=vr(\"vh\"),_r=vr(\"vw\"),Sr={...gr,parse:t=>gr.parse(t)/100,transform:t=>gr.transform(100*t)},kr=new Set([\"width\",\"height\",\"top\",\"left\",\"right\",\"bottom\",\"x\",\"y\",\"translateX\",\"translateY\"]),xr=t=>t===dr||t===br,Ar=(t,e)=>parseFloat(t.split(\", \")[e]),Or=(t,e)=>(n,{transform:r})=>{if(\"none\"===r||!r)return 0;const o=r.match(/^matrix3d\\((.+)\\)$/u);if(o)return Ar(o[1],e);{const e=r.match(/^matrix\\((.+)\\)$/u);return e?Ar(e[1],t):0}},Tr=new Set([\"x\",\"y\",\"z\"]),Er=Tn.filter((t=>!Tr.has(t)));const Pr={width:({x:t},{paddingLeft:e=\"0\",paddingRight:n=\"0\"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e=\"0\",paddingBottom:n=\"0\"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Or(4,13),y:Or(5,14)};Pr.translateX=Pr.x,Pr.translateY=Pr.y;const jr=t=>e=>e.test(t),Cr=[dr,br,gr,mr,_r,wr,{test:t=>\"auto\"===t,parse:t=>t}],Lr=t=>Cr.find(jr(t)),Ir=new Set;let Nr=!1,Mr=!1;function Rr(){if(Mr){const t=Array.from(Ir).filter((t=>t.needsMeasurement)),e=new Set(t.map((t=>t.element))),n=new Map;e.forEach((t=>{const e=function(t){const e=[];return Er.forEach((n=>{const r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith(\"scale\")?1:0))})),e}(t);e.length&&(n.set(t,e),t.render())})),t.forEach((t=>t.measureInitialState())),e.forEach((t=>{t.render();const e=n.get(t);e&&e.forEach((([e,n])=>{var r;null===(r=t.getValue(e))||void 0===r||r.set(n)}))})),t.forEach((t=>t.measureEndState())),t.forEach((t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)}))}Mr=!1,Nr=!1,Ir.forEach((t=>t.complete())),Ir.clear()}function Fr(){Ir.forEach((t=>{t.readKeyframes(),t.needsMeasurement&&(Mr=!0)}))}class Dr{constructor(t,e,n,r,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ir.add(this),Nr||(Nr=!0,Gn.read(Fr),Gn.resolveKeyframes(Rr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;for(let o=0;o<t.length;o++)if(null===t[o])if(0===o){const o=null==r?void 0:r.get(),i=t[t.length-1];if(void 0!==o)t[0]=o;else if(n&&e){const r=n.readValue(e,i);null!=r&&(t[0]=r)}void 0===t[0]&&(t[0]=i),r&&void 0===o&&r.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ir.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ir.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Br=t=>Math.round(1e5*t)/1e5,Vr=/-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/gu;const Gr=/^(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))$/iu,Ur=(t,e)=>n=>Boolean(\"string\"==typeof n&&Gr.test(n)&&n.startsWith(t)||e&&!function(t){return null==t}(n)&&Object.prototype.hasOwnProperty.call(n,e)),Hr=(t,e,n)=>r=>{if(\"string\"!=typeof r)return r;const[o,i,a,s]=r.match(Vr);return{[t]:parseFloat(o),[e]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},zr={...dr,transform:t=>Math.round((t=>Ge(0,255,t))(t))},Wr={test:Ur(\"rgb\",\"red\"),parse:Hr(\"red\",\"green\",\"blue\"),transform:({red:t,green:e,blue:n,alpha:r=1})=>\"rgba(\"+zr.transform(t)+\", \"+zr.transform(e)+\", \"+zr.transform(n)+\", \"+Br(hr.transform(r))+\")\"};const $r={test:Ur(\"#\"),parse:function(t){let e=\"\",n=\"\",r=\"\",o=\"\";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:Wr.transform},Yr={test:Ur(\"hsl\",\"hue\"),parse:Hr(\"hue\",\"saturation\",\"lightness\"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>\"hsla(\"+Math.round(t)+\", \"+gr.transform(Br(e))+\", \"+gr.transform(Br(n))+\", \"+Br(hr.transform(r))+\")\"},qr={test:t=>Wr.test(t)||$r.test(t)||Yr.test(t),parse:t=>Wr.test(t)?Wr.parse(t):Yr.test(t)?Yr.parse(t):$r.parse(t),transform:t=>\"string\"==typeof t?t:t.hasOwnProperty(\"red\")?Wr.transform(t):Yr.transform(t)},Xr=/(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))/giu;const Kr=\"number\",Zr=\"color\",Qr=\"var\",Jr=\"var(\",to=\"${}\",eo=/var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/giu;function no(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let i=0;const a=e.replace(eo,(t=>(qr.test(t)?(r.color.push(i),o.push(Zr),n.push(qr.parse(t))):t.startsWith(Jr)?(r.var.push(i),o.push(Qr),n.push(t)):(r.number.push(i),o.push(Kr),n.push(parseFloat(t))),++i,to))).split(to);return{values:n,split:a,indexes:r,types:o}}function ro(t){return no(t).values}function oo(t){const{split:e,types:n}=no(t),r=e.length;return t=>{let o=\"\";for(let i=0;i<r;i++)if(o+=e[i],void 0!==t[i]){const e=n[i];o+=e===Kr?Br(t[i]):e===Zr?qr.transform(t[i]):t[i]}return o}}const io=t=>\"number\"==typeof t?0:t;const ao={test:function(t){var e,n;return isNaN(t)&&\"string\"==typeof t&&((null===(e=t.match(Vr))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(Xr))||void 0===n?void 0:n.length)||0)>0},parse:ro,createTransformer:oo,getAnimatableNone:function(t){const e=ro(t);return oo(t)(e.map(io))}},so=new Set([\"brightness\",\"contrast\",\"saturate\",\"opacity\"]);function uo(t){const[e,n]=t.slice(0,-1).split(\"(\");if(\"drop-shadow\"===e)return t;const[r]=n.match(Vr)||[];if(!r)return t;const o=n.replace(r,\"\");let i=so.has(e)?1:0;return r!==n&&(i*=100),e+\"(\"+i+o+\")\"}const co=/\\b([a-z-]*)\\(.*?\\)/gu,lo={...ao,getAnimatableNone:t=>{const e=t.match(co);return e?e.map(uo).join(\" \"):t}},fo={borderWidth:br,borderTopWidth:br,borderRightWidth:br,borderBottomWidth:br,borderLeftWidth:br,borderRadius:br,radius:br,borderTopLeftRadius:br,borderTopRightRadius:br,borderBottomRightRadius:br,borderBottomLeftRadius:br,width:br,maxWidth:br,height:br,maxHeight:br,top:br,right:br,bottom:br,left:br,padding:br,paddingTop:br,paddingRight:br,paddingBottom:br,paddingLeft:br,margin:br,marginTop:br,marginRight:br,marginBottom:br,marginLeft:br,backgroundPositionX:br,backgroundPositionY:br},po={rotate:mr,rotateX:mr,rotateY:mr,rotateZ:mr,scale:yr,scaleX:yr,scaleY:yr,scaleZ:yr,skew:mr,skewX:mr,skewY:mr,distance:br,translateX:br,translateY:br,translateZ:br,x:br,y:br,z:br,perspective:br,transformPerspective:br,opacity:hr,originX:Sr,originY:Sr,originZ:br},ho={...dr,transform:Math.round},yo={...fo,...po,zIndex:ho,size:br,fillOpacity:hr,strokeOpacity:hr,numOctaves:ho},vo={...yo,color:qr,backgroundColor:qr,outlineColor:qr,fill:qr,stroke:qr,borderColor:qr,borderTopColor:qr,borderRightColor:qr,borderBottomColor:qr,borderLeftColor:qr,filter:lo,WebkitFilter:lo},mo=t=>vo[t];function go(t,e){let n=mo(t);return n!==lo&&(n=ao),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bo=new Set([\"auto\",\"none\",\"0\"]);class wo extends Dr{constructor(t,e,n,r,o){super(t,e,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let n=0;n<t.length;n++){let r=t[n];if(\"string\"==typeof r&&(r=r.trim(),cr(r))){const o=pr(r,e.current);void 0!==o&&(t[n]=o),n===t.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!kr.has(n)||2!==t.length)return;const[r,o]=t,i=Lr(r),a=Lr(o);if(i!==a)if(xr(i)&&xr(a))for(let e=0;e<t.length;e++){const n=t[e];\"string\"==typeof n&&(t[e]=parseFloat(n))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let e=0;e<t.length;e++)(\"number\"==typeof(r=t[e])?0===r:null===r||\"none\"===r||\"0\"===r||or(r))&&n.push(e);var r;n.length&&function(t,e,n){let r,o=0;for(;o<t.length&&!r;){const e=t[o];\"string\"==typeof e&&!bo.has(e)&&no(e).values.length&&(r=t[o]),o++}if(r&&n)for(const o of e)t[o]=go(n,r)}(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;\"height\"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];void 0!==r&&t.getValue(n,r).jump(r,!1)}measureEndState(){var t;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Pr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(t=this.removedTransforms)||void 0===t?void 0:t.length)&&this.removedTransforms.forEach((([t,n])=>{e.getValue(t).set(n)})),this.resolveNoneKeyframes()}}let _o;function So(){_o=void 0}const ko={now:()=>(void 0===_o&&ko.set(Hn.isProcessing||Mn?Hn.timestamp:performance.now()),_o),set:t=>{_o=t,queueMicrotask(So)}},xo=(t,e)=>\"zIndex\"!==e&&(!(\"number\"!=typeof t&&!Array.isArray(t))||!(\"string\"!=typeof t||!ao.test(t)&&\"0\"!==t||t.startsWith(\"url(\")));function Ao(t,e,n,r){const o=t[0];if(null===o)return!1;if(\"display\"===e||\"visibility\"===e)return!0;const i=t[t.length-1],a=xo(o,e),s=xo(i,e);return Be(a===s,`You are trying to animate ${e} from \"${o}\" to \"${i}\". ${o} is not an animatable value - to enable this animation set ${o} to a value animatable to ${i} via the \\`style\\` property.`),!(!a||!s)&&(function(t){const e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||(\"spring\"===n||fn(n))&&r)}class Oo{constructor({autoplay:t=!0,delay:e=0,type:n=\"keyframes\",repeat:r=0,repeatDelay:o=0,repeatType:i=\"loop\",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ko.now(),this.options={autoplay:t,delay:e,type:n,repeat:r,repeatDelay:o,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(Fr(),Rr()),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=ko.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:o,delay:i,onComplete:a,onUpdate:s,isGenerator:u}=this.options;if(!u&&!Ao(t,n,r,o)){if(Rn||!i)return null==s||s(Dn(t,this.options,e)),null==a||a(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(t,e);!1!==c&&(this._resolved={keyframes:t,finalKeyframe:e,...c},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}updateFinishedPromise(){this.currentFinishedPromise=new Promise((t=>{this.resolveFinishedPromise=t}))}}function To({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:a,min:s,max:u,restDelta:c=.5,restSpeed:l}){const f=t[0],p={done:!1,value:f},d=t=>void 0===s?u:void 0===u||Math.abs(s-t)<Math.abs(u-t)?s:u;let h=n*e;const y=f+h,v=void 0===a?y:a(y);v!==y&&(h=v-f);const m=t=>-h*Math.exp(-t/r),g=t=>v+m(t),b=t=>{const e=m(t),n=g(t);p.done=Math.abs(e)<=c,p.value=p.done?v:n};let w,_;const S=t=>{var e;(e=p.value,void 0!==s&&e<s||void 0!==u&&e>u)&&(w=t,_=Je({keyframes:[p.value,d(p.value)],velocity:Fe(g,t,p.value),damping:o,stiffness:i,restDelta:c,restSpeed:l}))};return S(0),{calculatedDuration:null,next:t=>{let e=!1;return _||void 0!==w||(e=!0,b(t),S(t)),void 0!==w&&t>=w?_.next(t-w):(!e&&b(t),p)}}}const Eo=qn(.42,0,1,1),Po=qn(0,0,.58,1),jo=qn(.42,0,.58,1),Co=t=>Array.isArray(t)&&\"number\"==typeof t[0],Lo={linear:De,easeIn:Eo,easeInOut:jo,easeOut:Po,circIn:er,circInOut:rr,circOut:nr,backIn:Qn,backInOut:Jn,backOut:Zn,anticipate:tr},Io=t=>{if(Co(t)){Ve(4===t.length,\"Cubic bezier arrays must contain four numerical values.\");const[e,n,r,o]=t;return qn(e,n,r,o)}return\"string\"==typeof t?(Ve(void 0!==Lo[t],`Invalid easing type '${t}'`),Lo[t]):t},No=(t,e)=>n=>e(t(n)),Mo=(...t)=>t.reduce(No);function Ro(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Fo(t,e){return n=>n>0?e:t}const Do=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},Bo=[$r,Wr,Yr];function Vo(t){const e=(n=t,Bo.find((t=>t.test(n))));var n;if(Be(Boolean(e),`'${t}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(e))return!1;let r=e.parse(t);return e===Yr&&(r=function({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,n/=100;let o=0,i=0,a=0;if(e/=100){const r=n<.5?n*(1+e):n+e-n*e,s=2*n-r;o=Ro(s,r,t+1/3),i=Ro(s,r,t),a=Ro(s,r,t-1/3)}else o=i=a=n;return{red:Math.round(255*o),green:Math.round(255*i),blue:Math.round(255*a),alpha:r}}(r)),r}const Go=(t,e)=>{const n=Vo(t),r=Vo(e);if(!n||!r)return Fo(t,e);const o={...n};return t=>(o.red=Do(n.red,r.red,t),o.green=Do(n.green,r.green,t),o.blue=Do(n.blue,r.blue,t),o.alpha=rn(n.alpha,r.alpha,t),Wr.transform(o))},Uo=new Set([\"none\",\"hidden\"]);function Ho(t,e){return n=>rn(t,e,n)}function zo(t){return\"number\"==typeof t?Ho:\"string\"==typeof t?cr(t)?Fo:qr.test(t)?Go:Yo:Array.isArray(t)?Wo:\"object\"==typeof t?qr.test(t)?Go:$o:Fo}function Wo(t,e){const n=[...t],r=n.length,o=t.map(((t,n)=>zo(t)(t,e[n])));return t=>{for(let e=0;e<r;e++)n[e]=o[e](t);return n}}function $o(t,e){const n={...t,...e},r={};for(const o in n)void 0!==t[o]&&void 0!==e[o]&&(r[o]=zo(t[o])(t[o],e[o]));return t=>{for(const e in r)n[e]=r[e](t);return n}}const Yo=(t,e)=>{const n=ao.createTransformer(e),r=no(t),o=no(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Uo.has(t)&&!o.values.length||Uo.has(e)&&!r.values.length?function(t,e){return Uo.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}(t,e):Mo(Wo(function(t,e){var n;const r=[],o={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],s=t.indexes[a][o[a]],u=null!==(n=t.values[s])&&void 0!==n?n:0;r[i]=u,o[a]++}return r}(r,o),o.values),n):(Be(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Fo(t,e))};function qo(t,e,n){if(\"number\"==typeof t&&\"number\"==typeof e&&\"number\"==typeof n)return rn(t,e,n);return zo(t)(t,e)}function Xo(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const i=t.length;if(Ve(i===e.length,\"Both input and output ranges must be the same length\"),1===i)return()=>e[0];if(2===i&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=function(t,e,n){const r=[],o=n||qo,i=t.length-1;for(let n=0;n<i;n++){let i=o(t[n],t[n+1]);if(e){const t=Array.isArray(e)?e[n]||De:e;i=Mo(t,i)}r.push(i)}return r}(e,r,o),s=a.length,u=e=>{let n=0;if(s>1)for(;n<t.length-2&&!(e<t[n+1]);n++);const r=on(t[n],t[n+1],e);return a[n](r)};return n?e=>u(Ge(t[0],t[i-1],e)):u}function Ko({duration:t=300,keyframes:e,times:n,ease:r=\"easeInOut\"}){const o=hn(r)?r.map(Io):Io(r),i={done:!1,value:e[0]},a=function(t,e){return t.map((t=>t*e))}(n&&n.length===e.length?n:sn(e),t),s=Xo(a,e,{ease:Array.isArray(o)?o:(u=e,c=o,u.map((()=>c||jo)).splice(0,u.length-1))});var u,c;return{calculatedDuration:t,next:e=>(i.value=s(e),i.done=e>=t,i)}}const Zo=t=>{const e=({timestamp:e})=>t(e);return{start:()=>Gn.update(e,!0),stop:()=>Un(e),now:()=>Hn.isProcessing?Hn.timestamp:ko.now()}},Qo={decay:To,inertia:To,tween:Ko,keyframes:Ko,spring:Je},Jo=t=>t/100;class ti extends Oo{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState=\"running\",this.startTime=null,this.state=\"idle\",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,\"idle\"===this.state)return;this.teardown();const{onStop:t}=this.options;t&&t()};const{name:e,motionValue:n,element:r,keyframes:o}=this.options,i=(null==r?void 0:r.KeyframeResolver)||Dr;this.resolver=new i(o,((t,e)=>this.onKeyframesResolved(t,e)),e,n,r),this.resolver.scheduleResolve()}initPlayback(t){const{type:e=\"keyframes\",repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:i=0}=this.options,a=fn(e)?e:Qo[e]||Ko;let s,u;a!==Ko&&\"number\"!=typeof t[0]&&(s=Mo(Jo,qo(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});\"mirror\"===o&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),null===c.calculatedDuration&&(c.calculatedDuration=en(c));const{calculatedDuration:l}=c,f=l+r;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:s,calculatedDuration:l,resolvedDuration:f,totalDuration:f*(n+1)-r}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),\"paused\"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t,e=!1){const{resolved:n}=this;if(!n){const{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}const{finalKeyframe:r,generator:o,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:s,calculatedDuration:u,totalDuration:c,resolvedDuration:l}=n;if(null===this.startTime)return o.next(0);const{delay:f,repeat:p,repeatType:d,repeatDelay:h,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),m=this.speed>=0?v<0:v>c;this.currentTime=Math.max(v,0),\"finished\"===this.state&&null===this.holdTime&&(this.currentTime=c);let g=this.currentTime,b=o;if(p){const t=Math.min(this.currentTime,c)/l;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,p+1);Boolean(e%2)&&(\"reverse\"===d?(n=1-n,h&&(n-=h/l)):\"mirror\"===d&&(b=i)),g=Ge(0,1,n)*l}const w=m?{done:!1,value:s[0]}:b.next(g);a&&(w.value=a(w.value));let{done:_}=w;m||null===u||(_=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const S=null===this.holdTime&&(\"finished\"===this.state||\"running\"===this.state&&_);return S&&void 0!==r&&(w.value=Dn(s,this.options,r)),y&&y(w.value),S&&this.finish(),w}get duration(){const{resolved:t}=this;return t?Ne(t.calculatedDuration):0}get time(){return Ne(this.currentTime)}set time(t){t=Ie(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Ne(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState=\"running\");if(this.isStopped)return;const{driver:t=Zo,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=t((t=>this.tick(t)))),e&&e();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?\"finished\"===this.state&&(this.startTime=r):this.startTime=null!=n?n:this.calcStartTime(),\"finished\"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state=\"running\",this.driver.start()}pause(){var t;this._resolved?(this.state=\"paused\",this.holdTime=null!==(t=this.currentTime)&&void 0!==t?t:0):this.pendingPlayState=\"paused\"}complete(){\"running\"!==this.state&&this.play(),this.pendingPlayState=this.state=\"finished\",this.holdTime=null}finish(){this.teardown(),this.state=\"finished\";const{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state=\"idle\",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const ei=new Set([\"opacity\",\"clipPath\",\"filter\",\"transform\"]),ni=(t,e)=>{let n=\"\";const r=Math.max(Math.round(e/10),2);for(let e=0;e<r;e++)n+=t(on(0,r-1,e))+\", \";return`linear(${n.substring(0,n.length-2)})`},ri={linearEasing:void 0};function oi(t,e){const n=je(t);return()=>{var t;return null!==(t=ri[e])&&void 0!==t?t:n()}}const ii=oi((()=>{try{document.createElement(\"div\").animate({opacity:0},{easing:\"linear(0, 1)\"})}catch(t){return!1}return!0}),\"linearEasing\");function ai(t){return Boolean(\"function\"==typeof t&&ii()||!t||\"string\"==typeof t&&(t in ui||ii())||Co(t)||Array.isArray(t)&&t.every(ai))}const si=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ui={linear:\"linear\",ease:\"ease\",easeIn:\"ease-in\",easeOut:\"ease-out\",easeInOut:\"ease-in-out\",circIn:si([0,.65,.55,1]),circOut:si([.55,0,1,.45]),backIn:si([.31,.01,.66,-.59]),backOut:si([.33,1.53,.69,.99])};function ci(t,e){return t?\"function\"==typeof t&&ii()?ni(t,e):Co(t)?si(t):Array.isArray(t)?t.map((t=>ci(t,e)||ui.easeOut)):ui[t]:void 0}function li(t,e,n,{delay:r=0,duration:o=300,repeat:i=0,repeatType:a=\"loop\",ease:s,times:u}={}){const c={[e]:n};u&&(c.offset=u);const l=ci(s,o);return Array.isArray(l)&&(c.easing=l),t.animate(c,{delay:r,duration:o,easing:Array.isArray(l)?\"linear\":l,fill:\"both\",iterations:i+1,direction:\"reverse\"===a?\"alternate\":\"normal\"})}function fi(t,e){t.timeline=e,t.onfinish=null}const pi=je((()=>Object.hasOwnProperty.call(Element.prototype,\"animate\")));const di={anticipate:tr,backInOut:Jn,circInOut:rr};class hi extends Oo{constructor(t){super(t);const{name:e,motionValue:n,element:r,keyframes:o}=this.options;this.resolver=new wo(o,((t,e)=>this.onKeyframesResolved(t,e)),e,n,r),this.resolver.scheduleResolve()}initPlayback(t,e){var n;let{duration:r=300,times:o,ease:i,type:a,motionValue:s,name:u,startTime:c}=this.options;if(!(null===(n=s.owner)||void 0===n?void 0:n.current))return!1;if(\"string\"==typeof i&&ii()&&i in di&&(i=di[i]),function(t){return fn(t.type)||\"spring\"===t.type||!ai(t.ease)}(this.options)){const{onComplete:e,onUpdate:n,motionValue:s,element:u,...c}=this.options,l=function(t,e){const n=new ti({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const o=[];let i=0;for(;!r.done&&i<2e4;)r=n.sample(i),o.push(r.value),i+=10;return{times:void 0,keyframes:o,duration:i-10,ease:\"linear\"}}(t,c);1===(t=l.keyframes).length&&(t[1]=t[0]),r=l.duration,o=l.times,i=l.ease,a=\"keyframes\"}const l=li(s.owner.current,u,t,{...this.options,duration:r,times:o,ease:i});return l.startTime=null!=c?c:this.calcStartTime(),this.pendingTimeline?(fi(l,this.pendingTimeline),this.pendingTimeline=void 0):l.onfinish=()=>{const{onComplete:n}=this.options;s.set(Dn(t,this.options,e)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:l,duration:r,times:o,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return Ne(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return Ne(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.currentTime=Ie(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return\"idle\";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(this._resolved){const{resolved:e}=this;if(!e)return De;const{animation:n}=e;fi(n,t)}else this.pendingTimeline=t;return De}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;\"finished\"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,\"idle\"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:n,duration:r,type:o,ease:i,times:a}=t;if(\"idle\"===e.playState||\"finished\"===e.playState)return;if(this.time){const{motionValue:t,onUpdate:e,onComplete:s,element:u,...c}=this.options,l=new ti({...c,keyframes:n,duration:r,type:o,ease:i,times:a,isGenerator:!0}),f=Ie(this.time);t.setWithVelocity(l.sample(f-10).value,l.sample(f).value,10)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:i,type:a}=t;return pi()&&n&&ei.has(n)&&e&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate&&!r&&\"mirror\"!==o&&0!==i&&\"inertia\"!==a}}const yi=(t,e,n,r={},o,i)=>a=>{const s=In(r,t)||{},u=s.delay||r.delay||0;let{elapsed:c=0}=r;c-=Ie(u);let l={keyframes:Array.isArray(n)?n:[null,n],ease:\"easeOut\",velocity:e.getVelocity(),...s,delay:-c,onUpdate:t=>{e.set(t),s.onUpdate&&s.onUpdate(t)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:i?void 0:o};(function({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:a,repeatDelay:s,from:u,elapsed:c,...l}){return!!Object.keys(l).length})(s)||(l={...l,...Ln(t,l)}),l.duration&&(l.duration=Ie(l.duration)),l.repeatDelay&&(l.repeatDelay=Ie(l.repeatDelay)),void 0!==l.from&&(l.keyframes[0]=l.from);let f=!1;if((!1===l.type||0===l.duration&&!l.repeatDelay)&&(l.duration=0,0===l.delay&&(f=!0)),(Rn||Nn)&&(f=!0,l.duration=0,l.delay=0),f&&!i&&void 0!==e.get()){const t=Dn(l.keyframes,s);if(void 0!==t)return Gn.update((()=>{l.onUpdate(t),l.onComplete()})),new Le([])}return!i&&hi.supports(l)?new hi(l):new ti(l)},vi=t=>Array.isArray(t),mi=t=>Boolean(t&&\"object\"==typeof t&&t.mix&&t.toValue),gi=t=>vi(t)?t[t.length-1]||0:t;class bi{constructor(){this.subscriptions=[]}add(t){var e,n;return e=this.subscriptions,n=t,-1===e.indexOf(n)&&e.push(n),()=>vn(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wi={current:void 0};class _i{constructor(t,e={}){this.version=\"11.11.9\",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(t,e=!0)=>{const n=ko.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),e&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){var e;this.current=t,this.updatedAt=ko.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e))))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on(\"change\",t)}on(t,e){this.events[t]||(this.events[t]=new bi);const n=this.events[t].add(e);return\"change\"===t?()=>{n(),Gn.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return wi.current&&wi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ko.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Me(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise((e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Si(t,e){return new _i(t,e)}function ki(t){const e=[{},{}];return null==t||t.values.forEach(((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()})),e}function xi(t,e,n,r){if(\"function\"==typeof e){const[o,i]=ki(r);e=e(void 0!==n?n:t.custom,o,i)}if(\"string\"==typeof e&&(e=t.variants&&t.variants[e]),\"function\"==typeof e){const[o,i]=ki(r);e=e(void 0!==n?n:t.custom,o,i)}return e}function Ai(t,e,n){const r=t.getProps();return xi(r,e,void 0!==n?n:r.custom,t)}function Oi(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Si(n))}const Ti=t=>t.replace(/([a-z])([A-Z])/gu,\"$1-$2\").toLowerCase(),Ei=\"data-\"+Ti(\"framerAppearId\");function Pi(t){return t.props[Ei]}function ji(t,e){if(!t.applyWillChange)return;const n=t.getValue(\"willChange\");return r=n,Boolean(un(r)&&r.add)?n.add(e):void 0;var r}function Ci({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&!0!==e[n];return e[n]=!1,r}function Li(t,e,{delay:n=0,transitionOverride:r,type:o}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:s,...u}=e;r&&(a=r);const c=[],l=o&&t.animationState&&t.animationState.getState()[o];for(const e in u){const r=t.getValue(e,null!==(i=t.latestValues[e])&&void 0!==i?i:null),o=u[e];if(void 0===o||l&&Ci(l,e))continue;const s={delay:n,...In(a||{},e)};let f=!1;if(window.MotionHandoffAnimation){const n=Pi(t);if(n){const t=window.MotionHandoffAnimation(n,e,Gn);null!==t&&(s.startTime=t,f=!0)}}ji(t,e),r.start(yi(e,r,o,t.shouldReduceMotion&&En.has(e)?{type:!1}:s,t,f));const p=r.animation;p&&c.push(p)}return s&&Promise.all(c).then((()=>{Gn.update((()=>{s&&function(t,e){const n=Ai(t,e);let{transitionEnd:r={},transition:o={},...i}=n||{};i={...i,...r};for(const e in i)Oi(t,e,gi(i[e]))}(t,s)}))})),c}const Ii={};function Ni(t,{layout:e,layoutId:n}){return En.has(t)||t.startsWith(\"origin\")||(e||void 0!==n)&&(!!Ii[t]||\"opacity\"===t)}function Mi(t,e,n){var r;const{style:o}=t,i={};for(const a in o)(un(o[a])||e.style&&un(e.style[a])||Ni(a,t)||void 0!==(null===(r=null==n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(i[a]=o[a]);return n&&o&&\"string\"==typeof o.willChange&&(n.applyWillChange=!1),i}function Ri(t,e,n){const r=Mi(t,e,n);for(const n in t)if(un(t[n])||un(e[n])){r[-1!==Tn.indexOf(n)?\"attr\"+n.charAt(0).toUpperCase()+n.substring(1):n]=t[n]}return r}const Fi=\"undefined\"!=typeof window,Di={current:null},Bi={current:!1};function Vi(t){return null!==t&&\"object\"==typeof t&&\"function\"==typeof t.start}function Gi(t){return\"string\"==typeof t||Array.isArray(t)}const Ui=[\"animate\",\"whileInView\",\"whileFocus\",\"whileHover\",\"whileTap\",\"whileDrag\",\"exit\"],Hi=[\"initial\",...Ui];function zi(t){return Vi(t.animate)||Hi.some((e=>Gi(t[e])))}function Wi(t){return Boolean(zi(t)||t.variants)}const $i={animation:[\"animate\",\"variants\",\"whileHover\",\"whileTap\",\"exit\",\"whileInView\",\"whileFocus\",\"whileDrag\"],exit:[\"exit\"],drag:[\"drag\",\"dragControls\"],focus:[\"whileFocus\"],hover:[\"whileHover\",\"onHoverStart\",\"onHoverEnd\"],tap:[\"whileTap\",\"onTap\",\"onTapStart\",\"onTapCancel\"],pan:[\"onPan\",\"onPanStart\",\"onPanSessionStart\",\"onPanEnd\"],inView:[\"whileInView\",\"onViewportEnter\",\"onViewportLeave\"],layout:[\"layout\",\"layoutId\"]},Yi={};for(const t in $i)Yi[t]={isEnabled:e=>$i[t].some((t=>!!e[t]))};const qi=[...Cr,qr,ao],Xi=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Ki=[\"AnimationStart\",\"AnimationComplete\",\"Update\",\"BeforeLayoutMeasure\",\"LayoutMeasure\",\"LayoutAnimationStart\",\"LayoutAnimationComplete\"];class Zi{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:o,visualState:i},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify(\"Update\",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const t=ko.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,Gn.render(this.render,!1,!0))};const{latestValues:s,renderState:u}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=e.initial?{...s}:{},this.renderState=u,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=zi(e),this.isVariantNode=Wi(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...l}=this.scrapeMotionValuesFromProps(e,{},this);for(const t in l){const e=l[t];void 0!==s[t]&&un(e)&&e.set(s[t],!1)}}mount(t){this.current=t,On.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((t,e)=>this.bindToMotionValue(e,t))),Bi.current||function(){if(Bi.current=!0,Fi)if(window.matchMedia){const t=window.matchMedia(\"(prefers-reduced-motion)\"),e=()=>Di.current=t.matches;t.addListener(e),e()}else Di.current=!1}(),this.shouldReduceMotion=\"never\"!==this.reducedMotionConfig&&(\"always\"===this.reducedMotionConfig||Di.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){On.delete(this.current),this.projection&&this.projection.unmount(),Un(this.notifyUpdate),Un(this.render),this.valueSubscriptions.forEach((t=>t())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=En.has(t),r=e.on(\"change\",(e=>{this.latestValues[t]=e,this.props.onUpdate&&Gn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),o=e.on(\"renderRequest\",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,(()=>{r(),o(),i&&i(),e.owner&&e.stop()}))}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t=\"animation\";for(t in Yi){const e=Yi[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<Ki.length;e++){const n=Ki[e];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const r=t[\"on\"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(t,e,n){for(const r in e){const o=e[r],i=n[r];if(un(o))t.addValue(r,o);else if(un(i))t.addValue(r,Si(o,{owner:t}));else if(i!==o)if(t.hasValue(r)){const e=t.getValue(r);!0===e.liveStyle?e.jump(o):e.hasAnimated||e.set(o)}else{const e=t.getStaticValue(r);t.addValue(r,Si(void 0!==e?e:o,{owner:t}))}}for(const r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=Si(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){var n;let r=void 0===this.latestValues[t]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,t))&&void 0!==n?n:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];var o;return null!=r&&(\"string\"==typeof r&&(ir(r)||or(r))?r=parseFloat(r):(o=r,!qi.find(jr(o))&&ao.test(e)&&(r=go(t,e))),this.setBaseTarget(t,un(r)?r.get():r)),un(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props;let r;if(\"string\"==typeof n||\"object\"==typeof n){const o=xi(this.props,n,null===(e=this.presenceContext)||void 0===e?void 0:e.custom);o&&(r=o[t])}if(n&&void 0!==r)return r;const o=this.getBaseTargetFromProps(this.props,t);return void 0===o||un(o)?void 0!==this.initialValues[t]&&void 0===r?void 0:this.baseTarget[t]:o}on(t,e){return this.events[t]||(this.events[t]=new bi),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class Qi extends Zi{constructor(){super(...arguments),this.KeyframeResolver=wo}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}}const Ji=(t,e)=>e&&\"number\"==typeof t?e.transform(t):t,ta={x:\"translateX\",y:\"translateY\",z:\"translateZ\",transformPerspective:\"perspective\"},ea=Tn.length;function na(t,e,n){const{style:r,vars:o,transformOrigin:i}=t;let a=!1,s=!1;for(const t in e){const n=e[t];if(En.has(t))a=!0;else if(sr(t))o[t]=n;else{const e=Ji(n,yo[t]);t.startsWith(\"origin\")?(s=!0,i[t]=e):r[t]=e}}if(e.transform||(a||n?r.transform=function(t,e,n){let r=\"\",o=!0;for(let i=0;i<ea;i++){const a=Tn[i],s=t[a];if(void 0===s)continue;let u=!0;if(u=\"number\"==typeof s?s===(a.startsWith(\"scale\")?1:0):0===parseFloat(s),!u||n){const t=Ji(s,yo[a]);u||(o=!1,r+=`${ta[a]||a}(${t}) `),n&&(e[a]=t)}}return r=r.trim(),n?r=n(e,o?\"\":r):o&&(r=\"none\"),r}(e,t.transform,n):r.transform&&(r.transform=\"none\")),s){const{originX:t=\"50%\",originY:e=\"50%\",originZ:n=0}=i;r.transformOrigin=`${t} ${e} ${n}`}}function ra(t,e,n){return\"string\"==typeof t?t:br.transform(e+n*t)}const oa={offset:\"stroke-dashoffset\",array:\"stroke-dasharray\"},ia={offset:\"strokeDashoffset\",array:\"strokeDasharray\"};function aa(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:i,pathLength:a,pathSpacing:s=1,pathOffset:u=0,...c},l,f){if(na(t,c,f),l)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:p,style:d,dimensions:h}=t;p.transform&&(h&&(d.transform=p.transform),delete p.transform),h&&(void 0!==o||void 0!==i||d.transform)&&(d.transformOrigin=function(t,e,n){return`${ra(e,t.x,t.width)} ${ra(n,t.y,t.height)}`}(h,void 0!==o?o:.5,void 0!==i?i:.5)),void 0!==e&&(p.x=e),void 0!==n&&(p.y=n),void 0!==r&&(p.scale=r),void 0!==a&&function(t,e,n=1,r=0,o=!0){t.pathLength=1;const i=o?oa:ia;t[i.offset]=br.transform(-r);const a=br.transform(e),s=br.transform(n);t[i.array]=`${a} ${s}`}(p,a,s,u,!1)}const sa=new Set([\"baseFrequency\",\"diffuseConstant\",\"kernelMatrix\",\"kernelUnitLength\",\"keySplines\",\"keyTimes\",\"limitingConeAngle\",\"markerHeight\",\"markerWidth\",\"numOctaves\",\"targetX\",\"targetY\",\"surfaceScale\",\"specularConstant\",\"specularExponent\",\"stdDeviation\",\"tableValues\",\"viewBox\",\"gradientTransform\",\"pathLength\",\"startOffset\",\"textLength\",\"lengthAdjust\"]);function ua(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const e in n)t.style.setProperty(e,n[e])}function ca(t,e,n,r){ua(t,e,void 0,r);for(const n in e.attrs)t.setAttribute(sa.has(n)?n:Ti(n),e.attrs[n])}const la=t=>\"string\"==typeof t&&\"svg\"===t.toLowerCase();class fa extends Qi{constructor(){super(...arguments),this.type=\"svg\",this.isSVGTag=!1,this.measureInstanceViewportBox=Xi}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(En.has(e)){const t=mo(e);return t&&t.default||0}return e=sa.has(e)?e:Ti(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return Ri(t,e,n)}build(t,e,n){aa(t,e,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,n,r){ca(t,e,0,r)}mount(t){this.isSVGTag=la(t.tagName),super.mount(t)}}function pa(t,e){return function({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}class da extends Qi{constructor(){super(...arguments),this.type=\"html\",this.applyWillChange=!0,this.renderInstance=ua}readValueFromInstance(t,e){if(En.has(e)){const t=mo(e);return t&&t.default||0}{const r=(n=t,window.getComputedStyle(n)),o=(sr(e)?r.getPropertyValue(e):r[e])||0;return\"string\"==typeof o?o.trim():o}var n}measureInstanceViewportBox(t,{transformPagePoint:e}){return pa(t,e)}build(t,e,n){na(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return Mi(t,e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on(\"change\",(t=>{this.current&&(this.current.textContent=`${t}`)})))}}class ha extends Zi{constructor(){super(...arguments),this.type=\"object\"}readValueFromInstance(t,e){if(function(t,e){return t in e}(e,t)){const n=t[e];if(\"string\"==typeof n||\"number\"==typeof n)return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,e){delete e.output[t]}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}build(t,e){Object.assign(t.output,e)}renderInstance(t,{output:e}){Object.assign(t,e)}sortInstanceNodePosition(){return 0}}function ya(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=function(t){return t instanceof SVGElement&&\"svg\"!==t.tagName}(t)?new fa(e):new da(e);n.mount(t),On.set(t,n)}function va(t){const e=new ha({presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}});e.mount(t),On.set(t,e)}function ma(t,e,n,r){const o=[];if(function(t,e){return un(t)||\"number\"==typeof t||\"string\"==typeof t&&!cn(e)}(t,e))o.push(function(t,e,n){const r=un(t)?t:Si(t);return r.start(yi(\"\",r,e,n)),r.animation}(t,cn(e)&&e.default||e,n&&n.default||n));else{const i=ln(t,e,r),a=i.length;Ve(Boolean(a),\"No valid elements provided.\");for(let t=0;t<a;t++){const r=i[t],s=r instanceof Element?ya:va;On.has(r)||s(r);const u=On.get(r),c={...n};\"delay\"in c&&\"function\"==typeof c.delay&&(c.delay=c.delay(t,a)),o.push(...Li(u,{...e,transition:c},{}))}}return o}function ga(t,e,n){const r=[],o=function(t,{defaultTransition:e={},...n}={},r,o){const i=e.duration||.3,a=new Map,s=new Map,u={},c=new Map;let l=0,f=0,p=0;for(let n=0;n<t.length;n++){const a=t[n];if(\"string\"==typeof a){c.set(a,f);continue}if(!Array.isArray(a)){c.set(a.name,pn(f,a.at,l,c));continue}let[d,h,y={}]=a;void 0!==y.at&&(f=pn(f,y.at,l,c));let v=0;const m=(t,n,r,a=0,s=0)=>{const u=Sn(t),{delay:c=0,times:l=sn(u),type:d=\"keyframes\",...h}=n;let{ease:y=e.ease||\"easeOut\",duration:m}=n;const g=\"function\"==typeof c?c(a,s):c,b=u.length,w=fn(d)?d:null==o?void 0:o[d];if(b<=2&&w){let t=100;if(2===b&&An(u)){const e=u[1]-u[0];t=Math.abs(e)}const e={...h};void 0!==m&&(e.duration=Ie(m));const n=nn(e,t,w);y=n.ease,m=n.duration}null!=m||(m=i);const _=f+g,S=_+m;1===l.length&&0===l[0]&&(l[1]=1);const k=l.length-u.length;k>0&&an(l,k),1===u.length&&u.unshift(null),mn(r,u,y,l,_,S),v=Math.max(g+m,v),p=Math.max(S,p)};if(un(d))m(h,y,_n(\"default\",wn(d,s)));else{const t=ln(d,h,r,u),e=t.length;for(let n=0;n<e;n++){const r=wn(t[n],s);for(const t in h)m(h[t],kn(y,t),_n(t,r),n,e)}}l=f,f+=v}return s.forEach(((t,r)=>{for(const o in t){const i=t[o];i.sort(gn);const s=[],u=[],c=[];for(let t=0;t<i.length;t++){const{at:e,value:n,easing:r}=i[t];s.push(n),u.push(on(0,p,e)),c.push(r||\"easeOut\")}0!==u[0]&&(u.unshift(0),s.unshift(s[0]),c.unshift(bn)),1!==u[u.length-1]&&(u.push(1),s.push(null)),a.has(r)||a.set(r,{keyframes:{},transition:{}});const l=a.get(r);l.keyframes[o]=s,l.transition[o]={...e,duration:p,ease:c,times:u,...n}}})),a}(t,e,n,{spring:Je});return o.forEach((({keyframes:t,transition:e},n)=>{r.push(...ma(n,t,e))})),r}const ba=function(t,e,n){let r=[];var o;o=t,r=Array.isArray(o)&&Array.isArray(o[0])?ga(t,e,wa):ma(t,e,n,wa);const i=new Le(r);return wa&&wa.animations.push(i),i};var wa;function _a(t){return _a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},_a(t)}function Sa(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Sa=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,\"_invoke\",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",v={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(C([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==_a(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=p;return function(i,a){if(o===h)throw Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===v)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=h;var c=f(e,n,r);if(\"normal\"===c.type){if(o=r.done?y:d,c.arg===v)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=y,r.method=\"throw\",r.arg=c.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,T(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,v):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function C(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(_a(e)+\" is not iterable\")}return g.prototype=b,o(k,\"constructor\",{value:b,configurable:!0}),o(b,\"constructor\",{value:g,configurable:!0}),g.displayName=c(b,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,\"GeneratorFunction\")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,u,\"Generator\"),c(k,a,(function(){return this})),c(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),v}},e}function ka(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=Aa(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function xa(t){return function(t){if(Array.isArray(t))return Oa(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||Aa(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Aa(t,e){if(t){if(\"string\"==typeof t)return Oa(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oa(t,e):void 0}}function Oa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Pa(r.key),r)}}function Ea(t,e,n){return(e=Pa(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pa(t){var e=function(t,e){if(\"object\"!=_a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=_a(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==_a(e)?e:e+\"\"}var ja=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},Ca=Ea(Ea(Ea({},me,\"25.33%\"),ve,\"50%\"),ge,\"75.66%\"),La=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.sequences=[],this.control=null,this.transformers={},Array.isArray(e)){var r;(r=this.sequences).push.apply(r,xa(e)),this.sequenceOptions=Object.assign({},t.defaultSequenceOptions,n||{})}else{var o=e,i=n||t.defaultOptions;this.sequences.push({props:o,options:i||{}}),this.sequenceOptions=Object.assign({},t.defaultSequenceOptions)}}return function(t,e,n){return e&&Ta(t.prototype,e),n&&Ta(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(t,[{key:\"animate\",value:function(e,n,r){var o=e.scope,i=e.overwrites,a=e.target;return ja(this,void 0,void 0,Sa().mark((function e(){var s=this;return Sa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",new Promise((function(e){ja(s,void 0,void 0,Sa().mark((function s(){var u,c,l,f,p=this;return Sa().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:this.sequenceOptions.sync||e(),u=0;case 2:if(!(u<this.sequenceOptions.repeat)){s.next=22;break}c=ka(this.sequences),s.prev=4,f=Sa().mark((function e(){var r,s,u,c,f,d;return Sa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.value,s=r.props,u=r.options,c=b({},p.propToCSS(n,a.state)),o.current){e.next=4;break}throw new Error(\"No scope found when animating.\");case 4:if(f=o.current,Object.assign(f.style,c),a.state=t.mergeState(a.state,s),d=ba(f,p.propToCSS(n,a.state,i),p.optionsToFramerMotionOptions(u)||{}),p.setControl(d),n.logger.debug(\"Animating\",p.propToCSS(n,a.state,i)),!1!==(null==u?void 0:u.sync)){e.next=14;break}d.then((function(){Object.assign(f.style,p.propToCSS(n,a.state,i)),p.setControl(null)})),e.next=18;break;case 14:return e.next=16,new Promise((function(t){return d.then((function(){return t()}))}));case 16:Object.assign(f.style,p.propToCSS(n,a.state,i)),p.setControl(null);case 18:case\"end\":return e.stop()}}),e)})),c.s();case 7:if((l=c.n()).done){s.next=11;break}return s.delegateYield(f(),\"t0\",9);case 9:s.next=7;break;case 11:s.next=16;break;case 13:s.prev=13,s.t1=s.catch(4),c.e(s.t1);case 16:return s.prev=16,c.f(),s.finish(16);case 19:u++,s.next=2;break;case 22:return s.next=24,A(2);case 24:this.setControl(null),e(),r&&r(a.state);case 27:case\"end\":return s.stop()}}),s,this,[[4,13,16,19]])})))})));case 1:case\"end\":return e.stop()}}),e)})))}},{key:\"repeat\",value:function(t){return this.sequenceOptions.repeat*=t,this}},{key:\"overwrite\",value:function(t,e){return this.transformers[t]=e,this}},{key:\"propToCSS\",value:function(e,n,r){var o,i=(null===(o=e.getLastScene())||void 0===o?void 0:o.config)||{},a=i.invertY,s=i.invertX,u={position:function(e){return t.positionToCSS(e,a,s)},backgroundColor:function(e){return t.backgroundToCSS(e)},backgroundOpacity:function(t){return{opacity:t}},opacity:function(t){return{opacity:t}},scale:function(){return\"scale\"in n?{width:\"\".concat(100*n.scale,\"%\")}:{}},rotation:function(){return{}},display:function(){return{}},src:function(){return{}},fontSize:function(t){return{fontSize:t}},fontColor:function(t){return\"string\"==typeof t?{color:t}:{color:S(t)}}},c={};for(var l in c.transform=t.propToCSSTransform(e,n),this.transformers.transform&&Object.assign(c,this.transformers.transform(n)),r&&r.transform&&Object.assign(c,r.transform(n)),n)Object.prototype.hasOwnProperty.call(n,l)&&(r&&r[l]?Object.assign(c,r[l](n[l])):this.transformers[l]?Object.assign(c,this.transformers[l](n[l])):u[l]&&Object.assign(c,u[l](n[l])));return c}},{key:\"optionsToFramerMotionOptions\",value:function(t){if(!t)return t;var e=t.duration;return{duration:e?e/1e3:0,ease:t.ease}}},{key:\"setControl\",value:function(t){return this.control=t,this}},{key:\"getControl\",value:function(){return this.control}},{key:\"copy\",value:function(){return new t(this.sequences,this.sequenceOptions)}}],[{key:\"isPosition\",value:function(t){return Te.isCommonPositionType(t)||Ee.isCoord2DPosition(t)||Pe.isAlignPosition(t)}},{key:\"positionToCSS\",value:function(t,e,n){return t?Oe.isRawPosition(t)?Oe.D2PositionToCSS(Oe.rawPositionToCoord2D(t),n,e):Oe.D2PositionToCSS(t.toCSS(),n,e):{}}},{key:\"backgroundToCSS\",value:function(t){return null==t?{}:bs.isStaticImageData(t)?{backgroundImage:\"url(\".concat(t.src,\")\")}:\"string\"==typeof t?{backgroundColor:t}:[\"r\",\"g\",\"b\"].every((function(e){return e in t}))?{backgroundColor:S(t)}:{backgroundImage:\"url(\"+t.url+\")\"}}},{key:\"mergePosition\",value:function(t,e){if(!t&&!e)throw new Error(\"No position found.\");return t&&e?Oe.mergePosition(Oe.tryParsePosition(t),Oe.tryParsePosition(e)):Oe.toCoord2D(Oe.tryParsePosition(t||e))}},{key:\"mergeState\",value:function(t,e){var n=this.mergePosition(t.position,e.position);return Object.assign(Object.assign({},b(t,e)),{position:n})}},{key:\"propToCSSTransform\",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t.getLastScene())throw new Error('No scene found in state, make sure you called \"scene.activate()\" before this method.');var o=(null===(n=t.getLastScene())||void 0===n?void 0:n.config)||{},i=o.invertY,a=o.invertX;return[\"translate(\".concat(r[0]||(a?\"\":\"-\")+\"50%\",\", \").concat(r[1]||(i?\"\":\"-\")+\"50%\",\")\"),void 0!==e.rotation&&\"rotate(\".concat(e.rotation,\"deg)\")].filter(Boolean).join(\" \")}}])}();function Ia(t){return Ia=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ia(t)}function Na(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Ma(r.key),r)}}function Ma(t){var e=function(t,e){if(\"object\"!=Ia(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Ia(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Ia(e)?e:e+\"\"}function Ra(t,e,n){return e=Da(e),function(t,e){if(e&&(\"object\"==Ia(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Fa()?Reflect.construct(e,n||[],Da(t).constructor):e.apply(t,n))}function Fa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fa=function(){return!!t})()}function Da(t){return Da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Da(t)}function Ba(t,e){return Ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ba(t,e)}La.defaultSequenceOptions={sync:!0,repeat:1},La.defaultOptions={duration:0,ease:\"linear\"},La.CommonImagePositionMap=Ca;var Va=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Ra(this,e)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Ba(t,e)}(e,t),function(t,e,n){return e&&Na(t.prototype,e),n&&Na(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"do\",value:function(t){return this.push($t.ActionTypes.do,t)}},{key:\"doAsync\",value:function(t){return this.push($t.ActionTypes.doAsync,t)}},{key:\"any\",value:function(t){return this.push($t.ActionTypes.any,t)}},{key:\"all\",value:function(t){return this.push($t.ActionTypes.all,t)}},{key:\"allAsync\",value:function(t){return this.push($t.ActionTypes.allAsync,t)}},{key:\"repeat\",value:function(t,e){return this.push($t.ActionTypes.repeat,e,t)}},{key:\"sleep\",value:function(t){return this.push($t.ActionTypes.sleep,[],t)}},{key:\"push\",value:function(t,e){for(var n=ie.toActions(e),r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=new $t(this.chain(),t,(new xt).setContent([this.construct(n)].concat(o)));return this.chain(a)}}],[{key:\"do\",value:function(t){return(new e).do(t)}},{key:\"doAsync\",value:function(t){return(new e).doAsync(t)}},{key:\"any\",value:function(t){return(new e).any(t)}},{key:\"all\",value:function(t){return(new e).all(t)}},{key:\"allAsync\",value:function(t){return(new e).allAsync(t)}},{key:\"repeat\",value:function(t,n){return(new e).repeat(t,n)}},{key:\"sleep\",value:function(t){return(new e).sleep(t)}}])}(ye);function Ga(t){return Ga=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ga(t)}function Ua(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Ha(r.key),r)}}function Ha(t){var e=function(t,e){if(\"object\"!=Ga(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Ga(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Ga(e)?e:e+\"\"}function za(t,e,n){return e=$a(e),function(t,e){if(e&&(\"object\"==Ga(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Wa()?Reflect.construct(e,n||[],$a(t).constructor):e.apply(t,n))}function Wa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Wa=function(){return!!t})()}function $a(t){return $a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$a(t)}function Ya(t,e){return Ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ya(t,e)}var qa=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(r=za(this,e)).events=new k,r.ref=void 0,\"string\"==typeof t?(r.name=t,r.config=b(e.defaultConfig,n||{}),r.config.position&&(r.config.position=Oe.tryParsePosition(r.config.position))):(r.name=\"\",r.config=b(e.defaultConfig,t),r.config.position&&(r.config.position=Oe.tryParsePosition(r.config.position))),r.state=b({},r.config),r.checkConfig(),r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Ya(t,e)}(e,t),function(t,e,n){return e&&Ua(t.prototype,e),n&&Ua(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"dispose\",value:function(){return this._dispose()}},{key:\"init\",value:function(){return this.chain(this._init())}},{key:\"checkConfig\",value:function(){if(!this.config.src)throw new Error(\"Image src is required\");if(!La.isPosition(this.config.position))throw new Error(\"Invalid position\\nPosition must be one of CommonImagePosition, Align, Coord2D\");return this}},{key:\"setSrc\",value:function(t,e){var n=this;return this.combineActions(new Va,(function(r){if(e){var o=e.copy();o.setSrc(bs.srcToString(t)),r._transitionSrc(o)}var i=new as(r,as.ActionTypes.setSrc,(new xt).setContent([\"string\"==typeof t?t:bs.staticImageDataToSrc(t)]));return r.chain(i).chain(n._flush())}))}},{key:\"applyTransform\",value:function(t){var e=this;return this.combineActions(new Va,(function(n){var r=new as(n,as.ActionTypes.applyTransform,(new xt).setContent([void 0,t.copy(),x()]));return n.chain(r).chain(e._flush())}))}},{key:\"show\",value:function(t){var e=this,n=t instanceof La?t.copy():new La([{props:{opacity:1},options:t||{}}]);return this.combineActions(new Va,(function(t){var r=new as(t,as.ActionTypes.show,(new xt).setContent([void 0,n]));return t.chain(r).chain(e._flush())}))}},{key:\"hide\",value:function(t){var e=this;return this.combineActions(new Va,(function(n){var r=new as(n,as.ActionTypes.hide,(new xt).setContent([void 0,t instanceof La?t.copy():new La([{props:{opacity:0},options:t||{}}])]));return n.chain(r).chain(e._flush())}))}},{key:\"toTransform\",value:function(){return new La(this.state,{duration:0})}},{key:\"setScope\",value:function(t){return this.ref=t,this}},{key:\"getScope\",value:function(){return this.ref}},{key:\"copy\",value:function(){return new e(this.name,this.config)}},{key:\"toData\",value:function(){return this.state.disposed||O(this.state,this.config)?null:{state:b({},e.serializeImageState(this.state))}}},{key:\"fromData\",value:function(t){return this.state=b(this.state,e.deserializeImageState(t.state)),this}},{key:\"_$setDispose\",value:function(){return this.state.disposed=!0,this}},{key:\"_applyTransition\",value:function(t){return this.chain(new as(this.chain(),\"image:applyTransition\",(new xt).setContent([t])))}},{key:\"_init\",value:function(t){return new as(this.chain(),as.ActionTypes.init,(new xt).setContent([t]))}},{key:\"_flush\",value:function(){return new as(this.chain(),as.ActionTypes.flush,new xt)}},{key:\"reset\",value:function(){this.state=b({},this.config)}},{key:\"toDisplayableTransform\",value:function(){return new La(this.state,{duration:0})}},{key:\"_transitionSrc\",value:function(t){var e=t.copy();return this._applyTransition(e),this}},{key:\"_dispose\",value:function(){return this.chain(new as(this.chain(),as.ActionTypes.dispose,new xt))}}],[{key:\"serializeImageState\",value:function(t){var e={position:function(t){return Oe.serializePosition(t)}},n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e[r]?e[r](t[r]):t[r]);return n}},{key:\"deserializeImageState\",value:function(t){var e={position:function(t){return Oe.toCoord2D(t)}},n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e[r]?e[r](t[r]):t[r]);return n}}])}(ye);function Xa(t){return Xa=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Xa(t)}function Ka(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ka=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,\"_invoke\",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",v={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(C([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==Xa(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=p;return function(i,a){if(o===h)throw Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===v)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=h;var c=f(e,n,r);if(\"normal\"===c.type){if(o=r.done?y:d,c.arg===v)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=y,r.method=\"throw\",r.arg=c.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,T(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,v):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function C(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Xa(e)+\" is not iterable\")}return g.prototype=b,o(k,\"constructor\",{value:b,configurable:!0}),o(b,\"constructor\",{value:g,configurable:!0}),g.displayName=c(b,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,\"GeneratorFunction\")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,u,\"Generator\"),c(k,a,(function(){return this})),c(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),v}},e}function Za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Qa(r.key),r)}}function Qa(t){var e=function(t,e){if(\"object\"!=Xa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Xa(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Xa(e)?e:e+\"\"}function Ja(t,e,n){return e=rs(e),function(t,e){if(e&&(\"object\"==Xa(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,ts()?Reflect.construct(e,n||[],rs(t).constructor):e.apply(t,n))}function ts(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ts=function(){return!!t})()}function es(t,e,n,r){var o=ns(rs(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}function ns(){return ns=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=rs(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ns.apply(null,arguments)}function rs(t){return rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rs(t)}function os(t,e){return os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},os(t,e)}qa.EventTypes={\"event:image.init\":\"event:image.init\",\"event:image.mount\":\"event:image.mount\",\"event:image.unmount\":\"event:image.unmount\",\"event:image.ready\":\"event:image.ready\",\"event:image.elementLoaded\":\"event:image.elementLoaded\",\"event:image.flush\":\"event:image.flush\",\"event:image.flushComponent\":\"event:image.flushComponent\",\"event:displayable.applyTransition\":\"event:displayable.applyTransition\",\"event:displayable.applyTransform\":\"event:displayable.applyTransform\",\"event:displayable.init\":\"event:displayable.init\"},qa.defaultConfig={src:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\",display:!1,position:new Te(he.Center),scale:1,rotation:0,opacity:0};var is=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},as=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Ja(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&os(t,e)}(e,t),function(t,e,n){return e&&Za(t.prototype,e),n&&Za(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"executeAction\",value:function(t){var r=this;if(this.type===n.init){var o=t.findElementByImage(this.callee);o&&t.disposeImage(this.callee,o.scene);var i=this.contentNode.getContent()[0];t.createImage(this.callee,i);var a=new w((function(t){return t}));return is(r,void 0,void 0,Ka().mark((function e(){return Ka().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.callee.events.any(\"event:displayable.init\");case 2:a.resolve({type:this.type,node:this.contentNode.getChild()}),t.stage.next();case 4:case\"end\":return e.stop()}}),e,this)}))),a}if(this.type===n.setSrc)return this.callee.state.src=this.contentNode.getContent()[0],t.logger.debug(\"Image - Set Src\",this.callee.state.src),t.stage.update(),es(e,\"executeAction\",this,3)([t]);if([n.show,n.hide,n.applyTransform].includes(this.type)){var s=new w((function(t){return t})).registerSkipController(new E((function(){return r.type===n.hide&&(r.callee.state.display=!1),es(e,\"executeAction\",r,3)([t])}))),u=this.contentNode.getContent()[1];return this.type===n.show&&(this.callee.state.display=!0,t.stage.update()),t.animateImage(qa.EventTypes[\"event:displayable.applyTransform\"],this.callee,[u],(function(){var t;r.type===n.hide&&(r.callee.state.display=!1),s.resolve({type:r.type,node:null===(t=r.contentNode)||void 0===t?void 0:t.getChild()})})),s}if(this.type===n.dispose)return t.disposeImage(this.callee),this.callee._$setDispose(),es(e,\"executeAction\",this,3)([t]);if(this.type===n.applyTransition){var c=new w((function(t){return t})).registerSkipController(new E((function(){return r.type===n.hide&&(r.callee.state.display=!1),{type:r.type,node:r.contentNode.getChild()}}))),l=this.contentNode.getContent()[0];return this.callee.events.any(\"event:displayable.applyTransition\",l).then((function(){c.resolve({type:r.type,node:r.contentNode.getChild()}),t.stage.next()})),c}if(this.type===n.flush)return es(e,\"executeAction\",this,3)([t]);throw es(e,\"unknownType\",this,3)([])}}])}(U);function ss(t,e,n){return e=ps(e),function(t,e){if(e&&(\"object\"==ds(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,ls()?Reflect.construct(e,n||[],ps(t).constructor):e.apply(t,n))}function us(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&fs(t,e)}function cs(t){var e=\"function\"==typeof Map?new Map:void 0;return cs=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf(\"[native code]\")}catch(e){return\"function\"==typeof t}}(t))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(ls())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&fs(o,n.prototype),o}(t,arguments,ps(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),fs(n,t)},cs(t)}function ls(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ls=function(){return!!t})()}function fs(t,e){return fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fs(t,e)}function ps(t){return ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ps(t)}function ds(t){return ds=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ds(t)}function hs(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function ys(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,ms(r.key),r)}}function vs(t,e,n){return e&&ys(t.prototype,e),n&&ys(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function ms(t){var e=function(t,e){if(\"object\"!=ds(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=ds(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==ds(e)?e:e+\"\"}as.ActionTypes=n;var gs=function(){function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;hs(this,t),this.r=e,this.g=n,this.b=r,this.a=o}return vs(t,[{key:\"toString\",value:function(){return\"rgba(\".concat(this.r,\", \").concat(this.g,\", \").concat(this.b,\", \").concat(this.a,\")\")}},{key:\"toHex\",value:function(){return\"#\"+this.r.toString(16)+this.g.toString(16)+this.b.toString(16)}},{key:\"toImageColor\",value:function(){return{r:this.r,g:this.g,b:this.b,a:this.a}}}],[{key:\"isHexString\",value:function(t){return\"string\"==typeof t&&/^#[0-9A-F]{6}$/i.test(t)}},{key:\"fromHex\",value:function(e){var n=e.slice(1);return new t(parseInt(n.slice(0,2),16),parseInt(n.slice(2,4),16),parseInt(n.slice(4,6),16),8===n.length?parseInt(n.slice(6,8),16)/255:1)}}])}(),bs=function(){function t(){hs(this,t)}return vs(t,null,[{key:\"srcToString\",value:function(t){return\"string\"==typeof t?t:t.src}},{key:\"staticImageDataToSrc\",value:function(t){return\"string\"==typeof t?t:t.src}},{key:\"isStaticImageData\",value:function(t){return void 0!==(null==t?void 0:t.src)}},{key:\"backgroundToSrc\",value:function(e){return t.isStaticImageData(e)?e.src:(null==e?void 0:e.url)||null}},{key:\"isExternalSrc\",value:function(t){return t.startsWith(\"http://\")||t.startsWith(\"https://\")}},{key:\"isImageSrc\",value:function(e){return\"string\"==typeof e&&!this.isHexString(e)||t.isStaticImageData(e)}},{key:\"isImageColor\",value:function(e){return t.isHexString(e)||t.isPlainColor(e)}},{key:\"isPlainColor\",value:function(t){return\"string\"==typeof t||\"object\"===ds(t)&&\"r\"in t&&\"g\"in t&&\"b\"in t}},{key:\"isHexString\",value:function(t){return\"string\"==typeof t&&/^#([0-9A-F]{6}|[0-9A-F]{3})$/i.test(t)}},{key:\"toBackgroundSrc\",value:function(t){return\"string\"==typeof t?t:t.src}},{key:\"toHex\",value:function(t){return S(t)}}])}();bs.RGBColor=gs;var ws,_s=function(t){function e(t,n){return hs(this,e),ss(this,e,[t,{info:n},\"NarraLeafReact-StaticScriptWarning\"])}return us(e,t),vs(e,null,[{key:\"isWarning\",value:function(t){return t instanceof e}}])}(function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"UseError\";return hs(this,e),(r=ss(this,e,[t])).props=n,r.name=o,r}return us(e,t),vs(e,null,[{key:\"isUseError\",value:function(t){return t instanceof e}}])}(cs(Error))),Ss=function(){return vs((function t(e){hs(this,t),this.scene=e}),[{key:\"run\",value:function(){if(!this.scene.sceneRoot)return null;var t=new Map,e=new Map,n=[],r=new Set,o=this.scene.getAllChildren(this.scene.sceneRoot);if(!o.length)return null;for(n.push(o[0]);n.length;){var i=n.shift();this.checkAction(i,{imageStates:t,scenes:e},r);var a=i.contentNode.getChild();a&&a.action&&n.push(a.action)}return t}},{key:\"checkAction\",value:function(t,n,r){var o=n.imageStates,i=n.scenes;if(t instanceof as)o.has(t.callee)||o.set(t.callee,{isDisposed:!1,usedExternalSrc:!1}),this.checkImage(o.get(t.callee),t);else if(t instanceof dt){var a=t.callee;if(i.has(a.name)){if(i.get(a.name)!==a){var s=\"Scene with name: \".concat(a.name,\" is duplicated\\nScene: \").concat(a.name,\"\\n\\nAt: \").concat(t.__stack);throw new _s(s)}}else i.set(a.name,a);if(t.type===e.jumpTo){var u=t.contentNode.getContent()[0];if(r.has(u))return;r.add(u)}}}},{key:\"checkImage\",value:function(t,e){if(e.type===n.dispose){if(t.isDisposed){var r=\"Image is disposed multiple times before action: \".concat(e.type,\"\\nImage: \").concat(e.callee.name,\"\\nAction: \").concat(e.type,\"\\n\\nAt: \").concat(e.__stack);throw new _s(r)}t.isDisposed=!0}else if([n.init,n.show,n.hide,n.applyTransform,n.applyTransition].includes(e.type)){if(t.isDisposed){var o=\"Image is disposed before action: \".concat(e.type,\"\\nImage: \").concat(e.callee.name,\"\\nAction: \").concat(e.type,\"\\n\\nAt: \").concat(e.__stack);throw new _s(o)}}else if(e.type===n.setSrc){var i=e.contentNode.getContent()[0];bs.isExternalSrc(i)&&(t.usedExternalSrc=!0)}}}])}();function ks(t){return ks=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ks(t)}function xs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,As(r.key),r)}}function As(t){var e=function(t,e){if(\"object\"!=ks(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=ks(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==ks(e)?e:e+\"\"}function Os(t,e,n){return e=Es(e),function(t,e){if(e&&(\"object\"==ks(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Ts()?Reflect.construct(e,n||[],Es(t).constructor):e.apply(t,n))}function Ts(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ts=function(){return!!t})()}function Es(t){return Es=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Es(t)}function Ps(t,e){return Ps=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ps(t,e)}!function(t){t.soundEffect=\"soundEffect\",t.music=\"music\",t.voice=\"voice\",t.backgroundMusic=\"backgroundMusic\"}(ws||(ws={}));var js=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(t=Os(this,e)).state={playing:null,token:null},t.config=b(e.defaultConfig,\"string\"==typeof n?{src:n}:n),t}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Ps(t,e)}(e,t),function(t,e,n){return e&&xs(t.prototype,e),n&&xs(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"play\",value:function(){if(this.config.type===ws.backgroundMusic)throw new Error(\"Background music cannot be played directly\");return this.pushAction(tt.ActionTypes.play,[void 0])}},{key:\"stop\",value:function(){if(this.config.type===ws.backgroundMusic)throw new Error(\"Background music cannot be stopped directly\");return this.pushAction(tt.ActionTypes.stop,[void 0])}},{key:\"fade\",value:function(t,e,n){if(this.config.type===ws.backgroundMusic)throw new Error(\"Background music cannot be faded directly\");return this.pushAction(tt.ActionTypes.fade,[{start:t,end:e,duration:n}])}},{key:\"setVolume\",value:function(t){return this.pushAction(tt.ActionTypes.setVolume,[t])}},{key:\"setRate\",value:function(t){return this.pushAction(tt.ActionTypes.setRate,[t])}},{key:\"pause\",value:function(t){return void 0!==t?this.fade(void 0,0,t):this.pushAction(tt.ActionTypes.pause,[void 0])}},{key:\"resume\",value:function(t){return void 0!==t?this.fade(0,this.config.volume,t):this.pushAction(tt.ActionTypes.resume,[void 0])}},{key:\"getHowlOptions\",value:function(t){return Object.assign({src:this.config.src,loop:this.config.loop,volume:this.config.volume,html5:this.config.streaming,autoplay:!1},t||{})}},{key:\"getSrc\",value:function(){return this.config.src}},{key:\"getToken\",value:function(){return this.state.token||void 0}},{key:\"getPlaying\",value:function(){return this.state.playing}},{key:\"setToken\",value:function(t){this.state.token=void 0===t?null:t}},{key:\"setPlaying\",value:function(t){return this.state.playing=t,this}},{key:\"toData\",value:function(){return O(this.config,e.defaultConfig)?null:{config:_(this.config)}}},{key:\"fromData\",value:function(t){return this.config=b(this.config,t.config),this}},{key:\"reset\",value:function(){var t;null===(t=this.state.playing)||void 0===t||t.stop(),this.state.playing=null,this.state.token=null}},{key:\"pushAction\",value:function(t,e){return this.chain(new tt(this.chain(),t,(new xt).setContent(e)))}}],[{key:\"toSoundSrc\",value:function(t){return null==t?null:\"string\"==typeof t?t:t.getSrc()}},{key:\"toSound\",value:function(t){return null==t?null:\"string\"==typeof t?new e({src:t}):t}}])}(ye);function Cs(t){return Cs=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Cs(t)}function Ls(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Is(r.key),r)}}function Is(t){var e=function(t,e){if(\"object\"!=Cs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Cs(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Cs(e)?e:e+\"\"}js.defaultConfig={src:\"\",sync:!1,loop:!1,volume:1};var Ns=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.config=e}return function(t,e,n){return e&&Ls(t.prototype,e),n&&Ls(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(t,null,[{key:\"from\",value:function(e){return t.isPauseConstructor(e)?new t:e}},{key:\"wait\",value:function(e){return new t({duration:e})}},{key:\"isPause\",value:function(e){return this.isPauseConstructor(e)||e instanceof t}},{key:\"isPauseConstructor\",value:function(e){return e===t}}])}();function Ms(t){return Ms=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ms(t)}function Rs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Fs(r.key),r)}}function Fs(t){var e=function(t,e){if(\"object\"!=Ms(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Ms(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Ms(e)?e:e+\"\"}var Ds=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.text=e,this.config=b(t.defaultConfig,n)}return function(t,e,n){return e&&Rs(t.prototype,e),n&&Rs(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(t,[{key:\"evaluate\",value:function(e){var n=this;if(Ns.isPause(this.text))return[this];if(\"function\"==typeof this.text){var r=this.text(e);return Array.isArray(r)?r.map((function(r){return t.isWord(r)?r.inherit(n.config).evaluate(e):new t(r,n.config)})).flat():t.isWord(r)?r.inherit(this.config).evaluate(e):[new t(r,this.config)]}return[this]}},{key:\"inherit\",value:function(t){return this.config.color=this.config.color||t.color,this.config.italic=this.config.italic||t.italic,this.config.bold=this.config.bold||t.bold,this}}],[{key:\"isWord\",value:function(e){return e instanceof t}}])}();function Bs(t){return Bs=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Bs(t)}function Vs(t){return function(t){if(Array.isArray(t))return Gs(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return Gs(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gs(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Gs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Us(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Hs(r.key),r)}}function Hs(t){var e=function(t,e){if(\"object\"!=Bs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Bs(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Bs(e)?e:e+\"\"}Ds.defaultConfig={},Ds.defaultColor=\"#000\";var zs=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.text=t.format(e),this.config=b(t.defaultConfig,Object.assign(Object.assign({},n),{voice:js.toSound(n.voice)})),this.state=_(t.defaultState)}return function(t,e,n){return e&&Us(t.prototype,e),n&&Us(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(t,[{key:\"toData\",value:function(){return O(this.state,t.defaultState)?null:{state:_(this.state)}}},{key:\"fromData\",value:function(t){return this.state=b(this.state,t),this}},{key:\"toString\",value:function(){return this.text.map((function(t){return t.text})).join(\"\")}},{key:\"setCharacter\",value:function(t){return this.config.character=t,this}},{key:\"evaluate\",value:function(e){for(var n=[],r=0;r<this.text.length;r++){var o=this.text[r].evaluate(e);n.push.apply(n,Vs(t.formatStaticWord(o)))}return n}},{key:\"copy\",value:function(){return new t(Vs(this.text),this.config)}}],[{key:\"isSentence\",value:function(e){return e instanceof t}},{key:\"toSentence\",value:function(e){return t.isSentence(e)?e:new t(e)}},{key:\"format\",value:function(t){var e=[];if(Array.isArray(t))for(var n=0;n<t.length;n++)e.push(this.formatWord(t[n]));else e.push(this.formatWord(t));return e}},{key:\"formatWord\",value:function(t){return Ds.isWord(t)?t:new Ds(t)}},{key:\"formatStaticWord\",value:function(t,e){var n=this;return Array.isArray(t)?t.map((function(t){return n.formatStaticWord(t,e)})).flat(2):[Ds.isWord(t)?t:new Ds(t,e)]}}])}();function Ws(t){return Ws=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ws(t)}function $s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Ys(r.key),r)}}function Ys(t){var e=function(t,e){if(\"object\"!=Ws(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Ws(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Ws(e)?e:e+\"\"}function qs(t,e,n){return e=Qs(e),function(t,e){if(e&&(\"object\"==Ws(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Xs()?Reflect.construct(e,n||[],Qs(t).constructor):e.apply(t,n))}function Xs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xs=function(){return!!t})()}function Ks(t,e,n,r){var o=Zs(Qs(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}function Zs(){return Zs=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Qs(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Zs.apply(null,arguments)}function Qs(t){return Qs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qs(t)}function Js(t,e){return Js=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Js(t,e)}zs.defaultConfig={color:\"#000\",pause:!0,voice:null,character:null},zs.defaultState={display:!0};var tu=function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,n),qs(this,n,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Js(t,e)}(n,e),function(t,e,n){return e&&$s(t.prototype,e),n&&$s(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(n,[{key:\"executeAction\",value:function(e){var r=this;if(this.type===t.say){var o=new w((function(t){return t})).registerSkipController(new E((function(){return{type:r.type,node:r.contentNode.getChild()}}))),i=this.contentNode.getContent(),a=i.config.voice;return a&&(tt.initSound(e,a),e.playSound(a,(function(){e.stopSound(a)}))),e.createText(this.getId(),i,(function(){a&&e.stopSound(a),o.resolve({type:r.type,node:r.contentNode.getChild()})})),o}if(this.type===t.setName)return this.callee.state.name=this.contentNode.getContent()[0],Ks(n,\"executeAction\",this,3)([e]);throw Ks(n,\"unknownType\",this,3)([])}}])}(U);function eu(t){return eu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},eu(t)}function nu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,ru(r.key),r)}}function ru(t){var e=function(t,e){if(\"object\"!=eu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=eu(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==eu(e)?e:e+\"\"}function ou(t,e,n){return e=au(e),function(t,e){if(e&&(\"object\"==eu(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,iu()?Reflect.construct(e,n||[],au(t).constructor):e.apply(t,n))}function iu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(iu=function(){return!!t})()}function au(t){return au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},au(t)}function su(t,e){return su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},su(t,e)}tu.ActionTypes=t;var uu=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=ou(this,e)).config=b(e.defaultConfig,r),n.state={name:t||\"\"},n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&su(t,e)}(e,t),function(t,e,n){return e&&nu(t.prototype,e),n&&nu(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"say\",value:function(t,e){var n=Array.isArray(t)?new zs(t,Object.assign(Object.assign({},e||{}),{character:this})):(zs.isSentence(t)?t:new zs(t,Object.assign(Object.assign({},e||{}),{character:this}))).copy();n.setCharacter(this);var r=new tu(this.chain(),tu.ActionTypes.say,(new xt).setContent(n));return this.chain(r)}},{key:\"setName\",value:function(t){var e=new tu(this.chain(),tu.ActionTypes.setName,(new xt).setContent([t]));return this.chain(e)}}])}(ye);function cu(t){return cu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},cu(t)}function lu(t){return function(t){if(Array.isArray(t))return fu(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return fu(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fu(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function fu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function pu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,du(r.key),r)}}function du(t){var e=function(t,e){if(\"object\"!=cu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=cu(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==cu(e)?e:e+\"\"}function hu(t,e,n){return e=mu(e),function(t,e){if(e&&(\"object\"==cu(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,yu()?Reflect.construct(e,n||[],mu(t).constructor):e.apply(t,n))}function yu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yu=function(){return!!t})()}function vu(){return vu=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=mu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},vu.apply(null,arguments)}function mu(t){return mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mu(t)}function gu(t,e){return gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gu(t,e)}uu.defaultConfig={color:\"#000\"};var bu=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),hu(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&gu(t,e)}(e,t),function(t,e,n){return e&&pu(t.prototype,e),n&&pu(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"executeAction\",value:function(t){var e,n,r=this.callee.evaluate(this.contentNode.getContent(),{gameState:t});return null===(e=null==r?void 0:r[r.length-1])||void 0===e||e.contentNode.addChild(this.contentNode.getChild()),this.contentNode.addChild((null===(n=null==r?void 0:r[0])||void 0===n?void 0:n.contentNode)||null),{type:this.type,node:this.contentNode.getChild()}}},{key:\"getFutureActions\",value:function(){return[].concat(lu(this.callee._getFutureActions()),lu(function(t,e,n,r){var o=vu(mu(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}(e,\"getFutureActions\",this,3)([])))}}])}(U);function wu(t){return wu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},wu(t)}function _u(t){return function(t){if(Array.isArray(t))return ku(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||Su(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Su(t,e){if(t){if(\"string\"==typeof t)return ku(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ku(t,e):void 0}}function ku(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function xu(t,e,n){return e=Ou(e),function(t,e){if(e&&(\"object\"==wu(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Au()?Reflect.construct(e,n||[],Ou(t).constructor):e.apply(t,n))}function Au(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Au=function(){return!!t})()}function Ou(t){return Ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ou(t)}function Tu(t,e){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tu(t,e)}function Eu(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function Pu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Cu(r.key),r)}}function ju(t,e,n){return e&&Pu(t.prototype,e),n&&Pu(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function Cu(t){var e=function(t,e){if(\"object\"!=wu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=wu(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==wu(e)?e:e+\"\"}bu.ActionTypes={action:\"condition:action\"};var Lu=function(){return ju((function t(e){Eu(this,t),this.handler=e}),[{key:\"evaluate\",value:function(t){var e=t.gameState;return{value:this.handler(this.getCtx({gameState:e}))}}},{key:\"getCtx\",value:function(t){var e=t.gameState;return{gameState:e,game:e.game,liveGame:e.game.getLiveGame(),storable:e.game.getLiveGame().getStorable()}}}])}(),Iu=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Eu(this,e),(t=xu(this,e)).conditions={If:{condition:null,action:null},ElseIf:[],Else:{action:null}},t.config=b(e.defaultConfig,n),t}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Tu(t,e)}(e,t),ju(e,[{key:\"If\",value:function(t,e){if(this.conditions.If.condition)throw new _s(\"IF condition already set\\nYou are trying to set multiple IF conditions for the same condition\");if(this.conditions.ElseIf.length)throw new _s(\"ELSE-IF condition already set\\nYou are trying to set an IF condition after an ELSE-IF condition\");if(this.conditions.Else.action)throw new _s(\"ELSE condition already set\\nYou are trying to set an IF condition after an ELSE condition\");return this.conditions.If.condition=t instanceof Lu?t:new Lu(t),this.conditions.If.action=this.construct(Array.isArray(e)?e:[e]),this.chain()}},{key:\"ElseIf\",value:function(t,e){if(!this.conditions.If.condition)throw new _s(\"IF condition not set\\nYou are trying to set an ELSE-IF condition without an IF condition\");if(this.conditions.Else.action)throw new _s(\"ELSE condition already set\\nYou are trying to set an ELSE-IF condition after an ELSE condition\");return this.conditions.ElseIf.push({condition:t instanceof Lu?t:new Lu(t),action:this.construct(Array.isArray(e)?e:[e])}),this.chain()}},{key:\"Else\",value:function(t){if(!this.conditions.If.condition)throw new _s(\"IF condition not set\\nYou are trying to set an ELSE condition without an IF condition\");if(this.conditions.Else.action)throw new _s(\"ELSE condition already set\\nYou are trying to set multiple ELSE conditions for the same condition\");return this.conditions.Else.action=this.construct(Array.isArray(t)?t:[t]),this.chain()}},{key:\"evaluate\",value:function(t,e){var n,r,o={gameState:e.gameState},i=null===(n=t.If.condition)||void 0===n?void 0:n.evaluate(o);if(null==i?void 0:i.value)return t.If.action||null;var a,s=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=Su(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(t.ElseIf);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=null===(r=u.condition)||void 0===r?void 0:r.evaluate(o);if(null==c?void 0:c.value)return u.action||null}}catch(t){s.e(t)}finally{s.f()}return t.Else.action||null}},{key:\"fromChained\",value:function(t){return[Reflect.construct(bu,[this,bu.ActionTypes.action,(new xt).setContent(t.conditions)])]}},{key:\"construct\",value:function(t,e,n){for(var r,o=ie.toActions(t),i=0;i<o.length;i++){var a=o[i].contentNode,s=null===(r=o[i+1])||void 0===r?void 0:r.contentNode;s&&a.setChild(s),i===o.length-1&&e&&a.setChild(e),0===i&&n&&n.setChild(a)}return o}},{key:\"_getFutureActions\",value:function(){return ie.toActions([].concat(_u(this.conditions.If.action||[]),_u(this.conditions.ElseIf.flatMap((function(t){return t.action||[]}))),_u(this.conditions.Else.action||[])))}}],[{key:\"getInitialState\",value:function(){return{If:{condition:null,action:null},ElseIf:[],Else:{action:null}}}}])}(ye);function Nu(t){return Nu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Nu(t)}function Mu(t){return function(t){if(Array.isArray(t))return Ru(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return Ru(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ru(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ru(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Fu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Du(r.key),r)}}function Du(t){var e=function(t,e){if(\"object\"!=Nu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Nu(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Nu(e)?e:e+\"\"}function Bu(t,e,n){return e=Uu(e),function(t,e){if(e&&(\"object\"==Nu(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Vu()?Reflect.construct(e,n||[],Uu(t).constructor):e.apply(t,n))}function Vu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Vu=function(){return!!t})()}function Gu(){return Gu=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Uu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Gu.apply(null,arguments)}function Uu(t){return Uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uu(t)}function Hu(t,e){return Hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hu(t,e)}Iu.defaultConfig={};var zu=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Bu(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Hu(t,e)}(e,t),function(t,e,n){return e&&Fu(t.prototype,e),n&&Fu(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"executeAction\",value:function(t){var e=this,n=new w((function(t){return t})),r=this.contentNode.getContent();return t.createMenu(r,(function(r){var o,i,a=(null===(o=t.game.getLiveGame().getCurrentAction())||void 0===o?void 0:o.contentNode.getChild())||null;a&&(null===(i=r.action[r.action.length-1])||void 0===i||i.contentNode.addChild(a)),n.resolve({type:e.type,node:r.action[0].contentNode})})),n}},{key:\"getFutureActions\",value:function(){var t=this.contentNode.getContent();return[].concat(Mu(this.callee._getFutureActions(t.choices)),Mu(function(t,e,n,r){var o=Gu(Uu(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}(e,\"getFutureActions\",this,3)([])))}}])}(U);function Wu(t){return Wu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Wu(t)}function $u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Yu(r.key),r)}}function Yu(t){var e=function(t,e){if(\"object\"!=Wu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Wu(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Wu(e)?e:e+\"\"}function qu(t,e,n){return e=Ku(e),function(t,e){if(e&&(\"object\"==Wu(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Xu()?Reflect.construct(e,n||[],Ku(t).constructor):e.apply(t,n))}function Xu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xu=function(){return!!t})()}function Ku(t){return Ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ku(t)}function Zu(t,e){return Zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zu(t,e)}zu.ActionTypes={action:\"menu:action\"};var Qu=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=qu(this,e)).choices=[],n.prompt=zs.isSentence(t)?t:new zs(t),n.config=b(e.defaultConfig,r),n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Zu(t,e)}(e,t),function(t,e,n){return e&&$u(t.prototype,e),n&&$u(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"choose\",value:function(t,e){var n=this.chain();return zs.isSentence(t)&&e||(Ds.isWord(t)||Array.isArray(t)||\"string\"==typeof t)&&e?n.choices.push({prompt:zs.toSentence(t),action:ie.toActions(e)}):\"object\"===Wu(t)&&\"prompt\"in t&&\"action\"in t?n.choices.push({prompt:zs.toSentence(t.prompt),action:ie.toActions(t.action)}):console.warn(\"No valid choice added to menu, \",{arg0:t,arg1:e}),n}},{key:\"fromChained\",value:function(t){return[new zu(this.chain(),zu.ActionTypes.action,(new xt).setContent({prompt:this.prompt,choices:t.constructChoices()}))]}},{key:\"_getFutureActions\",value:function(t){return t.map((function(t){return t.action})).flat(2)}},{key:\"constructNodes\",value:function(t,e,n){for(var r,o=0;o<t.length;o++){var i=t[o].contentNode,a=null===(r=t[o+1])||void 0===r?void 0:r.contentNode;a&&i.setChild(a),o===this.choices.length-1&&e&&i.setChild(e),0===o&&n&&n.setChild(i)}return t}},{key:\"constructChoices\",value:function(){var t=this;return this.choices.map((function(e){return{action:t.constructNodes(e.action),prompt:e.prompt}}))}}])}(ye);function Ju(t){return Ju=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ju(t)}function tc(t){return function(t){if(Array.isArray(t))return ec(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return ec(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ec(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function ec(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function nc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,rc(r.key),r)}}function rc(t){var e=function(t,e){if(\"object\"!=Ju(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Ju(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Ju(e)?e:e+\"\"}function oc(t,e,n){return e=ac(e),function(t,e){if(e&&(\"object\"==Ju(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,ic()?Reflect.construct(e,n||[],ac(t).constructor):e.apply(t,n))}function ic(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ic=function(){return!!t})()}function ac(t){return ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ac(t)}function sc(t,e){return sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sc(t,e)}Qu.defaultConfig={},Qu.targetAction=zu;var uc=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),oc(this,e)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&sc(t,e)}(e,t),function(t,e,n){return e&&nc(t.prototype,e),n&&nc(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"fromChained\",value:function(t){return t.getActions()}},{key:\"forEachChild\",value:function(t,e){var n=new Set,r=[];for(Array.isArray(t)?r.push.apply(r,tc(t)):r.push(t);r.length;){var o=r.shift();if(!n.has(o)){n.add(o),e(o);var i=o.getFutureActions().filter((function(t){return!n.has(t)}));r.push.apply(r,tc(i))}}}},{key:\"getAllChildren\",value:function(t){var e=[];return this.forEachChild(t,(function(t){return e.push(t)})),e}},{key:\"getAllChildrenMap\",value:function(t){var e=new Map;return this.forEachChild(t,(function(t){return e.set(t.getId(),t)})),e}},{key:\"getAllElementMap\",value:function(t){var e=new Map;return this.forEachChild(t,(function(t){return e.set(t.callee.getId(),t.callee)})),e}},{key:\"getAllChildrenElements\",value:function(t){return Array.from(new Set(this.getAllChildren(t).map((function(t){return t.callee}))))}},{key:\"toData\",value:function(){return null}},{key:\"constructNodes\",value:function(t,e){for(var n,r=0;r<t.length;r++){var o=t[r];0===r&&e?e.setChild(o.contentNode):r>0&&(null===(n=t[r-1].contentNode)||void 0===n||n.setChild(o.contentNode))}return t.length?t[0].contentNode:null}}])}(ae);function cc(t){return cc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},cc(t)}function lc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,fc(r.key),r)}}function fc(t){var e=function(t,e){if(\"object\"!=cc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=cc(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==cc(e)?e:e+\"\"}var pc=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.src=[],this.future=[]}return function(t,e,n){return e&&lc(t.prototype,e),n&&lc(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(t,[{key:\"register\",value:function(t,e){var n=this;if(Array.isArray(t))t.forEach((function(t){return n.register(t)}));else if(t instanceof js){if(this.isSrcRegistered(t.getSrc()))return this;this.src.push({type:\"audio\",src:t})}else if(t instanceof qa||bs.isStaticImageData(t)){if(t instanceof qa){if(this.isSrcRegistered(bs.srcToString(t.state.src)))return this}else if(this.isSrcRegistered(bs.srcToString(t.src)))return this;this.src.push({type:\"image\",src:t instanceof qa?t:new qa(\"\",{src:bs.staticImageDataToSrc(t)})})}else if(\"object\"===cc(t)){if(this.isSrcRegistered(t.src||\"\"))return this;this.src.push(t)}else if(\"audio\"===t){if(this.isSrcRegistered(e||\"\"))return this;this.src.push({type:t,src:e instanceof js?e:new js({src:e})})}else{if(this.isSrcRegistered(e||\"\"))return this;this.src.push({type:t,src:e})}return this}},{key:\"isSrcRegistered\",value:function(e){var n=e instanceof js?e.getSrc():e;return this.src.some((function(e){return e.type===t.SrcTypes.audio?n===e.src.getSrc():e.type===t.SrcTypes.image?n===bs.srcToString(e.src.state.src):n===e.src}))}},{key:\"getSrc\",value:function(){return this.src}},{key:\"getSrcByType\",value:function(t){return this.src.filter((function(e){return e.type===t}))}},{key:\"registerFuture\",value:function(t){return this.future.includes(t)||this.hasFuture(t)||this.future.push(t),this}},{key:\"hasFuture\",value:function(t){return this.future.includes(t)}}])}();function dc(t){return dc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},dc(t)}function hc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,yc(r.key),r)}}function yc(t){var e=function(t,e){if(\"object\"!=dc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=dc(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==dc(e)?e:e+\"\"}function vc(t,e,n){return e=wc(e),function(t,e){if(e&&(\"object\"==dc(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,mc()?Reflect.construct(e,n||[],wc(t).constructor):e.apply(t,n))}function mc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mc=function(){return!!t})()}function gc(t,e,n,r){var o=bc(wc(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}function bc(){return bc=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=wc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},bc.apply(null,arguments)}function wc(t){return wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wc(t)}function _c(t,e){return _c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_c(t,e)}pc.SrcTypes={image:\"image\",video:\"video\",audio:\"audio\"};var Sc=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),vc(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&_c(t,e)}(e,t),function(t,e,n){return e&&hc(t.prototype,e),n&&hc(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"executeAction\",value:function(t){var n=this;if(this.type===s.init){var r=t.findElementByDisplayable(this.callee);r&&t.disposeDisplayable(this.callee,r.scene);var o=this.contentNode.getContent()[0];t.createDisplayable(this.callee,o);var i=new w((function(t){return t}));return this.callee.events.any(\"event:displayable.init\").then((function(){i.resolve({type:n.type,node:n.contentNode.getChild()}),t.stage.next()})),i}if([s.show,s.hide,s.applyTransform].includes(this.type)){var a=new w((function(t){return t})).registerSkipController(new E((function(){return n.type===s.hide&&(n.callee.state.display=!1),gc(e,\"executeAction\",n,3)([t])}))),u=this.contentNode.getContent()[0];return this.type===s.show&&(this.callee.state.display=!0,t.stage.update()),t.animateText(Qc.EventTypes[\"event:displayable.applyTransform\"],this.callee,[u],(function(){n.type===s.hide&&(n.callee.state.display=!1),a.resolve(gc(e,\"executeAction\",n,3)([t]))})),a}if(this.type===s.setText)return this.callee.state.text=this.contentNode.getContent()[0],gc(e,\"executeAction\",this,3)([t]);if(this.type===s.setFontSize){this.callee.state.fontSize=this.contentNode.getContent()[0];var c=new La([],{duration:0}),l=new w;return t.animateText(Qc.EventTypes[\"event:displayable.applyTransform\"],this.callee,[c],(function(){l.resolve(gc(e,\"executeAction\",n,3)([t]))})),l}if(this.type===s.applyTransition){var f=(new w).registerSkipController(new E((function(){return t.logger.info(\"NarraLeaf-React: Text Transition\",\"Skipped\"),{type:n.type,node:n.contentNode.getChild()}}))),p=this.contentNode.getContent()[0];return this.callee.events.any(\"event:displayable.applyTransition\",p).then((function(){f.resolve({type:n.type,node:n.contentNode.getChild()}),t.stage.next()})),f}throw gc(e,\"unknownType\",this,3)([])}}])}(U);Sc.ActionTypes=s;var kc={start:\"start\",update:\"update\",end:\"end\"};function xc(t){return xc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},xc(t)}function Ac(t,e,n){return e=Tc(e),function(t,e){if(e&&(\"object\"==xc(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Oc()?Reflect.construct(e,n||[],Tc(t).constructor):e.apply(t,n))}function Oc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Oc=function(){return!!t})()}function Tc(t){return Tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tc(t)}function Ec(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Pc(t,e)}function Pc(t,e){return Pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pc(t,e)}function jc(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function Cc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Ic(r.key),r)}}function Lc(t,e,n){return e&&Cc(t.prototype,e),n&&Cc(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function Ic(t){var e=function(t,e){if(\"object\"!=xc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=xc(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==xc(e)?e:e+\"\"}var Nc=function(){return Lc((function t(){jc(this,t),this.events=new k}),[{key:\"start\",value:function(t){throw new Error(\"Method not implemented.\")}},{key:\"toElementProps\",value:function(){throw new Error(\"Method not implemented.\")}},{key:\"copy\",value:function(){throw new Error(\"Method not implemented.\")}},{key:\"requestAnimation\",value:function(t,e,n){var r=this,o=t.start,i=t.end,a=t.duration,s=e.onComplete,u=e.onUpdate;return this.events.emit(kc.start,null),this.controller=ba(o,i,Object.assign({duration:a/1e3,onUpdate:function(t){u&&u(t),r.events.emit(kc.update,r.toElementProps())},onComplete:function(){r.controller=void 0,r.events.emit(kc.end,null),s&&s()}},n)),this.controller}}])}(),Mc=function(t){function e(){return jc(this,e),Ac(this,e,arguments)}return Ec(e,t),Lc(e,[{key:\"setSrc\",value:function(t){throw new Error(\"Method not implemented.\")}},{key:\"copy\",value:function(){throw new Error(\"Method not implemented.\")}}])}(Nc),Rc=function(t){function e(){return jc(this,e),Ac(this,e,arguments)}return Ec(e,t),Lc(e,[{key:\"copy\",value:function(){throw new Error(\"Method not implemented.\")}}])}(Nc);function Fc(t){return Fc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Fc(t)}function Dc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Bc(r.key),r)}}function Bc(t){var e=function(t,e){if(\"object\"!=Fc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Fc(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Fc(e)?e:e+\"\"}function Vc(t,e,n){return e=Uc(e),function(t,e){if(e&&(\"object\"==Fc(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Gc()?Reflect.construct(e,n||[],Uc(t).constructor):e.apply(t,n))}function Gc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Gc=function(){return!!t})()}function Uc(t){return Uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uc(t)}function Hc(t,e){return Hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hc(t,e)}var zc=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3?arguments[3]:void 0;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(r=Vc(this,e)).state={fontSize:0},r.startValue=t,r.endValue=n,r.duration=o,r.easing=i,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Hc(t,e)}(e,t),function(t,e,n){return e&&Dc(t.prototype,e),n&&Dc(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"start\",value:function(t){var e=this;this.state.fontSize=this.startValue,this.requestAnimation({start:this.startValue,end:this.endValue,duration:this.duration},{onComplete:function(){e.state.fontSize=e.endValue,t&&t()},onUpdate:function(t){e.state.fontSize=t}},{ease:this.easing})}},{key:\"toElementProps\",value:function(){return[{style:{fontSize:this.state.fontSize}}]}},{key:\"copy\",value:function(){return new e(this.startValue,this.endValue,this.duration,this.easing)}}])}(Rc);function Wc(t){return Wc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Wc(t)}function $c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Yc(r.key),r)}}function Yc(t){var e=function(t,e){if(\"object\"!=Wc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Wc(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Wc(e)?e:e+\"\"}function qc(t,e,n){return e=Kc(e),function(t,e){if(e&&(\"object\"==Wc(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Xc()?Reflect.construct(e,n||[],Kc(t).constructor):e.apply(t,n))}function Xc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xc=function(){return!!t})()}function Kc(t){return Kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kc(t)}function Zc(t,e){return Zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zc(t,e)}zc.Frames=[1,0];var Qc=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=qc(this,e)).events=new k,n.config=\"string\"==typeof t?b({},e.defaultConfig,r,{text:t}):b({},e.defaultConfig,t),n.state=b({},n.config),n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Zc(t,e)}(e,t),function(t,e,n){return e&&$c(t.prototype,e),n&&$c(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"applyTransform\",value:function(t){var e=this.chain(),n=new Sc(e,Sc.ActionTypes.applyTransform,(new xt).setContent([t.copy()]));return e.chain(n)}},{key:\"applyTransition\",value:function(t){var e=this.chain(),n=this._applyTransition(e,t);return e.chain(n)}},{key:\"show\",value:function(t){var e=this.chain(),n=t instanceof La?t.copy():new La([{props:{opacity:1},options:t||{}}]),r=new Sc(e,Sc.ActionTypes.show,(new xt).setContent([n]));return e.chain(r)}},{key:\"hide\",value:function(t){var e=this.chain(),n=t instanceof La?t.copy():new La([{props:{opacity:1},options:t||{}}]),r=new Sc(e,Sc.ActionTypes.hide,(new xt).setContent([n]));return e.chain(r)}},{key:\"setText\",value:function(t){var e=this.chain(),n=new Sc(e,Sc.ActionTypes.setText,(new xt).setContent([t]));return e.chain(n)}},{key:\"setFontSize\",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return this.combineActions(new Va,(function(o){if(n){var i=new zc(e.state.fontSize,t,n,r);o.chain(e._applyTransition(o,i))}var a=new Sc(o,Sc.ActionTypes.setFontSize,(new xt).setContent([t]));return o.chain(a)}))}},{key:\"toData\",value:function(){return{state:b({},qa.serializeImageState(this.state))}}},{key:\"fromData\",value:function(t){return this.state=b({},qa.deserializeImageState(t.state)),this}},{key:\"toTransform\",value:function(){return new La(this.state,{duration:0})}},{key:\"toDisplayableTransform\",value:function(){return new La(this.state,{duration:0})}},{key:\"_init\",value:function(t){return new Sc(this.chain(),Sc.ActionTypes.init,(new xt).setContent([t]))}},{key:\"_applyTransition\",value:function(t,e){return new Sc(t,Sc.ActionTypes.applyTransition,(new xt).setContent([e]))}}])}(ye);function Jc(t){return Jc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Jc(t)}function tl(t){return function(t){if(Array.isArray(t))return el(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return el(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?el(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function el(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function nl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,rl(r.key),r)}}function rl(t){var e=function(t,e){if(\"object\"!=Jc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Jc(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Jc(e)?e:e+\"\"}function ol(t,e,n){return e=sl(e),function(t,e){if(e&&(\"object\"==Jc(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,il()?Reflect.construct(e,n||[],sl(t).constructor):e.apply(t,n))}function il(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(il=function(){return!!t})()}function al(){return al=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=sl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},al.apply(null,arguments)}function sl(t){return sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sl(t)}function ul(t,e){return ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ul(t,e)}Qc.EventTypes={\"event:text.show\":\"event:text.show\",\"event:text.hide\":\"event:text.hide\",\"event:displayable.applyTransition\":\"event:displayable.applyTransition\",\"event:displayable.applyTransform\":\"event:displayable.applyTransform\",\"event:displayable.init\":\"event:displayable.init\"},Qc.defaultConfig={position:new Te(Te.Positions.Center),scale:1,rotation:0,opacity:0,alignX:\"center\",alignY:\"center\",fontSize:16,fontColor:\"#000000\",display:!1,text:\"\"};var cl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},ll=function(t){function r(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.defaultConfig;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),(e=ol(this,r)).srcManager=new pc,e.events=new k,e.name=t;var o=b(r.defaultConfig,n),i=o.background,a=cl(o,[\"background\"]);return e.config=Object.assign(Object.assign({},a),{backgroundImage:new qa({opacity:1}),background:i||null}),e.state=b(e.config,{}),e}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&ul(t,e)}(r,t),function(t,e,n){return e&&nl(t.prototype,e),n&&nl(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(r,[{key:\"toBackground\",value:function(t){if(bs.isImageSrc(t)||bs.isImageColor(t))return t;if(t instanceof gs)return t.toImageColor();throw new Error(\"Invalid background type\")}},{key:\"activate\",value:function(){return this.chain(this._init(this))}},{key:\"deactivate\",value:function(){return this.chain(this._exit())}},{key:\"setBackground\",value:function(t,e){var n=this;return this.combineActions(new Va,(function(r){if(e){var o=e.copy();o.setSrc(n.toBackground(t)),r._transitionToScene(void 0,o,n.toBackground(t))}return r.chain(new dt(r,\"scene:setBackground\",(new xt).setContent([t])))}))}},{key:\"applyTransform\",value:function(t){return this.chain(new dt(this.chain(),\"scene:applyTransform\",(new xt).setContent([t.copy()])))}},{key:\"jumpTo\",value:function(t,e){var n=this;return this.combineActions(new Va,(function(r){var o=e||{};return r.chain(new dt(r,\"scene:preUnmount\",(new xt).setContent([])))._transitionToScene(t,o.transition).chain(t._init()).chain(n._exit())._jumpTo(t)}))}},{key:\"sleep\",value:function(t){return this.chain(new dt(this.chain(),\"scene:sleep\",(new xt).setContent(t)))}},{key:\"setBackgroundMusic\",value:function(t,n){return this.chain(new dt(this.chain(),e.setBackgroundMusic,(new xt).setContent([t,n])))}},{key:\"toData\",value:function(){var t;return{state:Object.assign(Object.assign({},_(this.state)),{backgroundMusic:null===(t=this.state.backgroundMusic)||void 0===t?void 0:t.toData(),background:this.state.background}),backgroundImageState:this.state.backgroundImage.toData()}}},{key:\"fromData\",value:function(t){return this.state=b(this.state,t.state),t.state.backgroundMusic&&(this.state.backgroundMusic=(new js).fromData(t.state.backgroundMusic)),t.backgroundImageState&&this.state.backgroundImage.fromData(t.backgroundImageState),this}},{key:\"getInitTransform\",value:function(){return new La([{props:Object.assign(Object.assign({},this.state.backgroundImage.state),{opacity:1}),options:{duration:0}}])}},{key:\"action\",value:function(t){var e=(Array.isArray(t)?t.flat(2):t(this).flat(2)).map((function(t){return ie.isChained(t)?t.fromChained(t):t})).flat(2),n=[],o=[];this.getAllChildrenElements(e).forEach((function(t){ie.isChained(t)||(t instanceof qa?n.push(t):t instanceof Qc&&o.push(t))}));var i=[this._init(this)].concat(tl(n.map((function(t){return t._init()}))),tl(o.map((function(t){return t._init()}))),tl(e)),a=function(t,e,n,r){var o=al(sl(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}(r,\"constructNodes\",this,3)([i]),s=new xt(void 0,void 0,a||void 0).setContent(this);return null==a||a.setParent(s),this.sceneRoot=new dt(this.chain(),\"scene:action\",s),this}},{key:\"registerSrc\",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;if(this.sceneRoot){var o=new Set,i=new Set,a=[this.sceneRoot],s=new Set;for(bs.isImageSrc(this.config.background)&&this.srcManager.register(new qa({src:bs.toBackgroundSrc(this.config.background)}));a.length;){var u=a.shift();if(!o.has(u)){if(o.add(u),u instanceof dt){if(u.type===e.jumpTo){var c=u,l=c.contentNode.getContent()[0];if(i.has(c)||r.has(l))continue;i.add(c),s.add(l),r.add(l)}}else if(u instanceof as){var f=u;if(this.srcManager.register(f.callee),u.type===n.setSrc){var p=u.contentNode.getContent()[0];this.srcManager.register(new qa({src:p}))}}else if(u instanceof tt)this.srcManager.register(u.callee);else if(u instanceof $t){var d=u.getFutureActions();a.push.apply(a,tl(d))}a.push.apply(a,tl(u.getFutureActions()))}}s.forEach((function(e){e.registerSrc(r),t.srcManager.registerFuture(e.srcManager)}))}}},{key:\"assignActionId\",value:function(){this.getAllChildren(this.sceneRoot||[]).forEach((function(t,e){t.setId(\"action-\".concat(e))}))}},{key:\"assignElementId\",value:function(){this.getAllChildrenElements(this.sceneRoot||[]).forEach((function(t,e){t.setId(\"element-\".concat(e))}))}},{key:\"reset\",value:function(){this.state=b(r.defaultState,this.config),this.state.backgroundImage.reset()}},{key:\"toDisplayableTransform\",value:function(){return this.state.backgroundImage.toDisplayableTransform()}},{key:\"_applyTransition\",value:function(t){return this.chain(new dt(this.chain(),\"scene:applyTransition\",(new xt).setContent([t])))}},{key:\"_jumpTo\",value:function(t){return this.chain(new dt(this.chain(),\"scene:jumpTo\",(new xt).setContent([t])))}},{key:\"_exit\",value:function(){return new dt(this.chain(),\"scene:exit\",(new xt).setContent([]))}},{key:\"_transitionToScene\",value:function(t,e,n){var r=this.chain();if(e){var o=e.copy();t&&t.config.background&&o.setSrc(t.config.background),n&&o.setSrc(n),r._applyTransition(o)}return r}},{key:\"_init\",value:function(){return new dt((arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).chain(),\"scene:init\",(new xt).setContent([]))}}])}(uc);function fl(t){return fl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},fl(t)}function pl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,dl(r.key),r)}}function dl(t){var e=function(t,e){if(\"object\"!=fl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=fl(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==fl(e)?e:e+\"\"}function hl(t,e,n){return e=ml(e),function(t,e){if(e&&(\"object\"==fl(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,yl()?Reflect.construct(e,n||[],ml(t).constructor):e.apply(t,n))}function yl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yl=function(){return!!t})()}function vl(){return vl=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=ml(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},vl.apply(null,arguments)}function ml(t){return ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ml(t)}function gl(t,e){return gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gl(t,e)}ll.EventTypes={\"event:scene.remove\":\"event:scene.remove\",\"event:scene.load\":\"event:scene.load\",\"event:scene.unload\":\"event:scene.unload\",\"event:scene.mount\":\"event:scene.mount\",\"event:scene.unmount\":\"event:scene.unmount\",\"event:scene.preUnmount\":\"event:scene.preUnmount\",\"event:scene.imageLoaded\":\"event:scene.imageLoaded\",\"event:scene.setBackgroundMusic\":\"event:scene.setBackgroundMusic\",\"event:displayable.applyTransition\":\"event:displayable.applyTransition\",\"event:displayable.applyTransform\":\"event:displayable.applyTransform\",\"event:displayable.init\":\"event:displayable.init\"},ll.defaultConfig={invertY:!1,invertX:!1,backgroundMusic:null,backgroundMusicFade:0},ll.defaultState={};var bl=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),hl(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&gl(t,e)}(e,t),function(t,e,n){return e&&pl(t.prototype,e),n&&pl(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"executeAction\",value:function(t){return this.contentNode.getContent().execute({gameState:t}),function(t,e,n,r){var o=vl(ml(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}(e,\"executeAction\",this,3)([t])}}])}(U);function wl(t){return wl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},wl(t)}function _l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Sl(r.key),r)}}function Sl(t){var e=function(t,e){if(\"object\"!=wl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=wl(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==wl(e)?e:e+\"\"}function kl(t,e,n){return e=Ol(e),xl(t,Al()?Reflect.construct(e,n||[],Ol(t).constructor):e.apply(t,n))}function xl(t,e){if(e&&(\"object\"==wl(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function Al(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Al=function(){return!!t})()}function Ol(t){return Ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ol(t)}function Tl(t,e){return Tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tl(t,e)}bl.ActionTypes={action:\"script:action\"};var El=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=kl(this,e)).handler=t,xl(n,n.chain())}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Tl(t,e)}(e,t),function(t,e,n){return e&&_l(t.prototype,e),n&&_l(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"execute\",value:function(t){var n=t.gameState;this.handler(e.getCtx({gameState:n}))}},{key:\"fromChained\",value:function(t){return[new bl(this.chain(),bl.ActionTypes.action,(new xt).setContent(t))]}}],[{key:\"getCtx\",value:function(t){var e=t.gameState;return{gameState:e,game:e.game,liveGame:e.game.getLiveGame(),storable:e.game.getLiveGame().getStorable()}}}])}(ye);function Pl(t){return Pl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Pl(t)}function jl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Cl(r.key),r)}}function Cl(t){var e=function(t,e){if(\"object\"!=Pl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Pl(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Pl(e)?e:e+\"\"}function Ll(t,e,n){return e=Nl(e),function(t,e){if(e&&(\"object\"==Pl(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Il()?Reflect.construct(e,n||[],Nl(t).constructor):e.apply(t,n))}function Il(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Il=function(){return!!t})()}function Nl(t){return Nl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nl(t)}function Ml(t,e){return Ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ml(t,e)}var Rl=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=Ll(this,e)).entryScene=null,n.name=t,n.config=b(e.defaultConfig,r),n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Ml(t,e)}(e,t),function(t,e,n){return e&&jl(t.prototype,e),n&&jl(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"entry\",value:function(t){return this.entryScene=t,this}},{key:\"constructStory\",value:function(){var t=this.entryScene;if(!t)throw new Error(\"Story must have an entry scene\");return t.registerSrc(),t.assignActionId(),t.assignElementId(),this.runStaticCheck(t),this}},{key:\"getAllElementStates\",value:function(){var t;return this.getAllChildrenElements((null===(t=this.entryScene)||void 0===t?void 0:t.sceneRoot)||[]).map((function(t){return{id:t.getId(),data:t.toData()}})).filter((function(t){return!!t.data}))}},{key:\"runStaticCheck\",value:function(t){return new Ss(t).run()}}])}(uc);function Fl(t){return Fl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Fl(t)}function Dl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Bl(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bl(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Bl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Vl(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function Gl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Hl(r.key),r)}}function Ul(t,e,n){return e&&Gl(t.prototype,e),n&&Gl(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function Hl(t){var e=function(t,e){if(\"object\"!=Fl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Fl(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Fl(e)?e:e+\"\"}Rl.defaultConfig={};var zl=function(){function t(e,n,r){Vl(this,t),this.name=e,this.key=r||e,this.content=b({},n)}return Ul(t,[{key:\"set\",value:function(e,n){return t.isSerializable(n)?(this.content[e]=n,this):(console.warn('Value \"'.concat(n,'\" in key \"').concat(String(e),'\" is not serializable, and will not be set\\nat namespace \"').concat(this.name,'\"')),this.content[e]=n,this)}},{key:\"get\",value:function(t){return this.content[t]}},{key:\"toData\",value:function(){return this.serialize()}},{key:\"load\",value:function(t){t?this.content=t:console.warn(\"No data to load\")}},{key:\"serialize\",value:function(){var t=this,e={};return Object.entries(this.content).forEach((function(n){var r=Dl(n,2),o=r[0],i=r[1];e[o]=t.wrap(i)})),e}},{key:\"deserialize\",value:function(t){var e=this;t?Object.entries(t).forEach((function(t){var n=Dl(t,2),r=n[0],o=n[1];e.content[r]=e.unwrap(o)})):console.warn(\"No data to load\")}},{key:\"toTypeName\",value:function(t){return t instanceof Date?\"date\":\"any\"}},{key:\"wrap\",value:function(t){return{any:function(t){return{type:\"any\",data:t}},date:function(t){return{type:\"date\",data:t.toString()}}}[this.toTypeName(t)](t)}},{key:\"unwrap\",value:function(t){var e={any:function(t){return t.data},date:function(t){return new Date(t.data)}};return e[t.type](t)}}],[{key:\"isSerializable\",value:function(e){return!![\"number\",\"string\",\"boolean\"].includes(Fl(e))||(e instanceof Date||(null==e||(Array.isArray(e)?e.every(t.isSerializable):\"object\"===Fl(e)&&(Object.getPrototypeOf(e)===Object.prototype&&Object.values(e).every(t.isSerializable)))))}}])}(),Wl=function(){return Ul((function t(){Vl(this,t),this.namespaces={}}),[{key:\"addNamespace\",value:function(t){return this.namespaces[t.key]&&console.warn(\"Namespace \".concat(t.key,\" already exists\")),this.namespaces[t.key]=t,this}},{key:\"getNamespace\",value:function(t){return this.namespaces[t]}},{key:\"setNamespace\",value:function(t,e){return this.namespaces[t]=e,this}},{key:\"getNamespaces\",value:function(){return this.namespaces}},{key:\"keys\",value:function(){return Object.keys(this.namespaces)}},{key:\"values\",value:function(){return Object.values(this.namespaces)}},{key:\"entries\",value:function(){return Object.entries(this.namespaces)}},{key:\"toData\",value:function(){return this.entries().reduce((function(t,e){var n=Dl(e,2),r=n[0],o=n[1];return t[r]=o.toData(),t}),{})}},{key:\"load\",value:function(t){var e=this;t?Object.entries(t).forEach((function(t){var n=Dl(t,2),r=n[0],o=n[1];e.namespaces[r]?e.namespaces[r].load(o):console.warn(\"Namespace \".concat(r,\" not found in \").concat(e.constructor.name))})):console.warn(\"No data to load\")}},{key:\"clear\",value:function(){return this.namespaces={},this}}])}(),$l=o(196);function Yl(t){return Yl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Yl(t)}function ql(t){return function(t){if(Array.isArray(t))return Zl(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||Kl(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Xl(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Xl=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,\"_invoke\",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",v={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(C([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==Yl(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=p;return function(i,a){if(o===h)throw Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===v)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=h;var c=f(e,n,r);if(\"normal\"===c.type){if(o=r.done?y:d,c.arg===v)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=y,r.method=\"throw\",r.arg=c.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,T(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,v):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function C(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Yl(e)+\" is not iterable\")}return g.prototype=b,o(k,\"constructor\",{value:b,configurable:!0}),o(b,\"constructor\",{value:g,configurable:!0}),g.displayName=c(b,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,\"GeneratorFunction\")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,u,\"Generator\"),c(k,a,(function(){return this})),c(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),v}},e}function Kl(t,e){if(t){if(\"string\"==typeof t)return Zl(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zl(t,e):void 0}}function Zl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ql(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Jl(r.key),r)}}function Jl(t){var e=function(t,e){if(\"object\"!=Yl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Yl(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Yl(e)?e:e+\"\"}var tf=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},ef=function(){return function(t,e,n){return e&&Ql(t.prototype,e),n&&Ql(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.state={sounds:[],srcManagers:[],elements:[]},this.currentHandling=null,this.stage=n,this.game=e,this.events=new k,this.logger=new T(e,\"NarraLeaf-React\")}),[{key:\"findElementByScene\",value:function(t){return this.state.elements.find((function(e){return e.scene===t}))||null}},{key:\"findElementByImage\",value:function(t){return this.state.elements.find((function(e){return e.ele.images.includes(t)}))||null}},{key:\"findElementByDisplayable\",value:function(t){return this.state.elements.find((function(e){return e.ele.displayable.includes(t)}))||null}},{key:\"addScene\",value:function(t){return this.sceneExists(t)||this.state.elements.push({scene:t,ele:this.getElementMap()}),this}},{key:\"popScene\",value:function(){var t=this.state.elements.pop();return t?(this.removeElements(t.scene),this):this}},{key:\"removeScene\",value:function(t){return this.removeElements(t),this}},{key:\"getSceneElements\",value:function(){return this.state.elements}},{key:\"getLastScene\",value:function(){var t;return(null===(t=this.state.elements[this.state.elements.length-1])||void 0===t?void 0:t.scene)||null}},{key:\"sceneExists\",value:function(t){return t?this.state.elements.some((function(e){return e.scene===t})):!!this.getLastScene()}},{key:\"isSceneActive\",value:function(t){var e,n=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=Kl(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.state.elements);try{for(n.s();!(e=n.n()).done;){if(e.value.scene===t)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:\"handle\",value:function(t){return this.currentHandling===t||(this.currentHandling=t,t.type),this}},{key:\"createText\",value:function(t,e,n,r){var o,i=null===(o=this.findElementByScene(this._getLastSceneIfNot(r)))||void 0===o?void 0:o.ele.texts;if(!i)throw new Error(\"Scene not found\");var a=this.createWaitableAction({character:e.config.character,sentence:e,id:t},(function(){i.splice(i.indexOf(a),1),n&&n()}));i.push(a)}},{key:\"createMenu\",value:function(t,e,n){var r;if(!t.choices.length)throw new Error(\"Menu must have at least one choice\");var o=null===(r=this.findElementByScene(this._getLastSceneIfNot(n)))||void 0===r?void 0:r.ele.menus;if(!o)throw new Error(\"Scene not found\");var i=this.createWaitableAction(t,(function(t){o.splice(o.indexOf(i),1),e&&e(t)}));o.push(i)}},{key:\"createImage\",value:function(t,e){var n=this._getLastSceneIfNot(e),r=this.findElementByScene(n);return r?(r.ele.images.push(t),this):this}},{key:\"disposeImage\",value:function(t,e){var n,r=this._getLastSceneIfNot(e),o=null===(n=this.findElementByScene(r))||void 0===n?void 0:n.ele.images;if(!o)throw new Error(\"Scene not found\");var i=o.indexOf(t);if(-1===i)throw new Error(\"Image not found\");return o.splice(i,1),this}},{key:\"createDisplayable\",value:function(t,e){var n=this._getLastSceneIfNot(e),r=this.findElementByScene(n);return r?(r.ele.displayable.push(t),this):this}},{key:\"disposeDisplayable\",value:function(t,e){var n,r=this._getLastSceneIfNot(e),o=null===(n=this.findElementByScene(r))||void 0===n?void 0:n.ele.displayable;if(!o)throw new Error(\"Scene not found\");var i=o.indexOf(t);if(-1===i)throw new Error(\"Displayables not found\");return o.splice(i,1),this}},{key:\"forceReset\",value:function(){var t=this;this.state.sounds.forEach((function(t){var e;return null===(e=t.getPlaying())||void 0===e?void 0:e.stop()})),this.state.elements.forEach((function(e){var n=e.scene;t.offSrcManager(n.srcManager),t.removeScene(n),n.events.clear()})),this.state.elements=[],this.state.srcManagers=[]}},{key:\"initSound\",value:function(t,e){return t.getPlaying()||t.setPlaying(new(this.getHowl())(t.getHowlOptions(e))),t}},{key:\"playSound\",value:function(t,e,n){this.initSound(t,n);var r=t.getPlaying().play(),o=[t.getPlaying().once(\"end\",i.bind(this)),t.getPlaying().once(\"stop\",i.bind(this))];function i(){e&&e(),o.forEach((function(t){return t.off()})),this.state.sounds=this.state.sounds.filter((function(e){return e!==t})),this.stage.next()}return this.state.sounds.push(t),t.state.token=r,r}},{key:\"stopSound\",value:function(t){var e,n;return(null===(e=t.state.playing)||void 0===e?void 0:e.playing(t.getToken()))&&(null===(n=t.state.playing)||void 0===n||n.stop(t.getToken())),t.setPlaying(null).setToken(null),t}},{key:\"transitionSound\",value:function(t,e,n){return tf(this,void 0,void 0,Xl().mark((function r(){var o;return Xl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=5;break}if(!n){r.next=4;break}return r.next=4,this.fadeSound(t,0,n);case 4:this.stopSound(t);case 5:if(!e){r.next=12;break}if(o=e.config.volume,this.playSound(e,void 0,{volume:0}),!n){r.next=11;break}return r.next=11,this.fadeSound(e,o,n);case 11:e.getPlaying().volume(o,e.getToken());case 12:case\"end\":return r.stop()}}),r,this)})))}},{key:\"fadeSound\",value:function(t,e,n){var r,o;return tf(this,void 0,void 0,Xl().mark((function i(){var a;return Xl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=null===(r=t.getPlaying())||void 0===r?void 0:r.volume(t.getToken()),null===(o=t.getPlaying())||void 0===o||o.fade(a,e,n,t.getToken()),i.next=4,A(n);case 4:return i.abrupt(\"return\",void 0);case 5:case\"end\":return i.stop()}}),i)})))}},{key:\"getHowl\",value:function(){return $l.Howl}},{key:\"animateImage\",value:function(t,e,n,r){return this.anyEvent.apply(this,[t,e,r].concat(ql(n)))}},{key:\"animateText\",value:function(t,e,n,r){return this.anyEvent.apply(this,[t,e,r].concat(ql(n)))}},{key:\"registerSrcManager\",value:function(t){return this.state.srcManagers.push(t),this}},{key:\"offSrcManager\",value:function(t){return this.state.srcManagers=this.state.srcManagers.filter((function(e){return e!==t})),this}},{key:\"getStorable\",value:function(){return this.game.getLiveGame().getStorable()}},{key:\"dispose\",value:function(){this.forceReset()}},{key:\"toData\",value:function(){return{scenes:this.state.elements.map((function(t){return{sceneId:t.scene.getId(),elements:{images:t.ele.images.map((function(t){return t.getId()}))}}}))}}},{key:\"loadData\",value:function(t,e){var n=this;if(this.state.elements=[],!this.game.getLiveGame().story)throw new Error(\"No story loaded\");t.scenes.forEach((function(t){var r=t.sceneId,o=t.elements;n.logger.debug(\"Loading scene: \"+r);var i=e.get(r);if(!i)throw new Error(\"Scene not found, id: \"+r+\"\\nNarraLeaf cannot find the element with the id from the saved game\");var a={scene:i,ele:{images:o.images.map((function(t){if(!e.has(t))throw new Error(\"Image not found, id: \"+t+\"\\nNarraLeaf cannot find the element with the id from the saved game\");return e.get(t)})),menus:[],texts:[],displayable:[]}};n.state.elements.push(a),n.registerSrcManager(i.srcManager),dt.registerEventListeners(i,n)}))}},{key:\"initScenes\",value:function(){var t=this;this.state.elements.forEach((function(e){var n=e.scene;dt.registerEventListeners(n,t)}))}},{key:\"getElementMap\",value:function(){return{texts:[],menus:[],images:[],displayable:[]}}},{key:\"removeElements\",value:function(t){var e=this.state.elements.findIndex((function(e){return e.scene===t}));return-1===e||this.state.elements.splice(e,1),this}},{key:\"_getLastSceneIfNot\",value:function(t){var e=t||this.getLastScene();if(!e||!this.sceneExists(e))throw new Error('Scene not found, please call \"scene.activate()\" first.');return e}},{key:\"anyEvent\",value:function(t,e,n){for(var r,o=this,i=arguments.length,a=new Array(i>3?i-3:0),s=3;s<i;s++)a[s-3]=arguments[s];(r=e.events).any.apply(r,[t].concat(a)).then(n).then((function(){o.stage.next()}))}},{key:\"createWaitableAction\",value:function(t,e){return{action:t,onClick:function(t){e&&e(t)}}}}])}();function nf(t){var e,n,r=\"\";if(\"string\"==typeof t||\"number\"==typeof t)r+=t;else if(\"object\"==typeof t)if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=nf(t[e]))&&(r&&(r+=\" \"),r+=n)}else for(n in t)t[n]&&(r&&(r+=\" \"),r+=n);return r}ef.EventTypes={\"event:state.ready\":\"event:state.ready\",\"event:state.end\":\"event:state.end\",\"event:state.player.skip\":\"event:state.player.skip\",\"event:state.preload.unmount\":\"event:state.preload.unmount\",\"event:state.preload.loaded\":\"event:state.preload.loaded\",\"event:state.player.flush\":\"event:state.player.flush\"};const rf=function(){for(var t,e,n=0,r=\"\",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=nf(t))&&(r&&(r+=\" \"),r+=e);return r};var of=o(12),af=o.n(of);function sf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return uf(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uf(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function uf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function cf(t){return cf=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},cf(t)}function lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,ff(r.key),r)}}function ff(t){var e=function(t,e){if(\"object\"!=cf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=cf(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==cf(e)?e:e+\"\"}var pf=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.state={width:0,height:0,minWidth:800,minHeight:450,paused:!1},this.events=new k,this.lockers=[],this.updater=null}return function(t,e,n){return e&&lf(t.prototype,e),n&&lf(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(t,[{key:\"update\",value:function(e,n){this.state.width=e,this.state.height=n,this.events.emit(t.EventTypes[\"event:aspectRatio.update\"],e,n)}},{key:\"updateMin\",value:function(t,e){this.state.minWidth=t,this.state.minHeight=e}},{key:\"lock\",value:function(){var t=Symbol();return this.lockers.push(t),t}},{key:\"unlock\",value:function(t){if(t&&!this.lockers.includes(t))throw new Error(\"Locker not found\");return this.lockers=this.lockers.filter((function(e){return e!==t})),this.triggerUpdate(),null}},{key:\"isLocked\",value:function(){return!!this.lockers.length}},{key:\"getStyle\",value:function(){return{width:\"\".concat(this.state.width,\"px\"),height:\"\".concat(this.state.height,\"px\")}}},{key:\"setUpdate\",value:function(t){this.updater=t}},{key:\"pause\",value:function(){this.state.paused=!0,this.events.emit(t.EventTypes[\"event:aspectRatio.pause\"])}},{key:\"resume\",value:function(){this.state.paused=!1,this.events.emit(t.EventTypes[\"event:aspectRatio.resume\"])}},{key:\"onUpdate\",value:function(e){var n=this;return this.events.on(t.EventTypes[\"event:aspectRatio.update\"],e),function(){n.events.off(t.EventTypes[\"event:aspectRatio.update\"],e)}}},{key:\"triggerUpdate\",value:function(){this.updater&&this.updater()}}])}();pf.EventTypes={\"event:aspectRatio.update\":\"event:aspectRatio.update\",\"event:aspectRatio.pause\":\"event:aspectRatio.pause\",\"event:aspectRatio.resume\":\"event:aspectRatio.resume\"};var df=(0,of.createContext)(null);function hf(t){var e=t.children,n=sf((0,of.useState)(new pf),1)[0];return af().createElement(df.Provider,{value:{ratio:n}},e)}function yf(){var t=(0,of.useContext)(df);if(!df||!t)throw new Error(\"useRatio must be used within a RatioProvider\");var e=sf((0,of.useReducer)((function(t){return t+1}),0),2)[1],n=t.ratio;return(0,of.useEffect)((function(){return n.onUpdate((function(){e()}))}),[]),t}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vf.apply(null,arguments)}function mf(t){var e=t.children,n=t.className,r=t.props,o=t.ref,i=yf().ratio,a=i.getStyle();return af().createElement(\"div\",{className:rf(\"inset-0 flex items-center justify-center\",n),style:{width:\"100%\",height:\"100%\",minWidth:\"\".concat(i.state.minWidth,\"px\"),minHeight:\"\".concat(i.state.minHeight,\"px\")}},af().createElement(\"div\",vf({style:Object.assign(Object.assign({},a),{position:\"relative\",overflow:\"hidden\"})},r||{},{ref:o}),e))}function gf(t){return gf=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},gf(t)}function bf(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bf=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,\"_invoke\",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",v={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(C([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==gf(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=p;return function(i,a){if(o===h)throw Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===v)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=h;var c=f(e,n,r);if(\"normal\"===c.type){if(o=r.done?y:d,c.arg===v)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=y,r.method=\"throw\",r.arg=c.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,T(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,v):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function C(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(gf(e)+\" is not iterable\")}return g.prototype=b,o(k,\"constructor\",{value:b,configurable:!0}),o(b,\"constructor\",{value:g,configurable:!0}),g.displayName=c(b,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,\"GeneratorFunction\")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,u,\"Generator\"),c(k,a,(function(){return this})),c(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),v}},e}function wf(t){return function(t){if(Array.isArray(t))return kf(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||Sf(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function _f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||Sf(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Sf(t,e){if(t){if(\"string\"==typeof t)return kf(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kf(t,e):void 0}}function kf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function xf(t){var e=bf().mark(M),n=t.sentence,r=t.gameState,o=t.useTypeEffect,i=void 0===o||o,a=t.onCompleted,s=t.finished,u=t.count,c=t.className,l=_f((0,of.useState)(!1),2),f=l[0],p=l[1],d=(0,of.useMemo)((function(){return n.evaluate(El.getCtx({gameState:r}))}),[]),h=r.game,y=_f((0,of.useState)([]),2),v=y[0],m=y[1],g=(0,of.useRef)(M(d)),b=(0,of.useRef)(null),w=(0,of.useRef)(null),_=_f((0,of.useState)(0),2),k=_[0],x=_[1],A=_f((0,of.useReducer)((function(t){return t+1}),0),2)[1],O=_f((0,of.useState)(new Set),2),T=O[0],E=O[1],P=_f((0,of.useState)(!1),2),j=P[0],C=P[1];function L(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];w.current&&(clearTimeout(w.current),w.current=null);for(var e=!1;!e;){var n=g.current.next(),o=n.done,i=n.value;if(o)p(!0),a&&(r.logger.info(\"Say\",\"Completed\",o,i),a()),e=!0;else if(Ns.isPause(i)){if(t)continue;N(Ns.from(i)),e=!0}else I(i)}}function I(t){m((function(e){if(\"\\n\"!==t&&T.has(t))return e;E((function(e){return new Set(e).add(t)}));var n=e[e.length-1];return n&&\"\\n\"!==n&&\"\\n\"!==t&&n.tag===t.tag?[].concat(wf(e.slice(0,-1)),[{text:n.text+t.text,config:t.config,tag:t.tag,tag2:t.tag2}]):[].concat(wf(e),[t])}))}function N(t){r.logger.info(\"Say\",\"Paused\",t),t.config.duration?b.current=setTimeout((function(){b.current=null,x((function(t){return t+1}))}),t.config.duration):C(!0)}function M(t){var n,r,o,i,a;return bf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wf(t),r=0;case 2:if(!(r<n.length)){e.next=24;break}if(o=n[r],!Ns.isPause(o.text)){e.next=8;break}return e.next=7,Ns.from(o.text);case 7:return e.abrupt(\"continue\",21);case 8:i=0;case 9:if(!(i<o.text.length)){e.next=21;break}if(\"\\n\"!==(a=o.text[i])){e.next=16;break}return e.next=14,\"\\n\";case 14:e.next=18;break;case 16:return e.next=18,{text:a,config:o.config,tag:r,tag2:i};case 18:i++,e.next=9;break;case 21:r++,e.next=2;break;case 24:return e.abrupt(\"return\");case 25:case\"end\":return e.stop()}}),e)}return(0,of.useEffect)((function(){if(i||L(!0),b.current&&s&&!f)return clearTimeout(b.current),b.current=null,void(a&&(r.logger.info(\"Say\",\"Completed\",b.current,s,f),a()));if(f||s||j||b.current)r.logger.debug(\"Sentence.tsx\",\"locked\",f,s,j);else{var t=g.current.next(),e=t.done,n=t.value;if(e)return p(!0),void(a&&(r.logger.info(\"Say\",\"Completed\",e,n),a()));Ns.isPause(n)?N(Ns.from(n)):(I(n),A(),w.current=setTimeout((function(){x((function(t){return t+1}))}),h.config.elements.say.textInterval))}}),[k,s,j]),(0,of.useEffect)((function(){if(u&&!b.current){if(j)return C(!1),void x((function(t){return t+1}));L(),x((function(t){return t+1}))}}),[u]),af().createElement(\"div\",{className:rf(\"whitespace-pre-wrap\",h.config.elementStyles.say.textContainerClassName,{\"font-bold\":n.config.bold,italic:n.config.italic},c),style:{fontFamily:n.config.fontFamily||h.config.elementStyles.say.fontFamily,fontSize:n.config.fontSize||h.config.elementStyles.say.fontSize}},v.map((function(t,e){return\"\\n\"===t?af().createElement(\"br\",{key:e}):af().createElement(\"span\",{key:e,style:Object.assign({color:S(t.config.color||n.config.color||Ds.defaultColor),fontFamily:t.config.fontFamily,fontSize:t.config.fontSize},h.config.app.debug?{border:\"1px dashed red\"}:{}),className:rf(h.config.elementStyles.say.textSpanClassName,\"whitespace-pre inline-block\",{\"font-bold\":t.config.bold,italic:t.config.italic},t.config.className)},t.config.ruby?af().createElement(\"ruby\",{className:\"align-bottom inline-block\"},af().createElement(\"rt\",{className:\"block text-center\"},t.config.ruby),t.text):t.text)})))}function Af(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Of(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Of(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Of(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Tf(t){var e,n=t.action,r=t.onClick,o=t.useTypeEffect,i=void 0===o||o,a=t.className,s=t.state,u=n.sentence,c=Af((0,of.useState)(!1),2),l=c[0],f=c[1],p=s.game,d=Af((0,of.useState)(0),2),h=d[0],y=d[1];return(0,of.useEffect)((function(){if(window){var t=function(t){p.config.elements.say.nextKey.includes(t.key)&&(l?r&&r():y((function(t){return t+1})))};return window.addEventListener(\"keyup\",t),function(){window.removeEventListener(\"keyup\",t)}}console.warn(\"Failed to add event listener, window is not available\\nat Say.tsx: onElementClick\")}),[l]),(0,of.useEffect)((function(){var t=s.events.onEvents([{type:ef.EventTypes[\"event:state.player.skip\"],listener:s.events.on(ef.EventTypes[\"event:state.player.skip\"],(function(){s.logger.log(\"NarraLeaf-React: Say\",\"Skipped\"),l?r&&r():f(!0)}))}]);return function(){t.cancel()}})),af().createElement(mf,{className:\"absolute\"},u.state.display&&af().createElement(\"div\",{className:rf(\"absolute bottom-0 w-[calc(100%-40px)] min-h-[calc(33%-40px)] m-4 bg-white flex flex-col items-start justify-between\",p.config.elementStyles.say.containerClassName,a),onClick:function(){l?r&&r():y((function(t){return t+1}))}},af().createElement(\"div\",{className:rf(\"rounded-br-md\",p.config.elementStyles.say.nameTextClassName)},null===(e=u.config.character)||void 0===e?void 0:e.state.name),af().createElement(xf,{sentence:u,gameState:s,finished:l,useTypeEffect:i,onCompleted:function(){f(!0)},count:h}),af().createElement(\"div\",null)))}function Ef(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Pf(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pf(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Pf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var jf=af().createContext(null);function Cf(t){var e=t.children,n=t.game,r=new Vf({}),o=Ef((0,of.useState)(n||r),2),i=o[0],a=o[1];return af().createElement(jf.Provider,{value:{game:i,setGame:a}},e)}function Lf(){var t=(0,of.useContext)(jf);if(!t)throw new Error(\"useGame must be used within a GameProvider\");return t}var If,Nf={say:Tf,menu:function(t){var e=t.prompt,n=t.choices,r=t.afterChoose,o=t.state,i=Lf().game,a=i.config.elements.say.use;return af().createElement(af().Fragment,null,af().createElement(mf,{className:\"absolute\"},af().createElement(\"div\",{className:\"absolute flex flex-col items-center justify-center min-w-full w-full h-full\"},e&&af().createElement(a,{state:o,action:{sentence:e,character:null},useTypeEffect:!1,className:\"z-10\"}))),af().createElement(mf,{className:\"absolute\"},af().createElement(\"div\",{className:rf(\"absolute flex flex-col items-center justify-center min-w-full w-full h-full\",i.config.elementStyles.menu.containerClassName)},af().createElement(\"div\",{className:\"p-4 rounded-lg w-full z-20\"},af().createElement(\"div\",{className:\"flex flex-col items-center mt-4 w-full\"},n.map((function(t,e){return af().createElement(\"button\",{key:e,className:rf(\"bg-white text-black p-2 mt-2 w-1/2\",i.config.elementStyles.menu.choiceButtonClassName),onClick:function(){return function(t){r(t)}(t)}},af().createElement(xf,{sentence:t.prompt,gameState:o,useTypeEffect:!1,className:rf(i.config.elementStyles.menu.choiceButtonTextClassName)}))})))))))}};function Mf(t){return Mf=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Mf(t)}function Rf(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function Ff(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Bf(r.key),r)}}function Df(t,e,n){return e&&Ff(t.prototype,e),n&&Ff(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function Bf(t){var e=function(t,e){if(\"object\"!=Mf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Mf(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Mf(e)?e:e+\"\"}!function(t){t.game=\"game\"}(If||(If={}));var Vf=function(){return Df((function t(e){Rf(this,t),this.liveGame=null,this.config=b(t.DefaultConfig,e)}),[{key:\"useComponent\",value:function(t,e){if(!Object.keys(Nf).includes(t))throw new Error(\"Invalid key \".concat(t));if(\"function\"!=typeof e)throw new Error(\"Invalid component for key \".concat(t));return this.config.elements[t].use=e,this}},{key:\"getLiveGame\",value:function(){if(!this.liveGame){var t=this.createLiveGame();return this.liveGame=t,t}return this.liveGame}},{key:\"createLiveGame\",value:function(){return new Gf(this)}}])}();Vf.defaultSettings={volume:1},Vf.ComponentTypes={say:\"say\",menu:\"menu\"},Vf.DefaultConfig={player:{contentContainerId:\"__narraleaf_content\",aspectRatio:16/9,minWidth:800,minHeight:450,width:\"100%\",height:\"100%\",skipKey:[\"Control\"],skipInterval:100},elements:{say:{nextKey:[\" \"],textInterval:50,use:Nf.say},img:{slowLoadWarning:!0,slowLoadThreshold:2e3,allowSkipTransform:!0,allowSkipTransition:!0},menu:{use:Nf.menu},background:{allowSkipTransform:!0,allowSkipTransition:!1},text:{allowSkipTransform:!0,allowSkipTransition:!0}},elementStyles:{say:{containerClassName:\"\",nameTextClassName:\"\",textContainerClassName:\"\",textSpanClassName:\"\",rubyClassName:\"\"},menu:{containerClassName:\"\",choiceButtonClassName:\"\",choiceButtonTextClassName:\"\"}},app:{debug:!1,logger:{log:!1,info:!1,warn:!0,error:!0,debug:!1,trace:!1}}},Vf.GameSettingsNamespace=If;var Gf=function(){function t(e){Rf(this,t),this.gameLock=new j,this.currentSavedGame=null,this.story=null,this.lockedAwaiting=null,this.gameState=void 0,this._lockedCount=0,this.currentAction=null,this._nextLock=new P,this.game=e,this.storable=new Wl,this.initNamespaces()}return Df(t,[{key:\"initNamespaces\",value:function(){return this.storable.clear().addNamespace(new zl(t.GameSpacesKey.game,t.DefaultNamespaces.game)),this}},{key:\"getStorable\",value:function(){return this.storable}},{key:\"loadStory\",value:function(t){return this.story=t.constructStory(),this}},{key:\"serialize\",value:function(){var t,e,n;if(!this.gameState)throw new Error(\"No game state\");var r=this.gameState,o=this.story;if(!o)throw new Error(\"No story loaded\");var i=this.storable.toData(),a=r.toData(),s=(null===(t=this.getCurrentAction())||void 0===t?void 0:t.getId())||null,u=o.getAllElementStates();return{name:(null===(e=this.currentSavedGame)||void 0===e?void 0:e.name)||\"\",meta:{created:(null===(n=this.currentSavedGame)||void 0===n?void 0:n.meta.created)||Date.now(),updated:Date.now()},game:{store:i,stage:a,currentAction:s,elementStates:u}}}},{key:\"deserialize\",value:function(t){var e;if(!this.gameState)throw new Error(\"No game state\");var n=this.gameState,r=this.story;if(!r)throw new Error(\"No story loaded\");this.reset({gameState:n}),n.stage.forceUpdate();var o=new Map,i=new Map,a=t.game,s=a.store,u=a.stage,c=a.elementStates,l=a.currentAction;if(r.forEachChild((null===(e=r.entryScene)||void 0===e?void 0:e.sceneRoot)||[],(function(t){o.set(t.getId(),t),i.set(t.callee.getId(),t.callee)})),this.storable.load(s),c.forEach((function(t){var e=t.id,r=t.data;n.logger.debug(\"restore element\",e);var o=i.get(e);if(!o)throw new Error(\"Element not found, id: \"+e+\"\\nNarraLeaf cannot find the element with the id from the saved game\");o.reset(),o.fromData(r)})),this.currentSavedGame=t,n.loadData(u,i),l){var f=o.get(l);if(!f)throw new Error(\"Action not found, id: \"+l+\"\\nNarraLeaf cannot find the action with the id from the saved game\");this.currentAction=f}n.stage.forceUpdate(),n.stage.next()}},{key:\"newGame\",value:function(){var t,e,n;if(!this.gameState)throw new Error(\"No game state\");var r=this.gameState;this.reset({gameState:r}),this.initNamespaces();var o=this.getNewSavedGame();o.name=\"NewGame-\"+Date.now(),this.currentSavedGame=o;var i=null===(t=this.story)||void 0===t?void 0:t.getAllElementMap((null===(n=null===(e=this.story)||void 0===e?void 0:e.entryScene)||void 0===n?void 0:n.sceneRoot)||[]);return i?i.forEach((function(t){r.logger.debug(\"reset element\",t),t.reset()})):r.logger.warn(\"No elements found\"),r.stage.forceUpdate(),r.stage.next(),this}},{key:\"reset\",value:function(t){var e,n,r=t.gameState;this.lockedAwaiting&&this.lockedAwaiting.abort(),this.currentAction=(null===(n=null===(e=this.story)||void 0===e?void 0:e.entryScene)||void 0===n?void 0:n.sceneRoot)||null,this.lockedAwaiting=null,this.currentSavedGame=null,r.forceReset()}},{key:\"getCurrentAction\",value:function(){return this.currentAction}},{key:\"setCurrentAction\",value:function(t){return this.currentAction=t,this}},{key:\"next\",value:function(t){var e,n;if(this._nextLock.isLocked())return null;if(this._nextLock.lock(),this.gameLock.isLocked())return this.gameLock;if(!this.story)throw new Error(\"No story loaded\");if(this.lockedAwaiting){if(!this.lockedAwaiting.solved){if(this._lockedCount++,this._lockedCount>1e3)throw new Error(\"Locked awaiting\");return this._nextLock.unlock(),this.lockedAwaiting}var r=this.lockedAwaiting.result;return this.currentAction=(null===(e=null==r?void 0:r.node)||void 0===e?void 0:e.action)||null,t.logger.debug(\"next action\",r),this.lockedAwaiting=null,this._nextLock.unlock(),r||null}if(!this.currentAction)return t.events.emit(ef.EventTypes[\"event:state.end\"]),t.logger.warn(\"LiveGame\",\"No current action\"),this._nextLock.unlock(),null;var o=this.currentAction.executeAction(t);return w.isAwaitable(o)?(this.lockedAwaiting=o,this._nextLock.unlock(),o):(t.logger.debug(\"next action\",o),this._lockedCount=0,this.currentAction=(null===(n=o.node)||void 0===n?void 0:n.action)||null,this._nextLock.unlock(),o)}},{key:\"abortAwaiting\",value:function(){var t;if(this.lockedAwaiting){var e=this.lockedAwaiting.abort();this.currentAction=(null===(t=null==e?void 0:e.node)||void 0===t?void 0:t.action)||null,this.lockedAwaiting=null}}},{key:\"executeAction\",value:function(t,e){var n,r=e.executeAction(t);return w.isAwaitable(r)?r:(null===(n=null==r?void 0:r.node)||void 0===n?void 0:n.action)||null}},{key:\"setGameState\",value:function(t){return this.gameState=t,this}},{key:\"getGameState\",value:function(){return this.gameState}},{key:\"getNewSavedGame\",value:function(){var t,e,n;return{name:\"\",meta:{created:Date.now(),updated:Date.now()},game:{store:{},stage:{scenes:[]},elementStates:[],currentAction:(null===(n=null===(e=null===(t=this.story)||void 0===t?void 0:t.entryScene)||void 0===e?void 0:e.sceneRoot)||void 0===n?void 0:n.getId())||null}}}}])}();Gf.DefaultNamespaces={game:{}},Gf.GameSpacesKey={game:\"game\"};var Uf=o(72),Hf=o.n(Uf),zf=o(825),Wf=o.n(zf),$f=o(659),Yf=o.n($f),qf=o(56),Xf=o.n(qf),Kf=o(540),Zf=o.n(Kf),Qf=o(113),Jf=o.n(Qf),tp=o(587),ep={};ep.styleTagTransform=Jf(),ep.setAttributes=Xf(),ep.insert=Yf().bind(null,\"head\"),ep.domAPI=Wf(),ep.insertStyleElement=Zf();Hf()(tp.A,ep);tp.A&&tp.A.locals&&tp.A.locals;var np=o(848);const rp=(0,of.createContext)({strict:!1});function op(t){for(const e in t)Yi[e]={...Yi[e],...t[e]}}function ip({children:t,features:e,strict:n=!1}){const[,r]=(0,of.useState)(!ap(e)),o=(0,of.useRef)(void 0);if(!ap(e)){const{renderer:t,...n}=e;o.current=t,op(n)}return(0,of.useEffect)((()=>{ap(e)&&e().then((({renderer:t,...e})=>{op(e),o.current=t,r(!0)}))}),[]),(0,np.jsx)(rp.Provider,{value:{renderer:o.current,strict:n},children:t})}function ap(t){return\"function\"==typeof t}function sp(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function up(t,e,n={}){var r;const o=Ai(t,e,\"exit\"===n.type?null===(r=t.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(i=n.transitionOverride);const a=o?()=>Promise.all(Li(t,o,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(r=0)=>{const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(t,e,n=0,r=0,o=1,i){const a=[],s=(t.variantChildren.size-1)*r,u=1===o?(t=0)=>t*r:(t=0)=>s-t*r;return Array.from(t.variantChildren).sort(cp).forEach(((t,r)=>{t.notify(\"AnimationStart\",e),a.push(up(t,e,{...i,delay:n+u(r)}).then((()=>t.notify(\"AnimationComplete\",e))))})),Promise.all(a)}(t,e,o+r,a,s,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[t,e]=\"beforeChildren\"===u?[a,s]:[s,a];return t().then((()=>e()))}return Promise.all([a(),s(n.delay)])}function cp(t,e){return t.sortNodePosition(e)}const lp=Hi.length;function fp(t){if(!t)return;if(!t.isControllingVariants){const e=t.parent&&fp(t.parent)||{};return void 0!==t.props.initial&&(e.initial=t.props.initial),e}const e={};for(let n=0;n<lp;n++){const r=Hi[n],o=t.props[r];(Gi(o)||!1===o)&&(e[r]=o)}return e}const pp=[...Ui].reverse(),dp=Ui.length;function hp(t){return e=>Promise.all(e.map((({animation:e,options:n})=>function(t,e,n={}){let r;if(t.notify(\"AnimationStart\",e),Array.isArray(e)){const o=e.map((e=>up(t,e,n)));r=Promise.all(o)}else if(\"string\"==typeof e)r=up(t,e,n);else{const o=\"function\"==typeof e?Ai(t,e,n.custom):e;r=Promise.all(Li(t,o,n))}return r.then((()=>{t.notify(\"AnimationComplete\",e)}))}(t,e,n))))}function yp(t){let e=hp(t),n=gp(),r=!0;const o=e=>(n,r)=>{var o;const i=Ai(t,r,\"exit\"===e?null===(o=t.presenceContext)||void 0===o?void 0:o.custom:void 0);if(i){const{transition:t,transitionEnd:e,...r}=i;n={...n,...r,...e}}return n};function i(i){const{props:a}=t,s=fp(t.parent)||{},u=[],c=new Set;let l={},f=1/0;for(let e=0;e<dp;e++){const p=pp[e],d=n[p],h=void 0!==a[p]?a[p]:s[p],y=Gi(h),v=p===i?d.isActive:null;!1===v&&(f=e);let m=h===s[p]&&h!==a[p]&&y;if(m&&r&&t.manuallyAnimateOnMount&&(m=!1),d.protectedKeys={...l},!d.isActive&&null===v||!h&&!d.prevProp||Vi(h)||\"boolean\"==typeof h)continue;const g=vp(d.prevProp,h);let b=g||p===i&&d.isActive&&!m&&y||e>f&&y,w=!1;const _=Array.isArray(h)?h:[h];let S=_.reduce(o(p),{});!1===v&&(S={});const{prevResolvedValues:k={}}=d,x={...k,...S},A=e=>{b=!0,c.has(e)&&(w=!0,c.delete(e)),d.needsAnimating[e]=!0;const n=t.getValue(e);n&&(n.liveStyle=!1)};for(const t in x){const e=S[t],n=k[t];if(l.hasOwnProperty(t))continue;let r=!1;r=vi(e)&&vi(n)?!sp(e,n):e!==n,r?null!=e?A(t):c.add(t):void 0!==e&&c.has(t)?A(t):d.protectedKeys[t]=!0}d.prevProp=h,d.prevResolvedValues=S,d.isActive&&(l={...l,...S}),r&&t.blockInitialAnimation&&(b=!1);b&&(!(m&&g)||w)&&u.push(..._.map((t=>({animation:t,options:{type:p}}))))}if(c.size){const e={};c.forEach((n=>{const r=t.getBaseTarget(n),o=t.getValue(n);o&&(o.liveStyle=!0),e[n]=null!=r?r:null})),u.push({animation:e})}let p=Boolean(u.length);return!r||!1!==a.initial&&a.initial!==a.animate||t.manuallyAnimateOnMount||(p=!1),r=!1,p?e(u):Promise.resolve()}return{animateChanges:i,setActive:function(e,r){var o;if(n[e].isActive===r)return Promise.resolve();null===(o=t.variantChildren)||void 0===o||o.forEach((t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)})),n[e].isActive=r;const a=i(e);for(const t in n)n[t].protectedKeys={};return a},setAnimateFunction:function(n){e=n(t)},getState:()=>n,reset:()=>{n=gp(),r=!0}}}function vp(t,e){return\"string\"==typeof e?e!==t:!!Array.isArray(e)&&!sp(e,t)}function mp(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gp(){return{animate:mp(!0),whileInView:mp(),whileHover:mp(),whileTap:mp(),whileDrag:mp(),whileFocus:mp(),exit:mp()}}class bp{constructor(t){this.isMounted=!1,this.node=t}update(){}}let wp=0;const _p={animation:{Feature:class extends bp{constructor(t){super(t),t.animationState||(t.animationState=yp(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Vi(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null===(t=this.unmountControls)||void 0===t||t.call(this)}}},exit:{Feature:class extends bp{constructor(){super(...arguments),this.id=wp++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive(\"exit\",!t);e&&!t&&r.then((()=>e(this.id)))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}}};function Sp(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function kp(t,e=\"page\"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const xp=t=>e=>(t=>\"mouse\"===t.pointerType?\"number\"!=typeof t.button||t.button<=0:!1!==t.isPrimary)(e)&&t(e,kp(e));function Ap(t,e,n,r){return Sp(t,e,xp(n),r)}function Op(t){let e=null;return()=>{const n=()=>{e=null};return null===e&&(e=t,n)}}const Tp=Op(\"dragHorizontal\"),Ep=Op(\"dragVertical\");function Pp(){const t=function(t){let e=!1;if(\"y\"===t)e=Ep();else if(\"x\"===t)e=Tp();else{const t=Tp(),n=Ep();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}(!0);return!t||(t(),!1)}function jp(t,e){const n=e?\"pointerenter\":\"pointerleave\",r=e?\"onHoverStart\":\"onHoverEnd\";return Ap(t.current,n,((n,o)=>{if(\"touch\"===n.pointerType||Pp())return;const i=t.getProps();t.animationState&&i.whileHover&&t.animationState.setActive(\"whileHover\",e);const a=i[r];a&&Gn.postRender((()=>a(n,o)))}),{passive:!t.getProps()[r]})}const Cp=(t,e)=>!!e&&(t===e||Cp(t,e.parentElement));function Lp(t,e){if(!e)return;const n=new PointerEvent(\"pointer\"+t);e(n,kp(n))}const Ip=new WeakMap,Np=new WeakMap,Mp=t=>{const e=Ip.get(t.target);e&&e(t)},Rp=t=>{t.forEach(Mp)};function Fp(t,e,n){const r=function({root:t,...e}){const n=t||document;Np.has(n)||Np.set(n,{});const r=Np.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(Rp,{root:t,...e})),r[o]}(e);return Ip.set(t,n),r.observe(t),()=>{Ip.delete(t),r.unobserve(t)}}const Dp={some:0,all:1};const Bp={inView:{Feature:class extends bp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r=\"some\",once:o}=t,i={root:e?e.current:void 0,rootMargin:n,threshold:\"number\"==typeof r?r:Dp[r]};return Fp(this.node.current,i,(t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,o&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive(\"whileInView\",e);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=e?n:r;i&&i(t)}))}mount(){this.startObserver()}update(){if(\"undefined\"==typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node;[\"amount\",\"margin\",\"root\"].some(function({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}(t,e))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends bp{constructor(){super(...arguments),this.removeStartListeners=De,this.removeEndListeners=De,this.removeAccessibleListeners=De,this.startPointerPress=(t,e)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=Ap(window,\"pointerup\",((t,e)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:o}=this.node.getProps(),i=o||Cp(this.node.current,t.target)?n:r;i&&Gn.update((()=>i(t,e)))}),{passive:!(n.onTap||n.onPointerUp)}),o=Ap(window,\"pointercancel\",((t,e)=>this.cancelPress(t,e)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Mo(r,o),this.startPress(t,e)},this.startAccessiblePress=()=>{const t=Sp(this.node.current,\"keydown\",(t=>{if(\"Enter\"!==t.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Sp(this.node.current,\"keyup\",(t=>{\"Enter\"===t.key&&this.checkPressEnd()&&Lp(\"up\",((t,e)=>{const{onTap:n}=this.node.getProps();n&&Gn.postRender((()=>n(t,e)))}))})),Lp(\"down\",((t,e)=>{this.startPress(t,e)}))})),e=Sp(this.node.current,\"blur\",(()=>{this.isPressing&&Lp(\"cancel\",((t,e)=>this.cancelPress(t,e)))}));this.removeAccessibleListeners=Mo(t,e)}}startPress(t,e){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive(\"whileTap\",!0),n&&Gn.postRender((()=>n(t,e)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive(\"whileTap\",!1),!Pp()}cancelPress(t,e){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Gn.postRender((()=>n(t,e)))}mount(){const t=this.node.getProps(),e=Ap(t.globalTapTarget?window:this.node.current,\"pointerdown\",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Sp(this.node.current,\"focus\",this.startAccessiblePress);this.removeStartListeners=Mo(e,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends bp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(\":focus-visible\")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive(\"whileFocus\",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive(\"whileFocus\",!1),this.isActive=!1)}mount(){this.unmount=Mo(Sp(this.node.current,\"focus\",(()=>this.onFocus())),Sp(this.node.current,\"blur\",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends bp{mount(){this.unmount=Mo(jp(this.node,!0),jp(this.node,!1))}unmount(){}}}},Vp=[\"animate\",\"circle\",\"defs\",\"desc\",\"ellipse\",\"g\",\"image\",\"line\",\"filter\",\"marker\",\"mask\",\"metadata\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"rect\",\"stop\",\"switch\",\"symbol\",\"svg\",\"text\",\"tspan\",\"use\",\"view\"];function Gp(t){return\"string\"==typeof t&&!t.includes(\"-\")&&!!(Vp.indexOf(t)>-1||/[A-Z]/u.test(t))}const Up={renderer:(t,e)=>Gp(t)?new fa(e):new da(e,{allowProjection:t!==of.Fragment}),..._p,...Bp};function Hp(t){var e=t.children;return af().createElement(ip,{features:Up,strict:!0},e)}function zp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Wp(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wp(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Wp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $p(t){var e=t.children,n=t.className,r=zp((0,of.useState)({}),2),o=r[0],i=r[1],a=yf().ratio,s=Lf().game,u=zp((0,of.useReducer)((function(t){return t+1}),0),2)[1],c=s.config.player.minWidth,l=s.config.player.minHeight;return(0,of.useEffect)((function(){var t,e=function(){if(a.isLocked())console.warn(\"Ratio is locked, skipping update\");else{var t=document.getElementById(s.config.player.contentContainerId);if(t){var e,n,r=t.clientWidth,o=t.clientHeight,f=s.config.player.aspectRatio;r/o>f?(e=o*f,n=o):(e=r,n=r/f),e<c&&(e=c),n<l&&(n=l),i({width:\"\".concat(e,\"px\"),height:\"\".concat(n,\"px\"),margin:\"auto\",position:\"absolute\",top:\"0\",bottom:\"0\",left:\"0\",right:\"0\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}),a.update(e,n),a.updateMin(c,l),u()}}};a.setUpdate(e);var n=function(){e(),clearTimeout(t),a.pause(),t=setTimeout((function(){a.resume()}),100)};return e(),window.addEventListener(\"resize\",n),function(){window.removeEventListener(\"resize\",n),clearTimeout(t)}}),[a]),af().createElement(\"div\",{id:s.config.player.contentContainerId,style:{position:\"relative\",width:\"100%\",height:\"100%\",overflow:\"hidden\"}},af().createElement(\"div\",{className:rf(n),style:o},e))}function Yp(t){if(\"undefined\"==typeof Proxy)return t;const e=new Map;return new Proxy(((...e)=>t(...e)),{get:(n,r)=>\"create\"===r?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const qp=(0,of.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:\"never\"}),Xp=(0,of.createContext)({}),Kp=(0,of.createContext)(null),Zp=Fi?of.useLayoutEffect:of.useEffect,{schedule:Qp,cancel:Jp}=Vn(queueMicrotask,!1);function td(t){return t&&\"object\"==typeof t&&Object.prototype.hasOwnProperty.call(t,\"current\")}const ed=(0,of.createContext)({});function nd(t,e,n,r,o){var i,a;const{visualElement:s}=(0,of.useContext)(Xp),u=(0,of.useContext)(rp),c=(0,of.useContext)(Kp),l=(0,of.useContext)(qp).reducedMotion,f=(0,of.useRef)();r=r||u.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:l}));const p=f.current,d=(0,of.useContext)(ed);!p||p.projection||!o||\"html\"!==p.type&&\"svg\"!==p.type||function(t,e,n,r){const{layoutId:o,layout:i,drag:a,dragConstraints:s,layoutScroll:u,layoutRoot:c}=e;t.projection=new n(t.latestValues,e[\"data-framer-portal-id\"]?void 0:rd(t.parent)),t.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:Boolean(a)||s&&td(s),visualElement:t,animationType:\"string\"==typeof i?i:\"both\",initialPromotionConfig:r,layoutScroll:u,layoutRoot:c})}(f.current,n,o,d),(0,of.useInsertionEffect)((()=>{p&&p.update(n,c)}));const h=n[Ei],y=(0,of.useRef)(Boolean(h)&&!(null===(i=window.MotionHandoffIsComplete)||void 0===i?void 0:i.call(window,h))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,h)));return Zp((()=>{p&&(window.MotionIsMounted=!0,p.updateFeatures(),Qp.render(p.render),y.current&&p.animationState&&p.animationState.animateChanges())})),(0,of.useEffect)((()=>{p&&(!y.current&&p.animationState&&p.animationState.animateChanges(),y.current&&(queueMicrotask((()=>{var t;null===(t=window.MotionHandoffMarkAsComplete)||void 0===t||t.call(window,h)})),y.current=!1))})),p}function rd(t){if(t)return!1!==t.options.allowProjection?t.projection:rd(t.parent)}function od(t,e,n){return(0,of.useCallback)((r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(\"function\"==typeof n?n(r):td(n)&&(n.current=r))}),[e])}function id(t){const{initial:e,animate:n}=function(t,e){if(zi(t)){const{initial:e,animate:n}=t;return{initial:!1===e||Gi(e)?e:void 0,animate:Gi(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,of.useContext)(Xp));return(0,of.useMemo)((()=>({initial:e,animate:n})),[ad(e),ad(n)])}function ad(t){return Array.isArray(t)?t.join(\" \"):t}const sd=(0,of.createContext)({}),ud=Symbol.for(\"motionComponentSymbol\");function cd({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&op(t);const i=(0,of.forwardRef)((function(t,i){let a;const s={...(0,of.useContext)(qp),...t,layoutId:ld(t)},{isStatic:u}=s,c=id(t),l=r(t,u);if(!u&&Fi){!function(){(0,of.useContext)(rp).strict;0}();const t=function(t){const{drag:e,layout:n}=Yi;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:(null==e?void 0:e.isEnabled(t))||(null==n?void 0:n.isEnabled(t))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(s);a=t.MeasureLayout,c.visualElement=nd(o,l,s,e,t.ProjectionNode)}return(0,np.jsxs)(Xp.Provider,{value:c,children:[a&&c.visualElement?(0,np.jsx)(a,{visualElement:c.visualElement,...s}):null,n(o,t,od(l,c.visualElement,i),l,u,c.visualElement)]})}));return i[ud]=o,i}function ld({layoutId:t}){const e=(0,of.useContext)(sd).id;return e&&void 0!==t?e+\"-\"+t:t}function fd(t){const e=un(t)?t.get():t;return mi(e)?e.toValue():e}function pd(t){return En.has(t)?\"transform\":ei.has(t)?Ti(t):void 0}const dd=t=>(e,n)=>{const r=(0,of.useContext)(Xp),o=(0,of.useContext)(Kp),i=()=>function({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},o,i,a,s){const u={latestValues:yd(o,i,a,!s&&t,e),renderState:n()};return r&&(u.mount=t=>r(o,t,u)),u}(t,e,r,o,n);return n?i():function(t){const e=(0,of.useRef)(null);return null===e.current&&(e.current=t()),e.current}(i)};function hd(t,e,n){const r=Array.isArray(e)?e:[e];for(let e=0;e<r.length;e++){const o=xi(t,r[e]);if(o){const{transitionEnd:t,transition:e,...r}=o;n(r,t)}}}function yd(t,e,n,r,o){var i;const a={},s=new Set,u=r&&void 0===(null===(i=t.style)||void 0===i?void 0:i.willChange),c=o(t,{});for(const t in c)a[t]=fd(c[t]);let{initial:l,animate:f}=t;const p=zi(t),d=Wi(t);e&&d&&!p&&!1!==t.inherit&&(void 0===l&&(l=e.initial),void 0===f&&(f=e.animate));let h=!!n&&!1===n.initial;h=h||!1===l;const y=h?f:l;return y&&\"boolean\"!=typeof y&&!Vi(y)&&hd(t,y,((t,e)=>{for(const e in t){let n=t[e];if(Array.isArray(n)){n=n[h?n.length-1:0]}null!==n&&(a[e]=n)}for(const t in e)a[t]=e[t]})),u&&(f&&!1!==l&&!Vi(f)&&hd(t,f,(t=>{for(const e in t){const t=pd(e);t&&s.add(t)}})),s.size&&(a.willChange=Array.from(s).join(\",\"))),a}const vd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),md=()=>({...vd(),attrs:{}}),gd={useVisualState:dd({scrapeMotionValuesFromProps:Ri,createRenderState:md,onMount:(t,e,{renderState:n,latestValues:r})=>{Gn.read((()=>{try{n.dimensions=\"function\"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){n.dimensions={x:0,y:0,width:0,height:0}}})),Gn.render((()=>{aa(n,r,la(e.tagName),t.transformTemplate),ca(e,n)}))}})},bd={useVisualState:dd({applyWillChange:!0,scrapeMotionValuesFromProps:Mi,createRenderState:vd})};function wd(t,e,n){for(const r in e)un(e[r])||Ni(r,n)||(t[r]=e[r])}function _d(t,e){const n={};return wd(n,t.style||{},t),Object.assign(n,function({transformTemplate:t},e){return(0,of.useMemo)((()=>{const n=vd();return na(n,e,t),Object.assign({},n.vars,n.style)}),[e])}(t,e)),n}function Sd(t,e){const n={},r=_d(t,e);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout=\"none\",r.touchAction=!0===t.drag?\"none\":\"pan-\"+(\"x\"===t.drag?\"y\":\"x\")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const kd=new Set([\"animate\",\"exit\",\"variants\",\"initial\",\"style\",\"values\",\"variants\",\"transition\",\"transformTemplate\",\"custom\",\"inherit\",\"onBeforeLayoutMeasure\",\"onAnimationStart\",\"onAnimationComplete\",\"onUpdate\",\"onDragStart\",\"onDrag\",\"onDragEnd\",\"onMeasureDragConstraints\",\"onDirectionLock\",\"onDragTransitionEnd\",\"_dragX\",\"_dragY\",\"onHoverStart\",\"onHoverEnd\",\"onViewportEnter\",\"onViewportLeave\",\"globalTapTarget\",\"ignoreStrict\",\"viewport\"]);function xd(t){return t.startsWith(\"while\")||t.startsWith(\"drag\")&&\"draggable\"!==t||t.startsWith(\"layout\")||t.startsWith(\"onTap\")||t.startsWith(\"onPan\")||t.startsWith(\"onLayout\")||kd.has(t)}let Ad=t=>!xd(t);try{(Od=Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '@emotion/is-prop-valid'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()))&&(Ad=t=>t.startsWith(\"on\")?!xd(t):Od(t))}catch(zt){}var Od;function Td(t,e,n,r){const o=(0,of.useMemo)((()=>{const n=md();return aa(n,e,la(r),t.transformTemplate),{...n.attrs,style:{...n.style}}}),[e]);if(t.style){const e={};wd(e,t.style,t),o.style={...e,...o.style}}return o}function Ed(t=!1){return(e,n,r,{latestValues:o},i)=>{const a=(Gp(e)?Td:Sd)(n,o,i,e),s=function(t,e,n){const r={};for(const o in t)\"values\"===o&&\"object\"==typeof t.values||(Ad(o)||!0===n&&xd(o)||!e&&!xd(o)||t.draggable&&o.startsWith(\"onDrag\"))&&(r[o]=t[o]);return r}(n,\"string\"==typeof e,t),u=e!==of.Fragment?{...s,...a,ref:r}:{},{children:c}=n,l=(0,of.useMemo)((()=>un(c)?c.get():c),[c]);return(0,of.createElement)(e,{...u,children:l})}}function Pd(t,e){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){return cd({...Gp(n)?gd:bd,preloadedFeatures:t,useRender:Ed(r),createVisualElement:e,Component:n})}}const jd=Yp(Pd());function Cd(t){return Cd=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Cd(t)}function Ld(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ld=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,\"_invoke\",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",v={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(C([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==Cd(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=p;return function(i,a){if(o===h)throw Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===v)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=h;var c=f(e,n,r);if(\"normal\"===c.type){if(o=r.done?y:d,c.arg===v)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=y,r.method=\"throw\",r.arg=c.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,T(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,v):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function C(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Cd(e)+\" is not iterable\")}return g.prototype=b,o(k,\"constructor\",{value:b,configurable:!0}),o(b,\"constructor\",{value:g,configurable:!0}),g.displayName=c(b,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,\"GeneratorFunction\")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,u,\"Generator\"),c(k,a,(function(){return this})),c(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),v}},e}function Id(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Nd(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nd(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Nd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Md=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};function Rd(t){var e=this,n=t.state,r=t.displayable,o=t.child,i=r.element,a=r.state,s=void 0===a?i:a,u=(0,of.useRef)(null),c=Id((0,of.useState)(null),2),l=c[0],f=c[1],p=Id((0,of.useState)([]),2)[1],d=Id((0,of.useState)(null),2),h=d[0],y=d[1],v=Id((0,of.useState)({}),2),m=v[0],g=v[1];function w(t){if(h&&h.getControl()&&(n.logger.warn(\"Displayable Animation\",\"processing transform not completed\"),h.getControl().complete(),h.setControl(null)),!u.current)throw new Error(\"scope not ready\");t instanceof La?Object.assign(u.current.style,t.propToCSS(n,s.state,r.transformOverwrites)):Object.assign(u.current.style,t)}function _(t){return f(t),t?new Promise((function(e){var r=t.events.onEvents([{type:kc.update,listener:t.events.on(kc.update,(function(t){p(t)}))},{type:kc.end,listener:t.events.on(kc.end,(function(){f(null),n.logger.debug(\"scene background transition end\",t)}))},{type:kc.start,listener:t.events.on(kc.start,(function(){n.logger.debug(\"scene background transition start\",t)}))}]);t.start((function(){r.cancel(),e()}))})):(n.logger.warn(\"transition not set\"),Promise.resolve())}function S(t){return Md(this,void 0,void 0,Ld().mark((function e(){return Ld().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(t.propToCSS(n,s.state,r.transformOverwrites)),y(t),e.next=4,t.animate({scope:u,target:s,overwrites:r.transformOverwrites},n,(function(e){s.state=b(s.state,e),g({style:t.propToCSS(n,s.state,r.transformOverwrites)}),y(null)}));case 4:case\"end\":return e.stop()}}),e)})))}return(0,of.useEffect)((function(){var t=\"event:displayable.applyTransition\",o=\"event:displayable.applyTransform\",a=\"event:displayable.init\",c=i.events.onEvents([{type:t,listener:i.events.on(t,_)},{type:o,listener:i.events.on(o,S)},{type:a,listener:i.events.on(a,(function(){return Md(e,void 0,void 0,Ld().mark((function t(){var e;return Ld().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.toDisplayableTransform(),n.logger.debug(\"init transform\",e),t.next=4,e.animate({scope:u,target:s,overwrites:r.transformOverwrites},n,(function(t){s.state=b(s.state,t)}));case 4:case\"end\":return t.stop()}}),t)})))}))}]);return function(){c.cancel()}}),[]),(0,of.useEffect)((function(){if(!u.current)throw new Error(\"Scope not ready. Using element: \".concat(i.constructor.name));w(s.state)}),[]),(0,of.useEffect)((function(){var t=n.events.onEvents([{type:ef.EventTypes[\"event:state.player.skip\"],listener:n.events.on(ef.EventTypes[\"event:state.player.skip\"],(function(){r.skipTransform&&h&&h.getControl()&&(h.getControl().complete(),h.setControl(null),n.logger.debug(\"transform skip\")),r.skipTransition&&l&&l.controller&&(l.controller.complete(),f(null),n.logger.debug(\"transition skip\"))}))}]);return function(){t.cancel()}}),[l,h]),af().createElement(af().Fragment,null,o({transformRef:u,transition:l,transform:h,transformProps:m,state:n}))}function Fd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Dd(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dd(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Dd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Bd(){return Bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bd.apply(null,arguments)}function Vd(t){var e=t.scene,n=t.props,r=t.state;return af().createElement(Rd,{displayable:{element:e,skipTransform:r.game.config.elements.background.allowSkipTransform,skipTransition:r.game.config.elements.background.allowSkipTransition},child:function(t){return af().createElement(Gd,Bd({},t,{scene:e,props:n}))},state:r})}function Gd(t){var e=t.transformRef,n=t.transformProps,r=t.transition,o=t.state,i=t.scene,a=t.props,s=yf().ratio,u=Fd(af().useState(!1),2),c=u[0],l=u[1];function f(){c||(l(!0),i.events.emit(ll.EventTypes[\"event:scene.imageLoaded\"]),o.logger.debug(\"BackgroundTransition\",\"Image loaded\",i))}var p,d=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/wcAAgAB9sWFXTkAAAAASUVORK5CYII=\",h={src:d,style:Object.assign({},o.game.config.app.debug?{border:\"1px solid red\"}:{})};return af().createElement(\"div\",null,af().createElement(jd.div,Bd({layout:!0,ref:e,className:\"absolute inset-0 flex items-center justify-center bg-cover bg-center overflow-hidden\"},b({style:Object.assign({},s.getStyle())},n)),r?r.toElementProps().map((function(t,e){var n=b(h,a,t);return af().createElement(\"img\",Bd({alt:n.alt},n,{onLoad:f,src:n.src?n.src:d,className:\"absolute\",key:e}))})):(p=b(h,a),af().createElement(\"img\",Bd({key:\"last\",alt:p.alt},p,{onLoad:f,src:p.src||d,className:\"absolute\"})))))}function Ud(t){return Ud=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ud(t)}function Hd(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Hd=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,\"_invoke\",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",v={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(C([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==Ud(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=p;return function(i,a){if(o===h)throw Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===v)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=h;var c=f(e,n,r);if(\"normal\"===c.type){if(o=r.done?y:d,c.arg===v)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=y,r.method=\"throw\",r.arg=c.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,T(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,v):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function C(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ud(e)+\" is not iterable\")}return g.prototype=b,o(k,\"constructor\",{value:b,configurable:!0}),o(b,\"constructor\",{value:g,configurable:!0}),g.displayName=c(b,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,\"GeneratorFunction\")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,u,\"Generator\"),c(k,a,(function(){return this})),c(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),v}},e}function zd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Wd(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wd(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Wd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var $d=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};function Yd(t){var e=t.scene,n=t.state,r=t.children,o=t.className,i=yf().ratio,a=zd((0,of.useState)((function(){return e.state.backgroundMusic})),2),s=a[0],u=a[1];return(0,of.useEffect)((function(){var t=[{type:\"event:scene.setBackgroundMusic\",listener:e.events.on(ll.EventTypes[\"event:scene.setBackgroundMusic\"],(function(t,e){(function(t,e){return $d(this,void 0,void 0,Hd().mark((function r(){var o,i;return Hd().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=s,i=t,r.next=4,n.transitionSound(o,i,e);case 4:if(i){r.next=6;break}return r.abrupt(\"return\");case 6:u(i);case 7:case\"end\":return r.stop()}}),r)})))})(t,e).then()}))},{type:\"event:scene.preUnmount\",listener:e.events.on(ll.EventTypes[\"event:scene.preUnmount\"],(function(){s&&function(t,e){return $d(this,void 0,void 0,Hd().mark((function r(){return Hd().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.fadeSound(t,0,e);case 2:n.stopSound(t);case 3:case\"end\":return r.stop()}}),r)})))}(s,e.state.backgroundMusicFade).then()}))}];return function(){t.forEach((function(t){var n=t.type,r=t.listener;e.events.off(n,r)}))}}),[]),(0,of.useEffect)((function(){return e.events.emit(ll.EventTypes[\"event:scene.mount\"]),function(){e.events.emit(ll.EventTypes[\"event:scene.unmount\"])}}),[]),af().createElement(\"div\",{className:o},af().createElement(Vd,{scene:e,props:{width:i.state.width,height:i.state.height,src:bs.isImageSrc(e.state.background)?bs.srcToString(e.state.background):void 0,style:{backgroundColor:bs.isImageColor(e.state.background)?bs.toHex(e.state.background):void 0}},state:n}),r)}function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(null,arguments)}function Xd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Kd(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kd(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Kd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Zd(t){var e=t.image,n=t.state,r=Xd((0,of.useState)(0),2),o=r[0],i=r[1],a=Lf().game;(0,of.useEffect)((function(){i(performance.now())}),[]);var s=function(){var t=performance.now()-o,e=a.config.elements.img.slowLoadThreshold;t>e&&a.config.elements.img.slowLoadWarning&&n.logger.warn(\"NarraLeaf-React\",\"Image took \".concat(t,\"ms to load, which exceeds the threshold of \").concat(e,\"ms. \")+\"Consider enable cache for the image, so Preloader can preload it before it's used. To disable this warning, set `elements.img.slowLoadWarning` to false in the game config.\")};return af().createElement(Rd,{displayable:{element:e,skipTransition:n.game.config.elements.img.allowSkipTransition,skipTransform:n.game.config.elements.img.allowSkipTransform},child:function(t){return af().createElement(Qd,qd({},t,{image:e,handleLoad:s}))},state:n})}function Qd(t){var e=t.transition,n=t.transformProps,r=t.transformRef,o=t.state,i=t.image,a=t.handleLoad,s={src:bs.staticImageDataToSrc(i.state.src),style:Object.assign({},o.game.config.app.debug?{border:\"1px solid red\"}:{})};return af().createElement(\"div\",{className:\"\"},af().createElement(jd.div,qd({layout:!0,ref:r,className:\"absolute\"},b({style:{opacity:0}},n)),e?af().createElement(af().Fragment,null,e.toElementProps().map((function(t,e,n){var r=b(s,t,{style:{transform:\"translate(-50%, -50%)\"}});return af().createElement(jd.img,qd({className:\"absolute\",key:e===n.length-1?\"last\":e,alt:r.alt},r,{onLoad:a,layout:!0}))}))):af().createElement(jd.img,qd({alt:\"image\",key:\"last\"},b(s,{style:{transform:\"translate(-50%, 50%)\"}}),{onLoad:a,layout:!0})),(i.events.emit(qa.EventTypes[\"event:image.flush\"]),null)))}function Jd(t){return Jd=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Jd(t)}function th(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,eh(r.key),r)}}function eh(t){var e=function(t,e){if(\"object\"!=Jd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Jd(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Jd(e)?e:e+\"\"}var nh=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.preloaded=[],this.events=new k}return function(t,e,n){return e&&th(t.prototype,e),n&&th(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(t,[{key:\"add\",value:function(e){return this.has(this.getSrc(e))||(this.preloaded.push(e),this.events.emit(t.EventTypes[\"event:preloaded.add\"],e),this.events.emit(t.EventTypes[\"event:preloaded.change\"])),this}},{key:\"get\",value:function(t){var e=this;return this.preloaded.find((function(n){return e.getSrc(n)===t}))}},{key:\"has\",value:function(t){var e=this;return Array.isArray(t)?t.every((function(t){return e.has(t)})):this.preloaded.some((function(n){return e.getSrc(n)===t}))}},{key:\"remove\",value:function(e){var n=this;if(Array.isArray(e)){var r=e.map((function(t){return n.getSrc(t)}));return this.preloaded=this.preloaded.filter((function(t){return!r.includes(n.getSrc(t))})),this}var o=this.getSrc(e);return this.preloaded=this.preloaded.filter((function(t){return n.getSrc(t)!==o})),this.events.emit(t.EventTypes[\"event:preloaded.remove\"],e),this.events.emit(t.EventTypes[\"event:preloaded.change\"]),this}},{key:\"clear\",value:function(){return this.preloaded=[],this}},{key:\"getSrc\",value:function(t){return\"string\"==typeof t?t:\"image\"===t.type?bs.srcToString(t.src.state.src):\"video\"===t.type?t.src:\"audio\"===t.type?t.src.getSrc():\"\"}}])}();function rh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return oh(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oh(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function oh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}nh.EventTypes={\"event:preloaded.add\":\"event:preloaded.add\",\"event:preloaded.remove\":\"event:preloaded.remove\",\"event:preloaded.change\":\"event:preloaded.change\",\"event:preloaded.mount\":\"event:preloaded.mount\",\"event:preloaded.ready\":\"event:preloaded.ready\"};var ih=(0,of.createContext)(null);function ah(t){var e=t.children,n=rh((0,of.useState)(new nh),1)[0];return af().createElement(af().Fragment,null,af().createElement(ih.Provider,{value:{preloaded:n}},e))}function sh(){if(!ih)throw new Error(\"usePreloaded must be used within a PreloadedProvider\");return(0,of.useContext)(ih)}function uh(t){return function(t){if(Array.isArray(t))return ch(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return ch(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ch(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function ch(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function lh(t){var e=t.state,n=sh().preloaded,r=e.getLastScene();return(0,of.useEffect)((function(){var t,r;if(\"undefined\"!=typeof window){var o=null===(t=e.getLastScene())||void 0===t?void 0:t.srcManager,i=(null===(r=e.getLastScene())||void 0===r?void 0:r.srcManager.future)||[],a=[].concat(uh(o?o.src:[]),uh(i.map((function(t){return t.src})).flat(2))),s={image:new Set,audio:new Set,video:new Set};a.forEach((function(t){t.type===pc.SrcTypes.image?s.image.add(t.src):t.type===pc.SrcTypes.audio?s.audio.add(t.src):t.type===pc.SrcTypes.video&&s.video.add(t.src)})),e.logger.debug(\"Preloading\",s,i),n.preloaded=n.preloaded.filter((function(t){if(t.type===pc.SrcTypes.audio){var e=s[t.type].has(t.src);return e||(e=Array.from(s[t.type]).some((function(e){return n.getSrc(t)===n.getSrc(e.config.src)}))),e}if(t.type===pc.SrcTypes.image)return s[t.type].has(t.src);var r=n.getSrc(t);return s[t.type].has(r)}));var u=[];return s.image.forEach((function(t){var r=new Image;r.src=bs.srcToString(t.state.src),r.onload=function(){e.logger.debug(\"Image loaded\",t.state.src)},u.push(r),n.add({type:\"image\",src:t})})),Promise.all([]).then((function(){e.logger.log(\"Preloaded\",\"Preloaded \".concat(s.image.size,\" images\")),n.events.emit(nh.EventTypes[\"event:preloaded.ready\"]),e.events.emit(ef.EventTypes[\"event:state.preload.loaded\"])})),s.audio.forEach((function(t){t.getPlaying()||t.setPlaying(new(e.getHowl())({src:t.config.src,loop:t.config.loop,volume:t.config.volume,autoplay:!1,preload:!0}))})),n.events.emit(nh.EventTypes[\"event:preloaded.mount\"]),function(){u.forEach((function(t){t.onload=null})),e.events.emit(ef.EventTypes[\"event:state.preload.unmount\"]),e.logger.debug(\"Preload unmounted\")}}console.warn(\"Window is not supported in this environment\")}),[r]),null}function fh(t){var e=t.state,n=Lf().game;return(0,of.useEffect)((function(){if(window){var t,r,o,i=(t=function(t){n.config.player.skipKey.includes(t.key)&&e.events.emit(ef.EventTypes[\"event:state.player.skip\"])},r=n.config.player.skipInterval,o=0,function(){var e=Date.now();if(!(e-o<r))return o=e,t.apply(void 0,arguments)});return window.addEventListener(\"keydown\",i),function(){window.removeEventListener(\"keydown\",i)}}e.logger.warn(\"NarraLeaf-React: Announcer\",\"Cannot listen to window events\")}),[]),af().createElement(af().Fragment,null)}var ph=o(33);function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(null,arguments)}function hh(t){var e=t.state,n=t.text,r={scale:function(t){return{width:\"fit-content\"}},transform:function(t){return{transform:La.propToCSSTransform(e,t,[\"left\"===n.config.alignX?\"0%\":\"right\"===n.config.alignX?\"-100%\":void 0,\"top\"===n.config.alignY?\"100%\":\"bottom\"===n.config.alignY?\"0%\":void 0])}}};return af().createElement(Rd,{displayable:{element:n,skipTransform:e.game.config.elements.text.allowSkipTransform,skipTransition:e.game.config.elements.text.allowSkipTransition,transformOverwrites:r},child:function(t){return af().createElement(yh,dh({},t,{text:n}))},state:e})}function yh(t){var e=t.transformRef,n=t.transformProps,r=t.transition,o=t.state,i=t.text,a={style:Object.assign(Object.assign({width:\"fit-content\"},o.game.config.app.debug?{border:\"1px solid red\"}:{}),{whiteSpace:\"nowrap\"})},s=rf(i.config.className);return af().createElement(mf,{className:\"absolute overflow-hidden pointer-events-none\"},af().createElement(jd.div,dh({layout:!0,ref:e,className:\"absolute\"},b({style:{opacity:0}},n,{style:{width:\"fit-content\"}})),r?r.toElementProps().map((function(t,e){var r=b(a,n,t);return af().createElement(jd.span,dh({key:e,layout:!0},r,{className:s}),af().createElement(\"span\",null,i.state.text))})):af().createElement(jd.div,dh({key:\"last\"},b(a,{style:{width:\"fit-content\"}}),{layout:!0}),af().createElement(\"span\",{className:s},i.state.text))))}function vh(t){var e=t.state,n=t.displayable;return af().createElement(af().Fragment,null,n.map((function(t){var n;if(t instanceof Qc)return af().createElement(hh,{state:e,text:t,key:\"text-\"+t.getId()});throw new Error(\"Unsupported displayable type: \"+((null===(n=null==t?void 0:t.constructor)||void 0===n?void 0:n.name)||t))})))}function mh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return gh(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gh(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function gh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function bh(t,e){return t.handle(e)}function wh(t){var e=t.story,n=t.width,r=t.height,o=t.className,i=t.onReady,a=t.onEnd,s=mh((0,of.useReducer)((function(t){return t+1}),0),2)[1],u=Lf().game,c=mh((0,of.useReducer)(bh,new ef(u,{update:s,forceUpdate:function(){l.logger.warn(\"Player\",\"force update\"),(0,ph.flushSync)((function(){s()}))},next:h,dispatch:function(t){return f(t)}})),2),l=c[0],f=c[1],p=u.config.elements.say.use,d=u.config.elements.menu.use;function h(){for(var t=!1;!t;){var e=u.getLiveGame().next(l);if(!e)break;if(w.isAwaitable(e)){t=!0;break}if(e instanceof j){e.nextUnlock().then((function(){h()})),t=!0;break}f(e)}l.stage.update()}(0,of.useEffect)((function(){return u.getLiveGame().setGameState(l).loadStory(e),function(){u.getLiveGame().setGameState(void 0)}}),[u]),(0,of.useEffect)((function(){var t=!1,e=Promise.resolve().then((function(){t=!0,i&&i({game:u,gameState:l,liveGame:u.getLiveGame(),storable:u.getLiveGame().getStorable()});var e=l.getLastScene(),n=[];e?n.push({type:\"event:scene.mount\",listener:e.events.once(\"event:scene.mount\",(function(){l.stage.next()}))}):l.stage.next();var r=l.events.onEvents([{type:ef.EventTypes[\"event:state.end\"],listener:function(){a&&a({game:u,gameState:l,liveGame:u.getLiveGame(),storable:u.getLiveGame().getStorable()})}}]),o=l.events.onEvents([{type:ef.EventTypes[\"event:state.player.skip\"],listener:function(){u.getLiveGame().abortAwaiting(),h()}}]);return l.stage.update(),function(){e&&n.forEach((function(t){e.events.off(t.type,t.listener)})),r.cancel(),o.cancel()}}));return function(){t&&e.then((function(t){return t()}))}}),[]),l.events.emit(ef.EventTypes[\"event:state.player.flush\"]);var y=n||u.config.player.width,v=r||u.config.player.height;return af().createElement(Hp,null,af().createElement(\"div\",{style:{width:\"number\"==typeof y?\"\".concat(y,\"px\"):y,height:\"number\"==typeof v?\"\".concat(v,\"px\"):v},className:rf(o,\"__narraleaf_content-player\")},af().createElement($p,{className:rf(\"flex-grow overflow-auto\")},af().createElement(mf,{className:\"relative\"},af().createElement(lh,{state:l}),af().createElement(_h,{onLoaded:function(){l.stage.update(),e&&h()},state:l},af().createElement(fh,{state:l}),l.getSceneElements().map((function(t){var e=t.scene,n=t.ele;return af().createElement(Yd,{key:\"scene-\"+e.getId(),state:l,scene:e},n.images.map((function(t){return af().createElement(Zd,{key:\"image-\"+t.getId(),image:t,state:l})})),af().createElement(vh,{state:l,displayable:n.displayable}),n.texts.map((function(t){var e=t.action,n=t.onClick;return af().createElement(p,{state:l,key:\"say-\"+e.id,action:e,onClick:function(){n(),h()}})})),n.menus.map((function(t,e){return af().createElement(\"div\",{key:\"menu-\"+e},af().createElement(d,{state:l,prompt:t.action.prompt,choices:t.action.choices,afterChoose:function(e){t.onClick(e),h()}}))})))})))))))}function _h(t){var e=t.children,n=t.onLoaded,r=t.state,o=sh().preloaded,i=mh((0,of.useState)(!1),2),a=i[0],s=i[1];return(0,of.useEffect)((function(){var t=o.events.on(nh.EventTypes[\"event:preloaded.ready\"],(function(){s(!0),n()})),e=r.events.on(ef.EventTypes[\"event:state.preload.unmount\"],(function(){s(!1)}));return function(){o.events.off(nh.EventTypes[\"event:preloaded.ready\"],t),r.events.off(ef.EventTypes[\"event:state.preload.unmount\"],e)}}),[a]),af().createElement(af().Fragment,null,a?e:null)}function Sh(t){var e=t.children,n=t.game;return af().createElement(af().Fragment,null,af().createElement(hf,null,af().createElement(Cf,{game:n},af().createElement(ah,null,e))))}function kh(t){return kh=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},kh(t)}function xh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Ah(r.key),r)}}function Ah(t){var e=function(t,e){if(\"object\"!=kh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=kh(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==kh(e)?e:e+\"\"}function Oh(t,e,n){return e=Eh(e),function(t,e){if(e&&(\"object\"==kh(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Th()?Reflect.construct(e,n||[],Eh(t).constructor):e.apply(t,n))}function Th(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Th=function(){return!!t})()}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Eh(t)}function Ph(t,e){return Ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ph(t,e)}var jh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,r=arguments.length>1?arguments[1]:void 0;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(t=Oh(this,e)).state={opacity:1},t.duration=n,t.easing=r,t}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Ph(t,e)}(e,t),function(t,e,n){return e&&xh(t.prototype,e),n&&xh(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"setSrc\",value:function(t){return this.src=t,this}},{key:\"start\",value:function(t){var n=this;this.state.opacity=e.Frames[0],this.requestAnimation({start:e.Frames[0],end:e.Frames[1],duration:this.duration},{onComplete:function(){t&&t(),n.state.opacity=e.Frames[1]},onUpdate:function(t){n.state.opacity=t}},{ease:this.easing})}},{key:\"toElementProps\",value:function(){return[{style:{opacity:1}},{style:{opacity:this.state.opacity,backgroundColor:bs.isImageColor(this.src)?S(this.src):\"\"},src:bs.isImageSrc(this.src)?bs.srcToString(this.src):\"\"}]}},{key:\"copy\",value:function(){return new e(this.duration,this.easing).setSrc(this.src)}}])}(Mc);function Ch(t){return Ch=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ch(t)}function Lh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Ih(r.key),r)}}function Ih(t){var e=function(t,e){if(\"object\"!=Ch(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Ch(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Ch(e)?e:e+\"\"}function Nh(t,e,n){return e=Rh(e),function(t,e){if(e&&(\"object\"==Ch(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Mh()?Reflect.construct(e,n||[],Rh(t).constructor):e.apply(t,n))}function Mh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Mh=function(){return!!t})()}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rh(t)}function Fh(t,e){return Fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fh(t,e)}jh.Frames=[0,1];var Dh=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3?arguments[3]:void 0;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(r=Nh(this,e)).state={opacity:0,transform:\"\"},r.duration=o,r.direction=t,r.offset=n,r.easing=i,r.__stack=x(),r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Fh(t,e)}(e,t),function(t,e,n){return e&&Lh(t.prototype,e),n&&Lh(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"setSrc\",value:function(t){return this.src=t,this}},{key:\"start\",value:function(t){var e=this;if(!this.src)throw new Error(\"src is required, but not provided\\nat:\\n\"+this.__stack);this.state.opacity=0,this.state.transform=this.getInitialTransform(),this.requestAnimation({start:0,end:1,duration:this.duration},{onComplete:t,onUpdate:function(t){e.state.opacity=t,e.state.transform=e.getTransform(t)}},{ease:this.easing})}},{key:\"toElementProps\",value:function(){return[{style:{opacity:1}},{style:{opacity:this.state.opacity,transform:this.state.transform,backgroundColor:bs.isImageColor(this.src)?S(this.src):\"\"},src:bs.isImageSrc(this.src)?bs.srcToString(this.src):\"\"}]}},{key:\"copy\",value:function(){return new e(this.direction,this.offset,this.duration,this.easing).setSrc(this.src)}},{key:\"getInitialTransform\",value:function(){switch(this.direction){case\"left\":return\"translateX(-\".concat(this.offset,\"px)\");case\"right\":return\"translateX(\".concat(this.offset,\"px)\");case\"top\":return\"translateY(-\".concat(this.offset,\"px)\");case\"bottom\":return\"translateY(\".concat(this.offset,\"px)\");default:return\"\"}}},{key:\"getTransform\",value:function(t){switch(this.direction){case\"left\":return\"translateX(\".concat((1-t)*-this.offset,\"px)\");case\"right\":return\"translateX(\".concat((1-t)*this.offset,\"px)\");case\"top\":return\"translateY(\".concat((1-t)*-this.offset,\"px)\");case\"bottom\":return\"translateY(\".concat((1-t)*this.offset,\"px)\");default:return\"\"}}}])}(Mc);function Bh(t){return Bh=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Bh(t)}function Vh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Gh(r.key),r)}}function Gh(t){var e=function(t,e){if(\"object\"!=Bh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Bh(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Bh(e)?e:e+\"\"}function Uh(t,e,n){return e=zh(e),function(t,e){if(e&&(\"object\"==Bh(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Hh()?Reflect.construct(e,n||[],zh(t).constructor):e.apply(t,n))}function Hh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hh=function(){return!!t})()}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zh(t)}function Wh(t,e){return Wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wh(t,e)}var $h=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,r=arguments.length>1?arguments[1]:void 0;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(t=Uh(this,e)).state={opacity:0},t.duration=n,t.easing=r,t}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Wh(t,e)}(e,t),function(t,e,n){return e&&Vh(t.prototype,e),n&&Vh(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"setSrc\",value:function(t){return this.src=t,this}},{key:\"start\",value:function(t){var n=this;this.state.opacity=e.Frames[0],this.requestAnimation({start:e.Frames[0],end:e.Frames[1],duration:this.duration},{onComplete:function(){n.state.opacity=e.Frames[1],t&&t()},onUpdate:function(t){n.state.opacity=t}},{ease:this.easing})}},{key:\"toElementProps\",value:function(){return[{style:{opacity:this.state.opacity}},{style:{opacity:1-this.state.opacity,backgroundColor:bs.isImageColor(this.src)?S(this.src):\"\"},src:bs.isImageSrc(this.src)?bs.srcToString(this.src):\"\"}]}},{key:\"copy\",value:function(){return new e(this.duration,this.easing).setSrc(this.src)}}])}(Mc);$h.Frames=[1,0]})(),i})()));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uYXJyYWxlYWYtcmVhY3QvZGlzdC9tYWluLmpzIiwibWFwcGluZ3MiOiJBQUFBLGVBQWUsS0FBaUQsa0JBQWtCLG1CQUFPLENBQUMsbUZBQU8sRUFBRSxtQkFBTyxDQUFDLDJGQUFXLEdBQUcsQ0FBcU0sQ0FBQyxvQkFBb0IsT0FBTyxjQUFjLGFBQWEsT0FBTyxRQUFRLEVBQUUsK0NBQStDLCtWQUErViw0QkFBNEIsNEJBQTRCLGdDQUFnQyxrQ0FBa0MsVUFBVSx3QkFBd0IscUJBQXFCLEdBQUcsK2FBQSthLHNCQUFzQiwyQ0FBMkMsNkJBQTZCLDBCQUEwQixvQkFBb0Isb0pBQW9KLDBDQUEwQyw0Q0FBNEMscURBQXFELFVBQVUsZ0tBQWdLLGVBQWUsaUNBQWlDLFVBQVUsMk5BQTJOLGVBQWUsMkJBQTJCLGtDQUFrQyxVQUFVLGlHQUFpRyw4Q0FBOEMsOENBQThDLEdBQUcsa0dBQWtHLHVCQUF1Qix5QkFBeUIsR0FBRyxpRkFBaUYsbUJBQW1CLDZCQUE2QixHQUFHLDJFQUEyRSx3QkFBd0IsR0FBRywwU0FBMFMseUhBQXlILDBDQUEwQyw0Q0FBNEMsMkJBQTJCLFVBQVUsaUVBQWlFLG1CQUFtQixHQUFHLDJHQUEyRyxtQkFBbUIsbUJBQW1CLHVCQUF1Qiw2QkFBNkIsR0FBRyxTQUFTLG9CQUFvQixHQUFHLFNBQVMsZ0JBQWdCLEdBQUcsZ2JBQWdiLG9CQUFvQixrQ0FBa0Msc0NBQXNDLFVBQVUsa01BQWtNLDBCQUEwQiwyQ0FBMkMsNkNBQTZDLDRCQUE0QixpQ0FBaUMsaUNBQWlDLG9DQUFvQywyQkFBMkIsc0JBQXNCLHVCQUF1QixVQUFVLDhGQUE4Rix5QkFBeUIsR0FBRywwTkFBME4sZ0NBQWdDLDBDQUEwQyxtQ0FBbUMsVUFBVSwrRkFBK0Ysa0JBQWtCLEdBQUcsK01BQStNLHFCQUFxQixHQUFHLG1GQUFtRiw2QkFBNkIsR0FBRyxpSkFBaUosaUJBQWlCLEdBQUcsNkhBQTZILG1DQUFtQyxpQ0FB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QyxzQkFBc0IsbUJBQW1CLEVBQUUsaUJBQWlCLEdBQUcsRUFBRSxzQ0FBc0MsUUFBUSxPQUFPLDRCQUE0QixFQUFFLE9BQU8sc0ZBQXNGLHlEQUF5RCxHQUFHLEVBQUUsNEJBQTRCLDBEQUEwRCxHQUFHLEtBQUssZ0JBQWdCLE1BQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25hcnJhbGVhZi1yZWFjdC9kaXN0L21haW4uanM/NGRiNCJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoXCJyZWFjdFwiKSxyZXF1aXJlKFwicmVhY3QtZG9tXCIpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcInJlYWN0XCIsXCJyZWFjdC1kb21cIl0sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5OYXJyYWxlYWZSZWFjdD1lKHJlcXVpcmUoXCJyZWFjdFwiKSxyZXF1aXJlKFwicmVhY3QtZG9tXCIpKTp0Lk5hcnJhbGVhZlJlYWN0PWUodC5SZWFjdCx0LlJlYWN0RE9NKX0odGhpcywoKHQsZSk9PigoKT0+e3ZhciBuPXs1ODc6KHQsZSxuKT0+e1widXNlIHN0cmljdFwiO24uZChlLHtBOigpPT5zfSk7dmFyIHI9big2MDEpLG89bi5uKHIpLGk9bigzMTQpLGE9bi5uKGkpKCkobygpKTthLnB1c2goW3QuaWQsXCIvKlxcbiEgdGFpbHdpbmRjc3MgdjMuNC4xMSB8IE1JVCBMaWNlbnNlIHwgaHR0cHM6Ly90YWlsd2luZGNzcy5jb21cXG4qLy8qXFxuMS4gUHJldmVudCBwYWRkaW5nIGFuZCBib3JkZXIgZnJvbSBhZmZlY3RpbmcgZWxlbWVudCB3aWR0aC4gKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3pkZXZzL2Nzc3JlbWVkeS9pc3N1ZXMvNClcXG4yLiBBbGxvdyBhZGRpbmcgYSBib3JkZXIgdG8gYW4gZWxlbWVudCBieSBqdXN0IGFkZGluZyBhIGJvcmRlci13aWR0aC4gKGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGNzcy90YWlsd2luZGNzcy9wdWxsLzExNilcXG4qL1xcblxcbiosXFxuOjpiZWZvcmUsXFxuOjphZnRlciB7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94OyAvKiAxICovXFxuICBib3JkZXItd2lkdGg6IDA7IC8qIDIgKi9cXG4gIGJvcmRlci1zdHlsZTogc29saWQ7IC8qIDIgKi9cXG4gIGJvcmRlci1jb2xvcjogI2U1ZTdlYjsgLyogMiAqL1xcbn1cXG5cXG46OmJlZm9yZSxcXG46OmFmdGVyIHtcXG4gIC0tdHctY29udGVudDogJyc7XFxufVxcblxcbi8qXFxuMS4gVXNlIGEgY29uc2lzdGVudCBzZW5zaWJsZSBsaW5lLWhlaWdodCBpbiBhbGwgYnJvd3NlcnMuXFxuMi4gUHJldmVudCBhZGp1c3RtZW50cyBvZiBmb250IHNpemUgYWZ0ZXIgb3JpZW50YXRpb24gY2hhbmdlcyBpbiBpT1MuXFxuMy4gVXNlIGEgbW9yZSByZWFkYWJsZSB0YWIgc2l6ZS5cXG40LiBVc2UgdGhlIHVzZXIncyBjb25maWd1cmVkIGBzYW5zYCBmb250LWZhbWlseSBieSBkZWZhdWx0LlxcbjUuIFVzZSB0aGUgdXNlcidzIGNvbmZpZ3VyZWQgYHNhbnNgIGZvbnQtZmVhdHVyZS1zZXR0aW5ncyBieSBkZWZhdWx0LlxcbjYuIFVzZSB0aGUgdXNlcidzIGNvbmZpZ3VyZWQgYHNhbnNgIGZvbnQtdmFyaWF0aW9uLXNldHRpbmdzIGJ5IGRlZmF1bHQuXFxuNy4gRGlzYWJsZSB0YXAgaGlnaGxpZ2h0cyBvbiBpT1NcXG4qL1xcblxcbmh0bWwsXFxuOmhvc3Qge1xcbiAgbGluZS1oZWlnaHQ6IDEuNTsgLyogMSAqL1xcbiAgLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OiAxMDAlOyAvKiAyICovXFxuICAtbW96LXRhYi1zaXplOiA0OyAvKiAzICovXFxuICAtby10YWItc2l6ZTogNDtcXG4gICAgIHRhYi1zaXplOiA0OyAvKiAzICovXFxuICBmb250LWZhbWlseTogdWktc2Fucy1zZXJpZiwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmLCBcXFwiQXBwbGUgQ29sb3IgRW1vamlcXFwiLCBcXFwiU2Vnb2UgVUkgRW1vamlcXFwiLCBcXFwiU2Vnb2UgVUkgU3ltYm9sXFxcIiwgXFxcIk5vdG8gQ29sb3IgRW1vamlcXFwiOyAvKiA0ICovXFxuICBmb250LWZlYXR1cmUtc2V0dGluZ3M6IG5vcm1hbDsgLyogNSAqL1xcbiAgZm9udC12YXJpYXRpb24tc2V0dGluZ3M6IG5vcm1hbDsgLyogNiAqL1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsgLyogNyAqL1xcbn1cXG5cXG4vKlxcbjEuIFJlbW92ZSB0aGUgbWFyZ2luIGluIGFsbCBicm93c2Vycy5cXG4yLiBJbmhlcml0IGxpbmUtaGVpZ2h0IGZyb20gYGh0bWxgIHNvIHVzZXJzIGNhbiBzZXQgdGhlbSBhcyBhIGNsYXNzIGRpcmVjdGx5IG9uIHRoZSBgaHRtbGAgZWxlbWVudC5cXG4qL1xcblxcbmJvZHkge1xcbiAgbWFyZ2luOiAwOyAvKiAxICovXFxuICBsaW5lLWhlaWdodDogaW5oZXJpdDsgLyogMiAqL1xcbn1cXG5cXG4vKlxcbjEuIEFkZCB0aGUgY29ycmVjdCBoZWlnaHQgaW4gRmlyZWZveC5cXG4yLiBDb3JyZWN0IHRoZSBpbmhlcml0YW5jZSBvZiBib3JkZXIgY29sb3IgaW4gRmlyZWZveC4gKGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE5MDY1NSlcXG4zLiBFbnN1cmUgaG9yaXpvbnRhbCBydWxlcyBhcmUgdmlzaWJsZSBieSBkZWZhdWx0LlxcbiovXFxuXFxuaHIge1xcbiAgaGVpZ2h0OiAwOyAvKiAxICovXFxuICBjb2xvcjogaW5oZXJpdDsgLyogMiAqL1xcbiAgYm9yZGVyLXRvcC13aWR0aDogMXB4OyAvKiAzICovXFxufVxcblxcbi8qXFxuQWRkIHRoZSBjb3JyZWN0IHRleHQgZGVjb3JhdGlvbiBpbiBDaHJvbWUsIEVkZ2UsIGFuZCBTYWZhcmkuXFxuKi9cXG5cXG5hYmJyOndoZXJlKFt0aXRsZV0pIHtcXG4gIC13ZWJraXQtdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmUgZG90dGVkO1xcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZSBkb3R0ZWQ7XFxufVxcblxcbi8qXFxuUmVtb3ZlIHRoZSBkZWZhdWx0IGZvbnQgc2l6ZSBhbmQgd2VpZ2h0IGZvciBoZWFkaW5ncy5cXG4qL1xcblxcbmgxLFxcbmgyLFxcbmgzLFxcbmg0LFxcbmg1LFxcbmg2IHtcXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xcbn1cXG5cXG4vKlxcblJlc2V0IGxpbmtzIHRvIG9wdGltaXplIGZvciBvcHQtaW4gc3R5bGluZyBpbnN0ZWFkIG9mIG9wdC1vdXQuXFxuKi9cXG5cXG5hIHtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBpbmhlcml0O1xcbn1cXG5cXG4vKlxcbkFkZCB0aGUgY29ycmVjdCBmb250IHdlaWdodCBpbiBFZGdlIGFuZCBTYWZhcmkuXFxuKi9cXG5cXG5iLFxcbnN0cm9uZyB7XFxuICBmb250LXdlaWdodDogYm9sZGVyO1xcbn1cXG5cXG4vKlxcbjEuIFVzZSB0aGUgdXNlcidzIGNvbmZpZ3VyZWQgYG1vbm9gIGZvbnQtZmFtaWx5IGJ5IGRlZmF1bHQuXFxuMi4gVXNlIHRoZSB1c2VyJ3MgY29uZmlndXJlZCBgbW9ub2AgZm9udC1mZWF0dXJlLXNldHRpbmdzIGJ5IGRlZmF1bHQuXFxuMy4gVXNlIHRoZSB1c2VyJ3MgY29uZmlndXJlZCBgbW9ub2AgZm9udC12YXJpYXRpb24tc2V0dGluZ3MgYnkgZGVmYXVsdC5cXG40LiBDb3JyZWN0IHRoZSBvZGQgYGVtYCBmb250IHNpemluZyBpbiBhbGwgYnJvd3NlcnMuXFxuKi9cXG5cXG5jb2RlLFxcbmtiZCxcXG5zYW1wLFxcbnByZSB7XFxuICBmb250LWZhbWlseTogdWktbW9ub3NwYWNlLCBTRk1vbm8tUmVndWxhciwgTWVubG8sIE1vbmFjbywgQ29uc29sYXMsIFxcXCJMaWJlcmF0aW9uIE1vbm9cXFwiLCBcXFwiQ291cmllciBOZXdcXFwiLCBtb25vc3BhY2U7IC8qIDEgKi9cXG4gIGZvbnQtZmVhdHVyZS1zZXR0aW5nczogbm9ybWFsOyAvKiAyICovXFxuICBmb250LXZhcmlhdGlvbi1zZXR0aW5nczogbm9ybWFsOyAvKiAzICovXFxuICBmb250LXNpemU6IDFlbTsgLyogNCAqL1xcbn1cXG5cXG4vKlxcbkFkZCB0aGUgY29ycmVjdCBmb250IHNpemUgaW4gYWxsIGJyb3dzZXJzLlxcbiovXFxuXFxuc21hbGwge1xcbiAgZm9udC1zaXplOiA4MCU7XFxufVxcblxcbi8qXFxuUHJldmVudCBgc3ViYCBhbmQgYHN1cGAgZWxlbWVudHMgZnJvbSBhZmZlY3RpbmcgdGhlIGxpbmUgaGVpZ2h0IGluIGFsbCBicm93c2Vycy5cXG4qL1xcblxcbnN1YixcXG5zdXAge1xcbiAgZm9udC1zaXplOiA3NSU7XFxuICBsaW5lLWhlaWdodDogMDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcXG59XFxuXFxuc3ViIHtcXG4gIGJvdHRvbTogLTAuMjVlbTtcXG59XFxuXFxuc3VwIHtcXG4gIHRvcDogLTAuNWVtO1xcbn1cXG5cXG4vKlxcbjEuIFJlbW92ZSB0ZXh0IGluZGVudGF0aW9uIGZyb20gdGFibGUgY29udGVudHMgaW4gQ2hyb21lIGFuZCBTYWZhcmkuIChodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD05OTkwODgsIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yMDEyOTcpXFxuMi4gQ29ycmVjdCB0YWJsZSBib3JkZXIgY29sb3IgaW5oZXJpdGFuY2UgaW4gYWxsIENocm9tZSBhbmQgU2FmYXJpLiAoaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9OTM1NzI5LCBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTk1MDE2KVxcbjMuIFJlbW92ZSBnYXBzIGJldHdlZW4gdGFibGUgYm9yZGVycyBieSBkZWZhdWx0LlxcbiovXFxuXFxudGFibGUge1xcbiAgdGV4dC1pbmRlbnQ6IDA7IC8qIDEgKi9cXG4gIGJvcmRlci1jb2xvcjogaW5oZXJpdDsgLyogMiAqL1xcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgLyogMyAqL1xcbn1cXG5cXG4vKlxcbjEuIENoYW5nZSB0aGUgZm9udCBzdHlsZXMgaW4gYWxsIGJyb3dzZXJzLlxcbjIuIFJlbW92ZSB0aGUgbWFyZ2luIGluIEZpcmVmb3ggYW5kIFNhZmFyaS5cXG4zLiBSZW1vdmUgZGVmYXVsdCBwYWRkaW5nIGluIGFsbCBicm93c2Vycy5cXG4qL1xcblxcbmJ1dHRvbixcXG5pbnB1dCxcXG5vcHRncm91cCxcXG5zZWxlY3QsXFxudGV4dGFyZWEge1xcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7IC8qIDEgKi9cXG4gIGZvbnQtZmVhdHVyZS1zZXR0aW5nczogaW5oZXJpdDsgLyogMSAqL1xcbiAgZm9udC12YXJpYXRpb24tc2V0dGluZ3M6IGluaGVyaXQ7IC8qIDEgKi9cXG4gIGZvbnQtc2l6ZTogMTAwJTsgLyogMSAqL1xcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7IC8qIDEgKi9cXG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0OyAvKiAxICovXFxuICBsZXR0ZXItc3BhY2luZzogaW5oZXJpdDsgLyogMSAqL1xcbiAgY29sb3I6IGluaGVyaXQ7IC8qIDEgKi9cXG4gIG1hcmdpbjogMDsgLyogMiAqL1xcbiAgcGFkZGluZzogMDsgLyogMyAqL1xcbn1cXG5cXG4vKlxcblJlbW92ZSB0aGUgaW5oZXJpdGFuY2Ugb2YgdGV4dCB0cmFuc2Zvcm0gaW4gRWRnZSBhbmQgRmlyZWZveC5cXG4qL1xcblxcbmJ1dHRvbixcXG5zZWxlY3Qge1xcbiAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XFxufVxcblxcbi8qXFxuMS4gQ29ycmVjdCB0aGUgaW5hYmlsaXR5IHRvIHN0eWxlIGNsaWNrYWJsZSB0eXBlcyBpbiBpT1MgYW5kIFNhZmFyaS5cXG4yLiBSZW1vdmUgZGVmYXVsdCBidXR0b24gc3R5bGVzLlxcbiovXFxuXFxuYnV0dG9uLFxcbmlucHV0OndoZXJlKFt0eXBlPSdidXR0b24nXSksXFxuaW5wdXQ6d2hlcmUoW3R5cGU9J3Jlc2V0J10pLFxcbmlucHV0OndoZXJlKFt0eXBlPSdzdWJtaXQnXSkge1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBidXR0b247IC8qIDEgKi9cXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyAvKiAyICovXFxuICBiYWNrZ3JvdW5kLWltYWdlOiBub25lOyAvKiAyICovXFxufVxcblxcbi8qXFxuVXNlIHRoZSBtb2Rlcm4gRmlyZWZveCBmb2N1cyBzdHlsZSBmb3IgYWxsIGZvY3VzYWJsZSBlbGVtZW50cy5cXG4qL1xcblxcbjotbW96LWZvY3VzcmluZyB7XFxuICBvdXRsaW5lOiBhdXRvO1xcbn1cXG5cXG4vKlxcblJlbW92ZSB0aGUgYWRkaXRpb25hbCBgOmludmFsaWRgIHN0eWxlcyBpbiBGaXJlZm94LiAoaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvZ2Vja28tZGV2L2Jsb2IvMmY5ZWFjZDlkM2Q5OTVjOTM3YjQyNTFhNTU1N2Q5NWQ0OTRjOWJlMS9sYXlvdXQvc3R5bGUvcmVzL2Zvcm1zLmNzcyNMNzI4LUw3MzcpXFxuKi9cXG5cXG46LW1vei11aS1pbnZhbGlkIHtcXG4gIGJveC1zaGFkb3c6IG5vbmU7XFxufVxcblxcbi8qXFxuQWRkIHRoZSBjb3JyZWN0IHZlcnRpY2FsIGFsaWdubWVudCBpbiBDaHJvbWUgYW5kIEZpcmVmb3guXFxuKi9cXG5cXG5wcm9ncmVzcyB7XFxuICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XFxufVxcblxcbi8qXFxuQ29ycmVjdCB0aGUgY3Vyc29yIHN0eWxlIG9mIGluY3JlbWVudCBhbmQgZGVjcmVtZW50IGJ1dHRvbnMgaW4gU2FmYXJpLlxcbiovXFxuXFxuOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uLFxcbjo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbiB7XFxuICBoZWlnaHQ6IGF1dG87XFxufVxcblxcbi8qXFxuMS4gQ29ycmVjdCB0aGUgb2RkIGFwcGVhcmFuY2UgaW4gQ2hyb21lIGFuZCBTYWZhcmkuXFxuMi4gQ29ycmVjdCB0aGUgb3V0bGluZSBzdHlsZSBpbiBTYWZhcmkuXFxuKi9cXG5cXG5bdHlwZT0nc2VhcmNoJ10ge1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiB0ZXh0ZmllbGQ7IC8qIDEgKi9cXG4gIG91dGxpbmUtb2Zmc2V0OiAtMnB4OyAvKiAyICovXFxufVxcblxcbi8qXFxuUmVtb3ZlIHRoZSBpbm5lciBwYWRkaW5nIGluIENocm9tZSBhbmQgU2FmYXJpIG9uIG1hY09TLlxcbiovXFxuXFxuOjotd2Via2l0LXNlYXJjaC1kZWNvcmF0aW9uIHtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG59XFxuXFxuLypcXG4xLiBDb3JyZWN0IHRoZSBpbmFiaWxpdHkgdG8gc3R5bGUgY2xpY2thYmxlIHR5cGVzIGluIGlPUyBhbmQgU2FmYXJpLlxcbjIuIENoYW5nZSBmb250IHByb3BlcnRpZXMgdG8gYGluaGVyaXRgIGluIFNhZmFyaS5cXG4qL1xcblxcbjo6LXdlYmtpdC1maWxlLXVwbG9hZC1idXR0b24ge1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBidXR0b247IC8qIDEgKi9cXG4gIGZvbnQ6IGluaGVyaXQ7IC8qIDIgKi9cXG59XFxuXFxuLypcXG5BZGQgdGhlIGNvcnJlY3QgZGlzcGxheSBpbiBDaHJvbWUgYW5kIFNhZmFyaS5cXG4qL1xcblxcbnN1bW1hcnkge1xcbiAgZGlzcGxheTogbGlzdC1pdGVtO1xcbn1cXG5cXG4vKlxcblJlbW92ZXMgdGhlIGRlZmF1bHQgc3BhY2luZyBhbmQgYm9yZGVyIGZvciBhcHByb3ByaWF0ZSBlbGVtZW50cy5cXG4qL1xcblxcbmJsb2NrcXVvdGUsXFxuZGwsXFxuZGQsXFxuaDEsXFxuaDIsXFxuaDMsXFxuaDQsXFxuaDUsXFxuaDYsXFxuaHIsXFxuZmlndXJlLFxcbnAsXFxucHJlIHtcXG4gIG1hcmdpbjogMDtcXG59XFxuXFxuZmllbGRzZXQge1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG59XFxuXFxubGVnZW5kIHtcXG4gIHBhZGRpbmc6IDA7XFxufVxcblxcbm9sLFxcbnVsLFxcbm1lbnUge1xcbiAgbGlzdC1zdHlsZTogbm9uZTtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcblxcbi8qXFxuUmVzZXQgZGVmYXVsdCBzdHlsaW5nIGZvciBkaWFsb2dzLlxcbiovXFxuZGlhbG9nIHtcXG4gIHBhZGRpbmc6IDA7XFxufVxcblxcbi8qXFxuUHJldmVudCByZXNpemluZyB0ZXh0YXJlYXMgaG9yaXpvbnRhbGx5IGJ5IGRlZmF1bHQuXFxuKi9cXG5cXG50ZXh0YXJlYSB7XFxuICByZXNpemU6IHZlcnRpY2FsO1xcbn1cXG5cXG4vKlxcbjEuIFJlc2V0IHRoZSBkZWZhdWx0IHBsYWNlaG9sZGVyIG9wYWNpdHkgaW4gRmlyZWZveC4gKGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvaXNzdWVzLzMzMDApXFxuMi4gU2V0IHRoZSBkZWZhdWx0IHBsYWNlaG9sZGVyIGNvbG9yIHRvIHRoZSB1c2VyJ3MgY29uZmlndXJlZCBncmF5IDQwMCBjb2xvci5cXG4qL1xcblxcbmlucHV0OjotbW96LXBsYWNlaG9sZGVyLCB0ZXh0YXJlYTo6LW1vei1wbGFjZWhvbGRlciB7XFxuICBvcGFjaXR5OiAxOyAvKiAxICovXFxuICBjb2xvcjogIzljYTNhZjsgLyogMiAqL1xcbn1cXG5cXG5pbnB1dDo6cGxhY2Vob2xkZXIsXFxudGV4dGFyZWE6OnBsYWNlaG9sZGVyIHtcXG4gIG9wYWNpdHk6IDE7IC8qIDEgKi9cXG4gIGNvbG9yOiAjOWNhM2FmOyAvKiAyICovXFxufVxcblxcbi8qXFxuU2V0IHRoZSBkZWZhdWx0IGN1cnNvciBmb3IgYnV0dG9ucy5cXG4qL1xcblxcbmJ1dHRvbixcXG5bcm9sZT1cXFwiYnV0dG9uXFxcIl0ge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4vKlxcbk1ha2Ugc3VyZSBkaXNhYmxlZCBidXR0b25zIGRvbid0IGdldCB0aGUgcG9pbnRlciBjdXJzb3IuXFxuKi9cXG46ZGlzYWJsZWQge1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG5cXG4vKlxcbjEuIE1ha2UgcmVwbGFjZWQgZWxlbWVudHMgYGRpc3BsYXk6IGJsb2NrYCBieSBkZWZhdWx0LiAoaHR0cHM6Ly9naXRodWIuY29tL21vemRldnMvY3NzcmVtZWR5L2lzc3Vlcy8xNClcXG4yLiBBZGQgYHZlcnRpY2FsLWFsaWduOiBtaWRkbGVgIHRvIGFsaWduIHJlcGxhY2VkIGVsZW1lbnRzIG1vcmUgc2Vuc2libHkgYnkgZGVmYXVsdC4gKGh0dHBzOi8vZ2l0aHViLmNvbS9qZW5zaW1tb25zL2Nzc3JlbWVkeS9pc3N1ZXMvMTQjaXNzdWVjb21tZW50LTYzNDkzNDIxMClcXG4gICBUaGlzIGNhbiB0cmlnZ2VyIGEgcG9vcmx5IGNvbnNpZGVyZWQgbGludCBlcnJvciBpbiBzb21lIHRvb2xzIGJ1dCBpcyBpbmNsdWRlZCBieSBkZXNpZ24uXFxuKi9cXG5cXG5pbWcsXFxuc3ZnLFxcbnZpZGVvLFxcbmNhbnZhcyxcXG5hdWRpbyxcXG5pZnJhbWUsXFxuZW1iZWQsXFxub2JqZWN0IHtcXG4gIGRpc3BsYXk6IGJsb2NrOyAvKiAxICovXFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyAvKiAyICovXFxufVxcblxcbi8qXFxuQ29uc3RyYWluIGltYWdlcyBhbmQgdmlkZW9zIHRvIHRoZSBwYXJlbnQgd2lkdGggYW5kIHByZXNlcnZlIHRoZWlyIGludHJpbnNpYyBhc3BlY3QgcmF0aW8uIChodHRwczovL2dpdGh1Yi5jb20vbW96ZGV2cy9jc3NyZW1lZHkvaXNzdWVzLzE0KVxcbiovXFxuXFxuaW1nLFxcbnZpZGVvIHtcXG4gIG1heC13aWR0aDogMTAwJTtcXG4gIGhlaWdodDogYXV0bztcXG59XFxuXFxuLyogTWFrZSBlbGVtZW50cyB3aXRoIHRoZSBIVE1MIGhpZGRlbiBhdHRyaWJ1dGUgc3RheSBoaWRkZW4gYnkgZGVmYXVsdCAqL1xcbltoaWRkZW5dIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbiosIDo6YmVmb3JlLCA6OmFmdGVyIHtcXG4gIC0tdHctYm9yZGVyLXNwYWNpbmcteDogMDtcXG4gIC0tdHctYm9yZGVyLXNwYWNpbmcteTogMDtcXG4gIC0tdHctdHJhbnNsYXRlLXg6IDA7XFxuICAtLXR3LXRyYW5zbGF0ZS15OiAwO1xcbiAgLS10dy1yb3RhdGU6IDA7XFxuICAtLXR3LXNrZXcteDogMDtcXG4gIC0tdHctc2tldy15OiAwO1xcbiAgLS10dy1zY2FsZS14OiAxO1xcbiAgLS10dy1zY2FsZS15OiAxO1xcbiAgLS10dy1wYW4teDogIDtcXG4gIC0tdHctcGFuLXk6ICA7XFxuICAtLXR3LXBpbmNoLXpvb206ICA7XFxuICAtLXR3LXNjcm9sbC1zbmFwLXN0cmljdG5lc3M6IHByb3hpbWl0eTtcXG4gIC0tdHctZ3JhZGllbnQtZnJvbS1wb3NpdGlvbjogIDtcXG4gIC0tdHctZ3JhZGllbnQtdmlhLXBvc2l0aW9uOiAgO1xcbiAgLS10dy1ncmFkaWVudC10by1wb3NpdGlvbjogIDtcXG4gIC0tdHctb3JkaW5hbDogIDtcXG4gIC0tdHctc2xhc2hlZC16ZXJvOiAgO1xcbiAgLS10dy1udW1lcmljLWZpZ3VyZTogIDtcXG4gIC0tdHctbnVtZXJpYy1zcGFjaW5nOiAgO1xcbiAgLS10dy1udW1lcmljLWZyYWN0aW9uOiAgO1xcbiAgLS10dy1yaW5nLWluc2V0OiAgO1xcbiAgLS10dy1yaW5nLW9mZnNldC13aWR0aDogMHB4O1xcbiAgLS10dy1yaW5nLW9mZnNldC1jb2xvcjogI2ZmZjtcXG4gIC0tdHctcmluZy1jb2xvcjogcmdiKDU5IDEzMCAyNDYgLyAwLjUpO1xcbiAgLS10dy1yaW5nLW9mZnNldC1zaGFkb3c6IDAgMCAjMDAwMDtcXG4gIC0tdHctcmluZy1zaGFkb3c6IDAgMCAjMDAwMDtcXG4gIC0tdHctc2hhZG93OiAwIDAgIzAwMDA7XFxuICAtLXR3LXNoYWRvdy1jb2xvcmVkOiAwIDAgIzAwMDA7XFxuICAtLXR3LWJsdXI6ICA7XFxuICAtLXR3LWJyaWdodG5lc3M6ICA7XFxuICAtLXR3LWNvbnRyYXN0OiAgO1xcbiAgLS10dy1ncmF5c2NhbGU6ICA7XFxuICAtLXR3LWh1ZS1yb3RhdGU6ICA7XFxuICAtLXR3LWludmVydDogIDtcXG4gIC0tdHctc2F0dXJhdGU6ICA7XFxuICAtLXR3LXNlcGlhOiAgO1xcbiAgLS10dy1kcm9wLXNoYWRvdzogIDtcXG4gIC0tdHctYmFja2Ryb3AtYmx1cjogIDtcXG4gIC0tdHctYmFja2Ryb3AtYnJpZ2h0bmVzczogIDtcXG4gIC0tdHctYmFja2Ryb3AtY29udHJhc3Q6ICA7XFxuICAtLXR3LWJhY2tkcm9wLWdyYXlzY2FsZTogIDtcXG4gIC0tdHctYmFja2Ryb3AtaHVlLXJvdGF0ZTogIDtcXG4gIC0tdHctYmFja2Ryb3AtaW52ZXJ0OiAgO1xcbiAgLS10dy1iYWNrZHJvcC1vcGFjaXR5OiAgO1xcbiAgLS10dy1iYWNrZHJvcC1zYXR1cmF0ZTogIDtcXG4gIC0tdHctYmFja2Ryb3Atc2VwaWE6ICA7XFxuICAtLXR3LWNvbnRhaW4tc2l6ZTogIDtcXG4gIC0tdHctY29udGFpbi1sYXlvdXQ6ICA7XFxuICAtLXR3LWNvbnRhaW4tcGFpbnQ6ICA7XFxuICAtLXR3LWNvbnRhaW4tc3R5bGU6ICA7XFxufVxcblxcbjo6YmFja2Ryb3Age1xcbiAgLS10dy1ib3JkZXItc3BhY2luZy14OiAwO1xcbiAgLS10dy1ib3JkZXItc3BhY2luZy15OiAwO1xcbiAgLS10dy10cmFuc2xhdGUteDogMDtcXG4gIC0tdHctdHJhbnNsYXRlLXk6IDA7XFxuICAtLXR3LXJvdGF0ZTogMDtcXG4gIC0tdHctc2tldy14OiAwO1xcbiAgLS10dy1za2V3LXk6IDA7XFxuICAtLXR3LXNjYWxlLXg6IDE7XFxuICAtLXR3LXNjYWxlLXk6IDE7XFxuICAtLXR3LXBhbi14OiAgO1xcbiAgLS10dy1wYW4teTogIDtcXG4gIC0tdHctcGluY2gtem9vbTogIDtcXG4gIC0tdHctc2Nyb2xsLXNuYXAtc3RyaWN0bmVzczogcHJveGltaXR5O1xcbiAgLS10dy1ncmFkaWVudC1mcm9tLXBvc2l0aW9uOiAgO1xcbiAgLS10dy1ncmFkaWVudC12aWEtcG9zaXRpb246ICA7XFxuICAtLXR3LWdyYWRpZW50LXRvLXBvc2l0aW9uOiAgO1xcbiAgLS10dy1vcmRpbmFsOiAgO1xcbiAgLS10dy1zbGFzaGVkLXplcm86ICA7XFxuICAtLXR3LW51bWVyaWMtZmlndXJlOiAgO1xcbiAgLS10dy1udW1lcmljLXNwYWNpbmc6ICA7XFxuICAtLXR3LW51bWVyaWMtZnJhY3Rpb246ICA7XFxuICAtLXR3LXJpbmctaW5zZXQ6ICA7XFxuICAtLXR3LXJpbmctb2Zmc2V0LXdpZHRoOiAwcHg7XFxuICAtLXR3LXJpbmctb2Zmc2V0LWNvbG9yOiAjZmZmO1xcbiAgLS10dy1yaW5nLWNvbG9yOiByZ2IoNTkgMTMwIDI0NiAvIDAuNSk7XFxuICAtLXR3LXJpbmctb2Zmc2V0LXNoYWRvdzogMCAwICMwMDAwO1xcbiAgLS10dy1yaW5nLXNoYWRvdzogMCAwICMwMDAwO1xcbiAgLS10dy1zaGFkb3c6IDAgMCAjMDAwMDtcXG4gIC0tdHctc2hhZG93LWNvbG9yZWQ6IDAgMCAjMDAwMDtcXG4gIC0tdHctYmx1cjogIDtcXG4gIC0tdHctYnJpZ2h0bmVzczogIDtcXG4gIC0tdHctY29udHJhc3Q6ICA7XFxuICAtLXR3LWdyYXlzY2FsZTogIDtcXG4gIC0tdHctaHVlLXJvdGF0ZTogIDtcXG4gIC0tdHctaW52ZXJ0OiAgO1xcbiAgLS10dy1zYXR1cmF0ZTogIDtcXG4gIC0tdHctc2VwaWE6ICA7XFxuICAtLXR3LWRyb3Atc2hhZG93OiAgO1xcbiAgLS10dy1iYWNrZHJvcC1ibHVyOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1icmlnaHRuZXNzOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1jb250cmFzdDogIDtcXG4gIC0tdHctYmFja2Ryb3AtZ3JheXNjYWxlOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1odWUtcm90YXRlOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1pbnZlcnQ6ICA7XFxuICAtLXR3LWJhY2tkcm9wLW9wYWNpdHk6ICA7XFxuICAtLXR3LWJhY2tkcm9wLXNhdHVyYXRlOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1zZXBpYTogIDtcXG4gIC0tdHctY29udGFpbi1zaXplOiAgO1xcbiAgLS10dy1jb250YWluLWxheW91dDogIDtcXG4gIC0tdHctY29udGFpbi1wYWludDogIDtcXG4gIC0tdHctY29udGFpbi1zdHlsZTogIDtcXG59XFxuLmNvbnRhaW5lciB7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuQG1lZGlhIChtaW4td2lkdGg6IDY0MHB4KSB7XFxuXFxuICAuY29udGFpbmVyIHtcXG4gICAgbWF4LXdpZHRoOiA2NDBweDtcXG4gIH1cXG59XFxuQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7XFxuXFxuICAuY29udGFpbmVyIHtcXG4gICAgbWF4LXdpZHRoOiA3NjhweDtcXG4gIH1cXG59XFxuQG1lZGlhIChtaW4td2lkdGg6IDEwMjRweCkge1xcblxcbiAgLmNvbnRhaW5lciB7XFxuICAgIG1heC13aWR0aDogMTAyNHB4O1xcbiAgfVxcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogMTI4MHB4KSB7XFxuXFxuICAuY29udGFpbmVyIHtcXG4gICAgbWF4LXdpZHRoOiAxMjgwcHg7XFxuICB9XFxufVxcbkBtZWRpYSAobWluLXdpZHRoOiAxNTM2cHgpIHtcXG5cXG4gIC5jb250YWluZXIge1xcbiAgICBtYXgtd2lkdGg6IDE1MzZweDtcXG4gIH1cXG59XFxuLnBvaW50ZXItZXZlbnRzLW5vbmUge1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxufVxcbi5zdGF0aWMge1xcbiAgcG9zaXRpb246IHN0YXRpYztcXG59XFxuLmFic29sdXRlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuLnJlbGF0aXZlIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuLmluc2V0LTAge1xcbiAgaW5zZXQ6IDBweDtcXG59XFxuLmJvdHRvbS0wIHtcXG4gIGJvdHRvbTogMHB4O1xcbn1cXG4uei0xMCB7XFxuICB6LWluZGV4OiAxMDtcXG59XFxuLnotMjAge1xcbiAgei1pbmRleDogMjA7XFxufVxcbi5tLTQge1xcbiAgbWFyZ2luOiAxcmVtO1xcbn1cXG4ubXQtMiB7XFxuICBtYXJnaW4tdG9wOiAwLjVyZW07XFxufVxcbi5tdC00IHtcXG4gIG1hcmdpbi10b3A6IDFyZW07XFxufVxcbi5ibG9jayB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLmlubGluZS1ibG9jayB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxufVxcbi5mbGV4IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxufVxcbi5oaWRkZW4ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmgtZnVsbCB7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcbi5taW4taC1cXFxcW2NhbGNcXFxcKDMzXFxcXCUtNDBweFxcXFwpXFxcXF0ge1xcbiAgbWluLWhlaWdodDogY2FsYygzMyUgLSA0MHB4KTtcXG59XFxuLnctMVxcXFwvMiB7XFxuICB3aWR0aDogNTAlO1xcbn1cXG4udy1cXFxcW2NhbGNcXFxcKDEwMFxcXFwlLTQwcHhcXFxcKVxcXFxdIHtcXG4gIHdpZHRoOiBjYWxjKDEwMCUgLSA0MHB4KTtcXG59XFxuLnctZnVsbCB7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuLm1pbi13LWZ1bGwge1xcbiAgbWluLXdpZHRoOiAxMDAlO1xcbn1cXG4uZmxleC1ncm93IHtcXG4gIGZsZXgtZ3JvdzogMTtcXG59XFxuLnRyYW5zZm9ybSB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSh2YXIoLS10dy10cmFuc2xhdGUteCksIHZhcigtLXR3LXRyYW5zbGF0ZS15KSkgcm90YXRlKHZhcigtLXR3LXJvdGF0ZSkpIHNrZXdYKHZhcigtLXR3LXNrZXcteCkpIHNrZXdZKHZhcigtLXR3LXNrZXcteSkpIHNjYWxlWCh2YXIoLS10dy1zY2FsZS14KSkgc2NhbGVZKHZhcigtLXR3LXNjYWxlLXkpKTtcXG59XFxuLnJlc2l6ZSB7XFxuICByZXNpemU6IGJvdGg7XFxufVxcbi5mbGV4LWNvbCB7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbn1cXG4uaXRlbXMtc3RhcnQge1xcbiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XFxufVxcbi5pdGVtcy1jZW50ZXIge1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuLmp1c3RpZnktY2VudGVyIHtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbn1cXG4uanVzdGlmeS1iZXR3ZWVuIHtcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG59XFxuLm92ZXJmbG93LWF1dG8ge1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxufVxcbi5vdmVyZmxvdy1oaWRkZW4ge1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuLndoaXRlc3BhY2UtcHJlIHtcXG4gIHdoaXRlLXNwYWNlOiBwcmU7XFxufVxcbi53aGl0ZXNwYWNlLXByZS13cmFwIHtcXG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcXG59XFxuLnJvdW5kZWQge1xcbiAgYm9yZGVyLXJhZGl1czogMC4yNXJlbTtcXG59XFxuLnJvdW5kZWQtbGcge1xcbiAgYm9yZGVyLXJhZGl1czogMC41cmVtO1xcbn1cXG4ucm91bmRlZC1tZCB7XFxuICBib3JkZXItcmFkaXVzOiAwLjM3NXJlbTtcXG59XFxuLnJvdW5kZWQtYnItbWQge1xcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDAuMzc1cmVtO1xcbn1cXG4uYm9yZGVyIHtcXG4gIGJvcmRlci13aWR0aDogMXB4O1xcbn1cXG4uYmctd2hpdGUge1xcbiAgLS10dy1iZy1vcGFjaXR5OiAxO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSAyNTUgMjU1IC8gdmFyKC0tdHctYmctb3BhY2l0eSkpO1xcbn1cXG4uYmctY292ZXIge1xcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcXG59XFxuLmJnLWNlbnRlciB7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxufVxcbi5wLTIge1xcbiAgcGFkZGluZzogMC41cmVtO1xcbn1cXG4ucC00IHtcXG4gIHBhZGRpbmc6IDFyZW07XFxufVxcbi50ZXh0LWNlbnRlciB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi5hbGlnbi1ib3R0b20ge1xcbiAgdmVydGljYWwtYWxpZ246IGJvdHRvbTtcXG59XFxuLmZvbnQtYm9sZCB7XFxuICBmb250LXdlaWdodDogNzAwO1xcbn1cXG4uaXRhbGljIHtcXG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcXG59XFxuLnRleHQtYmxhY2sge1xcbiAgLS10dy10ZXh0LW9wYWNpdHk6IDE7XFxuICBjb2xvcjogcmdiKDAgMCAwIC8gdmFyKC0tdHctdGV4dC1vcGFjaXR5KSk7XFxufVxcbi5zaGFkb3ctbWQge1xcbiAgLS10dy1zaGFkb3c6IDAgNHB4IDZweCAtMXB4IHJnYigwIDAgMCAvIDAuMSksIDAgMnB4IDRweCAtMnB4IHJnYigwIDAgMCAvIDAuMSk7XFxuICAtLXR3LXNoYWRvdy1jb2xvcmVkOiAwIDRweCA2cHggLTFweCB2YXIoLS10dy1zaGFkb3ctY29sb3IpLCAwIDJweCA0cHggLTJweCB2YXIoLS10dy1zaGFkb3ctY29sb3IpO1xcbiAgYm94LXNoYWRvdzogdmFyKC0tdHctcmluZy1vZmZzZXQtc2hhZG93LCAwIDAgIzAwMDApLCB2YXIoLS10dy1yaW5nLXNoYWRvdywgMCAwICMwMDAwKSwgdmFyKC0tdHctc2hhZG93KTtcXG59XFxuLmZpbHRlciB7XFxuICBmaWx0ZXI6IHZhcigtLXR3LWJsdXIpIHZhcigtLXR3LWJyaWdodG5lc3MpIHZhcigtLXR3LWNvbnRyYXN0KSB2YXIoLS10dy1ncmF5c2NhbGUpIHZhcigtLXR3LWh1ZS1yb3RhdGUpIHZhcigtLXR3LWludmVydCkgdmFyKC0tdHctc2F0dXJhdGUpIHZhcigtLXR3LXNlcGlhKSB2YXIoLS10dy1kcm9wLXNoYWRvdyk7XFxufVxcbi5cXFxcIXRyYW5zaXRpb24ge1xcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogY29sb3IsIGJhY2tncm91bmQtY29sb3IsIGJvcmRlci1jb2xvciwgdGV4dC1kZWNvcmF0aW9uLWNvbG9yLCBmaWxsLCBzdHJva2UsIG9wYWNpdHksIGJveC1zaGFkb3csIHRyYW5zZm9ybSwgZmlsdGVyLCAtd2Via2l0LWJhY2tkcm9wLWZpbHRlciAhaW1wb3J0YW50O1xcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogY29sb3IsIGJhY2tncm91bmQtY29sb3IsIGJvcmRlci1jb2xvciwgdGV4dC1kZWNvcmF0aW9uLWNvbG9yLCBmaWxsLCBzdHJva2UsIG9wYWNpdHksIGJveC1zaGFkb3csIHRyYW5zZm9ybSwgZmlsdGVyLCBiYWNrZHJvcC1maWx0ZXIgIWltcG9ydGFudDtcXG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IGNvbG9yLCBiYWNrZ3JvdW5kLWNvbG9yLCBib3JkZXItY29sb3IsIHRleHQtZGVjb3JhdGlvbi1jb2xvciwgZmlsbCwgc3Ryb2tlLCBvcGFjaXR5LCBib3gtc2hhZG93LCB0cmFuc2Zvcm0sIGZpbHRlciwgYmFja2Ryb3AtZmlsdGVyLCAtd2Via2l0LWJhY2tkcm9wLWZpbHRlciAhaW1wb3J0YW50O1xcbiAgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSkgIWltcG9ydGFudDtcXG4gIHRyYW5zaXRpb24tZHVyYXRpb246IDE1MG1zICFpbXBvcnRhbnQ7XFxufVxcbi50cmFuc2l0aW9uIHtcXG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IGNvbG9yLCBiYWNrZ3JvdW5kLWNvbG9yLCBib3JkZXItY29sb3IsIHRleHQtZGVjb3JhdGlvbi1jb2xvciwgZmlsbCwgc3Ryb2tlLCBvcGFjaXR5LCBib3gtc2hhZG93LCB0cmFuc2Zvcm0sIGZpbHRlciwgLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI7XFxuICB0cmFuc2l0aW9uLXByb3BlcnR5OiBjb2xvciwgYmFja2dyb3VuZC1jb2xvciwgYm9yZGVyLWNvbG9yLCB0ZXh0LWRlY29yYXRpb24tY29sb3IsIGZpbGwsIHN0cm9rZSwgb3BhY2l0eSwgYm94LXNoYWRvdywgdHJhbnNmb3JtLCBmaWx0ZXIsIGJhY2tkcm9wLWZpbHRlcjtcXG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IGNvbG9yLCBiYWNrZ3JvdW5kLWNvbG9yLCBib3JkZXItY29sb3IsIHRleHQtZGVjb3JhdGlvbi1jb2xvciwgZmlsbCwgc3Ryb2tlLCBvcGFjaXR5LCBib3gtc2hhZG93LCB0cmFuc2Zvcm0sIGZpbHRlciwgYmFja2Ryb3AtZmlsdGVyLCAtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjtcXG4gIHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpO1xcbiAgdHJhbnNpdGlvbi1kdXJhdGlvbjogMTUwbXM7XFxufVxcblxcbi5fX25hcnJhbGVhZl9jb250ZW50LXBsYXllciAqIHtcXG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuXFxuLl9fbmFycmFsZWFmX2NvbnRlbnQtcGxheWVyIGltZyB7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgICAtd2Via2l0LXVzZXItZHJhZzogbm9uZTtcXG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuXCIsXCJcIl0pO2NvbnN0IHM9YX0sMzE0OnQ9PntcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBuPVwiXCIscj12b2lkIDAhPT1lWzVdO3JldHVybiBlWzRdJiYobis9XCJAc3VwcG9ydHMgKFwiLmNvbmNhdChlWzRdLFwiKSB7XCIpKSxlWzJdJiYobis9XCJAbWVkaWEgXCIuY29uY2F0KGVbMl0sXCIge1wiKSksciYmKG4rPVwiQGxheWVyXCIuY29uY2F0KGVbNV0ubGVuZ3RoPjA/XCIgXCIuY29uY2F0KGVbNV0pOlwiXCIsXCIge1wiKSksbis9dChlKSxyJiYobis9XCJ9XCIpLGVbMl0mJihuKz1cIn1cIiksZVs0XSYmKG4rPVwifVwiKSxufSkpLmpvaW4oXCJcIil9LGUuaT1mdW5jdGlvbih0LG4scixvLGkpe1wic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1bW251bGwsdCx2b2lkIDBdXSk7dmFyIGE9e307aWYocilmb3IodmFyIHM9MDtzPHRoaXMubGVuZ3RoO3MrKyl7dmFyIHU9dGhpc1tzXVswXTtudWxsIT11JiYoYVt1XT0hMCl9Zm9yKHZhciBjPTA7Yzx0Lmxlbmd0aDtjKyspe3ZhciBsPVtdLmNvbmNhdCh0W2NdKTtyJiZhW2xbMF1dfHwodm9pZCAwIT09aSYmKHZvaWQgMD09PWxbNV18fChsWzFdPVwiQGxheWVyXCIuY29uY2F0KGxbNV0ubGVuZ3RoPjA/XCIgXCIuY29uY2F0KGxbNV0pOlwiXCIsXCIge1wiKS5jb25jYXQobFsxXSxcIn1cIikpLGxbNV09aSksbiYmKGxbMl0/KGxbMV09XCJAbWVkaWEgXCIuY29uY2F0KGxbMl0sXCIge1wiKS5jb25jYXQobFsxXSxcIn1cIiksbFsyXT1uKTpsWzJdPW4pLG8mJihsWzRdPyhsWzFdPVwiQHN1cHBvcnRzIChcIi5jb25jYXQobFs0XSxcIikge1wiKS5jb25jYXQobFsxXSxcIn1cIiksbFs0XT1vKTpsWzRdPVwiXCIuY29uY2F0KG8pKSxlLnB1c2gobCkpfX0sZX19LDYwMTp0PT57XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0WzFdfX0sMTk2Oih0LGUsbik9Pnt2YXIgcjtcbi8qIVxuICogIGhvd2xlci5qcyB2Mi4yLjRcbiAqICBob3dsZXJqcy5jb21cbiAqXG4gKiAgKGMpIDIwMTMtMjAyMCwgSmFtZXMgU2ltcHNvbiBvZiBHb2xkRmlyZSBTdHVkaW9zXG4gKiAgZ29sZGZpcmVzdHVkaW9zLmNvbVxuICpcbiAqICBNSVQgTGljZW5zZVxuICovIWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89ZnVuY3Rpb24oKXt0aGlzLmluaXQoKX07by5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzfHxpO3JldHVybiB0Ll9jb3VudGVyPTFlMyx0Ll9odG1sNUF1ZGlvUG9vbD1bXSx0Lmh0bWw1UG9vbFNpemU9MTAsdC5fY29kZWNzPXt9LHQuX2hvd2xzPVtdLHQuX211dGVkPSExLHQuX3ZvbHVtZT0xLHQuX2NhblBsYXlFdmVudD1cImNhbnBsYXl0aHJvdWdoXCIsdC5fbmF2aWdhdG9yPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5uYXZpZ2F0b3I/d2luZG93Lm5hdmlnYXRvcjpudWxsLHQubWFzdGVyR2Fpbj1udWxsLHQubm9BdWRpbz0hMSx0LnVzaW5nV2ViQXVkaW89ITAsdC5hdXRvU3VzcGVuZD0hMCx0LmN0eD1udWxsLHQuYXV0b1VubG9jaz0hMCx0Ll9zZXR1cCgpLHR9LHZvbHVtZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzfHxpO2lmKHQ9cGFyc2VGbG9hdCh0KSxlLmN0eHx8ZCgpLHZvaWQgMCE9PXQmJnQ+PTAmJnQ8PTEpe2lmKGUuX3ZvbHVtZT10LGUuX211dGVkKXJldHVybiBlO2UudXNpbmdXZWJBdWRpbyYmZS5tYXN0ZXJHYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUodCxpLmN0eC5jdXJyZW50VGltZSk7Zm9yKHZhciBuPTA7bjxlLl9ob3dscy5sZW5ndGg7bisrKWlmKCFlLl9ob3dsc1tuXS5fd2ViQXVkaW8pZm9yKHZhciByPWUuX2hvd2xzW25dLl9nZXRTb3VuZElkcygpLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGE9ZS5faG93bHNbbl0uX3NvdW5kQnlJZChyW29dKTthJiZhLl9ub2RlJiYoYS5fbm9kZS52b2x1bWU9YS5fdm9sdW1lKnQpfXJldHVybiBlfXJldHVybiBlLl92b2x1bWV9LG11dGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpc3x8aTtlLmN0eHx8ZCgpLGUuX211dGVkPXQsZS51c2luZ1dlYkF1ZGlvJiZlLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSh0PzA6ZS5fdm9sdW1lLGkuY3R4LmN1cnJlbnRUaW1lKTtmb3IodmFyIG49MDtuPGUuX2hvd2xzLmxlbmd0aDtuKyspaWYoIWUuX2hvd2xzW25dLl93ZWJBdWRpbylmb3IodmFyIHI9ZS5faG93bHNbbl0uX2dldFNvdW5kSWRzKCksbz0wO288ci5sZW5ndGg7bysrKXt2YXIgYT1lLl9ob3dsc1tuXS5fc291bmRCeUlkKHJbb10pO2EmJmEuX25vZGUmJihhLl9ub2RlLm11dGVkPSEhdHx8YS5fbXV0ZWQpfXJldHVybiBlfSxzdG9wOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXN8fGksZT0wO2U8dC5faG93bHMubGVuZ3RoO2UrKyl0Ll9ob3dsc1tlXS5zdG9wKCk7cmV0dXJuIHR9LHVubG9hZDpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzfHxpLGU9dC5faG93bHMubGVuZ3RoLTE7ZT49MDtlLS0pdC5faG93bHNbZV0udW5sb2FkKCk7cmV0dXJuIHQudXNpbmdXZWJBdWRpbyYmdC5jdHgmJnZvaWQgMCE9PXQuY3R4LmNsb3NlJiYodC5jdHguY2xvc2UoKSx0LmN0eD1udWxsLGQoKSksdH0sY29kZWNzOmZ1bmN0aW9uKHQpe3JldHVybih0aGlzfHxpKS5fY29kZWNzW3QucmVwbGFjZSgvXngtLyxcIlwiKV19LF9zZXR1cDpmdW5jdGlvbigpe3ZhciB0PXRoaXN8fGk7aWYodC5zdGF0ZT10LmN0eCYmdC5jdHguc3RhdGV8fFwic3VzcGVuZGVkXCIsdC5fYXV0b1N1c3BlbmQoKSwhdC51c2luZ1dlYkF1ZGlvKWlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBBdWRpbyl0cnl7dm9pZCAwPT09KG5ldyBBdWRpbykub25jYW5wbGF5dGhyb3VnaCYmKHQuX2NhblBsYXlFdmVudD1cImNhbnBsYXlcIil9Y2F0Y2goZSl7dC5ub0F1ZGlvPSEwfWVsc2UgdC5ub0F1ZGlvPSEwO3RyeXsobmV3IEF1ZGlvKS5tdXRlZCYmKHQubm9BdWRpbz0hMCl9Y2F0Y2godCl7fXJldHVybiB0Lm5vQXVkaW98fHQuX3NldHVwQ29kZWNzKCksdH0sX3NldHVwQ29kZWNzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8aSxlPW51bGw7dHJ5e2U9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEF1ZGlvP25ldyBBdWRpbzpudWxsfWNhdGNoKGUpe3JldHVybiB0fWlmKCFlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmNhblBsYXlUeXBlKXJldHVybiB0O3ZhciBuPWUuY2FuUGxheVR5cGUoXCJhdWRpby9tcGVnO1wiKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSxyPXQuX25hdmlnYXRvcj90Ll9uYXZpZ2F0b3IudXNlckFnZW50OlwiXCIsbz1yLm1hdGNoKC9PUFJcXC8oXFxkKykvZyksYT1vJiZwYXJzZUludChvWzBdLnNwbGl0KFwiL1wiKVsxXSwxMCk8MzMscz0tMSE9PXIuaW5kZXhPZihcIlNhZmFyaVwiKSYmLTE9PT1yLmluZGV4T2YoXCJDaHJvbWVcIiksdT1yLm1hdGNoKC9WZXJzaW9uXFwvKC4qPykgLyksYz1zJiZ1JiZwYXJzZUludCh1WzFdLDEwKTwxNTtyZXR1cm4gdC5fY29kZWNzPXttcDM6IShhfHwhbiYmIWUuY2FuUGxheVR5cGUoXCJhdWRpby9tcDM7XCIpLnJlcGxhY2UoL15ubyQvLFwiXCIpKSxtcGVnOiEhbixvcHVzOiEhZS5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJvcHVzXCInKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSxvZ2c6ISFlLmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sXCJcIiksb2dhOiEhZS5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLFwiXCIpLHdhdjohIShlLmNhblBsYXlUeXBlKCdhdWRpby93YXY7IGNvZGVjcz1cIjFcIicpfHxlLmNhblBsYXlUeXBlKFwiYXVkaW8vd2F2XCIpKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSxhYWM6ISFlLmNhblBsYXlUeXBlKFwiYXVkaW8vYWFjO1wiKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSxjYWY6ISFlLmNhblBsYXlUeXBlKFwiYXVkaW8veC1jYWY7XCIpLnJlcGxhY2UoL15ubyQvLFwiXCIpLG00YTohIShlLmNhblBsYXlUeXBlKFwiYXVkaW8veC1tNGE7XCIpfHxlLmNhblBsYXlUeXBlKFwiYXVkaW8vbTRhO1wiKXx8ZS5jYW5QbGF5VHlwZShcImF1ZGlvL2FhYztcIikpLnJlcGxhY2UoL15ubyQvLFwiXCIpLG00YjohIShlLmNhblBsYXlUeXBlKFwiYXVkaW8veC1tNGI7XCIpfHxlLmNhblBsYXlUeXBlKFwiYXVkaW8vbTRiO1wiKXx8ZS5jYW5QbGF5VHlwZShcImF1ZGlvL2FhYztcIikpLnJlcGxhY2UoL15ubyQvLFwiXCIpLG1wNDohIShlLmNhblBsYXlUeXBlKFwiYXVkaW8veC1tcDQ7XCIpfHxlLmNhblBsYXlUeXBlKFwiYXVkaW8vbXA0O1wiKXx8ZS5jYW5QbGF5VHlwZShcImF1ZGlvL2FhYztcIikpLnJlcGxhY2UoL15ubyQvLFwiXCIpLHdlYmE6IShjfHwhZS5jYW5QbGF5VHlwZSgnYXVkaW8vd2VibTsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSksd2VibTohKGN8fCFlLmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLFwiXCIpKSxkb2xieTohIWUuY2FuUGxheVR5cGUoJ2F1ZGlvL21wNDsgY29kZWNzPVwiZWMtM1wiJykucmVwbGFjZSgvXm5vJC8sXCJcIiksZmxhYzohIShlLmNhblBsYXlUeXBlKFwiYXVkaW8veC1mbGFjO1wiKXx8ZS5jYW5QbGF5VHlwZShcImF1ZGlvL2ZsYWM7XCIpKS5yZXBsYWNlKC9ebm8kLyxcIlwiKX0sdH0sX3VubG9ja0F1ZGlvOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8aTtpZighdC5fYXVkaW9VbmxvY2tlZCYmdC5jdHgpe3QuX2F1ZGlvVW5sb2NrZWQ9ITEsdC5hdXRvVW5sb2NrPSExLHQuX21vYmlsZVVubG9hZGVkfHw0NDEwMD09PXQuY3R4LnNhbXBsZVJhdGV8fCh0Ll9tb2JpbGVVbmxvYWRlZD0hMCx0LnVubG9hZCgpKSx0Ll9zY3JhdGNoQnVmZmVyPXQuY3R4LmNyZWF0ZUJ1ZmZlcigxLDEsMjIwNTApO3ZhciBlPWZ1bmN0aW9uKG4pe2Zvcig7dC5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoPHQuaHRtbDVQb29sU2l6ZTspdHJ5e3ZhciByPW5ldyBBdWRpbztyLl91bmxvY2tlZD0hMCx0Ll9yZWxlYXNlSHRtbDVBdWRpbyhyKX1jYXRjaChuKXt0Lm5vQXVkaW89ITA7YnJlYWt9Zm9yKHZhciBvPTA7bzx0Ll9ob3dscy5sZW5ndGg7bysrKWlmKCF0Ll9ob3dsc1tvXS5fd2ViQXVkaW8pZm9yKHZhciBpPXQuX2hvd2xzW29dLl9nZXRTb3VuZElkcygpLGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHM9dC5faG93bHNbb10uX3NvdW5kQnlJZChpW2FdKTtzJiZzLl9ub2RlJiYhcy5fbm9kZS5fdW5sb2NrZWQmJihzLl9ub2RlLl91bmxvY2tlZD0hMCxzLl9ub2RlLmxvYWQoKSl9dC5fYXV0b1Jlc3VtZSgpO3ZhciB1PXQuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO3UuYnVmZmVyPXQuX3NjcmF0Y2hCdWZmZXIsdS5jb25uZWN0KHQuY3R4LmRlc3RpbmF0aW9uKSx2b2lkIDA9PT11LnN0YXJ0P3Uubm90ZU9uKDApOnUuc3RhcnQoMCksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jdHgucmVzdW1lJiZ0LmN0eC5yZXN1bWUoKSx1Lm9uZW5kZWQ9ZnVuY3Rpb24oKXt1LmRpc2Nvbm5lY3QoMCksdC5fYXVkaW9VbmxvY2tlZD0hMCxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGUsITApLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLGUsITApLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUsITApLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsZSwhMCk7Zm9yKHZhciBuPTA7bjx0Ll9ob3dscy5sZW5ndGg7bisrKXQuX2hvd2xzW25dLl9lbWl0KFwidW5sb2NrXCIpfX07cmV0dXJuIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSwhMCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsZSwhMCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZSwhMCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixlLCEwKSx0fX0sX29idGFpbkh0bWw1QXVkaW86ZnVuY3Rpb24oKXt2YXIgdD10aGlzfHxpO2lmKHQuX2h0bWw1QXVkaW9Qb29sLmxlbmd0aClyZXR1cm4gdC5faHRtbDVBdWRpb1Bvb2wucG9wKCk7dmFyIGU9KG5ldyBBdWRpbykucGxheSgpO3JldHVybiBlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZSYmKGUgaW5zdGFuY2VvZiBQcm9taXNlfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRoZW4pJiZlLmNhdGNoKChmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIkhUTUw1IEF1ZGlvIHBvb2wgZXhoYXVzdGVkLCByZXR1cm5pbmcgcG90ZW50aWFsbHkgbG9ja2VkIGF1ZGlvIG9iamVjdC5cIil9KSksbmV3IEF1ZGlvfSxfcmVsZWFzZUh0bWw1QXVkaW86ZnVuY3Rpb24odCl7dmFyIGU9dGhpc3x8aTtyZXR1cm4gdC5fdW5sb2NrZWQmJmUuX2h0bWw1QXVkaW9Qb29sLnB1c2godCksZX0sX2F1dG9TdXNwZW5kOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0LmF1dG9TdXNwZW5kJiZ0LmN0eCYmdm9pZCAwIT09dC5jdHguc3VzcGVuZCYmaS51c2luZ1dlYkF1ZGlvKXtmb3IodmFyIGU9MDtlPHQuX2hvd2xzLmxlbmd0aDtlKyspaWYodC5faG93bHNbZV0uX3dlYkF1ZGlvKWZvcih2YXIgbj0wO248dC5faG93bHNbZV0uX3NvdW5kcy5sZW5ndGg7bisrKWlmKCF0Ll9ob3dsc1tlXS5fc291bmRzW25dLl9wYXVzZWQpcmV0dXJuIHQ7cmV0dXJuIHQuX3N1c3BlbmRUaW1lciYmY2xlYXJUaW1lb3V0KHQuX3N1c3BlbmRUaW1lciksdC5fc3VzcGVuZFRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aWYodC5hdXRvU3VzcGVuZCl7dC5fc3VzcGVuZFRpbWVyPW51bGwsdC5zdGF0ZT1cInN1c3BlbmRpbmdcIjt2YXIgZT1mdW5jdGlvbigpe3Quc3RhdGU9XCJzdXNwZW5kZWRcIix0Ll9yZXN1bWVBZnRlclN1c3BlbmQmJihkZWxldGUgdC5fcmVzdW1lQWZ0ZXJTdXNwZW5kLHQuX2F1dG9SZXN1bWUoKSl9O3QuY3R4LnN1c3BlbmQoKS50aGVuKGUsZSl9fSksM2U0KSx0fX0sX2F1dG9SZXN1bWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHQuY3R4JiZ2b2lkIDAhPT10LmN0eC5yZXN1bWUmJmkudXNpbmdXZWJBdWRpbylyZXR1cm5cInJ1bm5pbmdcIj09PXQuc3RhdGUmJlwiaW50ZXJydXB0ZWRcIiE9PXQuY3R4LnN0YXRlJiZ0Ll9zdXNwZW5kVGltZXI/KGNsZWFyVGltZW91dCh0Ll9zdXNwZW5kVGltZXIpLHQuX3N1c3BlbmRUaW1lcj1udWxsKTpcInN1c3BlbmRlZFwiPT09dC5zdGF0ZXx8XCJydW5uaW5nXCI9PT10LnN0YXRlJiZcImludGVycnVwdGVkXCI9PT10LmN0eC5zdGF0ZT8odC5jdHgucmVzdW1lKCkudGhlbigoZnVuY3Rpb24oKXt0LnN0YXRlPVwicnVubmluZ1wiO2Zvcih2YXIgZT0wO2U8dC5faG93bHMubGVuZ3RoO2UrKyl0Ll9ob3dsc1tlXS5fZW1pdChcInJlc3VtZVwiKX0pKSx0Ll9zdXNwZW5kVGltZXImJihjbGVhclRpbWVvdXQodC5fc3VzcGVuZFRpbWVyKSx0Ll9zdXNwZW5kVGltZXI9bnVsbCkpOlwic3VzcGVuZGluZ1wiPT09dC5zdGF0ZSYmKHQuX3Jlc3VtZUFmdGVyU3VzcGVuZD0hMCksdH19O3ZhciBpPW5ldyBvLGE9ZnVuY3Rpb24odCl7dC5zcmMmJjAhPT10LnNyYy5sZW5ndGg/dGhpcy5pbml0KHQpOmNvbnNvbGUuZXJyb3IoXCJBbiBhcnJheSBvZiBzb3VyY2UgZmlsZXMgbXVzdCBiZSBwYXNzZWQgd2l0aCBhbnkgbmV3IEhvd2wuXCIpfTthLnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBpLmN0eHx8ZCgpLGUuX2F1dG9wbGF5PXQuYXV0b3BsYXl8fCExLGUuX2Zvcm1hdD1cInN0cmluZ1wiIT10eXBlb2YgdC5mb3JtYXQ/dC5mb3JtYXQ6W3QuZm9ybWF0XSxlLl9odG1sNT10Lmh0bWw1fHwhMSxlLl9tdXRlZD10Lm11dGV8fCExLGUuX2xvb3A9dC5sb29wfHwhMSxlLl9wb29sPXQucG9vbHx8NSxlLl9wcmVsb2FkPVwiYm9vbGVhblwiIT10eXBlb2YgdC5wcmVsb2FkJiZcIm1ldGFkYXRhXCIhPT10LnByZWxvYWR8fHQucHJlbG9hZCxlLl9yYXRlPXQucmF0ZXx8MSxlLl9zcHJpdGU9dC5zcHJpdGV8fHt9LGUuX3NyYz1cInN0cmluZ1wiIT10eXBlb2YgdC5zcmM/dC5zcmM6W3Quc3JjXSxlLl92b2x1bWU9dm9pZCAwIT09dC52b2x1bWU/dC52b2x1bWU6MSxlLl94aHI9e21ldGhvZDp0LnhociYmdC54aHIubWV0aG9kP3QueGhyLm1ldGhvZDpcIkdFVFwiLGhlYWRlcnM6dC54aHImJnQueGhyLmhlYWRlcnM/dC54aHIuaGVhZGVyczpudWxsLHdpdGhDcmVkZW50aWFsczohKCF0Lnhocnx8IXQueGhyLndpdGhDcmVkZW50aWFscykmJnQueGhyLndpdGhDcmVkZW50aWFsc30sZS5fZHVyYXRpb249MCxlLl9zdGF0ZT1cInVubG9hZGVkXCIsZS5fc291bmRzPVtdLGUuX2VuZFRpbWVycz17fSxlLl9xdWV1ZT1bXSxlLl9wbGF5TG9jaz0hMSxlLl9vbmVuZD10Lm9uZW5kP1t7Zm46dC5vbmVuZH1dOltdLGUuX29uZmFkZT10Lm9uZmFkZT9be2ZuOnQub25mYWRlfV06W10sZS5fb25sb2FkPXQub25sb2FkP1t7Zm46dC5vbmxvYWR9XTpbXSxlLl9vbmxvYWRlcnJvcj10Lm9ubG9hZGVycm9yP1t7Zm46dC5vbmxvYWRlcnJvcn1dOltdLGUuX29ucGxheWVycm9yPXQub25wbGF5ZXJyb3I/W3tmbjp0Lm9ucGxheWVycm9yfV06W10sZS5fb25wYXVzZT10Lm9ucGF1c2U/W3tmbjp0Lm9ucGF1c2V9XTpbXSxlLl9vbnBsYXk9dC5vbnBsYXk/W3tmbjp0Lm9ucGxheX1dOltdLGUuX29uc3RvcD10Lm9uc3RvcD9be2ZuOnQub25zdG9wfV06W10sZS5fb25tdXRlPXQub25tdXRlP1t7Zm46dC5vbm11dGV9XTpbXSxlLl9vbnZvbHVtZT10Lm9udm9sdW1lP1t7Zm46dC5vbnZvbHVtZX1dOltdLGUuX29ucmF0ZT10Lm9ucmF0ZT9be2ZuOnQub25yYXRlfV06W10sZS5fb25zZWVrPXQub25zZWVrP1t7Zm46dC5vbnNlZWt9XTpbXSxlLl9vbnVubG9jaz10Lm9udW5sb2NrP1t7Zm46dC5vbnVubG9ja31dOltdLGUuX29ucmVzdW1lPVtdLGUuX3dlYkF1ZGlvPWkudXNpbmdXZWJBdWRpbyYmIWUuX2h0bWw1LHZvaWQgMCE9PWkuY3R4JiZpLmN0eCYmaS5hdXRvVW5sb2NrJiZpLl91bmxvY2tBdWRpbygpLGkuX2hvd2xzLnB1c2goZSksZS5fYXV0b3BsYXkmJmUuX3F1ZXVlLnB1c2goe2V2ZW50OlwicGxheVwiLGFjdGlvbjpmdW5jdGlvbigpe2UucGxheSgpfX0pLGUuX3ByZWxvYWQmJlwibm9uZVwiIT09ZS5fcHJlbG9hZCYmZS5sb2FkKCksZX0sbG9hZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1udWxsO2lmKGkubm9BdWRpbyl0Ll9lbWl0KFwibG9hZGVycm9yXCIsbnVsbCxcIk5vIGF1ZGlvIHN1cHBvcnQuXCIpO2Vsc2V7XCJzdHJpbmdcIj09dHlwZW9mIHQuX3NyYyYmKHQuX3NyYz1bdC5fc3JjXSk7Zm9yKHZhciBuPTA7bjx0Ll9zcmMubGVuZ3RoO24rKyl7dmFyIHIsbztpZih0Ll9mb3JtYXQmJnQuX2Zvcm1hdFtuXSlyPXQuX2Zvcm1hdFtuXTtlbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZihvPXQuX3NyY1tuXSkpe3QuX2VtaXQoXCJsb2FkZXJyb3JcIixudWxsLFwiTm9uLXN0cmluZyBmb3VuZCBpbiBzZWxlY3RlZCBhdWRpbyBzb3VyY2VzIC0gaWdub3JpbmcuXCIpO2NvbnRpbnVlfShyPS9eZGF0YTphdWRpb1xcLyhbXjssXSspOy9pLmV4ZWMobykpfHwocj0vXFwuKFteLl0rKSQvLmV4ZWMoby5zcGxpdChcIj9cIiwxKVswXSkpLHImJihyPXJbMV0udG9Mb3dlckNhc2UoKSl9aWYocnx8Y29uc29sZS53YXJuKCdObyBmaWxlIGV4dGVuc2lvbiB3YXMgZm91bmQuIENvbnNpZGVyIHVzaW5nIHRoZSBcImZvcm1hdFwiIHByb3BlcnR5IG9yIHNwZWNpZnkgYW4gZXh0ZW5zaW9uLicpLHImJmkuY29kZWNzKHIpKXtlPXQuX3NyY1tuXTticmVha319aWYoZSlyZXR1cm4gdC5fc3JjPWUsdC5fc3RhdGU9XCJsb2FkaW5nXCIsXCJodHRwczpcIj09PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCYmXCJodHRwOlwiPT09ZS5zbGljZSgwLDUpJiYodC5faHRtbDU9ITAsdC5fd2ViQXVkaW89ITEpLG5ldyBzKHQpLHQuX3dlYkF1ZGlvJiZjKHQpLHQ7dC5fZW1pdChcImxvYWRlcnJvclwiLG51bGwsXCJObyBjb2RlYyBzdXBwb3J0IGZvciBzZWxlY3RlZCBhdWRpbyBzb3VyY2VzLlwiKX19LHBsYXk6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9bnVsbDtpZihcIm51bWJlclwiPT10eXBlb2YgdClyPXQsdD1udWxsO2Vsc2V7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJlwibG9hZGVkXCI9PT1uLl9zdGF0ZSYmIW4uX3Nwcml0ZVt0XSlyZXR1cm4gbnVsbDtpZih2b2lkIDA9PT10JiYodD1cIl9fZGVmYXVsdFwiLCFuLl9wbGF5TG9jaykpe2Zvcih2YXIgbz0wLGE9MDthPG4uX3NvdW5kcy5sZW5ndGg7YSsrKW4uX3NvdW5kc1thXS5fcGF1c2VkJiYhbi5fc291bmRzW2FdLl9lbmRlZCYmKG8rKyxyPW4uX3NvdW5kc1thXS5faWQpOzE9PT1vP3Q9bnVsbDpyPW51bGx9fXZhciBzPXI/bi5fc291bmRCeUlkKHIpOm4uX2luYWN0aXZlU291bmQoKTtpZighcylyZXR1cm4gbnVsbDtpZihyJiYhdCYmKHQ9cy5fc3ByaXRlfHxcIl9fZGVmYXVsdFwiKSxcImxvYWRlZFwiIT09bi5fc3RhdGUpe3MuX3Nwcml0ZT10LHMuX2VuZGVkPSExO3ZhciB1PXMuX2lkO3JldHVybiBuLl9xdWV1ZS5wdXNoKHtldmVudDpcInBsYXlcIixhY3Rpb246ZnVuY3Rpb24oKXtuLnBsYXkodSl9fSksdX1pZihyJiYhcy5fcGF1c2VkKXJldHVybiBlfHxuLl9sb2FkUXVldWUoXCJwbGF5XCIpLHMuX2lkO24uX3dlYkF1ZGlvJiZpLl9hdXRvUmVzdW1lKCk7dmFyIGM9TWF0aC5tYXgoMCxzLl9zZWVrPjA/cy5fc2VlazpuLl9zcHJpdGVbdF1bMF0vMWUzKSxsPU1hdGgubWF4KDAsKG4uX3Nwcml0ZVt0XVswXStuLl9zcHJpdGVbdF1bMV0pLzFlMy1jKSxmPTFlMypsL01hdGguYWJzKHMuX3JhdGUpLHA9bi5fc3ByaXRlW3RdWzBdLzFlMyxkPShuLl9zcHJpdGVbdF1bMF0rbi5fc3ByaXRlW3RdWzFdKS8xZTM7cy5fc3ByaXRlPXQscy5fZW5kZWQ9ITE7dmFyIGg9ZnVuY3Rpb24oKXtzLl9wYXVzZWQ9ITEscy5fc2Vlaz1jLHMuX3N0YXJ0PXAscy5fc3RvcD1kLHMuX2xvb3A9ISghcy5fbG9vcCYmIW4uX3Nwcml0ZVt0XVsyXSl9O2lmKCEoYz49ZCkpe3ZhciB5PXMuX25vZGU7aWYobi5fd2ViQXVkaW8pe3ZhciB2PWZ1bmN0aW9uKCl7bi5fcGxheUxvY2s9ITEsaCgpLG4uX3JlZnJlc2hCdWZmZXIocyk7dmFyIHQ9cy5fbXV0ZWR8fG4uX211dGVkPzA6cy5fdm9sdW1lO3kuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh0LGkuY3R4LmN1cnJlbnRUaW1lKSxzLl9wbGF5U3RhcnQ9aS5jdHguY3VycmVudFRpbWUsdm9pZCAwPT09eS5idWZmZXJTb3VyY2Uuc3RhcnQ/cy5fbG9vcD95LmJ1ZmZlclNvdXJjZS5ub3RlR3JhaW5PbigwLGMsODY0MDApOnkuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsYyxsKTpzLl9sb29wP3kuYnVmZmVyU291cmNlLnN0YXJ0KDAsYyw4NjQwMCk6eS5idWZmZXJTb3VyY2Uuc3RhcnQoMCxjLGwpLGYhPT0xLzAmJihuLl9lbmRUaW1lcnNbcy5faWRdPXNldFRpbWVvdXQobi5fZW5kZWQuYmluZChuLHMpLGYpKSxlfHxzZXRUaW1lb3V0KChmdW5jdGlvbigpe24uX2VtaXQoXCJwbGF5XCIscy5faWQpLG4uX2xvYWRRdWV1ZSgpfSksMCl9O1wicnVubmluZ1wiPT09aS5zdGF0ZSYmXCJpbnRlcnJ1cHRlZFwiIT09aS5jdHguc3RhdGU/digpOihuLl9wbGF5TG9jaz0hMCxuLm9uY2UoXCJyZXN1bWVcIix2KSxuLl9jbGVhclRpbWVyKHMuX2lkKSl9ZWxzZXt2YXIgbT1mdW5jdGlvbigpe3kuY3VycmVudFRpbWU9Yyx5Lm11dGVkPXMuX211dGVkfHxuLl9tdXRlZHx8aS5fbXV0ZWR8fHkubXV0ZWQseS52b2x1bWU9cy5fdm9sdW1lKmkudm9sdW1lKCkseS5wbGF5YmFja1JhdGU9cy5fcmF0ZTt0cnl7dmFyIHI9eS5wbGF5KCk7aWYociYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFByb21pc2UmJihyIGluc3RhbmNlb2YgUHJvbWlzZXx8XCJmdW5jdGlvblwiPT10eXBlb2Ygci50aGVuKT8obi5fcGxheUxvY2s9ITAsaCgpLHIudGhlbigoZnVuY3Rpb24oKXtuLl9wbGF5TG9jaz0hMSx5Ll91bmxvY2tlZD0hMCxlP24uX2xvYWRRdWV1ZSgpOm4uX2VtaXQoXCJwbGF5XCIscy5faWQpfSkpLmNhdGNoKChmdW5jdGlvbigpe24uX3BsYXlMb2NrPSExLG4uX2VtaXQoXCJwbGF5ZXJyb3JcIixzLl9pZCxcIlBsYXliYWNrIHdhcyB1bmFibGUgdG8gc3RhcnQuIFRoaXMgaXMgbW9zdCBjb21tb25seSBhbiBpc3N1ZSBvbiBtb2JpbGUgZGV2aWNlcyBhbmQgQ2hyb21lIHdoZXJlIHBsYXliYWNrIHdhcyBub3Qgd2l0aGluIGEgdXNlciBpbnRlcmFjdGlvbi5cIikscy5fZW5kZWQ9ITAscy5fcGF1c2VkPSEwfSkpKTplfHwobi5fcGxheUxvY2s9ITEsaCgpLG4uX2VtaXQoXCJwbGF5XCIscy5faWQpKSx5LnBsYXliYWNrUmF0ZT1zLl9yYXRlLHkucGF1c2VkKXJldHVybiB2b2lkIG4uX2VtaXQoXCJwbGF5ZXJyb3JcIixzLl9pZCxcIlBsYXliYWNrIHdhcyB1bmFibGUgdG8gc3RhcnQuIFRoaXMgaXMgbW9zdCBjb21tb25seSBhbiBpc3N1ZSBvbiBtb2JpbGUgZGV2aWNlcyBhbmQgQ2hyb21lIHdoZXJlIHBsYXliYWNrIHdhcyBub3Qgd2l0aGluIGEgdXNlciBpbnRlcmFjdGlvbi5cIik7XCJfX2RlZmF1bHRcIiE9PXR8fHMuX2xvb3A/bi5fZW5kVGltZXJzW3MuX2lkXT1zZXRUaW1lb3V0KG4uX2VuZGVkLmJpbmQobixzKSxmKToobi5fZW5kVGltZXJzW3MuX2lkXT1mdW5jdGlvbigpe24uX2VuZGVkKHMpLHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsbi5fZW5kVGltZXJzW3MuX2lkXSwhMSl9LHkuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsbi5fZW5kVGltZXJzW3MuX2lkXSwhMSkpfWNhdGNoKHQpe24uX2VtaXQoXCJwbGF5ZXJyb3JcIixzLl9pZCx0KX19O1wiZGF0YTphdWRpby93YXY7YmFzZTY0LFVrbEdSaWdBQUFCWFFWWkZabTEwSUJJQUFBQUJBQUVBUkt3QUFJaFlBUUFDQUJBQUFBQmtZWFJoQWdBQUFBRUFcIj09PXkuc3JjJiYoeS5zcmM9bi5fc3JjLHkubG9hZCgpKTt2YXIgZz13aW5kb3cmJndpbmRvdy5lamVjdGF8fCF5LnJlYWR5U3RhdGUmJmkuX25hdmlnYXRvci5pc0NvY29vbkpTO2lmKHkucmVhZHlTdGF0ZT49M3x8ZyltKCk7ZWxzZXtuLl9wbGF5TG9jaz0hMCxuLl9zdGF0ZT1cImxvYWRpbmdcIjt2YXIgYj1mdW5jdGlvbigpe24uX3N0YXRlPVwibG9hZGVkXCIsbSgpLHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLl9jYW5QbGF5RXZlbnQsYiwhMSl9O3kuYWRkRXZlbnRMaXN0ZW5lcihpLl9jYW5QbGF5RXZlbnQsYiwhMSksbi5fY2xlYXJUaW1lcihzLl9pZCl9fXJldHVybiBzLl9pZH1uLl9lbmRlZChzKX0scGF1c2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZihcImxvYWRlZFwiIT09ZS5fc3RhdGV8fGUuX3BsYXlMb2NrKXJldHVybiBlLl9xdWV1ZS5wdXNoKHtldmVudDpcInBhdXNlXCIsYWN0aW9uOmZ1bmN0aW9uKCl7ZS5wYXVzZSh0KX19KSxlO2Zvcih2YXIgbj1lLl9nZXRTb3VuZElkcyh0KSxyPTA7cjxuLmxlbmd0aDtyKyspe2UuX2NsZWFyVGltZXIobltyXSk7dmFyIG89ZS5fc291bmRCeUlkKG5bcl0pO2lmKG8mJiFvLl9wYXVzZWQmJihvLl9zZWVrPWUuc2VlayhuW3JdKSxvLl9yYXRlU2Vlaz0wLG8uX3BhdXNlZD0hMCxlLl9zdG9wRmFkZShuW3JdKSxvLl9ub2RlKSlpZihlLl93ZWJBdWRpbyl7aWYoIW8uX25vZGUuYnVmZmVyU291cmNlKWNvbnRpbnVlO3ZvaWQgMD09PW8uX25vZGUuYnVmZmVyU291cmNlLnN0b3A/by5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTpvLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApLGUuX2NsZWFuQnVmZmVyKG8uX25vZGUpfWVsc2UgaXNOYU4oby5fbm9kZS5kdXJhdGlvbikmJm8uX25vZGUuZHVyYXRpb24hPT0xLzB8fG8uX25vZGUucGF1c2UoKTthcmd1bWVudHNbMV18fGUuX2VtaXQoXCJwYXVzZVwiLG8/by5faWQ6bnVsbCl9cmV0dXJuIGV9LHN0b3A6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKFwibG9hZGVkXCIhPT1uLl9zdGF0ZXx8bi5fcGxheUxvY2spcmV0dXJuIG4uX3F1ZXVlLnB1c2goe2V2ZW50Olwic3RvcFwiLGFjdGlvbjpmdW5jdGlvbigpe24uc3RvcCh0KX19KSxuO2Zvcih2YXIgcj1uLl9nZXRTb3VuZElkcyh0KSxvPTA7bzxyLmxlbmd0aDtvKyspe24uX2NsZWFyVGltZXIocltvXSk7dmFyIGk9bi5fc291bmRCeUlkKHJbb10pO2kmJihpLl9zZWVrPWkuX3N0YXJ0fHwwLGkuX3JhdGVTZWVrPTAsaS5fcGF1c2VkPSEwLGkuX2VuZGVkPSEwLG4uX3N0b3BGYWRlKHJbb10pLGkuX25vZGUmJihuLl93ZWJBdWRpbz9pLl9ub2RlLmJ1ZmZlclNvdXJjZSYmKHZvaWQgMD09PWkuX25vZGUuYnVmZmVyU291cmNlLnN0b3A/aS5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTppLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApLG4uX2NsZWFuQnVmZmVyKGkuX25vZGUpKTppc05hTihpLl9ub2RlLmR1cmF0aW9uKSYmaS5fbm9kZS5kdXJhdGlvbiE9PTEvMHx8KGkuX25vZGUuY3VycmVudFRpbWU9aS5fc3RhcnR8fDAsaS5fbm9kZS5wYXVzZSgpLGkuX25vZGUuZHVyYXRpb249PT0xLzAmJm4uX2NsZWFyU291bmQoaS5fbm9kZSkpKSxlfHxuLl9lbWl0KFwic3RvcFwiLGkuX2lkKSl9cmV0dXJuIG59LG11dGU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKFwibG9hZGVkXCIhPT1uLl9zdGF0ZXx8bi5fcGxheUxvY2spcmV0dXJuIG4uX3F1ZXVlLnB1c2goe2V2ZW50OlwibXV0ZVwiLGFjdGlvbjpmdW5jdGlvbigpe24ubXV0ZSh0LGUpfX0pLG47aWYodm9pZCAwPT09ZSl7aWYoXCJib29sZWFuXCIhPXR5cGVvZiB0KXJldHVybiBuLl9tdXRlZDtuLl9tdXRlZD10fWZvcih2YXIgcj1uLl9nZXRTb3VuZElkcyhlKSxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBhPW4uX3NvdW5kQnlJZChyW29dKTthJiYoYS5fbXV0ZWQ9dCxhLl9pbnRlcnZhbCYmbi5fc3RvcEZhZGUoYS5faWQpLG4uX3dlYkF1ZGlvJiZhLl9ub2RlP2EuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh0PzA6YS5fdm9sdW1lLGkuY3R4LmN1cnJlbnRUaW1lKTphLl9ub2RlJiYoYS5fbm9kZS5tdXRlZD0hIWkuX211dGVkfHx0KSxuLl9lbWl0KFwibXV0ZVwiLGEuX2lkKSl9cmV0dXJuIG59LHZvbHVtZTpmdW5jdGlvbigpe3ZhciB0LGUsbixyPXRoaXMsbz1hcmd1bWVudHM7aWYoMD09PW8ubGVuZ3RoKXJldHVybiByLl92b2x1bWU7aWYoMT09PW8ubGVuZ3RofHwyPT09by5sZW5ndGgmJnZvaWQgMD09PW9bMV0/ci5fZ2V0U291bmRJZHMoKS5pbmRleE9mKG9bMF0pPj0wP2U9cGFyc2VJbnQob1swXSwxMCk6dD1wYXJzZUZsb2F0KG9bMF0pOm8ubGVuZ3RoPj0yJiYodD1wYXJzZUZsb2F0KG9bMF0pLGU9cGFyc2VJbnQob1sxXSwxMCkpLCEodm9pZCAwIT09dCYmdD49MCYmdDw9MSkpcmV0dXJuKG49ZT9yLl9zb3VuZEJ5SWQoZSk6ci5fc291bmRzWzBdKT9uLl92b2x1bWU6MDtpZihcImxvYWRlZFwiIT09ci5fc3RhdGV8fHIuX3BsYXlMb2NrKXJldHVybiByLl9xdWV1ZS5wdXNoKHtldmVudDpcInZvbHVtZVwiLGFjdGlvbjpmdW5jdGlvbigpe3Iudm9sdW1lLmFwcGx5KHIsbyl9fSkscjt2b2lkIDA9PT1lJiYoci5fdm9sdW1lPXQpLGU9ci5fZ2V0U291bmRJZHMoZSk7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspKG49ci5fc291bmRCeUlkKGVbYV0pKSYmKG4uX3ZvbHVtZT10LG9bMl18fHIuX3N0b3BGYWRlKGVbYV0pLHIuX3dlYkF1ZGlvJiZuLl9ub2RlJiYhbi5fbXV0ZWQ/bi5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKHQsaS5jdHguY3VycmVudFRpbWUpOm4uX25vZGUmJiFuLl9tdXRlZCYmKG4uX25vZGUudm9sdW1lPXQqaS52b2x1bWUoKSksci5fZW1pdChcInZvbHVtZVwiLG4uX2lkKSk7cmV0dXJuIHJ9LGZhZGU6ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dGhpcztpZihcImxvYWRlZFwiIT09by5fc3RhdGV8fG8uX3BsYXlMb2NrKXJldHVybiBvLl9xdWV1ZS5wdXNoKHtldmVudDpcImZhZGVcIixhY3Rpb246ZnVuY3Rpb24oKXtvLmZhZGUodCxlLG4scil9fSksbzt0PU1hdGgubWluKE1hdGgubWF4KDAscGFyc2VGbG9hdCh0KSksMSksZT1NYXRoLm1pbihNYXRoLm1heCgwLHBhcnNlRmxvYXQoZSkpLDEpLG49cGFyc2VGbG9hdChuKSxvLnZvbHVtZSh0LHIpO2Zvcih2YXIgYT1vLl9nZXRTb3VuZElkcyhyKSxzPTA7czxhLmxlbmd0aDtzKyspe3ZhciB1PW8uX3NvdW5kQnlJZChhW3NdKTtpZih1KXtpZihyfHxvLl9zdG9wRmFkZShhW3NdKSxvLl93ZWJBdWRpbyYmIXUuX211dGVkKXt2YXIgYz1pLmN0eC5jdXJyZW50VGltZSxsPWMrbi8xZTM7dS5fdm9sdW1lPXQsdS5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKHQsYyksdS5fbm9kZS5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGUsbCl9by5fc3RhcnRGYWRlSW50ZXJ2YWwodSx0LGUsbixhW3NdLHZvaWQgMD09PXIpfX1yZXR1cm4gb30sX3N0YXJ0RmFkZUludGVydmFsOmZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt2YXIgYT10aGlzLHM9ZSx1PW4tZSxjPU1hdGguYWJzKHUvLjAxKSxsPU1hdGgubWF4KDQsYz4wP3IvYzpyKSxmPURhdGUubm93KCk7dC5fZmFkZVRvPW4sdC5faW50ZXJ2YWw9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7dmFyIG89KERhdGUubm93KCktZikvcjtmPURhdGUubm93KCkscys9dSpvLHM9TWF0aC5yb3VuZCgxMDAqcykvMTAwLHM9dTwwP01hdGgubWF4KG4scyk6TWF0aC5taW4obixzKSxhLl93ZWJBdWRpbz90Ll92b2x1bWU9czphLnZvbHVtZShzLHQuX2lkLCEwKSxpJiYoYS5fdm9sdW1lPXMpLChuPGUmJnM8PW58fG4+ZSYmcz49bikmJihjbGVhckludGVydmFsKHQuX2ludGVydmFsKSx0Ll9pbnRlcnZhbD1udWxsLHQuX2ZhZGVUbz1udWxsLGEudm9sdW1lKG4sdC5faWQpLGEuX2VtaXQoXCJmYWRlXCIsdC5faWQpKX0pLGwpfSxfc3RvcEZhZGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPWUuX3NvdW5kQnlJZCh0KTtyZXR1cm4gbiYmbi5faW50ZXJ2YWwmJihlLl93ZWJBdWRpbyYmbi5fbm9kZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhpLmN0eC5jdXJyZW50VGltZSksY2xlYXJJbnRlcnZhbChuLl9pbnRlcnZhbCksbi5faW50ZXJ2YWw9bnVsbCxlLnZvbHVtZShuLl9mYWRlVG8sdCksbi5fZmFkZVRvPW51bGwsZS5fZW1pdChcImZhZGVcIix0KSksZX0sbG9vcDpmdW5jdGlvbigpe3ZhciB0LGUsbixyPXRoaXMsbz1hcmd1bWVudHM7aWYoMD09PW8ubGVuZ3RoKXJldHVybiByLl9sb29wO2lmKDE9PT1vLmxlbmd0aCl7aWYoXCJib29sZWFuXCIhPXR5cGVvZiBvWzBdKXJldHVybiEhKG49ci5fc291bmRCeUlkKHBhcnNlSW50KG9bMF0sMTApKSkmJm4uX2xvb3A7dD1vWzBdLHIuX2xvb3A9dH1lbHNlIDI9PT1vLmxlbmd0aCYmKHQ9b1swXSxlPXBhcnNlSW50KG9bMV0sMTApKTtmb3IodmFyIGk9ci5fZ2V0U291bmRJZHMoZSksYT0wO2E8aS5sZW5ndGg7YSsrKShuPXIuX3NvdW5kQnlJZChpW2FdKSkmJihuLl9sb29wPXQsci5fd2ViQXVkaW8mJm4uX25vZGUmJm4uX25vZGUuYnVmZmVyU291cmNlJiYobi5fbm9kZS5idWZmZXJTb3VyY2UubG9vcD10LHQmJihuLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQ9bi5fc3RhcnR8fDAsbi5fbm9kZS5idWZmZXJTb3VyY2UubG9vcEVuZD1uLl9zdG9wLHIucGxheWluZyhpW2FdKSYmKHIucGF1c2UoaVthXSwhMCksci5wbGF5KGlbYV0sITApKSkpKTtyZXR1cm4gcn0scmF0ZTpmdW5jdGlvbigpe3ZhciB0LGUsbixyPXRoaXMsbz1hcmd1bWVudHM7aWYoMD09PW8ubGVuZ3RoKWU9ci5fc291bmRzWzBdLl9pZDtlbHNlIGlmKDE9PT1vLmxlbmd0aCl7ci5fZ2V0U291bmRJZHMoKS5pbmRleE9mKG9bMF0pPj0wP2U9cGFyc2VJbnQob1swXSwxMCk6dD1wYXJzZUZsb2F0KG9bMF0pfWVsc2UgMj09PW8ubGVuZ3RoJiYodD1wYXJzZUZsb2F0KG9bMF0pLGU9cGFyc2VJbnQob1sxXSwxMCkpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXJldHVybihuPXIuX3NvdW5kQnlJZChlKSk/bi5fcmF0ZTpyLl9yYXRlO2lmKFwibG9hZGVkXCIhPT1yLl9zdGF0ZXx8ci5fcGxheUxvY2spcmV0dXJuIHIuX3F1ZXVlLnB1c2goe2V2ZW50OlwicmF0ZVwiLGFjdGlvbjpmdW5jdGlvbigpe3IucmF0ZS5hcHBseShyLG8pfX0pLHI7dm9pZCAwPT09ZSYmKHIuX3JhdGU9dCksZT1yLl9nZXRTb3VuZElkcyhlKTtmb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErKylpZihuPXIuX3NvdW5kQnlJZChlW2FdKSl7ci5wbGF5aW5nKGVbYV0pJiYobi5fcmF0ZVNlZWs9ci5zZWVrKGVbYV0pLG4uX3BsYXlTdGFydD1yLl93ZWJBdWRpbz9pLmN0eC5jdXJyZW50VGltZTpuLl9wbGF5U3RhcnQpLG4uX3JhdGU9dCxyLl93ZWJBdWRpbyYmbi5fbm9kZSYmbi5fbm9kZS5idWZmZXJTb3VyY2U/bi5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKHQsaS5jdHguY3VycmVudFRpbWUpOm4uX25vZGUmJihuLl9ub2RlLnBsYXliYWNrUmF0ZT10KTt2YXIgcz1yLnNlZWsoZVthXSksdT0xZTMqKChyLl9zcHJpdGVbbi5fc3ByaXRlXVswXStyLl9zcHJpdGVbbi5fc3ByaXRlXVsxXSkvMWUzLXMpL01hdGguYWJzKG4uX3JhdGUpOyFyLl9lbmRUaW1lcnNbZVthXV0mJm4uX3BhdXNlZHx8KHIuX2NsZWFyVGltZXIoZVthXSksci5fZW5kVGltZXJzW2VbYV1dPXNldFRpbWVvdXQoci5fZW5kZWQuYmluZChyLG4pLHUpKSxyLl9lbWl0KFwicmF0ZVwiLG4uX2lkKX1yZXR1cm4gcn0sc2VlazpmdW5jdGlvbigpe3ZhciB0LGUsbj10aGlzLHI9YXJndW1lbnRzO2lmKDA9PT1yLmxlbmd0aCluLl9zb3VuZHMubGVuZ3RoJiYoZT1uLl9zb3VuZHNbMF0uX2lkKTtlbHNlIGlmKDE9PT1yLmxlbmd0aCl7bi5fZ2V0U291bmRJZHMoKS5pbmRleE9mKHJbMF0pPj0wP2U9cGFyc2VJbnQoclswXSwxMCk6bi5fc291bmRzLmxlbmd0aCYmKGU9bi5fc291bmRzWzBdLl9pZCx0PXBhcnNlRmxvYXQoclswXSkpfWVsc2UgMj09PXIubGVuZ3RoJiYodD1wYXJzZUZsb2F0KHJbMF0pLGU9cGFyc2VJbnQoclsxXSwxMCkpO2lmKHZvaWQgMD09PWUpcmV0dXJuIDA7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQmJihcImxvYWRlZFwiIT09bi5fc3RhdGV8fG4uX3BsYXlMb2NrKSlyZXR1cm4gbi5fcXVldWUucHVzaCh7ZXZlbnQ6XCJzZWVrXCIsYWN0aW9uOmZ1bmN0aW9uKCl7bi5zZWVrLmFwcGx5KG4scil9fSksbjt2YXIgbz1uLl9zb3VuZEJ5SWQoZSk7aWYobyl7aWYoIShcIm51bWJlclwiPT10eXBlb2YgdCYmdD49MCkpe2lmKG4uX3dlYkF1ZGlvKXt2YXIgYT1uLnBsYXlpbmcoZSk/aS5jdHguY3VycmVudFRpbWUtby5fcGxheVN0YXJ0OjAscz1vLl9yYXRlU2Vlaz9vLl9yYXRlU2Vlay1vLl9zZWVrOjA7cmV0dXJuIG8uX3NlZWsrKHMrYSpNYXRoLmFicyhvLl9yYXRlKSl9cmV0dXJuIG8uX25vZGUuY3VycmVudFRpbWV9dmFyIHU9bi5wbGF5aW5nKGUpO3UmJm4ucGF1c2UoZSwhMCksby5fc2Vlaz10LG8uX2VuZGVkPSExLG4uX2NsZWFyVGltZXIoZSksbi5fd2ViQXVkaW98fCFvLl9ub2RlfHxpc05hTihvLl9ub2RlLmR1cmF0aW9uKXx8KG8uX25vZGUuY3VycmVudFRpbWU9dCk7dmFyIGM9ZnVuY3Rpb24oKXt1JiZuLnBsYXkoZSwhMCksbi5fZW1pdChcInNlZWtcIixlKX07aWYodSYmIW4uX3dlYkF1ZGlvKXt2YXIgbD1mdW5jdGlvbigpe24uX3BsYXlMb2NrP3NldFRpbWVvdXQobCwwKTpjKCl9O3NldFRpbWVvdXQobCwwKX1lbHNlIGMoKX1yZXR1cm4gbn0scGxheWluZzpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXt2YXIgbj1lLl9zb3VuZEJ5SWQodCk7cmV0dXJuISFuJiYhbi5fcGF1c2VkfWZvcih2YXIgcj0wO3I8ZS5fc291bmRzLmxlbmd0aDtyKyspaWYoIWUuX3NvdW5kc1tyXS5fcGF1c2VkKXJldHVybiEwO3JldHVybiExfSxkdXJhdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49ZS5fZHVyYXRpb24scj1lLl9zb3VuZEJ5SWQodCk7cmV0dXJuIHImJihuPWUuX3Nwcml0ZVtyLl9zcHJpdGVdWzFdLzFlMyksbn0sc3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdGV9LHVubG9hZDpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9dC5fc291bmRzLG49MDtuPGUubGVuZ3RoO24rKyllW25dLl9wYXVzZWR8fHQuc3RvcChlW25dLl9pZCksdC5fd2ViQXVkaW98fCh0Ll9jbGVhclNvdW5kKGVbbl0uX25vZGUpLGVbbl0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsZVtuXS5fZXJyb3JGbiwhMSksZVtuXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGkuX2NhblBsYXlFdmVudCxlW25dLl9sb2FkRm4sITEpLGVbbl0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsZVtuXS5fZW5kRm4sITEpLGkuX3JlbGVhc2VIdG1sNUF1ZGlvKGVbbl0uX25vZGUpKSxkZWxldGUgZVtuXS5fbm9kZSx0Ll9jbGVhclRpbWVyKGVbbl0uX2lkKTt2YXIgcj1pLl9ob3dscy5pbmRleE9mKHQpO3I+PTAmJmkuX2hvd2xzLnNwbGljZShyLDEpO3ZhciBvPSEwO2ZvcihuPTA7bjxpLl9ob3dscy5sZW5ndGg7bisrKWlmKGkuX2hvd2xzW25dLl9zcmM9PT10Ll9zcmN8fHQuX3NyYy5pbmRleE9mKGkuX2hvd2xzW25dLl9zcmMpPj0wKXtvPSExO2JyZWFrfXJldHVybiB1JiZvJiZkZWxldGUgdVt0Ll9zcmNdLGkubm9BdWRpbz0hMSx0Ll9zdGF0ZT1cInVubG9hZGVkXCIsdC5fc291bmRzPVtdLHQ9bnVsbCxudWxsfSxvbjpmdW5jdGlvbih0LGUsbixyKXt2YXIgbz10aGlzW1wiX29uXCIrdF07cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmby5wdXNoKHI/e2lkOm4sZm46ZSxvbmNlOnJ9OntpZDpuLGZuOmV9KSx0aGlzfSxvZmY6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMsbz1yW1wiX29uXCIrdF0saT0wO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlJiYobj1lLGU9bnVsbCksZXx8bilmb3IoaT0wO2k8by5sZW5ndGg7aSsrKXt2YXIgYT1uPT09b1tpXS5pZDtpZihlPT09b1tpXS5mbiYmYXx8IWUmJmEpe28uc3BsaWNlKGksMSk7YnJlYWt9fWVsc2UgaWYodClyW1wiX29uXCIrdF09W107ZWxzZXt2YXIgcz1PYmplY3Qua2V5cyhyKTtmb3IoaT0wO2k8cy5sZW5ndGg7aSsrKTA9PT1zW2ldLmluZGV4T2YoXCJfb25cIikmJkFycmF5LmlzQXJyYXkocltzW2ldXSkmJihyW3NbaV1dPVtdKX1yZXR1cm4gcn0sb25jZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMub24odCxlLG4sMSksdGhpc30sX2VtaXQ6ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10aGlzLG89cltcIl9vblwiK3RdLGk9by5sZW5ndGgtMTtpPj0wO2ktLSlvW2ldLmlkJiZvW2ldLmlkIT09ZSYmXCJsb2FkXCIhPT10fHwoc2V0VGltZW91dChmdW5jdGlvbih0KXt0LmNhbGwodGhpcyxlLG4pfS5iaW5kKHIsb1tpXS5mbiksMCksb1tpXS5vbmNlJiZyLm9mZih0LG9baV0uZm4sb1tpXS5pZCkpO3JldHVybiByLl9sb2FkUXVldWUodCkscn0sX2xvYWRRdWV1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKGUuX3F1ZXVlLmxlbmd0aD4wKXt2YXIgbj1lLl9xdWV1ZVswXTtuLmV2ZW50PT09dCYmKGUuX3F1ZXVlLnNoaWZ0KCksZS5fbG9hZFF1ZXVlKCkpLHR8fG4uYWN0aW9uKCl9cmV0dXJuIGV9LF9lbmRlZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5fc3ByaXRlO2lmKCFlLl93ZWJBdWRpbyYmdC5fbm9kZSYmIXQuX25vZGUucGF1c2VkJiYhdC5fbm9kZS5lbmRlZCYmdC5fbm9kZS5jdXJyZW50VGltZTx0Ll9zdG9wKXJldHVybiBzZXRUaW1lb3V0KGUuX2VuZGVkLmJpbmQoZSx0KSwxMDApLGU7dmFyIHI9ISghdC5fbG9vcCYmIWUuX3Nwcml0ZVtuXVsyXSk7aWYoZS5fZW1pdChcImVuZFwiLHQuX2lkKSwhZS5fd2ViQXVkaW8mJnImJmUuc3RvcCh0Ll9pZCwhMCkucGxheSh0Ll9pZCksZS5fd2ViQXVkaW8mJnIpe2UuX2VtaXQoXCJwbGF5XCIsdC5faWQpLHQuX3NlZWs9dC5fc3RhcnR8fDAsdC5fcmF0ZVNlZWs9MCx0Ll9wbGF5U3RhcnQ9aS5jdHguY3VycmVudFRpbWU7dmFyIG89MWUzKih0Ll9zdG9wLXQuX3N0YXJ0KS9NYXRoLmFicyh0Ll9yYXRlKTtlLl9lbmRUaW1lcnNbdC5faWRdPXNldFRpbWVvdXQoZS5fZW5kZWQuYmluZChlLHQpLG8pfXJldHVybiBlLl93ZWJBdWRpbyYmIXImJih0Ll9wYXVzZWQ9ITAsdC5fZW5kZWQ9ITAsdC5fc2Vlaz10Ll9zdGFydHx8MCx0Ll9yYXRlU2Vlaz0wLGUuX2NsZWFyVGltZXIodC5faWQpLGUuX2NsZWFuQnVmZmVyKHQuX25vZGUpLGkuX2F1dG9TdXNwZW5kKCkpLGUuX3dlYkF1ZGlvfHxyfHxlLnN0b3AodC5faWQsITApLGV9LF9jbGVhclRpbWVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoZS5fZW5kVGltZXJzW3RdKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLl9lbmRUaW1lcnNbdF0pY2xlYXJUaW1lb3V0KGUuX2VuZFRpbWVyc1t0XSk7ZWxzZXt2YXIgbj1lLl9zb3VuZEJ5SWQodCk7biYmbi5fbm9kZSYmbi5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixlLl9lbmRUaW1lcnNbdF0sITEpfWRlbGV0ZSBlLl9lbmRUaW1lcnNbdF19cmV0dXJuIGV9LF9zb3VuZEJ5SWQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj0wO248ZS5fc291bmRzLmxlbmd0aDtuKyspaWYodD09PWUuX3NvdW5kc1tuXS5faWQpcmV0dXJuIGUuX3NvdW5kc1tuXTtyZXR1cm4gbnVsbH0sX2luYWN0aXZlU291bmQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuX2RyYWluKCk7Zm9yKHZhciBlPTA7ZTx0Ll9zb3VuZHMubGVuZ3RoO2UrKylpZih0Ll9zb3VuZHNbZV0uX2VuZGVkKXJldHVybiB0Ll9zb3VuZHNbZV0ucmVzZXQoKTtyZXR1cm4gbmV3IHModCl9LF9kcmFpbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10Ll9wb29sLG49MCxyPTA7aWYoISh0Ll9zb3VuZHMubGVuZ3RoPGUpKXtmb3Iocj0wO3I8dC5fc291bmRzLmxlbmd0aDtyKyspdC5fc291bmRzW3JdLl9lbmRlZCYmbisrO2ZvcihyPXQuX3NvdW5kcy5sZW5ndGgtMTtyPj0wO3ItLSl7aWYobjw9ZSlyZXR1cm47dC5fc291bmRzW3JdLl9lbmRlZCYmKHQuX3dlYkF1ZGlvJiZ0Ll9zb3VuZHNbcl0uX25vZGUmJnQuX3NvdW5kc1tyXS5fbm9kZS5kaXNjb25uZWN0KDApLHQuX3NvdW5kcy5zcGxpY2UociwxKSxuLS0pfX19LF9nZXRTb3VuZElkczpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXtmb3IodmFyIGU9W10sbj0wO248dGhpcy5fc291bmRzLmxlbmd0aDtuKyspZS5wdXNoKHRoaXMuX3NvdW5kc1tuXS5faWQpO3JldHVybiBlfXJldHVyblt0XX0sX3JlZnJlc2hCdWZmZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX25vZGUuYnVmZmVyU291cmNlPWkuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpLHQuX25vZGUuYnVmZmVyU291cmNlLmJ1ZmZlcj11W3RoaXMuX3NyY10sdC5fcGFubmVyP3QuX25vZGUuYnVmZmVyU291cmNlLmNvbm5lY3QodC5fcGFubmVyKTp0Ll9ub2RlLmJ1ZmZlclNvdXJjZS5jb25uZWN0KHQuX25vZGUpLHQuX25vZGUuYnVmZmVyU291cmNlLmxvb3A9dC5fbG9vcCx0Ll9sb29wJiYodC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcFN0YXJ0PXQuX3N0YXJ0fHwwLHQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQ9dC5fc3RvcHx8MCksdC5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKHQuX3JhdGUsaS5jdHguY3VycmVudFRpbWUpLHRoaXN9LF9jbGVhbkJ1ZmZlcjpmdW5jdGlvbih0KXt2YXIgZT1pLl9uYXZpZ2F0b3ImJmkuX25hdmlnYXRvci52ZW5kb3IuaW5kZXhPZihcIkFwcGxlXCIpPj0wO2lmKCF0LmJ1ZmZlclNvdXJjZSlyZXR1cm4gdGhpcztpZihpLl9zY3JhdGNoQnVmZmVyJiZ0LmJ1ZmZlclNvdXJjZSYmKHQuYnVmZmVyU291cmNlLm9uZW5kZWQ9bnVsbCx0LmJ1ZmZlclNvdXJjZS5kaXNjb25uZWN0KDApLGUpKXRyeXt0LmJ1ZmZlclNvdXJjZS5idWZmZXI9aS5fc2NyYXRjaEJ1ZmZlcn1jYXRjaCh0KXt9cmV0dXJuIHQuYnVmZmVyU291cmNlPW51bGwsdGhpc30sX2NsZWFyU291bmQ6ZnVuY3Rpb24odCl7L01TSUUgfFRyaWRlbnRcXC8vLnRlc3QoaS5fbmF2aWdhdG9yJiZpLl9uYXZpZ2F0b3IudXNlckFnZW50KXx8KHQuc3JjPVwiZGF0YTphdWRpby93YXY7YmFzZTY0LFVrbEdSaWdBQUFCWFFWWkZabTEwSUJJQUFBQUJBQUVBUkt3QUFJaFlBUUFDQUJBQUFBQmtZWFJoQWdBQUFBRUFcIil9fTt2YXIgcz1mdW5jdGlvbih0KXt0aGlzLl9wYXJlbnQ9dCx0aGlzLmluaXQoKX07cy5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5fcGFyZW50O3JldHVybiB0Ll9tdXRlZD1lLl9tdXRlZCx0Ll9sb29wPWUuX2xvb3AsdC5fdm9sdW1lPWUuX3ZvbHVtZSx0Ll9yYXRlPWUuX3JhdGUsdC5fc2Vlaz0wLHQuX3BhdXNlZD0hMCx0Ll9lbmRlZD0hMCx0Ll9zcHJpdGU9XCJfX2RlZmF1bHRcIix0Ll9pZD0rK2kuX2NvdW50ZXIsZS5fc291bmRzLnB1c2godCksdC5jcmVhdGUoKSx0fSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5fcGFyZW50LG49aS5fbXV0ZWR8fHQuX211dGVkfHx0Ll9wYXJlbnQuX211dGVkPzA6dC5fdm9sdW1lO3JldHVybiBlLl93ZWJBdWRpbz8odC5fbm9kZT12b2lkIDA9PT1pLmN0eC5jcmVhdGVHYWluP2kuY3R4LmNyZWF0ZUdhaW5Ob2RlKCk6aS5jdHguY3JlYXRlR2FpbigpLHQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShuLGkuY3R4LmN1cnJlbnRUaW1lKSx0Ll9ub2RlLnBhdXNlZD0hMCx0Ll9ub2RlLmNvbm5lY3QoaS5tYXN0ZXJHYWluKSk6aS5ub0F1ZGlvfHwodC5fbm9kZT1pLl9vYnRhaW5IdG1sNUF1ZGlvKCksdC5fZXJyb3JGbj10Ll9lcnJvckxpc3RlbmVyLmJpbmQodCksdC5fbm9kZS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIix0Ll9lcnJvckZuLCExKSx0Ll9sb2FkRm49dC5fbG9hZExpc3RlbmVyLmJpbmQodCksdC5fbm9kZS5hZGRFdmVudExpc3RlbmVyKGkuX2NhblBsYXlFdmVudCx0Ll9sb2FkRm4sITEpLHQuX2VuZEZuPXQuX2VuZExpc3RlbmVyLmJpbmQodCksdC5fbm9kZS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0Ll9lbmRGbiwhMSksdC5fbm9kZS5zcmM9ZS5fc3JjLHQuX25vZGUucHJlbG9hZD0hMD09PWUuX3ByZWxvYWQ/XCJhdXRvXCI6ZS5fcHJlbG9hZCx0Ll9ub2RlLnZvbHVtZT1uKmkudm9sdW1lKCksdC5fbm9kZS5sb2FkKCkpLHR9LHJlc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuX3BhcmVudDtyZXR1cm4gdC5fbXV0ZWQ9ZS5fbXV0ZWQsdC5fbG9vcD1lLl9sb29wLHQuX3ZvbHVtZT1lLl92b2x1bWUsdC5fcmF0ZT1lLl9yYXRlLHQuX3NlZWs9MCx0Ll9yYXRlU2Vlaz0wLHQuX3BhdXNlZD0hMCx0Ll9lbmRlZD0hMCx0Ll9zcHJpdGU9XCJfX2RlZmF1bHRcIix0Ll9pZD0rK2kuX2NvdW50ZXIsdH0sX2Vycm9yTGlzdGVuZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuX3BhcmVudC5fZW1pdChcImxvYWRlcnJvclwiLHQuX2lkLHQuX25vZGUuZXJyb3I/dC5fbm9kZS5lcnJvci5jb2RlOjApLHQuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsdC5fZXJyb3JGbiwhMSl9LF9sb2FkTGlzdGVuZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5fcGFyZW50O2UuX2R1cmF0aW9uPU1hdGguY2VpbCgxMCp0Ll9ub2RlLmR1cmF0aW9uKS8xMCwwPT09T2JqZWN0LmtleXMoZS5fc3ByaXRlKS5sZW5ndGgmJihlLl9zcHJpdGU9e19fZGVmYXVsdDpbMCwxZTMqZS5fZHVyYXRpb25dfSksXCJsb2FkZWRcIiE9PWUuX3N0YXRlJiYoZS5fc3RhdGU9XCJsb2FkZWRcIixlLl9lbWl0KFwibG9hZFwiKSxlLl9sb2FkUXVldWUoKSksdC5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGkuX2NhblBsYXlFdmVudCx0Ll9sb2FkRm4sITEpfSxfZW5kTGlzdGVuZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5fcGFyZW50O2UuX2R1cmF0aW9uPT09MS8wJiYoZS5fZHVyYXRpb249TWF0aC5jZWlsKDEwKnQuX25vZGUuZHVyYXRpb24pLzEwLGUuX3Nwcml0ZS5fX2RlZmF1bHRbMV09PT0xLzAmJihlLl9zcHJpdGUuX19kZWZhdWx0WzFdPTFlMyplLl9kdXJhdGlvbiksZS5fZW5kZWQodCkpLHQuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdC5fZW5kRm4sITEpfX07dmFyIHU9e30sYz1mdW5jdGlvbih0KXt2YXIgZT10Ll9zcmM7aWYodVtlXSlyZXR1cm4gdC5fZHVyYXRpb249dVtlXS5kdXJhdGlvbix2b2lkIHAodCk7aWYoL15kYXRhOlteO10rO2Jhc2U2NCwvLnRlc3QoZSkpe2Zvcih2YXIgbj1hdG9iKGUuc3BsaXQoXCIsXCIpWzFdKSxyPW5ldyBVaW50OEFycmF5KG4ubGVuZ3RoKSxvPTA7bzxuLmxlbmd0aDsrK28pcltvXT1uLmNoYXJDb2RlQXQobyk7ZihyLmJ1ZmZlcix0KX1lbHNle3ZhciBpPW5ldyBYTUxIdHRwUmVxdWVzdDtpLm9wZW4odC5feGhyLm1ldGhvZCxlLCEwKSxpLndpdGhDcmVkZW50aWFscz10Ll94aHIud2l0aENyZWRlbnRpYWxzLGkucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIix0Ll94aHIuaGVhZGVycyYmT2JqZWN0LmtleXModC5feGhyLmhlYWRlcnMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kuc2V0UmVxdWVzdEhlYWRlcihlLHQuX3hoci5oZWFkZXJzW2VdKX0pKSxpLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlPShpLnN0YXR1cytcIlwiKVswXTtcIjBcIj09PWV8fFwiMlwiPT09ZXx8XCIzXCI9PT1lP2YoaS5yZXNwb25zZSx0KTp0Ll9lbWl0KFwibG9hZGVycm9yXCIsbnVsbCxcIkZhaWxlZCBsb2FkaW5nIGF1ZGlvIGZpbGUgd2l0aCBzdGF0dXM6IFwiK2kuc3RhdHVzK1wiLlwiKX0saS5vbmVycm9yPWZ1bmN0aW9uKCl7dC5fd2ViQXVkaW8mJih0Ll9odG1sNT0hMCx0Ll93ZWJBdWRpbz0hMSx0Ll9zb3VuZHM9W10sZGVsZXRlIHVbZV0sdC5sb2FkKCkpfSxsKGkpfX0sbD1mdW5jdGlvbih0KXt0cnl7dC5zZW5kKCl9Y2F0Y2goZSl7dC5vbmVycm9yKCl9fSxmPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZnVuY3Rpb24oKXtlLl9lbWl0KFwibG9hZGVycm9yXCIsbnVsbCxcIkRlY29kaW5nIGF1ZGlvIGRhdGEgZmFpbGVkLlwiKX0scj1mdW5jdGlvbih0KXt0JiZlLl9zb3VuZHMubGVuZ3RoPjA/KHVbZS5fc3JjXT10LHAoZSx0KSk6bigpfTtcInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZSYmMT09PWkuY3R4LmRlY29kZUF1ZGlvRGF0YS5sZW5ndGg/aS5jdHguZGVjb2RlQXVkaW9EYXRhKHQpLnRoZW4ocikuY2F0Y2gobik6aS5jdHguZGVjb2RlQXVkaW9EYXRhKHQscixuKX0scD1mdW5jdGlvbih0LGUpe2UmJiF0Ll9kdXJhdGlvbiYmKHQuX2R1cmF0aW9uPWUuZHVyYXRpb24pLDA9PT1PYmplY3Qua2V5cyh0Ll9zcHJpdGUpLmxlbmd0aCYmKHQuX3Nwcml0ZT17X19kZWZhdWx0OlswLDFlMyp0Ll9kdXJhdGlvbl19KSxcImxvYWRlZFwiIT09dC5fc3RhdGUmJih0Ll9zdGF0ZT1cImxvYWRlZFwiLHQuX2VtaXQoXCJsb2FkXCIpLHQuX2xvYWRRdWV1ZSgpKX0sZD1mdW5jdGlvbigpe2lmKGkudXNpbmdXZWJBdWRpbyl7dHJ5e1widW5kZWZpbmVkXCIhPXR5cGVvZiBBdWRpb0NvbnRleHQ/aS5jdHg9bmV3IEF1ZGlvQ29udGV4dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2Via2l0QXVkaW9Db250ZXh0P2kuY3R4PW5ldyB3ZWJraXRBdWRpb0NvbnRleHQ6aS51c2luZ1dlYkF1ZGlvPSExfWNhdGNoKHQpe2kudXNpbmdXZWJBdWRpbz0hMX1pLmN0eHx8KGkudXNpbmdXZWJBdWRpbz0hMSk7dmFyIHQ9L2lQKGhvbmV8b2R8YWQpLy50ZXN0KGkuX25hdmlnYXRvciYmaS5fbmF2aWdhdG9yLnBsYXRmb3JtKSxlPWkuX25hdmlnYXRvciYmaS5fbmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL09TIChcXGQrKV8oXFxkKylfPyhcXGQrKT8vKSxuPWU/cGFyc2VJbnQoZVsxXSwxMCk6bnVsbDtpZih0JiZuJiZuPDkpe3ZhciByPS9zYWZhcmkvLnRlc3QoaS5fbmF2aWdhdG9yJiZpLl9uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO2kuX25hdmlnYXRvciYmIXImJihpLnVzaW5nV2ViQXVkaW89ITEpfWkudXNpbmdXZWJBdWRpbyYmKGkubWFzdGVyR2Fpbj12b2lkIDA9PT1pLmN0eC5jcmVhdGVHYWluP2kuY3R4LmNyZWF0ZUdhaW5Ob2RlKCk6aS5jdHguY3JlYXRlR2FpbigpLGkubWFzdGVyR2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKGkuX211dGVkPzA6aS5fdm9sdW1lLGkuY3R4LmN1cnJlbnRUaW1lKSxpLm1hc3RlckdhaW4uY29ubmVjdChpLmN0eC5kZXN0aW5hdGlvbikpLGkuX3NldHVwKCl9fTt2b2lkIDA9PT0ocj1mdW5jdGlvbigpe3JldHVybntIb3dsZXI6aSxIb3dsOmF9fS5hcHBseShlLFtdKSl8fCh0LmV4cG9ydHM9ciksZS5Ib3dsZXI9aSxlLkhvd2w9YSx2b2lkIDAhPT1uLmc/KG4uZy5Ib3dsZXJHbG9iYWw9byxuLmcuSG93bGVyPWksbi5nLkhvd2w9YSxuLmcuU291bmQ9cyk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5Ib3dsZXJHbG9iYWw9byx3aW5kb3cuSG93bGVyPWksd2luZG93Lkhvd2w9YSx3aW5kb3cuU291bmQ9cyl9KCksXG4vKiFcbiAqICBTcGF0aWFsIFBsdWdpbiAtIEFkZHMgc3VwcG9ydCBmb3Igc3RlcmVvIGFuZCAzRCBhdWRpbyB3aGVyZSBXZWIgQXVkaW8gaXMgc3VwcG9ydGVkLlxuICogIFxuICogIGhvd2xlci5qcyB2Mi4yLjRcbiAqICBob3dsZXJqcy5jb21cbiAqXG4gKiAgKGMpIDIwMTMtMjAyMCwgSmFtZXMgU2ltcHNvbiBvZiBHb2xkRmlyZSBTdHVkaW9zXG4gKiAgZ29sZGZpcmVzdHVkaW9zLmNvbVxuICpcbiAqICBNSVQgTGljZW5zZVxuICovXG5mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciB0O0hvd2xlckdsb2JhbC5wcm90b3R5cGUuX3Bvcz1bMCwwLDBdLEhvd2xlckdsb2JhbC5wcm90b3R5cGUuX29yaWVudGF0aW9uPVswLDAsLTEsMCwxLDBdLEhvd2xlckdsb2JhbC5wcm90b3R5cGUuc3RlcmVvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIWUuY3R4fHwhZS5jdHgubGlzdGVuZXIpcmV0dXJuIGU7Zm9yKHZhciBuPWUuX2hvd2xzLmxlbmd0aC0xO24+PTA7bi0tKWUuX2hvd2xzW25dLnN0ZXJlbyh0KTtyZXR1cm4gZX0sSG93bGVyR2xvYmFsLnByb3RvdHlwZS5wb3M9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuIHIuY3R4JiZyLmN0eC5saXN0ZW5lcj8oZT1cIm51bWJlclwiIT10eXBlb2YgZT9yLl9wb3NbMV06ZSxuPVwibnVtYmVyXCIhPXR5cGVvZiBuP3IuX3Bvc1syXTpuLFwibnVtYmVyXCIhPXR5cGVvZiB0P3IuX3Bvczooci5fcG9zPVt0LGUsbl0sdm9pZCAwIT09ci5jdHgubGlzdGVuZXIucG9zaXRpb25YPyhyLmN0eC5saXN0ZW5lci5wb3NpdGlvblguc2V0VGFyZ2V0QXRUaW1lKHIuX3Bvc1swXSxIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLC4xKSxyLmN0eC5saXN0ZW5lci5wb3NpdGlvblkuc2V0VGFyZ2V0QXRUaW1lKHIuX3Bvc1sxXSxIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLC4xKSxyLmN0eC5saXN0ZW5lci5wb3NpdGlvblouc2V0VGFyZ2V0QXRUaW1lKHIuX3Bvc1syXSxIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLC4xKSk6ci5jdHgubGlzdGVuZXIuc2V0UG9zaXRpb24oci5fcG9zWzBdLHIuX3Bvc1sxXSxyLl9wb3NbMl0pLHIpKTpyfSxIb3dsZXJHbG9iYWwucHJvdG90eXBlLm9yaWVudGF0aW9uPWZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt2YXIgYT10aGlzO2lmKCFhLmN0eHx8IWEuY3R4Lmxpc3RlbmVyKXJldHVybiBhO3ZhciBzPWEuX29yaWVudGF0aW9uO3JldHVybiBlPVwibnVtYmVyXCIhPXR5cGVvZiBlP3NbMV06ZSxuPVwibnVtYmVyXCIhPXR5cGVvZiBuP3NbMl06bixyPVwibnVtYmVyXCIhPXR5cGVvZiByP3NbM106cixvPVwibnVtYmVyXCIhPXR5cGVvZiBvP3NbNF06byxpPVwibnVtYmVyXCIhPXR5cGVvZiBpP3NbNV06aSxcIm51bWJlclwiIT10eXBlb2YgdD9zOihhLl9vcmllbnRhdGlvbj1bdCxlLG4scixvLGldLHZvaWQgMCE9PWEuY3R4Lmxpc3RlbmVyLmZvcndhcmRYPyhhLmN0eC5saXN0ZW5lci5mb3J3YXJkWC5zZXRUYXJnZXRBdFRpbWUodCxIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLC4xKSxhLmN0eC5saXN0ZW5lci5mb3J3YXJkWS5zZXRUYXJnZXRBdFRpbWUoZSxIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLC4xKSxhLmN0eC5saXN0ZW5lci5mb3J3YXJkWi5zZXRUYXJnZXRBdFRpbWUobixIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLC4xKSxhLmN0eC5saXN0ZW5lci51cFguc2V0VGFyZ2V0QXRUaW1lKHIsSG93bGVyLmN0eC5jdXJyZW50VGltZSwuMSksYS5jdHgubGlzdGVuZXIudXBZLnNldFRhcmdldEF0VGltZShvLEhvd2xlci5jdHguY3VycmVudFRpbWUsLjEpLGEuY3R4Lmxpc3RlbmVyLnVwWi5zZXRUYXJnZXRBdFRpbWUoaSxIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLC4xKSk6YS5jdHgubGlzdGVuZXIuc2V0T3JpZW50YXRpb24odCxlLG4scixvLGkpLGEpfSxIb3dsLnByb3RvdHlwZS5pbml0PSh0PUhvd2wucHJvdG90eXBlLmluaXQsZnVuY3Rpb24oZSl7dmFyIG49dGhpcztyZXR1cm4gbi5fb3JpZW50YXRpb249ZS5vcmllbnRhdGlvbnx8WzEsMCwwXSxuLl9zdGVyZW89ZS5zdGVyZW98fG51bGwsbi5fcG9zPWUucG9zfHxudWxsLG4uX3Bhbm5lckF0dHI9e2NvbmVJbm5lckFuZ2xlOnZvaWQgMCE9PWUuY29uZUlubmVyQW5nbGU/ZS5jb25lSW5uZXJBbmdsZTozNjAsY29uZU91dGVyQW5nbGU6dm9pZCAwIT09ZS5jb25lT3V0ZXJBbmdsZT9lLmNvbmVPdXRlckFuZ2xlOjM2MCxjb25lT3V0ZXJHYWluOnZvaWQgMCE9PWUuY29uZU91dGVyR2Fpbj9lLmNvbmVPdXRlckdhaW46MCxkaXN0YW5jZU1vZGVsOnZvaWQgMCE9PWUuZGlzdGFuY2VNb2RlbD9lLmRpc3RhbmNlTW9kZWw6XCJpbnZlcnNlXCIsbWF4RGlzdGFuY2U6dm9pZCAwIT09ZS5tYXhEaXN0YW5jZT9lLm1heERpc3RhbmNlOjFlNCxwYW5uaW5nTW9kZWw6dm9pZCAwIT09ZS5wYW5uaW5nTW9kZWw/ZS5wYW5uaW5nTW9kZWw6XCJIUlRGXCIscmVmRGlzdGFuY2U6dm9pZCAwIT09ZS5yZWZEaXN0YW5jZT9lLnJlZkRpc3RhbmNlOjEscm9sbG9mZkZhY3Rvcjp2b2lkIDAhPT1lLnJvbGxvZmZGYWN0b3I/ZS5yb2xsb2ZmRmFjdG9yOjF9LG4uX29uc3RlcmVvPWUub25zdGVyZW8/W3tmbjplLm9uc3RlcmVvfV06W10sbi5fb25wb3M9ZS5vbnBvcz9be2ZuOmUub25wb3N9XTpbXSxuLl9vbm9yaWVudGF0aW9uPWUub25vcmllbnRhdGlvbj9be2ZuOmUub25vcmllbnRhdGlvbn1dOltdLHQuY2FsbCh0aGlzLGUpfSksSG93bC5wcm90b3R5cGUuc3RlcmVvPWZ1bmN0aW9uKHQsbil7dmFyIHI9dGhpcztpZighci5fd2ViQXVkaW8pcmV0dXJuIHI7aWYoXCJsb2FkZWRcIiE9PXIuX3N0YXRlKXJldHVybiByLl9xdWV1ZS5wdXNoKHtldmVudDpcInN0ZXJlb1wiLGFjdGlvbjpmdW5jdGlvbigpe3Iuc3RlcmVvKHQsbil9fSkscjt2YXIgbz12b2lkIDA9PT1Ib3dsZXIuY3R4LmNyZWF0ZVN0ZXJlb1Bhbm5lcj9cInNwYXRpYWxcIjpcInN0ZXJlb1wiO2lmKHZvaWQgMD09PW4pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXJldHVybiByLl9zdGVyZW87ci5fc3RlcmVvPXQsci5fcG9zPVt0LDAsMF19Zm9yKHZhciBpPXIuX2dldFNvdW5kSWRzKG4pLGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHM9ci5fc291bmRCeUlkKGlbYV0pO2lmKHMpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXJldHVybiBzLl9zdGVyZW87cy5fc3RlcmVvPXQscy5fcG9zPVt0LDAsMF0scy5fbm9kZSYmKHMuX3Bhbm5lckF0dHIucGFubmluZ01vZGVsPVwiZXF1YWxwb3dlclwiLHMuX3Bhbm5lciYmcy5fcGFubmVyLnBhbnx8ZShzLG8pLFwic3BhdGlhbFwiPT09bz92b2lkIDAhPT1zLl9wYW5uZXIucG9zaXRpb25YPyhzLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHQsSG93bGVyLmN0eC5jdXJyZW50VGltZSkscy5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZSgwLEhvd2xlci5jdHguY3VycmVudFRpbWUpLHMuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoMCxIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKSk6cy5fcGFubmVyLnNldFBvc2l0aW9uKHQsMCwwKTpzLl9wYW5uZXIucGFuLnNldFZhbHVlQXRUaW1lKHQsSG93bGVyLmN0eC5jdXJyZW50VGltZSkpLHIuX2VtaXQoXCJzdGVyZW9cIixzLl9pZCl9fXJldHVybiByfSxIb3dsLnByb3RvdHlwZS5wb3M9ZnVuY3Rpb24odCxuLHIsbyl7dmFyIGk9dGhpcztpZighaS5fd2ViQXVkaW8pcmV0dXJuIGk7aWYoXCJsb2FkZWRcIiE9PWkuX3N0YXRlKXJldHVybiBpLl9xdWV1ZS5wdXNoKHtldmVudDpcInBvc1wiLGFjdGlvbjpmdW5jdGlvbigpe2kucG9zKHQsbixyLG8pfX0pLGk7aWYobj1cIm51bWJlclwiIT10eXBlb2Ygbj8wOm4scj1cIm51bWJlclwiIT10eXBlb2Ygcj8tLjU6cix2b2lkIDA9PT1vKXtpZihcIm51bWJlclwiIT10eXBlb2YgdClyZXR1cm4gaS5fcG9zO2kuX3Bvcz1bdCxuLHJdfWZvcih2YXIgYT1pLl9nZXRTb3VuZElkcyhvKSxzPTA7czxhLmxlbmd0aDtzKyspe3ZhciB1PWkuX3NvdW5kQnlJZChhW3NdKTtpZih1KXtpZihcIm51bWJlclwiIT10eXBlb2YgdClyZXR1cm4gdS5fcG9zO3UuX3Bvcz1bdCxuLHJdLHUuX25vZGUmJih1Ll9wYW5uZXImJiF1Ll9wYW5uZXIucGFufHxlKHUsXCJzcGF0aWFsXCIpLHZvaWQgMCE9PXUuX3Bhbm5lci5wb3NpdGlvblg/KHUuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUodCxIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKSx1Ll9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKG4sSG93bGVyLmN0eC5jdXJyZW50VGltZSksdS5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZShyLEhvd2xlci5jdHguY3VycmVudFRpbWUpKTp1Ll9wYW5uZXIuc2V0UG9zaXRpb24odCxuLHIpKSxpLl9lbWl0KFwicG9zXCIsdS5faWQpfX1yZXR1cm4gaX0sSG93bC5wcm90b3R5cGUub3JpZW50YXRpb249ZnVuY3Rpb24odCxuLHIsbyl7dmFyIGk9dGhpcztpZighaS5fd2ViQXVkaW8pcmV0dXJuIGk7aWYoXCJsb2FkZWRcIiE9PWkuX3N0YXRlKXJldHVybiBpLl9xdWV1ZS5wdXNoKHtldmVudDpcIm9yaWVudGF0aW9uXCIsYWN0aW9uOmZ1bmN0aW9uKCl7aS5vcmllbnRhdGlvbih0LG4scixvKX19KSxpO2lmKG49XCJudW1iZXJcIiE9dHlwZW9mIG4/aS5fb3JpZW50YXRpb25bMV06bixyPVwibnVtYmVyXCIhPXR5cGVvZiByP2kuX29yaWVudGF0aW9uWzJdOnIsdm9pZCAwPT09byl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpcmV0dXJuIGkuX29yaWVudGF0aW9uO2kuX29yaWVudGF0aW9uPVt0LG4scl19Zm9yKHZhciBhPWkuX2dldFNvdW5kSWRzKG8pLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIHU9aS5fc291bmRCeUlkKGFbc10pO2lmKHUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXJldHVybiB1Ll9vcmllbnRhdGlvbjt1Ll9vcmllbnRhdGlvbj1bdCxuLHJdLHUuX25vZGUmJih1Ll9wYW5uZXJ8fCh1Ll9wb3N8fCh1Ll9wb3M9aS5fcG9zfHxbMCwwLC0uNV0pLGUodSxcInNwYXRpYWxcIikpLHZvaWQgMCE9PXUuX3Bhbm5lci5vcmllbnRhdGlvblg/KHUuX3Bhbm5lci5vcmllbnRhdGlvblguc2V0VmFsdWVBdFRpbWUodCxIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKSx1Ll9wYW5uZXIub3JpZW50YXRpb25ZLnNldFZhbHVlQXRUaW1lKG4sSG93bGVyLmN0eC5jdXJyZW50VGltZSksdS5fcGFubmVyLm9yaWVudGF0aW9uWi5zZXRWYWx1ZUF0VGltZShyLEhvd2xlci5jdHguY3VycmVudFRpbWUpKTp1Ll9wYW5uZXIuc2V0T3JpZW50YXRpb24odCxuLHIpKSxpLl9lbWl0KFwib3JpZW50YXRpb25cIix1Ll9pZCl9fXJldHVybiBpfSxIb3dsLnByb3RvdHlwZS5wYW5uZXJBdHRyPWZ1bmN0aW9uKCl7dmFyIHQsbixyLG89dGhpcyxpPWFyZ3VtZW50cztpZighby5fd2ViQXVkaW8pcmV0dXJuIG87aWYoMD09PWkubGVuZ3RoKXJldHVybiBvLl9wYW5uZXJBdHRyO2lmKDE9PT1pLmxlbmd0aCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGlbMF0pcmV0dXJuKHI9by5fc291bmRCeUlkKHBhcnNlSW50KGlbMF0sMTApKSk/ci5fcGFubmVyQXR0cjpvLl9wYW5uZXJBdHRyO3Q9aVswXSx2b2lkIDA9PT1uJiYodC5wYW5uZXJBdHRyfHwodC5wYW5uZXJBdHRyPXtjb25lSW5uZXJBbmdsZTp0LmNvbmVJbm5lckFuZ2xlLGNvbmVPdXRlckFuZ2xlOnQuY29uZU91dGVyQW5nbGUsY29uZU91dGVyR2Fpbjp0LmNvbmVPdXRlckdhaW4sZGlzdGFuY2VNb2RlbDp0LmRpc3RhbmNlTW9kZWwsbWF4RGlzdGFuY2U6dC5tYXhEaXN0YW5jZSxyZWZEaXN0YW5jZTp0LnJlZkRpc3RhbmNlLHJvbGxvZmZGYWN0b3I6dC5yb2xsb2ZmRmFjdG9yLHBhbm5pbmdNb2RlbDp0LnBhbm5pbmdNb2RlbH0pLG8uX3Bhbm5lckF0dHI9e2NvbmVJbm5lckFuZ2xlOnZvaWQgMCE9PXQucGFubmVyQXR0ci5jb25lSW5uZXJBbmdsZT90LnBhbm5lckF0dHIuY29uZUlubmVyQW5nbGU6by5fY29uZUlubmVyQW5nbGUsY29uZU91dGVyQW5nbGU6dm9pZCAwIT09dC5wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlP3QucGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZTpvLl9jb25lT3V0ZXJBbmdsZSxjb25lT3V0ZXJHYWluOnZvaWQgMCE9PXQucGFubmVyQXR0ci5jb25lT3V0ZXJHYWluP3QucGFubmVyQXR0ci5jb25lT3V0ZXJHYWluOm8uX2NvbmVPdXRlckdhaW4sZGlzdGFuY2VNb2RlbDp2b2lkIDAhPT10LnBhbm5lckF0dHIuZGlzdGFuY2VNb2RlbD90LnBhbm5lckF0dHIuZGlzdGFuY2VNb2RlbDpvLl9kaXN0YW5jZU1vZGVsLG1heERpc3RhbmNlOnZvaWQgMCE9PXQucGFubmVyQXR0ci5tYXhEaXN0YW5jZT90LnBhbm5lckF0dHIubWF4RGlzdGFuY2U6by5fbWF4RGlzdGFuY2UscmVmRGlzdGFuY2U6dm9pZCAwIT09dC5wYW5uZXJBdHRyLnJlZkRpc3RhbmNlP3QucGFubmVyQXR0ci5yZWZEaXN0YW5jZTpvLl9yZWZEaXN0YW5jZSxyb2xsb2ZmRmFjdG9yOnZvaWQgMCE9PXQucGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yP3QucGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yOm8uX3JvbGxvZmZGYWN0b3IscGFubmluZ01vZGVsOnZvaWQgMCE9PXQucGFubmVyQXR0ci5wYW5uaW5nTW9kZWw/dC5wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbDpvLl9wYW5uaW5nTW9kZWx9KX1lbHNlIDI9PT1pLmxlbmd0aCYmKHQ9aVswXSxuPXBhcnNlSW50KGlbMV0sMTApKTtmb3IodmFyIGE9by5fZ2V0U291bmRJZHMobikscz0wO3M8YS5sZW5ndGg7cysrKWlmKHI9by5fc291bmRCeUlkKGFbc10pKXt2YXIgdT1yLl9wYW5uZXJBdHRyO3U9e2NvbmVJbm5lckFuZ2xlOnZvaWQgMCE9PXQuY29uZUlubmVyQW5nbGU/dC5jb25lSW5uZXJBbmdsZTp1LmNvbmVJbm5lckFuZ2xlLGNvbmVPdXRlckFuZ2xlOnZvaWQgMCE9PXQuY29uZU91dGVyQW5nbGU/dC5jb25lT3V0ZXJBbmdsZTp1LmNvbmVPdXRlckFuZ2xlLGNvbmVPdXRlckdhaW46dm9pZCAwIT09dC5jb25lT3V0ZXJHYWluP3QuY29uZU91dGVyR2Fpbjp1LmNvbmVPdXRlckdhaW4sZGlzdGFuY2VNb2RlbDp2b2lkIDAhPT10LmRpc3RhbmNlTW9kZWw/dC5kaXN0YW5jZU1vZGVsOnUuZGlzdGFuY2VNb2RlbCxtYXhEaXN0YW5jZTp2b2lkIDAhPT10Lm1heERpc3RhbmNlP3QubWF4RGlzdGFuY2U6dS5tYXhEaXN0YW5jZSxyZWZEaXN0YW5jZTp2b2lkIDAhPT10LnJlZkRpc3RhbmNlP3QucmVmRGlzdGFuY2U6dS5yZWZEaXN0YW5jZSxyb2xsb2ZmRmFjdG9yOnZvaWQgMCE9PXQucm9sbG9mZkZhY3Rvcj90LnJvbGxvZmZGYWN0b3I6dS5yb2xsb2ZmRmFjdG9yLHBhbm5pbmdNb2RlbDp2b2lkIDAhPT10LnBhbm5pbmdNb2RlbD90LnBhbm5pbmdNb2RlbDp1LnBhbm5pbmdNb2RlbH07dmFyIGM9ci5fcGFubmVyO2N8fChyLl9wb3N8fChyLl9wb3M9by5fcG9zfHxbMCwwLC0uNV0pLGUocixcInNwYXRpYWxcIiksYz1yLl9wYW5uZXIpLGMuY29uZUlubmVyQW5nbGU9dS5jb25lSW5uZXJBbmdsZSxjLmNvbmVPdXRlckFuZ2xlPXUuY29uZU91dGVyQW5nbGUsYy5jb25lT3V0ZXJHYWluPXUuY29uZU91dGVyR2FpbixjLmRpc3RhbmNlTW9kZWw9dS5kaXN0YW5jZU1vZGVsLGMubWF4RGlzdGFuY2U9dS5tYXhEaXN0YW5jZSxjLnJlZkRpc3RhbmNlPXUucmVmRGlzdGFuY2UsYy5yb2xsb2ZmRmFjdG9yPXUucm9sbG9mZkZhY3RvcixjLnBhbm5pbmdNb2RlbD11LnBhbm5pbmdNb2RlbH1yZXR1cm4gb30sU291bmQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPWUuX3BhcmVudDtlLl9vcmllbnRhdGlvbj1uLl9vcmllbnRhdGlvbixlLl9zdGVyZW89bi5fc3RlcmVvLGUuX3Bvcz1uLl9wb3MsZS5fcGFubmVyQXR0cj1uLl9wYW5uZXJBdHRyLHQuY2FsbCh0aGlzKSxlLl9zdGVyZW8/bi5zdGVyZW8oZS5fc3RlcmVvKTplLl9wb3MmJm4ucG9zKGUuX3Bvc1swXSxlLl9wb3NbMV0sZS5fcG9zWzJdLGUuX2lkKX19KFNvdW5kLnByb3RvdHlwZS5pbml0KSxTb3VuZC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPWUuX3BhcmVudDtyZXR1cm4gZS5fb3JpZW50YXRpb249bi5fb3JpZW50YXRpb24sZS5fc3RlcmVvPW4uX3N0ZXJlbyxlLl9wb3M9bi5fcG9zLGUuX3Bhbm5lckF0dHI9bi5fcGFubmVyQXR0cixlLl9zdGVyZW8/bi5zdGVyZW8oZS5fc3RlcmVvKTplLl9wb3M/bi5wb3MoZS5fcG9zWzBdLGUuX3Bvc1sxXSxlLl9wb3NbMl0sZS5faWQpOmUuX3Bhbm5lciYmKGUuX3Bhbm5lci5kaXNjb25uZWN0KDApLGUuX3Bhbm5lcj12b2lkIDAsbi5fcmVmcmVzaEJ1ZmZlcihlKSksdC5jYWxsKHRoaXMpfX0oU291bmQucHJvdG90eXBlLnJlc2V0KTt2YXIgZT1mdW5jdGlvbih0LGUpe1wic3BhdGlhbFwiPT09KGU9ZXx8XCJzcGF0aWFsXCIpPyh0Ll9wYW5uZXI9SG93bGVyLmN0eC5jcmVhdGVQYW5uZXIoKSx0Ll9wYW5uZXIuY29uZUlubmVyQW5nbGU9dC5fcGFubmVyQXR0ci5jb25lSW5uZXJBbmdsZSx0Ll9wYW5uZXIuY29uZU91dGVyQW5nbGU9dC5fcGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZSx0Ll9wYW5uZXIuY29uZU91dGVyR2Fpbj10Ll9wYW5uZXJBdHRyLmNvbmVPdXRlckdhaW4sdC5fcGFubmVyLmRpc3RhbmNlTW9kZWw9dC5fcGFubmVyQXR0ci5kaXN0YW5jZU1vZGVsLHQuX3Bhbm5lci5tYXhEaXN0YW5jZT10Ll9wYW5uZXJBdHRyLm1heERpc3RhbmNlLHQuX3Bhbm5lci5yZWZEaXN0YW5jZT10Ll9wYW5uZXJBdHRyLnJlZkRpc3RhbmNlLHQuX3Bhbm5lci5yb2xsb2ZmRmFjdG9yPXQuX3Bhbm5lckF0dHIucm9sbG9mZkZhY3Rvcix0Ll9wYW5uZXIucGFubmluZ01vZGVsPXQuX3Bhbm5lckF0dHIucGFubmluZ01vZGVsLHZvaWQgMCE9PXQuX3Bhbm5lci5wb3NpdGlvblg/KHQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUodC5fcG9zWzBdLEhvd2xlci5jdHguY3VycmVudFRpbWUpLHQuX3Bhbm5lci5wb3NpdGlvblkuc2V0VmFsdWVBdFRpbWUodC5fcG9zWzFdLEhvd2xlci5jdHguY3VycmVudFRpbWUpLHQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUodC5fcG9zWzJdLEhvd2xlci5jdHguY3VycmVudFRpbWUpKTp0Ll9wYW5uZXIuc2V0UG9zaXRpb24odC5fcG9zWzBdLHQuX3Bvc1sxXSx0Ll9wb3NbMl0pLHZvaWQgMCE9PXQuX3Bhbm5lci5vcmllbnRhdGlvblg/KHQuX3Bhbm5lci5vcmllbnRhdGlvblguc2V0VmFsdWVBdFRpbWUodC5fb3JpZW50YXRpb25bMF0sSG93bGVyLmN0eC5jdXJyZW50VGltZSksdC5fcGFubmVyLm9yaWVudGF0aW9uWS5zZXRWYWx1ZUF0VGltZSh0Ll9vcmllbnRhdGlvblsxXSxIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKSx0Ll9wYW5uZXIub3JpZW50YXRpb25aLnNldFZhbHVlQXRUaW1lKHQuX29yaWVudGF0aW9uWzJdLEhvd2xlci5jdHguY3VycmVudFRpbWUpKTp0Ll9wYW5uZXIuc2V0T3JpZW50YXRpb24odC5fb3JpZW50YXRpb25bMF0sdC5fb3JpZW50YXRpb25bMV0sdC5fb3JpZW50YXRpb25bMl0pKToodC5fcGFubmVyPUhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyKCksdC5fcGFubmVyLnBhbi5zZXRWYWx1ZUF0VGltZSh0Ll9zdGVyZW8sSG93bGVyLmN0eC5jdXJyZW50VGltZSkpLHQuX3Bhbm5lci5jb25uZWN0KHQuX25vZGUpLHQuX3BhdXNlZHx8dC5fcGFyZW50LnBhdXNlKHQuX2lkLCEwKS5wbGF5KHQuX2lkLCEwKX19KCl9LDIwOih0LGUsbik9PntcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDEyKSxvPVN5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpLGk9U3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLGE9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxzPXIuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQuUmVhY3RDdXJyZW50T3duZXIsdT17a2V5OiEwLHJlZjohMCxfX3NlbGY6ITAsX19zb3VyY2U6ITB9O1xuLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL2Z1bmN0aW9uIGModCxlLG4pe3ZhciByLGk9e30sYz1udWxsLGw9bnVsbDtmb3IociBpbiB2b2lkIDAhPT1uJiYoYz1cIlwiK24pLHZvaWQgMCE9PWUua2V5JiYoYz1cIlwiK2Uua2V5KSx2b2lkIDAhPT1lLnJlZiYmKGw9ZS5yZWYpLGUpYS5jYWxsKGUscikmJiF1Lmhhc093blByb3BlcnR5KHIpJiYoaVtyXT1lW3JdKTtpZih0JiZ0LmRlZmF1bHRQcm9wcylmb3IociBpbiBlPXQuZGVmYXVsdFByb3BzKXZvaWQgMD09PWlbcl0mJihpW3JdPWVbcl0pO3JldHVybnskJHR5cGVvZjpvLHR5cGU6dCxrZXk6YyxyZWY6bCxwcm9wczppLF9vd25lcjpzLmN1cnJlbnR9fWUuanN4PWMsZS5qc3hzPWN9LDg0ODoodCxlLG4pPT57XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPW4oMjApfSw3Mjp0PT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9W107ZnVuY3Rpb24gbih0KXtmb3IodmFyIG49LTEscj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uaWRlbnRpZmllcj09PXQpe249cjticmVha31yZXR1cm4gbn1mdW5jdGlvbiByKHQscil7Zm9yKHZhciBpPXt9LGE9W10scz0wO3M8dC5sZW5ndGg7cysrKXt2YXIgdT10W3NdLGM9ci5iYXNlP3VbMF0rci5iYXNlOnVbMF0sbD1pW2NdfHwwLGY9XCJcIi5jb25jYXQoYyxcIiBcIikuY29uY2F0KGwpO2lbY109bCsxO3ZhciBwPW4oZiksZD17Y3NzOnVbMV0sbWVkaWE6dVsyXSxzb3VyY2VNYXA6dVszXSxzdXBwb3J0czp1WzRdLGxheWVyOnVbNV19O2lmKC0xIT09cCllW3BdLnJlZmVyZW5jZXMrKyxlW3BdLnVwZGF0ZXIoZCk7ZWxzZXt2YXIgaD1vKGQscik7ci5ieUluZGV4PXMsZS5zcGxpY2UocywwLHtpZGVudGlmaWVyOmYsdXBkYXRlcjpoLHJlZmVyZW5jZXM6MX0pfWEucHVzaChmKX1yZXR1cm4gYX1mdW5jdGlvbiBvKHQsZSl7dmFyIG49ZS5kb21BUEkoZSk7bi51cGRhdGUodCk7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGUpe2lmKGUuY3NzPT09dC5jc3MmJmUubWVkaWE9PT10Lm1lZGlhJiZlLnNvdXJjZU1hcD09PXQuc291cmNlTWFwJiZlLnN1cHBvcnRzPT09dC5zdXBwb3J0cyYmZS5sYXllcj09PXQubGF5ZXIpcmV0dXJuO24udXBkYXRlKHQ9ZSl9ZWxzZSBuLnJlbW92ZSgpfX10LmV4cG9ydHM9ZnVuY3Rpb24odCxvKXt2YXIgaT1yKHQ9dHx8W10sbz1vfHx7fSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3Q9dHx8W107Zm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspe3ZhciBzPW4oaVthXSk7ZVtzXS5yZWZlcmVuY2VzLS19Zm9yKHZhciB1PXIodCxvKSxjPTA7YzxpLmxlbmd0aDtjKyspe3ZhciBsPW4oaVtjXSk7MD09PWVbbF0ucmVmZXJlbmNlcyYmKGVbbF0udXBkYXRlcigpLGUuc3BsaWNlKGwsMSkpfWk9dX19fSw2NTk6dD0+e1widXNlIHN0cmljdFwiO3ZhciBlPXt9O3QuZXhwb3J0cz1mdW5jdGlvbih0LG4pe3ZhciByPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PWVbdF0pe3ZhciBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCk7aWYod2luZG93LkhUTUxJRnJhbWVFbGVtZW50JiZuIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KXRyeXtuPW4uY29udGVudERvY3VtZW50LmhlYWR9Y2F0Y2godCl7bj1udWxsfWVbdF09bn1yZXR1cm4gZVt0XX0odCk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtyLmFwcGVuZENoaWxkKG4pfX0sNTQwOnQ9PntcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3JldHVybiB0LnNldEF0dHJpYnV0ZXMoZSx0LmF0dHJpYnV0ZXMpLHQuaW5zZXJ0KGUsdC5vcHRpb25zKSxlfX0sNTY6KHQsZSxuKT0+e1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1uLm5jO2UmJnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIixlKX19LDgyNTp0PT57XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudClyZXR1cm57dXBkYXRlOmZ1bmN0aW9uKCl7fSxyZW1vdmU6ZnVuY3Rpb24oKXt9fTt2YXIgZT10Lmluc2VydFN0eWxlRWxlbWVudCh0KTtyZXR1cm57dXBkYXRlOmZ1bmN0aW9uKG4peyFmdW5jdGlvbih0LGUsbil7dmFyIHI9XCJcIjtuLnN1cHBvcnRzJiYocis9XCJAc3VwcG9ydHMgKFwiLmNvbmNhdChuLnN1cHBvcnRzLFwiKSB7XCIpKSxuLm1lZGlhJiYocis9XCJAbWVkaWEgXCIuY29uY2F0KG4ubWVkaWEsXCIge1wiKSk7dmFyIG89dm9pZCAwIT09bi5sYXllcjtvJiYocis9XCJAbGF5ZXJcIi5jb25jYXQobi5sYXllci5sZW5ndGg+MD9cIiBcIi5jb25jYXQobi5sYXllcik6XCJcIixcIiB7XCIpKSxyKz1uLmNzcyxvJiYocis9XCJ9XCIpLG4ubWVkaWEmJihyKz1cIn1cIiksbi5zdXBwb3J0cyYmKHIrPVwifVwiKTt2YXIgaT1uLnNvdXJjZU1hcDtpJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYnRvYSYmKHIrPVwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoaSkpKSksXCIgKi9cIikpLGUuc3R5bGVUYWdUcmFuc2Zvcm0ocix0LGUub3B0aW9ucyl9KGUsdCxuKX0scmVtb3ZlOmZ1bmN0aW9uKCl7IWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10LnBhcmVudE5vZGUpcmV0dXJuITE7dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpfShlKX19fX0sMTEzOnQ9PntcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9dDtlbHNle2Zvcig7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0KSl9fX0sMTI6ZT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz10fSwzMzp0PT57XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWV9fSxyPXt9O2Z1bmN0aW9uIG8odCl7dmFyIGU9clt0XTtpZih2b2lkIDAhPT1lKXJldHVybiBlLmV4cG9ydHM7dmFyIGk9clt0XT17aWQ6dCxleHBvcnRzOnt9fTtyZXR1cm4gblt0XShpLGkuZXhwb3J0cyxvKSxpLmV4cG9ydHN9by5uPXQ9Pnt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/KCk9PnQuZGVmYXVsdDooKT0+dDtyZXR1cm4gby5kKGUse2E6ZX0pLGV9LG8uZD0odCxlKT0+e2Zvcih2YXIgbiBpbiBlKW8ubyhlLG4pJiYhby5vKHQsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se2VudW1lcmFibGU6ITAsZ2V0OmVbbl19KX0sby5nPWZ1bmN0aW9uKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMpcmV0dXJuIGdsb2JhbFRoaXM7dHJ5e3JldHVybiB0aGlzfHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cpcmV0dXJuIHdpbmRvd319KCksby5vPSh0LGUpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSxvLnI9dD0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG8ubmM9dm9pZCAwO3ZhciBpPXt9O3JldHVybigoKT0+e1widXNlIHN0cmljdFwiO28ucihpKSxvLmQoaSx7QWxpZ246KCk9PlBlLEJhc2VJbWFnZVRyYW5zaXRpb246KCk9Pk1jLEJhc2VUZXh0VHJhbnNpdGlvbjooKT0+UmMsQmFzZVRyYW5zaXRpb246KCk9Pk5jLENoYXJhY3RlcjooKT0+dXUsQ29tbW9uUG9zaXRpb246KCk9PlRlLENvbW1vblBvc2l0aW9uVHlwZTooKT0+aGUsQ29uZGl0aW9uOigpPT5JdSxDb250cm9sOigpPT5WYSxDb29yZDJEOigpPT5FZSxEaXNzb2x2ZTooKT0+JGgsRmFkZTooKT0+amgsRmFkZUluOigpPT5EaCxHYW1lOigpPT5WZixHYW1lUHJvdmlkZXJzOigpPT5TaCxHYW1lU3RhdGU6KCk9PmVmLEltYWdlOigpPT5xYSxJc29sYXRlZDooKT0+bWYsTGFtYmRhOigpPT5MdSxMaXZlR2FtZTooKT0+R2YsTWVudTooKT0+UXUsTmFtZXNwYWNlOigpPT56bCxQYXVzZTooKT0+TnMsUGxheWVyOigpPT53aCxTYXk6KCk9PlRmLFNjZW5lOigpPT5sbCxTY3JpcHQ6KCk9PkVsLFNlbnRlbmNlOigpPT56cyxTb3VuZDooKT0+anMsU291bmRUeXBlOigpPT53cyxTdG9yYWJsZTooKT0+V2wsU3Rvcnk6KCk9PlJsLFRleHQ6KCk9PlFjLFRyYW5zZm9ybTooKT0+TGEsVXRpbHM6KCk9PmJzLFdvcmQ6KCk9PkRzLHVzZUdhbWU6KCk9PkxmfSk7dmFyIHQ9e3NheTpcImNoYXJhY3RlcjpzYXlcIixhY3Rpb246XCJjaGFyYWN0ZXI6YWN0aW9uXCIsc2V0TmFtZTpcImNoYXJhY3RlcjpzZXROYW1lXCJ9LGU9e2FjdGlvbjpcInNjZW5lOmFjdGlvblwiLHNldEJhY2tncm91bmQ6XCJzY2VuZTpzZXRCYWNrZ3JvdW5kXCIsc2xlZXA6XCJzY2VuZTpzbGVlcFwiLHNldFRyYW5zaXRpb246XCJzY2VuZTpzZXRUcmFuc2l0aW9uXCIsYXBwbHlUcmFuc2l0aW9uOlwic2NlbmU6YXBwbHlUcmFuc2l0aW9uXCIsaW5pdDpcInNjZW5lOmluaXRcIixleGl0Olwic2NlbmU6ZXhpdFwiLGp1bXBUbzpcInNjZW5lOmp1bXBUb1wiLHNldEJhY2tncm91bmRNdXNpYzpcInNjZW5lOnNldEJhY2tncm91bmRNdXNpY1wiLHByZVVubW91bnQ6XCJzY2VuZTpwcmVVbm1vdW50XCIsYXBwbHlUcmFuc2Zvcm06XCJzY2VuZTphcHBseVRyYW5zZm9ybVwifSxuPXthY3Rpb246XCJpbWFnZTphY3Rpb25cIixzZXRTcmM6XCJpbWFnZTpzZXRTcmNcIixzZXRQb3NpdGlvbjpcImltYWdlOnNldFBvc2l0aW9uXCIsc2hvdzpcImltYWdlOnNob3dcIixoaWRlOlwiaW1hZ2U6aGlkZVwiLGFwcGx5VHJhbnNmb3JtOlwiaW1hZ2U6YXBwbHlUcmFuc2Zvcm1cIixpbml0OlwiaW1hZ2U6aW5pdFwiLGRpc3Bvc2U6XCJpbWFnZTpkaXNwb3NlXCIsc2V0VHJhbnNpdGlvbjpcImltYWdlOnNldFRyYW5zaXRpb25cIixhcHBseVRyYW5zaXRpb246XCJpbWFnZTphcHBseVRyYW5zaXRpb25cIixmbHVzaDpcImltYWdlOmZsdXNoXCJ9LHI9e2FjdGlvbjpcInNvdW5kOmFjdGlvblwiLHBsYXk6XCJzb3VuZDpwbGF5XCIsc3RvcDpcInNvdW5kOnN0b3BcIixmYWRlOlwic291bmQ6ZmFkZVwiLHNldFZvbHVtZTpcInNvdW5kOnNldFZvbHVtZVwiLHNldFJhdGU6XCJzb3VuZDpzZXRSYXRlXCIscGF1c2U6XCJzb3VuZDpwYXVzZVwiLHJlc3VtZTpcInNvdW5kOnJlc3VtZVwifSxhPXthY3Rpb246XCJjb250cm9sOmFjdGlvblwiLGRvOlwiY29udHJvbDpkb1wiLGRvQXN5bmM6XCJjb250cm9sOmRvQXN5bmNcIixhbnk6XCJjb250cm9sOmFueVwiLGFsbDpcImNvbnRyb2w6YWxsXCIsYWxsQXN5bmM6XCJjb250cm9sOmFsbEFzeW5jXCIscmVwZWF0OlwiY29udHJvbDpyZXBlYXRcIixzbGVlcDpcImNvbnRyb2w6c2xlZXBcIn0scz17YWN0aW9uOlwidGV4dDphY3Rpb25cIixzZXRUZXh0OlwidGV4dDpzZXRUZXh0XCIsc2hvdzpcInRleHQ6c2hvd1wiLGhpZGU6XCJ0ZXh0OmhpZGVcIixhcHBseVRyYW5zZm9ybTpcInRleHQ6YXBwbHlUcmFuc2Zvcm1cIixpbml0OlwidGV4dDppbml0XCIsYXBwbHlUcmFuc2l0aW9uOlwidGV4dDphcHBseVRyYW5zaXRpb25cIixzZXRGb250U2l6ZTpcInRleHQ6c2V0Rm9udFNpemVcIn07ZnVuY3Rpb24gdSgpey8qISByZWdlbmVyYXRvci1ydW50aW1lIC0tIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLiAtLSBsaWNlbnNlIChNSVQpOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL0xJQ0VOU0UgKi91PWZ1bmN0aW9uKCl7cmV0dXJuIGV9O3ZhciB0LGU9e30sbj1PYmplY3QucHJvdG90eXBlLHI9bi5oYXNPd25Qcm9wZXJ0eSxvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24odCxlLG4pe3RbZV09bi52YWx1ZX0saT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGE9aS5pdGVyYXRvcnx8XCJAQGl0ZXJhdG9yXCIscz1pLmFzeW5jSXRlcmF0b3J8fFwiQEBhc3luY0l0ZXJhdG9yXCIsYz1pLnRvU3RyaW5nVGFnfHxcIkBAdG9TdHJpbmdUYWdcIjtmdW5jdGlvbiBsKHQsZSxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLHRbZV19dHJ5e2woe30sXCJcIil9Y2F0Y2godCl7bD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bn19ZnVuY3Rpb24gZih0LGUsbixyKXt2YXIgaT1lJiZlLnByb3RvdHlwZSBpbnN0YW5jZW9mIGI/ZTpiLGE9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSkscz1uZXcgTChyfHxbXSk7cmV0dXJuIG8oYSxcIl9pbnZva2VcIix7dmFsdWU6RSh0LG4scyl9KSxhfWZ1bmN0aW9uIHAodCxlLG4pe3RyeXtyZXR1cm57dHlwZTpcIm5vcm1hbFwiLGFyZzp0LmNhbGwoZSxuKX19Y2F0Y2godCl7cmV0dXJue3R5cGU6XCJ0aHJvd1wiLGFyZzp0fX19ZS53cmFwPWY7dmFyIGQ9XCJzdXNwZW5kZWRTdGFydFwiLGg9XCJzdXNwZW5kZWRZaWVsZFwiLHk9XCJleGVjdXRpbmdcIix2PVwiY29tcGxldGVkXCIsZz17fTtmdW5jdGlvbiBiKCl7fWZ1bmN0aW9uIHcoKXt9ZnVuY3Rpb24gXygpe312YXIgUz17fTtsKFMsYSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgaz1PYmplY3QuZ2V0UHJvdG90eXBlT2YseD1rJiZrKGsoSShbXSkpKTt4JiZ4IT09biYmci5jYWxsKHgsYSkmJihTPXgpO3ZhciBBPV8ucHJvdG90eXBlPWIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUyk7ZnVuY3Rpb24gTyh0KXtbXCJuZXh0XCIsXCJ0aHJvd1wiLFwicmV0dXJuXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2wodCxlLChmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW52b2tlKGUsdCl9KSl9KSl9ZnVuY3Rpb24gVCh0LGUpe2Z1bmN0aW9uIG4obyxpLGEscyl7dmFyIHU9cCh0W29dLHQsaSk7aWYoXCJ0aHJvd1wiIT09dS50eXBlKXt2YXIgYz11LmFyZyxsPWMudmFsdWU7cmV0dXJuIGwmJlwib2JqZWN0XCI9PW0obCkmJnIuY2FsbChsLFwiX19hd2FpdFwiKT9lLnJlc29sdmUobC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih0KXtuKFwibmV4dFwiLHQsYSxzKX0pLChmdW5jdGlvbih0KXtuKFwidGhyb3dcIix0LGEscyl9KSk6ZS5yZXNvbHZlKGwpLnRoZW4oKGZ1bmN0aW9uKHQpe2MudmFsdWU9dCxhKGMpfSksKGZ1bmN0aW9uKHQpe3JldHVybiBuKFwidGhyb3dcIix0LGEscyl9KSl9cyh1LmFyZyl9dmFyIGk7byh0aGlzLFwiX2ludm9rZVwiLHt2YWx1ZTpmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIG8oKXtyZXR1cm4gbmV3IGUoKGZ1bmN0aW9uKGUsbyl7bih0LHIsZSxvKX0pKX1yZXR1cm4gaT1pP2kudGhlbihvLG8pOm8oKX19KX1mdW5jdGlvbiBFKGUsbixyKXt2YXIgbz1kO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT15KXRocm93IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtpZihvPT09dil7aWYoXCJ0aHJvd1wiPT09aSl0aHJvdyBhO3JldHVybnt2YWx1ZTp0LGRvbmU6ITB9fWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgdT1QKHMscik7aWYodSl7aWYodT09PWcpY29udGludWU7cmV0dXJuIHV9fWlmKFwibmV4dFwiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZihcInRocm93XCI9PT1yLm1ldGhvZCl7aWYobz09PWQpdGhyb3cgbz12LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2VcInJldHVyblwiPT09ci5tZXRob2QmJnIuYWJydXB0KFwicmV0dXJuXCIsci5hcmcpO289eTt2YXIgYz1wKGUsbixyKTtpZihcIm5vcm1hbFwiPT09Yy50eXBlKXtpZihvPXIuZG9uZT92OmgsYy5hcmc9PT1nKWNvbnRpbnVlO3JldHVybnt2YWx1ZTpjLmFyZyxkb25lOnIuZG9uZX19XCJ0aHJvd1wiPT09Yy50eXBlJiYobz12LHIubWV0aG9kPVwidGhyb3dcIixyLmFyZz1jLmFyZyl9fX1mdW5jdGlvbiBQKGUsbil7dmFyIHI9bi5tZXRob2Qsbz1lLml0ZXJhdG9yW3JdO2lmKG89PT10KXJldHVybiBuLmRlbGVnYXRlPW51bGwsXCJ0aHJvd1wiPT09ciYmZS5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD1cInJldHVyblwiLG4uYXJnPXQsUChlLG4pLFwidGhyb3dcIj09PW4ubWV0aG9kKXx8XCJyZXR1cm5cIiE9PXImJihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiK3IrXCInIG1ldGhvZFwiKSksZzt2YXIgaT1wKG8sZS5pdGVyYXRvcixuLmFyZyk7aWYoXCJ0aHJvd1wiPT09aS50eXBlKXJldHVybiBuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLGc7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW2UucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9ZS5uZXh0TG9jLFwicmV0dXJuXCIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPXQpLG4uZGVsZWdhdGU9bnVsbCxnKTphOihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLG4uZGVsZWdhdGU9bnVsbCxnKX1mdW5jdGlvbiBqKHQpe3ZhciBlPXt0cnlMb2M6dFswXX07MSBpbiB0JiYoZS5jYXRjaExvYz10WzFdKSwyIGluIHQmJihlLmZpbmFsbHlMb2M9dFsyXSxlLmFmdGVyTG9jPXRbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKGUpfWZ1bmN0aW9uIEModCl7dmFyIGU9dC5jb21wbGV0aW9ufHx7fTtlLnR5cGU9XCJub3JtYWxcIixkZWxldGUgZS5hcmcsdC5jb21wbGV0aW9uPWV9ZnVuY3Rpb24gTCh0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XCJyb290XCJ9XSx0LmZvckVhY2goaix0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBJKGUpe2lmKGV8fFwiXCI9PT1lKXt2YXIgbj1lW2FdO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG89LTEsaT1mdW5jdGlvbiBuKCl7Zm9yKDsrK288ZS5sZW5ndGg7KWlmKHIuY2FsbChlLG8pKXJldHVybiBuLnZhbHVlPWVbb10sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9dCxuLmRvbmU9ITAsbn07cmV0dXJuIGkubmV4dD1pfX10aHJvdyBuZXcgVHlwZUVycm9yKG0oZSkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpfXJldHVybiB3LnByb3RvdHlwZT1fLG8oQSxcImNvbnN0cnVjdG9yXCIse3ZhbHVlOl8sY29uZmlndXJhYmxlOiEwfSksbyhfLFwiY29uc3RydWN0b3JcIix7dmFsdWU6dyxjb25maWd1cmFibGU6ITB9KSx3LmRpc3BsYXlOYW1lPWwoXyxjLFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksZS5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFlJiYoZT09PXd8fFwiR2VuZXJhdG9yRnVuY3Rpb25cIj09PShlLmRpc3BsYXlOYW1lfHxlLm5hbWUpKX0sZS5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsXyk6KHQuX19wcm90b19fPV8sbCh0LGMsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShBKSx0fSxlLmF3cmFwPWZ1bmN0aW9uKHQpe3JldHVybntfX2F3YWl0OnR9fSxPKFQucHJvdG90eXBlKSxsKFQucHJvdG90eXBlLHMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksZS5Bc3luY0l0ZXJhdG9yPVQsZS5hc3luYz1mdW5jdGlvbih0LG4scixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBUKGYodCxuLHIsbyksaSk7cmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRvbmU/dC52YWx1ZTphLm5leHQoKX0pKX0sTyhBKSxsKEEsYyxcIkdlbmVyYXRvclwiKSxsKEEsYSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxsKEEsXCJ0b1N0cmluZ1wiLChmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBHZW5lcmF0b3JdXCJ9KSksZS5rZXlzPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdCh0KSxuPVtdO2Zvcih2YXIgciBpbiBlKW4ucHVzaChyKTtyZXR1cm4gbi5yZXZlcnNlKCksZnVuY3Rpb24gdCgpe2Zvcig7bi5sZW5ndGg7KXt2YXIgcj1uLnBvcCgpO2lmKHIgaW4gZSlyZXR1cm4gdC52YWx1ZT1yLHQuZG9uZT0hMSx0fXJldHVybiB0LmRvbmU9ITAsdH19LGUudmFsdWVzPUksTC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkwscmVzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9dCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goQyksIWUpZm9yKHZhciBuIGluIHRoaXMpXCJ0XCI9PT1uLmNoYXJBdCgwKSYmci5jYWxsKHRoaXMsbikmJiFpc05hTigrbi5zbGljZSgxKSkmJih0aGlzW25dPXQpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciB0PXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLmRvbmUpdGhyb3cgZTt2YXIgbj10aGlzO2Z1bmN0aW9uIG8ocixvKXtyZXR1cm4gcy50eXBlPVwidGhyb3dcIixzLmFyZz1lLG4ubmV4dD1yLG8mJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz10KSwhIW99Zm9yKHZhciBpPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtpPj0wOy0taSl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW2ldLHM9YS5jb21wbGV0aW9uO2lmKFwicm9vdFwiPT09YS50cnlMb2MpcmV0dXJuIG8oXCJlbmRcIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIHU9ci5jYWxsKGEsXCJjYXRjaExvY1wiKSxjPXIuY2FsbChhLFwiZmluYWxseUxvY1wiKTtpZih1JiZjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9ZWxzZSBpZih1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCFjKXRocm93IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gbyhhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgbz10aGlzLnRyeUVudHJpZXNbbl07aWYoby50cnlMb2M8PXRoaXMucHJldiYmci5jYWxsKG8sXCJmaW5hbGx5TG9jXCIpJiZ0aGlzLnByZXY8by5maW5hbGx5TG9jKXt2YXIgaT1vO2JyZWFrfX1pJiYoXCJicmVha1wiPT09dHx8XCJjb250aW51ZVwiPT09dCkmJmkudHJ5TG9jPD1lJiZlPD1pLmZpbmFsbHlMb2MmJihpPW51bGwpO3ZhciBhPWk/aS5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9dCxhLmFyZz1lLGk/KHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMubmV4dD1pLmZpbmFsbHlMb2MsZyk6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24odCxlKXtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuXCJicmVha1wiPT09dC50eXBlfHxcImNvbnRpbnVlXCI9PT10LnR5cGU/dGhpcy5uZXh0PXQuYXJnOlwicmV0dXJuXCI9PT10LnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz10LmFyZyx0aGlzLm1ldGhvZD1cInJldHVyblwiLHRoaXMubmV4dD1cImVuZFwiKTpcIm5vcm1hbFwiPT09dC50eXBlJiZlJiYodGhpcy5uZXh0PWUpLGd9LGZpbmlzaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi5maW5hbGx5TG9jPT09dClyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksQyhuKSxnfX0sY2F0Y2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4udHJ5TG9jPT09dCl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXIudHlwZSl7dmFyIG89ci5hcmc7QyhuKX1yZXR1cm4gb319dGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpJKGUpLHJlc3VsdE5hbWU6bixuZXh0TG9jOnJ9LFwibmV4dFwiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz10KSxnfX0sZX1mdW5jdGlvbiBjKHQsZSl7dmFyIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheSh0KXx8KG49eSh0KSl8fGUmJnQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aCl7biYmKHQ9bik7dmFyIHI9MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpvLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49dC5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOnRbcisrXX19LGU6ZnVuY3Rpb24odCl7dGhyb3cgdH0sZjpvfX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIGksYT0hMCxzPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwodCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1uLm5leHQoKTtyZXR1cm4gYT10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXtzPSEwLGk9dH0sZjpmdW5jdGlvbigpe3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgaX19fX1mdW5jdGlvbiBsKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBmKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGQoci5rZXkpLHIpfX1mdW5jdGlvbiBwKHQsZSxuKXtyZXR1cm4gZSYmZih0LnByb3RvdHlwZSxlKSxuJiZmKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fWZ1bmN0aW9uIGQodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1tKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPW0ocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1tKGUpP2U6ZStcIlwifWZ1bmN0aW9uIGgodCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHYodCl9KHQpfHxmdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT10W1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPXRbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8eSh0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiB5KHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHYodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT92KHQsZSk6dm9pZCAwfX1mdW5jdGlvbiB2KHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBtKHQpe3JldHVybiBtPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LG0odCl9dmFyIGc9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gYSh0KXt0cnl7dShyLm5leHQodCkpfWNhdGNoKHQpe2kodCl9fWZ1bmN0aW9uIHModCl7dHJ5e3Uoci50aHJvdyh0KSl9Y2F0Y2godCl7aSh0KX19ZnVuY3Rpb24gdSh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oKGZ1bmN0aW9uKHQpe3QoZSl9KSkpLnRoZW4oYSxzKX11KChyPXIuYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9O2Z1bmN0aW9uIGIodCxlKXt2YXIgbj1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0scj17fSxvPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm5cIm9iamVjdFwiIT09bShlKXx8bnVsbD09PWV8fEFycmF5LmlzQXJyYXkoZSl8fFwib2JqZWN0XCIhPT1tKG4pfHxudWxsPT09bnx8QXJyYXkuaXNBcnJheShuKT9BcnJheS5pc0FycmF5KGUpJiZBcnJheS5pc0FycmF5KG4pP2UubWFwKChmdW5jdGlvbih0LGUpe3JldHVyblwib2JqZWN0XCI9PT1tKHQpJiZudWxsIT09dCYmIUFycmF5LmlzQXJyYXkodCkmJm5bZV0/Yih0LG5bZV0pOnR9KSk6dm9pZCAwPT09bj9lOm46ZS5jb25zdHJ1Y3RvciE9PU9iamVjdHx8bi5jb25zdHJ1Y3RvciE9PU9iamVjdD9ufHxlOmIoZSxuKX07Zm9yKHZhciBpIGluIHQpbih0LGkpJiYocltpXT1vKDAsdFtpXSxlW2ldKSk7Zm9yKHZhciBhIGluIGUpbihlLGEpJiYhbihyLGEpJiYoXCJvYmplY3RcIj09PW0oZVthXSkmJm51bGwhPT1lW2FdJiZlW2FdLmNvbnN0cnVjdG9yPT09T2JqZWN0P3JbYV09Yih7fSxlW2FdKTpyW2FdPWVbYV0pO2Zvcih2YXIgcz1hcmd1bWVudHMubGVuZ3RoLHU9bmV3IEFycmF5KHM+Mj9zLTI6MCksYz0yO2M8cztjKyspdVtjLTJdPWFyZ3VtZW50c1tjXTtpZih1Lmxlbmd0aCl7dmFyIGw9dVswXSxmPXUuc2xpY2UoMSk7cmV0dXJuIGIuYXBwbHkodm9pZCAwLFtyLGxdLmNvbmNhdChoKGYpKSl9cmV0dXJuIHJ9dmFyIHc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOmZ1bmN0aW9uKHQpe3JldHVybiB0fSxuPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO2wodGhpcyx0KSx0aGlzLnNvbHZlZD0hMSx0aGlzLmxpc3RlbmVycz1bXSx0aGlzLnJlY2VpdmVyPWUsdGhpcy5za2lwQ29udHJvbGxlcj1ufXJldHVybiBwKHQsW3trZXk6XCJyZWdpc3RlclNraXBDb250cm9sbGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2tpcENvbnRyb2xsZXI9dCx0aGlzfX0se2tleTpcInJlc29sdmVcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5zb2x2ZWQpe3RoaXMucmVzdWx0PXRoaXMucmVjZWl2ZXIodCksdGhpcy5zb2x2ZWQ9ITAsdGhpcy5za2lwQ29udHJvbGxlciYmdGhpcy5za2lwQ29udHJvbGxlci5jYW5jZWwoKTt2YXIgZSxuPWModGhpcy5saXN0ZW5lcnMpO3RyeXtmb3Iobi5zKCk7IShlPW4ubigpKS5kb25lOyl7KDAsZS52YWx1ZSkodGhpcy5yZXN1bHQpfX1jYXRjaCh0KXtuLmUodCl9ZmluYWxseXtuLmYoKX19fX0se2tleTpcInRoZW5cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlc3VsdD90KHRoaXMucmVzdWx0KTp0aGlzLmxpc3RlbmVycy5wdXNoKHQpfX0se2tleTpcImFib3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5za2lwQ29udHJvbGxlcj90aGlzLnNraXBDb250cm9sbGVyLmFib3J0KCk6dGhpcy5yZXN1bHR9fV0sW3trZXk6XCJpc0F3YWl0YWJsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdH19XSl9KCk7ZnVuY3Rpb24gXyh0KXt2YXIgZT1uZXcgV2Vha1NldDtyZXR1cm4gZnVuY3Rpb24gdChuKXtpZihudWxsPT09bnx8XCJvYmplY3RcIiE9PW0obikpcmV0dXJuIG47aWYoIWUuaGFzKG4pKXtpZihlLmFkZChuKSxBcnJheS5pc0FycmF5KG4pKXt2YXIgcixvPVtdLGk9YyhuKTt0cnl7Zm9yKGkucygpOyEocj1pLm4oKSkuZG9uZTspe3ZhciBhPXIudmFsdWU7by5wdXNoKHQoYSkpfX1jYXRjaCh0KXtpLmUodCl9ZmluYWxseXtpLmYoKX1yZXR1cm4gb312YXIgcz17fTtmb3IodmFyIHUgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix1KSYmKHNbdV09dChuW3VdKSk7cmV0dXJuIHN9fSh0KX1mdW5jdGlvbiBTKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6XCIjXCIuY29uY2F0KCh0LnJ8fDApLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLFwiMFwiKSkuY29uY2F0KCh0Lmd8fDApLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLFwiMFwiKSkuY29uY2F0KCh0LmJ8fDApLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLFwiMFwiKSkuY29uY2F0KHZvaWQgMD09PXQuYT9cIlwiOnQuYS50b1N0cmluZygxNikucGFkU3RhcnQoMixcIjBcIikpfXcubm90aGluZz1mdW5jdGlvbih0KXtyZXR1cm4gdH07dmFyIGs9ZnVuY3Rpb24oKXtyZXR1cm4gcCgoZnVuY3Rpb24gdCgpe2wodGhpcyx0KSx0aGlzLmV2ZW50cz17fX0pLFt7a2V5Olwib25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmV2ZW50c1t0XXx8KHRoaXMuZXZlbnRzW3RdPVtdKSx0aGlzLmV2ZW50c1t0XS5wdXNoKGUpLHRoaXMuZW1pdChcImV2ZW50OkV2ZW50RGlzcGF0Y2hlci5yZWdpc3RlclwiLHQsZSksZX19LHtrZXk6XCJvbkV2ZW50c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10Lm1hcCgoZnVuY3Rpb24odCl7dmFyIG49dC50eXBlLHI9dC5saXN0ZW5lcjtyZXR1cm57dHlwZTpuLGxpc3RlbmVyOnIsY2FuY2VsOmZ1bmN0aW9uKCl7ZS5vZmYobixyKX19fSkpO3JldHVybnt0b2tlbnM6bixjYW5jZWw6ZnVuY3Rpb24oKXtuLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNhbmNlbCgpfSkpfX19fSx7a2V5Olwib2ZmXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmV2ZW50c1t0XSYmKHRoaXMuZXZlbnRzW3RdPXRoaXMuZXZlbnRzW3RdLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1lfSkpKX19LHtrZXk6XCJlbWl0XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZT4xP2UtMTowKSxyPTE7cjxlO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3RoaXMuZXZlbnRzW3RdJiZ0aGlzLmV2ZW50c1t0XS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmFwcGx5KHZvaWQgMCxuKX0pKX19LHtrZXk6XCJvbmNlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9ZnVuY3Rpb24oKXtlLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpLG4ub2ZmKHQscil9O3JldHVybiB0aGlzLm9uKHQscil9fSx7a2V5OlwiYW55XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZT4xP2UtMTowKSxyPTE7cjxlO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBnKHRoaXMsdm9pZCAwLHZvaWQgMCx1KCkubWFyaygoZnVuY3Rpb24gZSgpe3ZhciByLG8saSxhLHMsbD10aGlzO3JldHVybiB1KCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6dGhpcy5ldmVudHNbdF18fCh0aGlzLmV2ZW50c1t0XT1bXSkscj1bXSxvPWModGhpcy5ldmVudHNbdF0pO3RyeXtmb3Ioby5zKCk7IShpPW8ubigpKS5kb25lOylhPWkudmFsdWUsKHM9YS5hcHBseSh2b2lkIDAsbikpJiZcIm9iamVjdFwiPT09bShzKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygcy50aGVuJiZyLnB1c2gocyl9Y2F0Y2godCl7by5lKHQpfWZpbmFsbHl7by5mKCl9aWYodGhpcy5ldmVudHNbdF09dGhpcy5ldmVudHNbdF0uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hci5pbmNsdWRlcyh0KX0pKSwwIT09ci5sZW5ndGgpe2UubmV4dD03O2JyZWFrfXJldHVybiBlLmFicnVwdChcInJldHVyblwiLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXt2YXIgcj1sLm9uKFwiZXZlbnQ6RXZlbnREaXNwYXRjaGVyLnJlZ2lzdGVyXCIsKGZ1bmN0aW9uKG8saSl7aWYobz09PXQpe2wub2ZmKG8scik7dmFyIGE9bnVsbD09aT92b2lkIDA6aS5hcHBseSh2b2lkIDAsbik7YSYmYS50aGVuP2EudGhlbihlKTplKGEpfX0pKX0pKSk7Y2FzZSA3OnJldHVybiBlLm5leHQ9OSxQcm9taXNlLmFsbChyKTtjYXNlIDk6cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIsdm9pZCAwKTtjYXNlIDEwOmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKX19LHtrZXk6XCJjbGVhclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5ldmVudHM9e319fV0pfSgpO2Z1bmN0aW9uIHgoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MSxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49KG5ldyBFcnJvcikuc3RhY2s7cmV0dXJuIG4/bi5zcGxpdChcIlxcblwiKS5zbGljZSh0KzEsLWUpLmpvaW4oXCJcXG5cIikudHJpbSgpOlwiXCJ9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3JldHVybiBzZXRUaW1lb3V0KGUsdCl9KSl9ZnVuY3Rpb24gTyh0LGUpe2lmKHQ9PT1lKXJldHVybiEwO2lmKFwib2JqZWN0XCIhPT1tKHQpfHxcIm9iamVjdFwiIT09bShlKXx8bnVsbD09PXR8fG51bGw9PT1lKXJldHVybiExO3ZhciBuPU9iamVjdC5rZXlzKHQpLHI9T2JqZWN0LmtleXMoZSk7aWYobi5sZW5ndGghPT1yLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG89MCxpPW47bzxpLmxlbmd0aDtvKyspe3ZhciBhPWlbb107aWYoIXIuaW5jbHVkZXMoYSl8fCFPKHRbYV0sZVthXSkpcmV0dXJuITF9cmV0dXJuITB9dmFyIFQ9ZnVuY3Rpb24oKXtyZXR1cm4gcCgoZnVuY3Rpb24gdChlLG4pe2wodGhpcyx0KSx0aGlzLmdhbWU9ZSx0aGlzLnByZWZpeD1ufSksW3trZXk6XCJsb2dcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmdhbWUuY29uZmlnLmFwcC5sb2dnZXIubG9nKXtmb3IodmFyIGUsbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksbz0xO288bjtvKyspcltvLTFdPWFyZ3VtZW50c1tvXTsoZT1jb25zb2xlKS5sb2cuYXBwbHkoZSxoKHRoaXMuX2xvZy5hcHBseSh0aGlzLFt0XS5jb25jYXQocikpKSl9fX0se2tleTpcImluZm9cIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmdhbWUuY29uZmlnLmFwcC5sb2dnZXIuaW5mbyl7Zm9yKHZhciBlLG49YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShuPjE/bi0xOjApLG89MTtvPG47bysrKXJbby0xXT1hcmd1bWVudHNbb107KGU9Y29uc29sZSkuaW5mby5hcHBseShlLGgodGhpcy5fbG9nLmFwcGx5KHRoaXMsW3RdLmNvbmNhdChyKSkpKX19fSx7a2V5Olwid2FyblwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZ2FtZS5jb25maWcuYXBwLmxvZ2dlci53YXJuKXtmb3IodmFyIGUsbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksbz0xO288bjtvKyspcltvLTFdPWFyZ3VtZW50c1tvXTsoZT1jb25zb2xlKS53YXJuLmFwcGx5KGUsaCh0aGlzLl9sb2cuYXBwbHkodGhpcyxbdF0uY29uY2F0KHIpKSkpfX19LHtrZXk6XCJlcnJvclwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZ2FtZS5jb25maWcuYXBwLmxvZ2dlci5lcnJvcil7Zm9yKHZhciBlLG49YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShuPjE/bi0xOjApLG89MTtvPG47bysrKXJbby0xXT1hcmd1bWVudHNbb107KGU9Y29uc29sZSkuZXJyb3IuYXBwbHkoZSxoKHRoaXMuX2xvZy5hcHBseSh0aGlzLFt0XS5jb25jYXQocikpKSl9fX0se2tleTpcImRlYnVnXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5nYW1lLmNvbmZpZy5hcHAubG9nZ2VyLmRlYnVnKXtmb3IodmFyIGUsbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksbz0xO288bjtvKyspcltvLTFdPWFyZ3VtZW50c1tvXTsoZT1jb25zb2xlKS5kZWJ1Zy5hcHBseShlLGgodGhpcy5fbG9nLmFwcGx5KHRoaXMsW3RdLmNvbmNhdChyKSkpKX19fSx7a2V5OlwidHJhY2VcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmdhbWUuY29uZmlnLmFwcC5sb2dnZXIudHJhY2Upe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGU+MT9lLTE6MCkscj0xO3I8ZTtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTtjb25zb2xlLnRyYWNlKHRoaXMuX2xvZy5hcHBseSh0aGlzLFt0XS5jb25jYXQobikpKX19fSx7a2V5OlwiX2xvZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGU+MT9lLTE6MCkscj0xO3I8ZTtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gMD09PW4ubGVuZ3RoP1t0aGlzLnByZWZpeHx8XCJcIix0XTpbXCJcIi5jb25jYXQodGhpcy5wcmVmaXh8fFwiXCIsXCIgW1wiKS5jb25jYXQodCxcIl1cIildLmNvbmNhdChuKX19XSl9KCksRT1mdW5jdGlvbigpe3JldHVybiBwKChmdW5jdGlvbiB0KGUpe2wodGhpcyx0KSx0aGlzLmFib3J0SGFuZGxlcj1lLHRoaXMuZXZlbnRzPW5ldyBrLHRoaXMuYWJvcnRlZD0hMX0pLFt7a2V5OlwiYWJvcnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFib3J0ZWR8fCh0aGlzLmFib3J0ZWQ9ITAsdGhpcy5yZXN1bHQ9dGhpcy5hYm9ydEhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpKSx0aGlzLnJlc3VsdH19LHtrZXk6XCJpc0Fib3J0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFib3J0ZWR9fSx7a2V5OlwiY2FuY2VsXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmFib3J0ZWQ9ITB9fV0pfSgpO0UuRXZlbnRUeXBlcz17XCJldmVudDpza2lwQ29udHJvbGxlci5hYm9ydFwiOlwiZXZlbnQ6c2tpcENvbnRyb2xsZXIuYWJvcnRcIn07dmFyIFA9ZnVuY3Rpb24oKXtyZXR1cm4gcCgoZnVuY3Rpb24gdCgpe2wodGhpcyx0KSx0aGlzLmxvY2tlZD0hMSx0aGlzLmxpc3RlbmVycz1bXSx0aGlzLnVubG9ja0xpc3RlbmVycz1bXX0pLFt7a2V5OlwibG9ja1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9ja2VkPSEwLHRoaXN9fSx7a2V5OlwidW5sb2NrXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmxvY2tlZD0hMTt2YXIgdCxlPWModGhpcy5saXN0ZW5lcnMpO3RyeXtmb3IoZS5zKCk7ISh0PWUubigpKS5kb25lOyl7KDAsdC52YWx1ZSkoKX19Y2F0Y2godCl7ZS5lKHQpfWZpbmFsbHl7ZS5mKCl9dmFyIG4scj1jKHRoaXMudW5sb2NrTGlzdGVuZXJzKTt0cnl7Zm9yKHIucygpOyEobj1yLm4oKSkuZG9uZTspeygwLG4udmFsdWUpKCl9fWNhdGNoKHQpe3IuZSh0KX1maW5hbGx5e3IuZigpfXJldHVybiB0aGlzLmxpc3RlbmVycz1bXSx0aGlzfX0se2tleTpcIm9uVW5sb2NrXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudW5sb2NrTGlzdGVuZXJzLnB1c2godCksdH19LHtrZXk6XCJvZmZVbmxvY2tcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnVubG9ja0xpc3RlbmVycz10aGlzLnVubG9ja0xpc3RlbmVycy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pKX19LHtrZXk6XCJuZXh0VW5sb2NrXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLHZvaWQgMCx2b2lkIDAsdSgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZT10aGlzO3JldHVybiB1KCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYodGhpcy5sb2NrZWQpe3QubmV4dD0yO2JyZWFrfXJldHVybiB0LmFicnVwdChcInJldHVyblwiKTtjYXNlIDI6cmV0dXJuIHQuYWJydXB0KFwicmV0dXJuXCIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2UubGlzdGVuZXJzLnB1c2godCl9KSkpO2Nhc2UgMzpjYXNlXCJlbmRcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSl9fSx7a2V5OlwiaXNMb2NrZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2tlZH19XSl9KCksaj1mdW5jdGlvbigpe3JldHVybiBwKChmdW5jdGlvbiB0KCl7bCh0aGlzLHQpLHRoaXMubG9ja3M9W119KSxbe2tleTpcInVubG9ja1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnVubG9jaygpLHRoaXMub2ZmKHQpLHR9fSx7a2V5OlwicmVnaXN0ZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10fHxuZXcgUDtyZXR1cm4gdGhpcy5sb2Nrcy5wdXNoKGUpLGV9fSx7a2V5Olwib2ZmXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5sb2Nrcz10aGlzLmxvY2tzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT10fSkpfX0se2tleTpcIm5leHRVbmxvY2tcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsdm9pZCAwLHZvaWQgMCx1KCkubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlO3JldHVybiB1KCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGU9dGhpcy5sb2Nrcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5leHRVbmxvY2soKX0pKSx0LmFicnVwdChcInJldHVyblwiLFByb21pc2UuYWxsKGUpKTtjYXNlIDI6Y2FzZVwiZW5kXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsdGhpcyl9KSkpfX0se2tleTpcImlzTG9ja2VkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2Nrcy5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0xvY2tlZCgpfSkpfX1dKX0oKTtmdW5jdGlvbiBDKHQpe3JldHVybiBDPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEModCl9ZnVuY3Rpb24gTCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxJKHIua2V5KSxyKX19ZnVuY3Rpb24gSSh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPUModCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9QyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PUMoZSk/ZTplK1wiXCJ9dmFyIE49ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZMKHQucHJvdG90eXBlLGUpLG4mJkwodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KChmdW5jdGlvbiB0KGUsbixyKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuY2FsbGVlPWUsdGhpcy50eXBlPW4sdGhpcy5jb250ZW50Tm9kZT1yLHRoaXMuX19zdGFjaz14KCksdGhpcy5faWQ9XCJcIn0pLFt7a2V5OlwiZXhlY3V0ZUFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybnt0eXBlOnRoaXMudHlwZSxub2RlOnRoaXMuY29udGVudE5vZGUuZ2V0Q2hpbGQoKX19fSx7a2V5OlwiZ2V0SWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH19LHtrZXk6XCJzZXRJZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2lkPXR9fSx7a2V5OlwiZ2V0RnV0dXJlQWN0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZW50Tm9kZS5nZXRDaGlsZCgpO3JldHVybiB0JiZ0LmFjdGlvbj9bdC5hY3Rpb25dOltdfX1dKX0oKTtmdW5jdGlvbiBNKHQpe3JldHVybiBNPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LE0odCl9ZnVuY3Rpb24gUih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxGKHIua2V5KSxyKX19ZnVuY3Rpb24gRih0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPU0odCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9TShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PU0oZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gRCh0LGUsbil7cmV0dXJuIGU9VihlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1NKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LEIoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLFYodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gQigpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKEI9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIFYodCl7cmV0dXJuIFY9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFYodCl9ZnVuY3Rpb24gRyh0LGUpe3JldHVybiBHPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sRyh0LGUpfU4uQWN0aW9uVHlwZXM9e2FjdGlvbjpcImFjdGlvblwifTt2YXIgVT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsbixyKXt2YXIgbztyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLChvPUQodGhpcyxlLFt0LG4scl0pKS5jYWxsZWU9dC5nZXRTZWxmKCksby5jb250ZW50Tm9kZS5hY3Rpb249byxvfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZHKHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZSKHQucHJvdG90eXBlLGUpLG4mJlIodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJ1bmtub3duVHlwZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBhY3Rpb24gdHlwZTogXCIrdGhpcy50eXBlKX19XSl9KE4pO2Z1bmN0aW9uIEgodCl7cmV0dXJuIEg9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sSCh0KX1mdW5jdGlvbiB6KHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe3ZhciBuPW51bGw9PXQ/bnVsbDpcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKG51bGwhPW4pe3ZhciByLG8saSxhLHM9W10sdT0hMCxjPSExO3RyeXtpZihpPShuPW4uY2FsbCh0KSkubmV4dCwwPT09ZSl7aWYoT2JqZWN0KG4pIT09bilyZXR1cm47dT0hMX1lbHNlIGZvcig7ISh1PShyPWkuY2FsbChuKSkuZG9uZSkmJihzLnB1c2goci52YWx1ZSkscy5sZW5ndGghPT1lKTt1PSEwKTt9Y2F0Y2godCl7Yz0hMCxvPXR9ZmluYWxseXt0cnl7aWYoIXUmJm51bGwhPW4ucmV0dXJuJiYoYT1uLnJldHVybigpLE9iamVjdChhKSE9PWEpKXJldHVybn1maW5hbGx5e2lmKGMpdGhyb3cgb319cmV0dXJuIHN9fSh0LGUpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBXKHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/Vyh0LGUpOnZvaWQgMH19KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBXKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiAkKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFkoci5rZXkpLHIpfX1mdW5jdGlvbiBZKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9SCh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1IKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09SChlKT9lOmUrXCJcIn1mdW5jdGlvbiBxKHQsZSxuKXtyZXR1cm4gZT1RKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PUgoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsWCgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sUSh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBYKCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oWD1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gSyh0LGUsbixyKXt2YXIgbz1aKFEoMSZyP3QucHJvdG90eXBlOnQpLGUsbik7cmV0dXJuIDImciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbz9mdW5jdGlvbih0KXtyZXR1cm4gby5hcHBseShuLHQpfTpvfWZ1bmN0aW9uIFooKXtyZXR1cm4gWj1cInVuZGVmaW5lZFwiIT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5nZXQ/UmVmbGVjdC5nZXQuYmluZCgpOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1mdW5jdGlvbih0LGUpe2Zvcig7IXt9Lmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbnVsbCE9PSh0PVEodCkpOyk7cmV0dXJuIHR9KHQsZSk7aWYocil7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpO3JldHVybiBvLmdldD9vLmdldC5jYWxsKGFyZ3VtZW50cy5sZW5ndGg8Mz90Om4pOm8udmFsdWV9fSxaLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBRKHQpe3JldHVybiBRPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxRKHQpfWZ1bmN0aW9uIEoodCxlKXtyZXR1cm4gSj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEoodCxlKX12YXIgdHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSkscSh0aGlzLGUsYXJndW1lbnRzKX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmSih0LGUpfShlLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmJCh0LnByb3RvdHlwZSxlKSxuJiYkKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShlLFt7a2V5OlwiZXhlY3V0ZUFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7aWYodGhpcy50eXBlPT09ci5wbGF5KXtpZihlLmluaXRTb3VuZCh0LHRoaXMuY2FsbGVlKSwhdGhpcy5jYWxsZWUuZ2V0UGxheWluZygpKXRocm93IG5ldyBFcnJvcihcIkhvd2wgaXMgbm90IGluaXRpYWxpemVkXCIpO2lmKHRoaXMuY2FsbGVlLmNvbmZpZy5zeW5jJiYhdGhpcy5jYWxsZWUuY29uZmlnLmxvb3Ape3ZhciBvPW5ldyB3KChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKTtyZXR1cm4gdC5wbGF5U291bmQodGhpcy5jYWxsZWUsKGZ1bmN0aW9uKCl7dmFyIGU7dC5zdG9wU291bmQobi5jYWxsZWUpLG8ucmVzb2x2ZSh7dHlwZTpuLnR5cGUsbm9kZTpudWxsPT09KGU9bi5jb250ZW50Tm9kZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0Q2hpbGQoKX0pfSkpLG99cmV0dXJuIHQucGxheVNvdW5kKHRoaXMuY2FsbGVlLChmdW5jdGlvbigpe3Quc3RvcFNvdW5kKG4uY2FsbGVlKX0pKSxLKGUsXCJleGVjdXRlQWN0aW9uXCIsdGhpcywzKShbdF0pfWlmKHRoaXMudHlwZT09PXIuc3RvcClyZXR1cm4gdC5zdG9wU291bmQodGhpcy5jYWxsZWUpLEsoZSxcImV4ZWN1dGVBY3Rpb25cIix0aGlzLDMpKFt0XSk7aWYodGhpcy50eXBlPT09ci5mYWRlKXt2YXIgaT16KHRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpLDEpWzBdLGE9aS5zdGFydCxzPWkuZW5kLHU9aS5kdXJhdGlvbjtpZih0aGlzLmNhbGxlZS5nZXRQbGF5aW5nKCkpe3ZhciBjPXZvaWQgMD09PWE/dGhpcy5jYWxsZWUuZ2V0UGxheWluZygpLnZvbHVtZSgpOmE7dGhpcy5jYWxsZWUuZ2V0UGxheWluZygpLmZhZGUoYyxzLHUsdGhpcy5jYWxsZWUuZ2V0VG9rZW4oKSl9cmV0dXJuIEsoZSxcImV4ZWN1dGVBY3Rpb25cIix0aGlzLDMpKFt0XSl9aWYodGhpcy50eXBlPT09ci5zZXRWb2x1bWUpe3ZhciBsPXoodGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KCksMSlbMF07cmV0dXJuIHRoaXMuY2FsbGVlLmdldFBsYXlpbmcoKSYmdGhpcy5jYWxsZWUuZ2V0UGxheWluZygpLnZvbHVtZShsLHRoaXMuY2FsbGVlLmdldFRva2VuKCkpLEsoZSxcImV4ZWN1dGVBY3Rpb25cIix0aGlzLDMpKFt0XSl9aWYodGhpcy50eXBlPT09ci5zZXRSYXRlKXt2YXIgZj16KHRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpLDEpWzBdO3JldHVybiB0aGlzLmNhbGxlZS5nZXRQbGF5aW5nKCkmJnRoaXMuY2FsbGVlLmdldFBsYXlpbmcoKS5yYXRlKGYsdGhpcy5jYWxsZWUuZ2V0VG9rZW4oKSksSyhlLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKX1pZih0aGlzLnR5cGU9PT1yLnBhdXNlKXJldHVybiB0aGlzLmNhbGxlZS5nZXRQbGF5aW5nKCkmJnRoaXMuY2FsbGVlLmdldFBsYXlpbmcoKS5wYXVzZSh0aGlzLmNhbGxlZS5nZXRUb2tlbigpKSxLKGUsXCJleGVjdXRlQWN0aW9uXCIsdGhpcywzKShbdF0pO2lmKHRoaXMudHlwZT09PXIucmVzdW1lKXJldHVybiB0aGlzLmNhbGxlZS5nZXRQbGF5aW5nKCkmJnRoaXMuY2FsbGVlLmdldFBsYXlpbmcoKS5wbGF5KHRoaXMuY2FsbGVlLmdldFRva2VuKCkpLEsoZSxcImV4ZWN1dGVBY3Rpb25cIix0aGlzLDMpKFt0XSk7dGhyb3cgSyhlLFwidW5rbm93blR5cGVcIix0aGlzLDMpKFtdKX19XSxbe2tleTpcImluaXRTb3VuZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7ZS5nZXRQbGF5aW5nKCl8fGUuc2V0UGxheWluZyhuZXcodC5nZXRIb3dsKCkpKGUuZ2V0SG93bE9wdGlvbnMoKSkpfX1dKX0oVSk7ZnVuY3Rpb24gZXQodCl7cmV0dXJuIGV0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGV0KHQpfWZ1bmN0aW9uIG50KHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe3ZhciBuPW51bGw9PXQ/bnVsbDpcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKG51bGwhPW4pe3ZhciByLG8saSxhLHM9W10sdT0hMCxjPSExO3RyeXtpZihpPShuPW4uY2FsbCh0KSkubmV4dCwwPT09ZSl7aWYoT2JqZWN0KG4pIT09bilyZXR1cm47dT0hMX1lbHNlIGZvcig7ISh1PShyPWkuY2FsbChuKSkuZG9uZSkmJihzLnB1c2goci52YWx1ZSkscy5sZW5ndGghPT1lKTt1PSEwKTt9Y2F0Y2godCl7Yz0hMCxvPXR9ZmluYWxseXt0cnl7aWYoIXUmJm51bGwhPW4ucmV0dXJuJiYoYT1uLnJldHVybigpLE9iamVjdChhKSE9PWEpKXJldHVybn1maW5hbGx5e2lmKGMpdGhyb3cgb319cmV0dXJuIHN9fSh0LGUpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBydCh0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP3J0KHQsZSk6dm9pZCAwfX0odCxlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIHJ0KHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBvdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpdChyLmtleSkscil9fWZ1bmN0aW9uIGl0KHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9ZXQodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9ZXQocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1ldChlKT9lOmUrXCJcIn1mdW5jdGlvbiBhdCh0LGUsbil7cmV0dXJuIGU9bHQoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09ZXQoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsc3QoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLGx0KHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIHN0KCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oc3Q9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIHV0KHQsZSxuLHIpe3ZhciBvPWN0KGx0KDEmcj90LnByb3RvdHlwZTp0KSxlLG4pO3JldHVybiAyJnImJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8/ZnVuY3Rpb24odCl7cmV0dXJuIG8uYXBwbHkobix0KX06b31mdW5jdGlvbiBjdCgpe3JldHVybiBjdD1cInVuZGVmaW5lZFwiIT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5nZXQ/UmVmbGVjdC5nZXQuYmluZCgpOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1mdW5jdGlvbih0LGUpe2Zvcig7IXt9Lmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbnVsbCE9PSh0PWx0KHQpKTspO3JldHVybiB0fSh0LGUpO2lmKHIpe3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixlKTtyZXR1cm4gby5nZXQ/by5nZXQuY2FsbChhcmd1bWVudHMubGVuZ3RoPDM/dDpuKTpvLnZhbHVlfX0sY3QuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIGx0KHQpe3JldHVybiBsdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sbHQodCl9ZnVuY3Rpb24gZnQodCxlKXtyZXR1cm4gZnQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxmdCh0LGUpfXR0LkFjdGlvblR5cGVzPXI7dmFyIHB0LGR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLG4pLGF0KHRoaXMsbixhcmd1bWVudHMpfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZmdCh0LGUpfShuLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmb3QodC5wcm90b3R5cGUsZSksbiYmb3QodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KG4sW3trZXk6XCJleGVjdXRlQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHIsbz10aGlzO2lmKHRoaXMudHlwZT09PWUuYWN0aW9uKXJldHVybiB1dChuLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKTtpZih0aGlzLnR5cGU9PT1lLnNldEJhY2tncm91bmQpcmV0dXJuIHRoaXMuY2FsbGVlLnN0YXRlLmJhY2tncm91bmQ9dGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KClbMF0sdXQobixcImV4ZWN1dGVBY3Rpb25cIix0aGlzLDMpKFt0XSk7aWYodGhpcy50eXBlPT09ZS5zbGVlcCl7dmFyIGk9bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLGE9dGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtcIm51bWJlclwiPT10eXBlb2YgYT9zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QoKX0pLGEpOncuaXNBd2FpdGFibGUoYSk/YS50aGVuKHQpOm51bGw9PWF8fGEudGhlbih0KX0pKS50aGVuKChmdW5jdGlvbigpe2kucmVzb2x2ZSh7dHlwZTpvLnR5cGUsbm9kZTpvLmNvbnRlbnROb2RlLmdldENoaWxkKCl9KSx0LnN0YWdlLm5leHQoKX0pKSxpfWlmKHRoaXMudHlwZT09PWUuYXBwbHlUcmFuc2l0aW9uKXt2YXIgcz0obmV3IHcpLnJlZ2lzdGVyU2tpcENvbnRyb2xsZXIobmV3IEUoKGZ1bmN0aW9uKCl7cmV0dXJuIHQubG9nZ2VyLmluZm8oXCJOYXJyYUxlYWYtUmVhY3Q6IEJhY2tncm91bmQgVHJhbnNpdGlvblwiLFwiU2tpcHBlZFwiKSx7dHlwZTpvLnR5cGUsbm9kZTpvLmNvbnRlbnROb2RlLmdldENoaWxkKCl9fSkpKSx1PXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdO3JldHVybiB0aGlzLmNhbGxlZS5ldmVudHMuYW55KFwiZXZlbnQ6ZGlzcGxheWFibGUuYXBwbHlUcmFuc2l0aW9uXCIsdSkudGhlbigoZnVuY3Rpb24oKXtzLnJlc29sdmUoe3R5cGU6by50eXBlLG5vZGU6by5jb250ZW50Tm9kZS5nZXRDaGlsZCgpfSksdC5zdGFnZS5uZXh0KCl9KSksc31pZih0aGlzLnR5cGU9PT1lLmluaXQpe3ZhciBjPW5ldyB3KChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKTtyZXR1cm4gbi5oYW5kbGVTY2VuZUluaXQodGhpcyx0LGMpfWlmKHRoaXMudHlwZT09PWUuZXhpdCl7dC5vZmZTcmNNYW5hZ2VyKHRoaXMuY2FsbGVlLnNyY01hbmFnZXIpLnJlbW92ZVNjZW5lKHRoaXMuY2FsbGVlKTt2YXIgbD1uZXcgdygoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSk7cmV0dXJuIHRoaXMuY2FsbGVlLmV2ZW50cy5vbmNlKFwiZXZlbnQ6c2NlbmUudW5tb3VudFwiLChmdW5jdGlvbigpe2wucmVzb2x2ZSh7dHlwZTpvLnR5cGUsbm9kZTpvLmNvbnRlbnROb2RlLmdldENoaWxkKCl9KSx0LnN0YWdlLm5leHQoKX0pKSxsfWlmKHRoaXMudHlwZT09PWUuanVtcFRvKXt2YXIgZj10aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKVswXSxwPXRoaXMuY29udGVudE5vZGUsZD0obnVsbD09PShyPWYuc2NlbmVSb290KXx8dm9pZCAwPT09cj92b2lkIDA6ci5jb250ZW50Tm9kZSl8fG51bGw7cmV0dXJuIGQmJnAuYWRkQ2hpbGQoZCksdXQobixcImV4ZWN1dGVBY3Rpb25cIix0aGlzLDMpKFt0XSl9aWYodGhpcy50eXBlPT09ZS5zZXRCYWNrZ3JvdW5kTXVzaWMpe3ZhciBoPW50KHRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpLDIpLHk9aFswXSx2PWhbMV07cmV0dXJuIHRoaXMuY2FsbGVlLmV2ZW50cy5lbWl0KFwiZXZlbnQ6c2NlbmUuc2V0QmFja2dyb3VuZE11c2ljXCIseSx2fHwwKSx1dChuLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKX1pZih0aGlzLnR5cGU9PT1lLnByZVVubW91bnQpcmV0dXJuIHRoaXMuY2FsbGVlLmV2ZW50cy5lbWl0KFwiZXZlbnQ6c2NlbmUucHJlVW5tb3VudFwiKSx1dChuLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKTtpZih0aGlzLnR5cGU9PT1lLmFwcGx5VHJhbnNmb3JtKXt2YXIgbT1udCh0aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKSwxKVswXSxnPW5ldyB3KChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKS5yZWdpc3RlclNraXBDb250cm9sbGVyKG5ldyBFKChmdW5jdGlvbigpe3JldHVybnt0eXBlOm8udHlwZSxub2RlOm8uY29udGVudE5vZGUuZ2V0Q2hpbGQoKX19KSkpO3JldHVybiB0aGlzLmNhbGxlZS5ldmVudHMuYW55KFwiZXZlbnQ6ZGlzcGxheWFibGUuYXBwbHlUcmFuc2Zvcm1cIixtKS50aGVuKChmdW5jdGlvbigpe2cucmVzb2x2ZSh7dHlwZTpvLnR5cGUsbm9kZTpvLmNvbnRlbnROb2RlLmdldENoaWxkKCl9KSx0LnN0YWdlLm5leHQoKX0pKSxnfXRocm93IG5ldyBFcnJvcihcIlVua25vd24gc2NlbmUgYWN0aW9uIHR5cGU6IFwiK3RoaXMudHlwZSl9fSx7a2V5OlwiZ2V0RnV0dXJlQWN0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsbixyO2lmKHRoaXMudHlwZT09PWUuanVtcFRvKXt2YXIgbz1udWxsPT09KG49bnVsbD09PSh0PXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zY2VuZVJvb3QpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmNvbnRlbnROb2RlO3JldHVybihudWxsPT1vP3ZvaWQgMDpvLmFjdGlvbik/W28uYWN0aW9uXTpbXX12YXIgaT1udWxsPT09KHI9dGhpcy5jb250ZW50Tm9kZS5nZXRDaGlsZCgpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5hY3Rpb247cmV0dXJuIGk/W2ldOltdfX1dLFt7a2V5OlwiaGFuZGxlU2NlbmVJbml0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLHIpe3JldHVybiBlLmlzU2NlbmVBY3RpdmUodC5jYWxsZWUpP3t0eXBlOnQudHlwZSxub2RlOnQuY29udGVudE5vZGUuZ2V0Q2hpbGQoKX06KGUucmVnaXN0ZXJTcmNNYW5hZ2VyKHQuY2FsbGVlLnNyY01hbmFnZXIpLmFkZFNjZW5lKHQuY2FsbGVlKSxuLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnModC5jYWxsZWUsZSwoZnVuY3Rpb24oKXtyLnJlc29sdmUoe3R5cGU6dC50eXBlLG5vZGU6dC5jb250ZW50Tm9kZS5nZXRDaGlsZCgpfSksZS5zdGFnZS5uZXh0KCl9KSkscil9fSx7a2V5OlwicmVnaXN0ZXJFdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt0LmV2ZW50cy5vbmNlKFwiZXZlbnQ6c2NlbmUudW5tb3VudFwiLChmdW5jdGlvbigpe2Uub2ZmU3JjTWFuYWdlcih0LnNyY01hbmFnZXIpfSkpLHQuZXZlbnRzLm9uY2UoXCJldmVudDpzY2VuZS5tb3VudFwiLChmdW5jdGlvbigpe3Quc3RhdGUuYmFja2dyb3VuZE11c2ljJiYodHQuaW5pdFNvdW5kKGUsdC5zdGF0ZS5iYWNrZ3JvdW5kTXVzaWMpLHQuZXZlbnRzLmVtaXQoXCJldmVudDpzY2VuZS5zZXRCYWNrZ3JvdW5kTXVzaWNcIix0LnN0YXRlLmJhY2tncm91bmRNdXNpYyx0LmNvbmZpZy5iYWNrZ3JvdW5kTXVzaWNGYWRlKSl9KSksdC5ldmVudHMuYW55KFwiZXZlbnQ6ZGlzcGxheWFibGUuaW5pdFwiKS50aGVuKChmdW5jdGlvbigpe24mJm4oKX0pKX19XSl9KFUpO2Z1bmN0aW9uIGh0KHQpe3JldHVybiBodD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxodCh0KX1mdW5jdGlvbiB5dCh0LGUsbil7cmV0dXJuIGU9bXQoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09aHQoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsdnQoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLG10KHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIHZ0KCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4odnQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIG10KHQpe3JldHVybiBtdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sbXQodCl9ZnVuY3Rpb24gZ3QodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmYnQodCxlKX1mdW5jdGlvbiBidCh0LGUpe3JldHVybiBidD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGJ0KHQsZSl9ZnVuY3Rpb24gd3QodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF90KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGt0KHIua2V5KSxyKX19ZnVuY3Rpb24gU3QodCxlLG4pe3JldHVybiBlJiZfdCh0LnByb3RvdHlwZSxlKSxuJiZfdCh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH1mdW5jdGlvbiBrdCh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPWh0KHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPWh0KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09aHQoZSk/ZTplK1wiXCJ9ZHQuQWN0aW9uVHlwZXM9ZSxmdW5jdGlvbih0KXt0LlRyZWVOb2RlPVwiVHJlZU5vZGVcIix0LkNvbnRlbnROb2RlPVwiQ29udGVudE5vZGVcIn0ocHR8fChwdD17fSkpO3ZhciB4dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsbixyKXt2YXIgbztyZXR1cm4gd3QodGhpcyxlKSwobz15dCh0aGlzLGUsW3B0LkNvbnRlbnROb2RlXSkpLmNoaWxkPXJ8fG51bGwsby5wYXJlbnQ9bnx8bnVsbCxvLmFjdGlvbj10fHxudWxsLG99cmV0dXJuIGd0KGUsdCksU3QoZSxbe2tleTpcInNldFBhcmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQ9PT10aGlzKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgcGFyZW50IHRvIGl0c2VsZlwiKTtyZXR1cm4gdGhpcy5wYXJlbnQ9dCx0aGlzfX0se2tleTpcInNldENoaWxkXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodD09PXRoaXMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNldCBjaGlsZCB0byBpdHNlbGZcIik7cmV0dXJuIHRoaXMuY2hpbGQ9dCx0JiZ0LnBhcmVudCE9PXRoaXMmJnQucmVtb3ZlKCkuc2V0UGFyZW50KHRoaXMpLHRoaXN9fSx7a2V5OlwiZ2V0Q2hpbGRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkfHxudWxsfX0se2tleTpcImdldFBhcmVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50fHxudWxsfX0se2tleTpcImFkZENoaWxkXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hpbGQodCksdGhpc319LHtrZXk6XCJyZW1vdmVDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0aGlzLmNoaWxkPT09dD8odGhpcy5jaGlsZD1udWxsLHQuc2V0UGFyZW50KG51bGwpKTp0fHwodGhpcy5jaGlsZD1udWxsKSx0aGlzfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGw9PT0odD10aGlzLnBhcmVudCl8fHZvaWQgMD09PXR8fHQucmVtb3ZlQ2hpbGQodGhpcyksdGhpc319LHtrZXk6XCJoYXNDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmNoaWxkfX1dLFt7a2V5OlwiZm9yRWFjaFBhcmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPW5ldyBTZXQscj10O3ImJiFuLmhhcyhyKTspbi5hZGQociksZShyKSxyPXIuZ2V0UGFyZW50KCl9fSx7a2V5OlwiZm9yRWFjaENoaWxkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bmV3IFNldCxyPXQ7ciYmIW4uaGFzKHIpOyluLmFkZChyKSxlKHIpLHI9ci5nZXRDaGlsZCgpfX1dKX0oZnVuY3Rpb24oKXtyZXR1cm4gU3QoKGZ1bmN0aW9uIHQoZSl7d3QodGhpcyx0KSx0aGlzLnR5cGU9ZSx0aGlzLmNvbnRlbnQ9dm9pZCAwfSksW3trZXk6XCJzZXRDb250ZW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGVudD10LHRoaXN9fSx7a2V5OlwiZ2V0Q29udGVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudH19XSl9KCkpO2Z1bmN0aW9uIEF0KHQpe3JldHVybiBBdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxBdCh0KX1mdW5jdGlvbiBPdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxUdChyLmtleSkscil9fWZ1bmN0aW9uIFR0KHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9QXQodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9QXQocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1BdChlKT9lOmUrXCJcIn12YXIgRXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZPdCh0LnByb3RvdHlwZSxlKSxuJiZPdCh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKGZ1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuaWQ9XCJcIn0pLFt7a2V5Olwic2V0SWRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmlkPXR9fSx7a2V5OlwiZ2V0SWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkfX0se2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwiZnJvbURhdGFcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc319LHtrZXk6XCJjb25zdHJ1Y3RcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGUsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dOzAhPT1uJiYobnVsbD09PShlPXRbbi0xXSl8fHZvaWQgMD09PWV8fGUuY29udGVudE5vZGUuc2V0Q2hpbGQoci5jb250ZW50Tm9kZSkpfXJldHVybiB0fX1dKX0oKTtmdW5jdGlvbiBQdCh0KXtyZXR1cm4gUHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sUHQodCl9ZnVuY3Rpb24ganQodCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIE50KHQpfSh0KXx8ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9dFtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT10W1wiQEBpdGVyYXRvclwiXSlyZXR1cm4gQXJyYXkuZnJvbSh0KX0odCl8fEl0KHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIEN0KHQsZSl7dmFyIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheSh0KXx8KG49SXQodCkpfHxlJiZ0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpe24mJih0PW4pO3ZhciByPTAsbz1mdW5jdGlvbigpe307cmV0dXJue3M6byxuOmZ1bmN0aW9uKCl7cmV0dXJuIHI+PXQubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTp0W3IrK119fSxlOmZ1bmN0aW9uKHQpe3Rocm93IHR9LGY6b319dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciBpLGE9ITAscz0hMTtyZXR1cm57czpmdW5jdGlvbigpe249bi5jYWxsKHQpfSxuOmZ1bmN0aW9uKCl7dmFyIHQ9bi5uZXh0KCk7cmV0dXJuIGE9dC5kb25lLHR9LGU6ZnVuY3Rpb24odCl7cz0hMCxpPXR9LGY6ZnVuY3Rpb24oKXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGl9fX19ZnVuY3Rpb24gTHQodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbD09dD9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYobnVsbCE9bil7dmFyIHIsbyxpLGEscz1bXSx1PSEwLGM9ITE7dHJ5e2lmKGk9KG49bi5jYWxsKHQpKS5uZXh0LDA9PT1lKXtpZihPYmplY3QobikhPT1uKXJldHVybjt1PSExfWVsc2UgZm9yKDshKHU9KHI9aS5jYWxsKG4pKS5kb25lKSYmKHMucHVzaChyLnZhbHVlKSxzLmxlbmd0aCE9PWUpO3U9ITApO31jYXRjaCh0KXtjPSEwLG89dH1maW5hbGx5e3RyeXtpZighdSYmbnVsbCE9bi5yZXR1cm4mJihhPW4ucmV0dXJuKCksT2JqZWN0KGEpIT09YSkpcmV0dXJufWZpbmFsbHl7aWYoYyl0aHJvdyBvfX1yZXR1cm4gc319KHQsZSl8fEl0KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBJdCh0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBOdCh0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP050KHQsZSk6dm9pZCAwfX1mdW5jdGlvbiBOdCh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gTXQoKXsvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovTXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZX07dmFyIHQsZT17fSxuPU9iamVjdC5wcm90b3R5cGUscj1uLmhhc093blByb3BlcnR5LG89T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbih0LGUsbil7dFtlXT1uLnZhbHVlfSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYT1pLml0ZXJhdG9yfHxcIkBAaXRlcmF0b3JcIixzPWkuYXN5bmNJdGVyYXRvcnx8XCJAQGFzeW5jSXRlcmF0b3JcIix1PWkudG9TdHJpbmdUYWd8fFwiQEB0b1N0cmluZ1RhZ1wiO2Z1bmN0aW9uIGModCxlLG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksdFtlXX10cnl7Yyh7fSxcIlwiKX1jYXRjaCh0KXtjPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1ufX1mdW5jdGlvbiBsKHQsZSxuLHIpe3ZhciBpPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgbT9lOm0sYT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxzPW5ldyBqKHJ8fFtdKTtyZXR1cm4gbyhhLFwiX2ludm9rZVwiLHt2YWx1ZTpPKHQsbixzKX0pLGF9ZnVuY3Rpb24gZih0LGUsbil7dHJ5e3JldHVybnt0eXBlOlwibm9ybWFsXCIsYXJnOnQuY2FsbChlLG4pfX1jYXRjaCh0KXtyZXR1cm57dHlwZTpcInRocm93XCIsYXJnOnR9fX1lLndyYXA9bDt2YXIgcD1cInN1c3BlbmRlZFN0YXJ0XCIsZD1cInN1c3BlbmRlZFlpZWxkXCIsaD1cImV4ZWN1dGluZ1wiLHk9XCJjb21wbGV0ZWRcIix2PXt9O2Z1bmN0aW9uIG0oKXt9ZnVuY3Rpb24gZygpe31mdW5jdGlvbiBiKCl7fXZhciB3PXt9O2ModyxhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBfPU9iamVjdC5nZXRQcm90b3R5cGVPZixTPV8mJl8oXyhDKFtdKSkpO1MmJlMhPT1uJiZyLmNhbGwoUyxhKSYmKHc9Uyk7dmFyIGs9Yi5wcm90b3R5cGU9bS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3KTtmdW5jdGlvbiB4KHQpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Yyh0LGUsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX0pKX0pKX1mdW5jdGlvbiBBKHQsZSl7ZnVuY3Rpb24gbihvLGksYSxzKXt2YXIgdT1mKHRbb10sdCxpKTtpZihcInRocm93XCIhPT11LnR5cGUpe3ZhciBjPXUuYXJnLGw9Yy52YWx1ZTtyZXR1cm4gbCYmXCJvYmplY3RcIj09UHQobCkmJnIuY2FsbChsLFwiX19hd2FpdFwiKT9lLnJlc29sdmUobC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih0KXtuKFwibmV4dFwiLHQsYSxzKX0pLChmdW5jdGlvbih0KXtuKFwidGhyb3dcIix0LGEscyl9KSk6ZS5yZXNvbHZlKGwpLnRoZW4oKGZ1bmN0aW9uKHQpe2MudmFsdWU9dCxhKGMpfSksKGZ1bmN0aW9uKHQpe3JldHVybiBuKFwidGhyb3dcIix0LGEscyl9KSl9cyh1LmFyZyl9dmFyIGk7byh0aGlzLFwiX2ludm9rZVwiLHt2YWx1ZTpmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIG8oKXtyZXR1cm4gbmV3IGUoKGZ1bmN0aW9uKGUsbyl7bih0LHIsZSxvKX0pKX1yZXR1cm4gaT1pP2kudGhlbihvLG8pOm8oKX19KX1mdW5jdGlvbiBPKGUsbixyKXt2YXIgbz1wO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1oKXRocm93IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtpZihvPT09eSl7aWYoXCJ0aHJvd1wiPT09aSl0aHJvdyBhO3JldHVybnt2YWx1ZTp0LGRvbmU6ITB9fWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgdT1UKHMscik7aWYodSl7aWYodT09PXYpY29udGludWU7cmV0dXJuIHV9fWlmKFwibmV4dFwiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZihcInRocm93XCI9PT1yLm1ldGhvZCl7aWYobz09PXApdGhyb3cgbz15LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2VcInJldHVyblwiPT09ci5tZXRob2QmJnIuYWJydXB0KFwicmV0dXJuXCIsci5hcmcpO289aDt2YXIgYz1mKGUsbixyKTtpZihcIm5vcm1hbFwiPT09Yy50eXBlKXtpZihvPXIuZG9uZT95OmQsYy5hcmc9PT12KWNvbnRpbnVlO3JldHVybnt2YWx1ZTpjLmFyZyxkb25lOnIuZG9uZX19XCJ0aHJvd1wiPT09Yy50eXBlJiYobz15LHIubWV0aG9kPVwidGhyb3dcIixyLmFyZz1jLmFyZyl9fX1mdW5jdGlvbiBUKGUsbil7dmFyIHI9bi5tZXRob2Qsbz1lLml0ZXJhdG9yW3JdO2lmKG89PT10KXJldHVybiBuLmRlbGVnYXRlPW51bGwsXCJ0aHJvd1wiPT09ciYmZS5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD1cInJldHVyblwiLG4uYXJnPXQsVChlLG4pLFwidGhyb3dcIj09PW4ubWV0aG9kKXx8XCJyZXR1cm5cIiE9PXImJihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiK3IrXCInIG1ldGhvZFwiKSksdjt2YXIgaT1mKG8sZS5pdGVyYXRvcixuLmFyZyk7aWYoXCJ0aHJvd1wiPT09aS50eXBlKXJldHVybiBuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHY7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW2UucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9ZS5uZXh0TG9jLFwicmV0dXJuXCIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPXQpLG4uZGVsZWdhdGU9bnVsbCx2KTphOihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLG4uZGVsZWdhdGU9bnVsbCx2KX1mdW5jdGlvbiBFKHQpe3ZhciBlPXt0cnlMb2M6dFswXX07MSBpbiB0JiYoZS5jYXRjaExvYz10WzFdKSwyIGluIHQmJihlLmZpbmFsbHlMb2M9dFsyXSxlLmFmdGVyTG9jPXRbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKGUpfWZ1bmN0aW9uIFAodCl7dmFyIGU9dC5jb21wbGV0aW9ufHx7fTtlLnR5cGU9XCJub3JtYWxcIixkZWxldGUgZS5hcmcsdC5jb21wbGV0aW9uPWV9ZnVuY3Rpb24gaih0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XCJyb290XCJ9XSx0LmZvckVhY2goRSx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBDKGUpe2lmKGV8fFwiXCI9PT1lKXt2YXIgbj1lW2FdO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG89LTEsaT1mdW5jdGlvbiBuKCl7Zm9yKDsrK288ZS5sZW5ndGg7KWlmKHIuY2FsbChlLG8pKXJldHVybiBuLnZhbHVlPWVbb10sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9dCxuLmRvbmU9ITAsbn07cmV0dXJuIGkubmV4dD1pfX10aHJvdyBuZXcgVHlwZUVycm9yKFB0KGUpK1wiIGlzIG5vdCBpdGVyYWJsZVwiKX1yZXR1cm4gZy5wcm90b3R5cGU9YixvKGssXCJjb25zdHJ1Y3RvclwiLHt2YWx1ZTpiLGNvbmZpZ3VyYWJsZTohMH0pLG8oYixcImNvbnN0cnVjdG9yXCIse3ZhbHVlOmcsY29uZmlndXJhYmxlOiEwfSksZy5kaXNwbGF5TmFtZT1jKGIsdSxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLGUuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbih0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNvbnN0cnVjdG9yO3JldHVybiEhZSYmKGU9PT1nfHxcIkdlbmVyYXRvckZ1bmN0aW9uXCI9PT0oZS5kaXNwbGF5TmFtZXx8ZS5uYW1lKSl9LGUubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGIpOih0Ll9fcHJvdG9fXz1iLGModCx1LFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoayksdH0sZS5hd3JhcD1mdW5jdGlvbih0KXtyZXR1cm57X19hd2FpdDp0fX0seChBLnByb3RvdHlwZSksYyhBLnByb3RvdHlwZSxzLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGUuQXN5bmNJdGVyYXRvcj1BLGUuYXN5bmM9ZnVuY3Rpb24odCxuLHIsbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgQShsKHQsbixyLG8pLGkpO3JldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24obik/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kb25lP3QudmFsdWU6YS5uZXh0KCl9KSl9LHgoayksYyhrLHUsXCJHZW5lcmF0b3JcIiksYyhrLGEsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksYyhrLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgR2VuZXJhdG9yXVwifSkpLGUua2V5cz1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QodCksbj1bXTtmb3IodmFyIHIgaW4gZSluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIHQoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5wb3AoKTtpZihyIGluIGUpcmV0dXJuIHQudmFsdWU9cix0LmRvbmU9ITEsdH1yZXR1cm4gdC5kb25lPSEwLHR9fSxlLnZhbHVlcz1DLGoucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpqLHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PXQsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLmFyZz10LHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKFApLCFlKWZvcih2YXIgbiBpbiB0aGlzKVwidFwiPT09bi5jaGFyQXQoMCkmJnIuY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgdD10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIG49dGhpcztmdW5jdGlvbiBvKHIsbyl7cmV0dXJuIHMudHlwZT1cInRocm93XCIscy5hcmc9ZSxuLm5leHQ9cixvJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9dCksISFvfWZvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBhPXRoaXMudHJ5RW50cmllc1tpXSxzPWEuY29tcGxldGlvbjtpZihcInJvb3RcIj09PWEudHJ5TG9jKXJldHVybiBvKFwiZW5kXCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciB1PXIuY2FsbChhLFwiY2F0Y2hMb2NcIiksYz1yLmNhbGwoYSxcImZpbmFsbHlMb2NcIik7aWYodSYmYyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIG8oYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gbyhhLmZpbmFsbHlMb2MpfWVsc2UgaWYodSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIG8oYS5jYXRjaExvYywhMCl9ZWxzZXtpZighYyl0aHJvdyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIG89dGhpcy50cnlFbnRyaWVzW25dO2lmKG8udHJ5TG9jPD10aGlzLnByZXYmJnIuY2FsbChvLFwiZmluYWxseUxvY1wiKSYmdGhpcy5wcmV2PG8uZmluYWxseUxvYyl7dmFyIGk9bzticmVha319aSYmKFwiYnJlYWtcIj09PXR8fFwiY29udGludWVcIj09PXQpJiZpLnRyeUxvYzw9ZSYmZTw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgYT1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPXQsYS5hcmc9ZSxpPyh0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLm5leHQ9aS5maW5hbGx5TG9jLHYpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVyblwiYnJlYWtcIj09PXQudHlwZXx8XCJjb250aW51ZVwiPT09dC50eXBlP3RoaXMubmV4dD10LmFyZzpcInJldHVyblwiPT09dC50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9dC5hcmcsdGhpcy5tZXRob2Q9XCJyZXR1cm5cIix0aGlzLm5leHQ9XCJlbmRcIik6XCJub3JtYWxcIj09PXQudHlwZSYmZSYmKHRoaXMubmV4dD1lKSx2fSxmaW5pc2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4uZmluYWxseUxvYz09PXQpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLFAobiksdn19LGNhdGNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLnRyeUxvYz09PXQpe3ZhciByPW4uY29tcGxldGlvbjtpZihcInRocm93XCI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO1Aobil9cmV0dXJuIG99fXRocm93IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6QyhlKSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSxcIm5leHRcIj09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dCksdn19LGV9ZnVuY3Rpb24gUnQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsRnQoci5rZXkpLHIpfX1mdW5jdGlvbiBGdCh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPVB0KHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPVB0KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09UHQoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gRHQodCxlLG4pe3JldHVybiBlPVV0KGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PVB0KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LEJ0KCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxVdCh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBCdCgpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKEJ0PWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBWdCh0LGUsbixyKXt2YXIgbz1HdChVdCgxJnI/dC5wcm90b3R5cGU6dCksZSxuKTtyZXR1cm4gMiZyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvP2Z1bmN0aW9uKHQpe3JldHVybiBvLmFwcGx5KG4sdCl9Om99ZnVuY3Rpb24gR3QoKXtyZXR1cm4gR3Q9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0LmJpbmQoKTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZnVuY3Rpb24odCxlKXtmb3IoOyF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJm51bGwhPT0odD1VdCh0KSk7KTtyZXR1cm4gdH0odCxlKTtpZihyKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsZSk7cmV0dXJuIG8uZ2V0P28uZ2V0LmNhbGwoYXJndW1lbnRzLmxlbmd0aDwzP3Q6bik6by52YWx1ZX19LEd0LmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBVdCh0KXtyZXR1cm4gVXQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFV0KHQpfWZ1bmN0aW9uIEh0KHQsZSl7cmV0dXJuIEh0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sSHQodCxlKX12YXIgenQsV3Q9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gYSh0KXt0cnl7dShyLm5leHQodCkpfWNhdGNoKHQpe2kodCl9fWZ1bmN0aW9uIHModCl7dHJ5e3Uoci50aHJvdyh0KSl9Y2F0Y2godCl7aSh0KX19ZnVuY3Rpb24gdSh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oKGZ1bmN0aW9uKHQpe3QoZSl9KSkpLnRoZW4oYSxzKX11KChyPXIuYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9LCR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLER0KHRoaXMsZSxhcmd1bWVudHMpfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZIdCh0LGUpfShlLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmUnQodC5wcm90b3R5cGUsZSksbiYmUnQodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJleGVjdXRlQWxsQWN0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFd0KHRoaXMsdm9pZCAwLHZvaWQgMCxNdCgpLm1hcmsoKGZ1bmN0aW9uIG4oKXt2YXIgcixvLGk7cmV0dXJuIE10KCkud3JhcCgoZnVuY3Rpb24obil7Zm9yKDs7KXN3aXRjaChuLnByZXY9bi5uZXh0KXtjYXNlIDA6cj0hMSxvPWUsaT1NdCgpLm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgbixyLGk7cmV0dXJuIE10KCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYobj10LmdhbWUuZ2V0TGl2ZUdhbWUoKS5leGVjdXRlQWN0aW9uKHQsbyksdC5sb2dnZXIuZGVidWcoXCJDb250cm9sIC0gTmV4dCBBY3Rpb25cIixuKSxuKXtlLm5leHQ9NDticmVha31yZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIiwwKTtjYXNlIDQ6aWYoIXcuaXNBd2FpdGFibGUobikpe2UubmV4dD0xNjticmVha31yZXR1cm4gZS5uZXh0PTcsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe24udGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIHQobi5yZXN1bHQpfSkpfSkpO2Nhc2UgNzppZihyPWUuc2VudCwhKGk9ci5ub2RlKSl7ZS5uZXh0PTEzO2JyZWFrfW89aS5hY3Rpb24sZS5uZXh0PTE0O2JyZWFrO2Nhc2UgMTM6cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIsMCk7Y2FzZSAxNDplLm5leHQ9MTc7YnJlYWs7Y2FzZSAxNjpvPW47Y2FzZSAxNzpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSk7Y2FzZSAzOmlmKHJ8fCFvKXtuLm5leHQ9MTA7YnJlYWt9cmV0dXJuIG4uZGVsZWdhdGVZaWVsZChpKCksXCJ0MFwiLDUpO2Nhc2UgNTppZigwIT09bi50MCl7bi5uZXh0PTg7YnJlYWt9cmV0dXJuIG4uYWJydXB0KFwiYnJlYWtcIiwxMCk7Y2FzZSA4Om4ubmV4dD0zO2JyZWFrO2Nhc2UgMTA6Y2FzZVwiZW5kXCI6cmV0dXJuIG4uc3RvcCgpfX0pLG4pfSkpKX19LHtrZXk6XCJleGVjdXRlU2luZ2xlQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gV3QodGhpcyx2b2lkIDAsdm9pZCAwLE10KCkubWFyaygoZnVuY3Rpb24gbigpe3ZhciByLG8saTtyZXR1cm4gTXQoKS53cmFwKChmdW5jdGlvbihuKXtmb3IoOzspc3dpdGNoKG4ucHJldj1uLm5leHQpe2Nhc2UgMDppZihyPXQuZ2FtZS5nZXRMaXZlR2FtZSgpLmV4ZWN1dGVBY3Rpb24odCxlKSwhdy5pc0F3YWl0YWJsZShyKSl7bi5uZXh0PTk7YnJlYWt9cmV0dXJuIG4ubmV4dD00LG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtyLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiB0KHIucmVzdWx0KX0pKX0pKTtjYXNlIDQ6cmV0dXJuIG89bi5zZW50LGk9by5ub2RlLG4uYWJydXB0KFwicmV0dXJuXCIsaSk7Y2FzZSA5OnJldHVybiBuLmFicnVwdChcInJldHVyblwiLHIpO2Nhc2UgMTA6Y2FzZVwiZW5kXCI6cmV0dXJuIG4uc3RvcCgpfX0pLG4pfSkpKX19LHtrZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxuLHIpe3ZhciBvPXRoaXM7cmV0dXJuIHIubGVuZ3RoPjA/KHRoaXMuZXhlY3V0ZUFsbEFjdGlvbnModCxyWzBdKS50aGVuKChmdW5jdGlvbigpe24ucmVzb2x2ZSh7dHlwZTpvLnR5cGUsbm9kZTpvLmNvbnRlbnROb2RlLmdldENoaWxkKCl9KSx0LnN0YWdlLm5leHQoKX0pKSxuKTpWdChlLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKX19LHtrZXk6XCJleGVjdXRlQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49dGhpcyxyPUx0KHRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpLDEpWzBdO2lmKHRoaXMudHlwZT09PWEuZG8pe3ZhciBvPW5ldyB3KChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKTtyZXR1cm4gdGhpcy5leGVjdXRlKHQsbyxyKX1pZih0aGlzLnR5cGU9PT1hLmRvQXN5bmMpcmV0dXJuIFd0KG4sdm9pZCAwLHZvaWQgMCxNdCgpLm1hcmsoKGZ1bmN0aW9uIGUoKXtyZXR1cm4gTXQoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZighKHIubGVuZ3RoPjApKXtlLm5leHQ9MzticmVha31yZXR1cm4gZS5uZXh0PTMsdGhpcy5leGVjdXRlQWxsQWN0aW9ucyh0LHJbMF0pO2Nhc2UgMzpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksVnQoZSxcImV4ZWN1dGVBY3Rpb25cIix0aGlzLDMpKFt0XSk7aWYodGhpcy50eXBlPT09YS5hbnkpe3ZhciBpPW5ldyB3KChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKSxzPXIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbi5leGVjdXRlU2luZ2xlQWN0aW9uKHQsZSl9KSk7cmV0dXJuIFByb21pc2UuYW55KHMpLnRoZW4oKGZ1bmN0aW9uKCl7aS5yZXNvbHZlKHt0eXBlOm4udHlwZSxub2RlOm4uY29udGVudE5vZGUuZ2V0Q2hpbGQoKX0pLHQuc3RhZ2UubmV4dCgpfSkpLGl9aWYodGhpcy50eXBlPT09YS5hbGwpe3ZhciB1PW5ldyB3KChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKTtyZXR1cm4gV3Qobix2b2lkIDAsdm9pZCAwLE10KCkubWFyaygoZnVuY3Rpb24gZSgpe3ZhciBuPXRoaXM7cmV0dXJuIE10KCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUubmV4dD0yLFByb21pc2UuYWxsKHIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbi5leGVjdXRlU2luZ2xlQWN0aW9uKHQsZSl9KSkpO2Nhc2UgMjp1LnJlc29sdmUoe3R5cGU6dGhpcy50eXBlLG5vZGU6dGhpcy5jb250ZW50Tm9kZS5nZXRDaGlsZCgpfSksdC5zdGFnZS5uZXh0KCk7Y2FzZSA0OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSx1fWlmKHRoaXMudHlwZT09PWEuYWxsQXN5bmMpcmV0dXJuIFd0KG4sdm9pZCAwLHZvaWQgMCxNdCgpLm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgbixvLGk7cmV0dXJuIE10KCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6bj1DdChyKTt0cnl7Zm9yKG4ucygpOyEobz1uLm4oKSkuZG9uZTspaT1vLnZhbHVlLHRoaXMuZXhlY3V0ZVNpbmdsZUFjdGlvbih0LGkpLnRoZW4oKGZ1bmN0aW9uKHQpe30pKX1jYXRjaCh0KXtuLmUodCl9ZmluYWxseXtuLmYoKX1jYXNlIDI6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLFZ0KGUsXCJleGVjdXRlQWN0aW9uXCIsdGhpcywzKShbdF0pO2lmKHRoaXMudHlwZT09PWEucmVwZWF0KXt2YXIgYz1MdCh0aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKSwyKSxsPWNbMF0sZj1jWzFdLHA9bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpO3JldHVybiBXdChuLHZvaWQgMCx2b2lkIDAsTXQoKS5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIG47cmV0dXJuIE10KCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6bj0wO2Nhc2UgMTppZighKG48Zikpe2UubmV4dD04O2JyZWFrfWlmKCEobC5sZW5ndGg+MCkpe2UubmV4dD01O2JyZWFrfXJldHVybiBlLm5leHQ9NSx0aGlzLmV4ZWN1dGVBbGxBY3Rpb25zKHQsbFswXSk7Y2FzZSA1Om4rKyxlLm5leHQ9MTticmVhaztjYXNlIDg6cC5yZXNvbHZlKHt0eXBlOnRoaXMudHlwZSxub2RlOnRoaXMuY29udGVudE5vZGUuZ2V0Q2hpbGQoKX0pLHQuc3RhZ2UubmV4dCgpO2Nhc2UgMTA6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLHB9aWYodGhpcy50eXBlPT09YS5zbGVlcCl7dmFyIGQ9bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLGg9THQodGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KCksMilbMV07cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtcIm51bWJlclwiPT10eXBlb2YgaD9zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QoKX0pLGgpOncuaXNBd2FpdGFibGUoaCk/aC50aGVuKHQpOm51bGw9PWh8fGgudGhlbih0KX0pKS50aGVuKChmdW5jdGlvbigpe2QucmVzb2x2ZSh7dHlwZTpuLnR5cGUsbm9kZTpuLmNvbnRlbnROb2RlLmdldENoaWxkKCl9KSx0LnN0YWdlLm5leHQoKX0pKSxkfXRocm93IG5ldyBFcnJvcihcIlVua25vd24gY29udHJvbCBhY3Rpb24gdHlwZTogXCIrdGhpcy50eXBlKX19LHtrZXk6XCJnZXRGdXR1cmVBY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKVswXSxuPVZ0KGUsXCJnZXRGdXR1cmVBY3Rpb25zXCIsdGhpcywzKShbXSk7cmV0dXJuW10uY29uY2F0KGp0KHQpLGp0KG4pKX19XSl9KFUpO2Z1bmN0aW9uIFl0KHQpe3JldHVybiBZdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxZdCh0KX1mdW5jdGlvbiBxdCh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gWHQodCl9KHQpfHxmdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT10W1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPXRbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gWHQodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9YdCh0LGUpOnZvaWQgMH19KHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIFh0KHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBLdCh0LGUsbil7cmV0dXJuIGU9UXQoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09WXQoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsWnQoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLFF0KHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIFp0KCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oWnQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIFF0KHQpe3JldHVybiBRdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sUXQodCl9ZnVuY3Rpb24gSnQodCxlKXtyZXR1cm4gSnQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxKdCh0LGUpfWZ1bmN0aW9uIHRlKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBlZSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyZShyLmtleSkscil9fWZ1bmN0aW9uIG5lKHQsZSxuKXtyZXR1cm4gZSYmZWUodC5wcm90b3R5cGUsZSksbiYmZWUodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9ZnVuY3Rpb24gcmUodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1ZdCh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1ZdChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PVl0KGUpP2U6ZStcIlwifSR0LkFjdGlvblR5cGVzPWE7dmFyIG9lPVN5bWJvbChcIl9DaGFpbmVkXCIpLGllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt0ZSh0aGlzLHQpLHRoaXNbenRdPSEwLHRoaXMuX19hY3Rpb25zPVtdLHRoaXMuX19zZWxmPWV9cmV0dXJuIG5lKHQsW3trZXk6XCJwdXNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDsodD10aGlzLl9fYWN0aW9ucykucHVzaC5hcHBseSh0LGFyZ3VtZW50cyl9fSx7a2V5OlwiZ2V0QWN0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19hY3Rpb25zfX0se2tleTpcImdldFNlbGZcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fc2VsZn19LHtrZXk6XCJuZXdDaGFpblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VsZigpLmNoYWluKCl9fV0sW3trZXk6XCJpc0NoYWluZWRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmdFtvZV19fSx7a2V5OlwidG9BY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZmxhdCgyKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmlzQ2hhaW5lZChlKT9lLmZyb21DaGFpbmVkKGUpOmV9KSkuZmxhdCgzKX19XSl9KCk7enQ9b2U7dmFyIGFlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdGUodGhpcyxlKSxLdCh0aGlzLGUsYXJndW1lbnRzKX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmSnQodCxlKX0oZSx0KSxuZShlLFt7a2V5OlwiY2hhaW5cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1pZS5pc0NoYWluZWQodGhpcyk/dGhpczp0aGlzLnByb3h5KHRoaXMsbmV3IGllKHRoaXMpKTtpZighdClyZXR1cm4gZTt2YXIgbj1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3JldHVybiBlLnB1c2guYXBwbHkoZSxxdChuKSksZX19LHtrZXk6XCJwcm94eVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IFByb3h5KHQse2dldDpmdW5jdGlvbih0LHIpe2lmKHIgaW4gZSlyZXR1cm4gZVtyXTt2YXIgbz10W3JdO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG8/by5iaW5kKG4pOm99LHNldDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09biwhMH19KTtyZXR1cm4gbn19LHtrZXk6XCJjb21iaW5lQWN0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZSh0aGlzLmNoYWluKCkubmV3Q2hhaW4oKSkscj1uZXcgJHQodC5jaGFpbigpLCR0LkFjdGlvblR5cGVzLmRvLChuZXcgeHQpLnNldENvbnRlbnQoW3RoaXMuY29uc3RydWN0KGllLnRvQWN0aW9ucyhbbl0pKV0pKTtyZXR1cm4gdGhpcy5jaGFpbihyKX19XSl9KEV0KTtmdW5jdGlvbiBzZSh0KXtyZXR1cm4gc2U9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sc2UodCl9ZnVuY3Rpb24gdWUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsY2Uoci5rZXkpLHIpfX1mdW5jdGlvbiBjZSh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPXNlKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPXNlKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09c2UoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gbGUodCxlLG4pe3JldHVybiBlPXBlKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PXNlKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LGZlKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxwZSh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBmZSgpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKGZlPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBwZSh0KXtyZXR1cm4gcGU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHBlKHQpfWZ1bmN0aW9uIGRlKHQsZSl7cmV0dXJuIGRlPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sZGUodCxlKX12YXIgaGUseWU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksbGUodGhpcyxlKX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmZGUodCxlKX0oZSx0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJnVlKHQucHJvdG90eXBlLGUpLG4mJnVlKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShlLFt7a2V5OlwidG9EYXRhXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19LHtrZXk6XCJmcm9tQ2hhaW5lZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmdldEFjdGlvbnMoKX19XSl9KGFlKSx2ZT1cImNlbnRlclwiLG1lPVwibGVmdFwiLGdlPVwicmlnaHRcIjtmdW5jdGlvbiBiZSh0KXtyZXR1cm4gYmU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sYmUodCl9ZnVuY3Rpb24gd2UodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9lKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHhlKHIua2V5KSxyKX19ZnVuY3Rpb24gU2UodCxlLG4pe3JldHVybiBlJiZfZSh0LnByb3RvdHlwZSxlKSxuJiZfZSh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH1mdW5jdGlvbiBrZSh0LGUsbil7cmV0dXJuKGU9eGUoZSkpaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZnVuY3Rpb24geGUodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1iZSh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1iZShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PWJlKGUpP2U6ZStcIlwifSFmdW5jdGlvbih0KXt0LkxlZnQ9XCJsZWZ0XCIsdC5DZW50ZXI9XCJjZW50ZXJcIix0LlJpZ2h0PVwicmlnaHRcIn0oaGV8fChoZT17fSkpO3ZhciBBZT1rZShrZShrZSh7fSxoZS5MZWZ0LFwiMzMuMzMlXCIpLGhlLkNlbnRlcixcIjUwJVwiKSxoZS5SaWdodCxcIjY2LjY2JVwiKSxPZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt3ZSh0aGlzLHQpfXJldHVybiBTZSh0LG51bGwsW3trZXk6XCJpc1Vua25vd25cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQuVW5rbm93bn19LHtrZXk6XCJ3cmFwXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oe2xlZnQ6XCJhdXRvXCIsdG9wOlwiYXV0b1wiLHJpZ2h0OlwiYXV0b1wiLGJvdHRvbTpcImF1dG9cIn0sdCl9fSx7a2V5OlwiRDJQb3NpdGlvblRvQ1NTXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0scj10aGlzLmNhbGModC55LHQueW9mZnNldCksbz10aGlzLmNhbGModC54LHQueG9mZnNldCksaT1uP3tib3R0b206cn06e3RvcDpyfSxhPWU/e3JpZ2h0Om99OntsZWZ0Om99O3JldHVybiB0aGlzLndyYXAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGkpLGEpKX19LHtrZXk6XCJjYWxjXCIsdmFsdWU6ZnVuY3Rpb24oZSxuKXtpZighZXx8dC5pc1Vua25vd24oZSkpcmV0dXJuXCJhdXRvXCI7aWYodm9pZCAwPT09bnx8dC5pc1Vua25vd24obikpcmV0dXJuXCJjYWxjKFwiLmNvbmNhdChlLFwiICsgMHB4KVwiKTt2YXIgcj1cIm51bWJlclwiPT10eXBlb2YgZT9cIlwiLmNvbmNhdChlLFwicHhcIik6ZTtyZXR1cm5cImNhbGMoXCIuY29uY2F0KHIsXCIgKyAoXCIpLmNvbmNhdChuLFwicHgpKVwiKX19LHtrZXk6XCJ0b0Nvb3JkMkRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihUZS5pc0NvbW1vblBvc2l0aW9uVHlwZSh0KSlyZXR1cm4gRWUuZnJvbUNvbW1vblBvc2l0aW9uKHQpO2lmKEVlLmlzQ29vcmQyRFBvc2l0aW9uKHQpKXJldHVybiB0O2lmKFBlLmlzQWxpZ25Qb3NpdGlvbih0KSlyZXR1cm4gRWUuZnJvbUFsaWduUG9zaXRpb24odCk7aWYoXCJvYmplY3RcIj09PWJlKHQpJiZbXCJ4XCIsXCJ5XCIsXCJ4b2Zmc2V0XCIsXCJ5b2Zmc2V0XCJdLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluIHR9KSkpcmV0dXJuIG5ldyBFZSh0KTt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBvc2l0aW9uIHR5cGVcIil9fSx7a2V5Olwib3JVbmtub3duXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaXNVbmtub3duKGUpfHx2b2lkIDA9PT1lP3QuVW5rbm93bjplfX0se2tleTpcIm1lcmdlUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudG9Db29yZDJEKHQpLHI9dGhpcy50b0Nvb3JkMkQoZSk7cmV0dXJuIEVlLm1lcmdlKG4scil9fSx7a2V5Olwic2VyaWFsaXplUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj10aGlzLnRvQ29vcmQyRChlKTtyZXR1cm57eDp0LmlzVW5rbm93bihuLngpPzA6bi54LHk6dC5pc1Vua25vd24obi55KT8wOm4ueSx4b2Zmc2V0OnQuaXNVbmtub3duKG4ueG9mZnNldCk/MDpuLnhvZmZzZXQseW9mZnNldDp0LmlzVW5rbm93bihuLnlvZmZzZXQpPzA6bi55b2Zmc2V0fX19LHtrZXk6XCJpc1Jhd0NvbW1vblBvc2l0aW9uVHlwZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QudmFsdWVzKGhlKS5pbmNsdWRlcyh0KX19LHtrZXk6XCJpc1Jhd0Nvb3JkMkRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PT1iZSh0KSYmKFwieFwiaW4gdHx8XCJ5XCJpbiB0fHxcInhvZmZzZXRcImluIHR8fFwieW9mZnNldFwiaW4gdCl9fSx7a2V5OlwiaXNSYXdBbGlnblBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJvYmplY3RcIj09PWJlKHQpJiYoXCJ4YWxpZ25cImluIHR8fFwieWFsaWduXCJpbiB0fHxcInhvZmZzZXRcImluIHR8fFwieW9mZnNldFwiaW4gdCl9fSx7a2V5OlwiaXNSYXdQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzUmF3Q29tbW9uUG9zaXRpb25UeXBlKHQpfHx0aGlzLmlzUmF3Q29vcmQyRFBvc2l0aW9uKHQpfHx0aGlzLmlzUmF3QWxpZ25Qb3NpdGlvbih0KX19LHtrZXk6XCJpc1Bvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBUZXx8dCBpbnN0YW5jZW9mIEVlfHx0IGluc3RhbmNlb2YgUGV9fSx7a2V5OlwicmF3UG9zaXRpb25Ub0Nvb3JkMkRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmlzUmF3Q29tbW9uUG9zaXRpb25UeXBlKHQpKXJldHVybiBFZS5mcm9tQ29tbW9uUG9zaXRpb24obmV3IFRlKHQpKTtpZih0aGlzLmlzUmF3Q29vcmQyRFBvc2l0aW9uKHQpKXJldHVybiBuZXcgRWUodCk7aWYodGhpcy5pc1Jhd0FsaWduUG9zaXRpb24odCkpcmV0dXJuIEVlLmZyb21BbGlnblBvc2l0aW9uKHQpO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgcG9zaXRpb24gdHlwZVwiKX19LHtrZXk6XCJ0cnlQYXJzZVBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5pc1Bvc2l0aW9uKHQpKXJldHVybiB0O2lmKHRoaXMuaXNSYXdQb3NpdGlvbih0KSlyZXR1cm4gdGhpcy5yYXdQb3NpdGlvblRvQ29vcmQyRCh0KTt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBvc2l0aW9uIHR5cGVcIil9fV0pfSgpO09lLlVua25vd249U3ltYm9sKFwiVW5rbm93blwiKTt2YXIgVGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3dlKHRoaXMsdCksdGhpcy5wb3NpdGlvbj1lfXJldHVybiBTZSh0LFt7a2V5OlwidG9DU1NcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybnt4OkFlW3RoaXMucG9zaXRpb25dLHk6XCI1MCVcIix4b2Zmc2V0OjAseW9mZnNldDowfX19XSxbe2tleTpcImlzQ29tbW9uUG9zaXRpb25UeXBlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0fX1dKX0oKTtUZS5Qb3NpdGlvbnM9aGU7dmFyIEVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3dlKHRoaXMsdCksXCJvYmplY3RcIj09PWJlKGUpPyh0aGlzLng9T2Uub3JVbmtub3duKGUueCksdGhpcy55PU9lLm9yVW5rbm93bihlLnkpLHRoaXMueG9mZnNldD1PZS5vclVua25vd24oZS54b2Zmc2V0KSx0aGlzLnlvZmZzZXQ9T2Uub3JVbmtub3duKGUueW9mZnNldCkpOih0aGlzLng9T2Uub3JVbmtub3duKGUpLHRoaXMueT1PZS5vclVua25vd24obiksdGhpcy54b2Zmc2V0PU9lLlVua25vd24sdGhpcy55b2Zmc2V0PU9lLlVua25vd24pfXJldHVybiBTZSh0LFt7a2V5OlwidG9DU1NcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybnt4OnRoaXMueCx5OnRoaXMueSx4b2Zmc2V0OnRoaXMueG9mZnNldCx5b2Zmc2V0OnRoaXMueW9mZnNldH19fV0sW3trZXk6XCJpc0Nvb3JkMkRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdH19LHtrZXk6XCJmcm9tQ29tbW9uUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoe3g6QWVbZS5wb3NpdGlvbl0seTpcIjUwJVwifSl9fSx7a2V5OlwiZnJvbUFsaWduUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoe3g6T2UuaXNVbmtub3duKGUueGFsaWduKT9PZS5Vbmtub3duOlwiXCIuY29uY2F0KDEwMCplLnhhbGlnbixcIiVcIikseTpPZS5pc1Vua25vd24oZS55YWxpZ24pP09lLlVua25vd246XCJcIi5jb25jYXQoMTAwKmUueWFsaWduLFwiJVwiKSx4b2Zmc2V0OmUueG9mZnNldCx5b2Zmc2V0OmUueW9mZnNldH0pfX0se2tleTpcIm1lcmdlXCIsdmFsdWU6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmV3IHQoe3g6T2UuaXNVbmtub3duKG4ueCk/ZS54Om4ueCx5Ok9lLmlzVW5rbm93bihuLnkpP2UueTpuLnkseG9mZnNldDpPZS5pc1Vua25vd24obi54b2Zmc2V0KT9lLnhvZmZzZXQ6bi54b2Zmc2V0LHlvZmZzZXQ6T2UuaXNVbmtub3duKG4ueW9mZnNldCk/ZS55b2Zmc2V0Om4ueW9mZnNldH0pfX1dKX0oKSxQZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXt3ZSh0aGlzLHQpLFwib2JqZWN0XCI9PT1iZShlKT8odGhpcy54YWxpZ249T2Uub3JVbmtub3duKGUueGFsaWduKSx0aGlzLnlhbGlnbj1PZS5vclVua25vd24oZS55YWxpZ24pLHRoaXMueG9mZnNldD1PZS5vclVua25vd24oZS54b2Zmc2V0KSx0aGlzLnlvZmZzZXQ9T2Uub3JVbmtub3duKGUueW9mZnNldCkpOih0aGlzLnhhbGlnbj1PZS5vclVua25vd24oZSksdGhpcy55YWxpZ249T2Uub3JVbmtub3duKG4pLHRoaXMueG9mZnNldD1PZS5Vbmtub3duLHRoaXMueW9mZnNldD1PZS5Vbmtub3duKX1yZXR1cm4gU2UodCxbe2tleTpcInRvQ1NTXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57eDpPZS5pc1Vua25vd24odGhpcy54YWxpZ24pP3RoaXMueGFsaWduOlwiXCIuY29uY2F0KDEwMCp0aGlzLnhhbGlnbixcIiVcIikseTpPZS5pc1Vua25vd24odGhpcy55YWxpZ24pP3RoaXMueWFsaWduOlwiXCIuY29uY2F0KDEwMCp0aGlzLnlhbGlnbixcIiVcIikseG9mZnNldDp0aGlzLnhvZmZzZXQseW9mZnNldDp0aGlzLnlvZmZzZXR9fX1dLFt7a2V5OlwiaXNBbGlnblBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0fX1dKX0oKTtmdW5jdGlvbiBqZSh0KXtsZXQgZTtyZXR1cm4oKT0+KHZvaWQgMD09PWUmJihlPXQoKSksZSl9Y29uc3QgQ2U9amUoKCgpPT52b2lkIDAhPT13aW5kb3cuU2Nyb2xsVGltZWxpbmUpKTtjbGFzcyBMZXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnN0b3A9KCk9PnRoaXMucnVuQWxsKFwic3RvcFwiKSx0aGlzLmFuaW1hdGlvbnM9dC5maWx0ZXIoQm9vbGVhbil9dGhlbih0LGUpe3JldHVybiBQcm9taXNlLmFsbCh0aGlzLmFuaW1hdGlvbnMpLnRoZW4odCkuY2F0Y2goZSl9Z2V0QWxsKHQpe3JldHVybiB0aGlzLmFuaW1hdGlvbnNbMF1bdF19c2V0QWxsKHQsZSl7Zm9yKGxldCBuPTA7bjx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO24rKyl0aGlzLmFuaW1hdGlvbnNbbl1bdF09ZX1hdHRhY2hUaW1lbGluZSh0LGUpe2NvbnN0IG49dGhpcy5hbmltYXRpb25zLm1hcCgobj0+Q2UoKSYmbi5hdHRhY2hUaW1lbGluZT9uLmF0dGFjaFRpbWVsaW5lKHQpOmUobikpKTtyZXR1cm4oKT0+e24uZm9yRWFjaCgoKHQsZSk9Pnt0JiZ0KCksdGhpcy5hbmltYXRpb25zW2VdLnN0b3AoKX0pKX19Z2V0IHRpbWUoKXtyZXR1cm4gdGhpcy5nZXRBbGwoXCJ0aW1lXCIpfXNldCB0aW1lKHQpe3RoaXMuc2V0QWxsKFwidGltZVwiLHQpfWdldCBzcGVlZCgpe3JldHVybiB0aGlzLmdldEFsbChcInNwZWVkXCIpfXNldCBzcGVlZCh0KXt0aGlzLnNldEFsbChcInNwZWVkXCIsdCl9Z2V0IHN0YXJ0VGltZSgpe3JldHVybiB0aGlzLmdldEFsbChcInN0YXJ0VGltZVwiKX1nZXQgZHVyYXRpb24oKXtsZXQgdD0wO2ZvcihsZXQgZT0wO2U8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtlKyspdD1NYXRoLm1heCh0LHRoaXMuYW5pbWF0aW9uc1tlXS5kdXJhdGlvbik7cmV0dXJuIHR9cnVuQWxsKHQpe3RoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKChlPT5lW3RdKCkpKX1wbGF5KCl7dGhpcy5ydW5BbGwoXCJwbGF5XCIpfXBhdXNlKCl7dGhpcy5ydW5BbGwoXCJwYXVzZVwiKX1jYW5jZWwoKXt0aGlzLnJ1bkFsbChcImNhbmNlbFwiKX1jb21wbGV0ZSgpe3RoaXMucnVuQWxsKFwiY29tcGxldGVcIil9fWNvbnN0IEllPXQ9PjFlMyp0LE5lPXQ9PnQvMWUzO2Z1bmN0aW9uIE1lKHQsZSl7cmV0dXJuIGU/dCooMWUzL2UpOjB9Y29uc3QgUmU9NTtmdW5jdGlvbiBGZSh0LGUsbil7Y29uc3Qgcj1NYXRoLm1heChlLVJlLDApO3JldHVybiBNZShuLXQociksZS1yKX1jb25zdCBEZT10PT50O2xldCBCZT1EZSxWZT1EZTtjb25zdCBHZT0odCxlLG4pPT5uPmU/ZTpuPHQ/dDpuLFVlPS4wMDEsSGU9LjAxLHplPTEwLFdlPS4wNSwkZT0xO2Z1bmN0aW9uIFllKHtkdXJhdGlvbjp0PTgwMCxib3VuY2U6ZT0uMjUsdmVsb2NpdHk6bj0wLG1hc3M6cj0xfSl7bGV0IG8saTtCZSh0PD1JZSh6ZSksXCJTcHJpbmcgZHVyYXRpb24gbXVzdCBiZSAxMCBzZWNvbmRzIG9yIGxlc3NcIik7bGV0IGE9MS1lO2E9R2UoV2UsJGUsYSksdD1HZShIZSx6ZSxOZSh0KSksYTwxPyhvPWU9Pntjb25zdCByPWUqYSxvPXIqdCxpPXItbixzPVhlKGUsYSksdT1NYXRoLmV4cCgtbyk7cmV0dXJuIFVlLWkvcyp1fSxpPWU9Pntjb25zdCByPWUqYSp0LGk9cipuK24scz1NYXRoLnBvdyhhLDIpKk1hdGgucG93KGUsMikqdCx1PU1hdGguZXhwKC1yKSxjPVhlKE1hdGgucG93KGUsMiksYSk7cmV0dXJuKC1vKGUpK1VlPjA/LTE6MSkqKChpLXMpKnUpL2N9KToobz1lPT5NYXRoLmV4cCgtZSp0KSooKGUtbikqdCsxKS1VZSxpPWU9Pk1hdGguZXhwKC1lKnQpKih0KnQqKG4tZSkpKTtjb25zdCBzPWZ1bmN0aW9uKHQsZSxuKXtsZXQgcj1uO2ZvcihsZXQgbj0xO248cWU7bisrKXItPXQocikvZShyKTtyZXR1cm4gcn0obyxpLDUvdCk7aWYodD1JZSh0KSxpc05hTihzKSlyZXR1cm57c3RpZmZuZXNzOjEwMCxkYW1waW5nOjEwLGR1cmF0aW9uOnR9O3tjb25zdCBlPU1hdGgucG93KHMsMikqcjtyZXR1cm57c3RpZmZuZXNzOmUsZGFtcGluZzoyKmEqTWF0aC5zcXJ0KHIqZSksZHVyYXRpb246dH19fWNvbnN0IHFlPTEyO2Z1bmN0aW9uIFhlKHQsZSl7cmV0dXJuIHQqTWF0aC5zcXJ0KDEtZSplKX1jb25zdCBLZT1bXCJkdXJhdGlvblwiLFwiYm91bmNlXCJdLFplPVtcInN0aWZmbmVzc1wiLFwiZGFtcGluZ1wiLFwibWFzc1wiXTtmdW5jdGlvbiBRZSh0LGUpe3JldHVybiBlLnNvbWUoKGU9PnZvaWQgMCE9PXRbZV0pKX1mdW5jdGlvbiBKZSh7a2V5ZnJhbWVzOnQscmVzdERlbHRhOmUscmVzdFNwZWVkOm4sLi4ucn0pe2NvbnN0IG89dFswXSxpPXRbdC5sZW5ndGgtMV0sYT17ZG9uZTohMSx2YWx1ZTpvfSx7c3RpZmZuZXNzOnMsZGFtcGluZzp1LG1hc3M6YyxkdXJhdGlvbjpsLHZlbG9jaXR5OmYsaXNSZXNvbHZlZEZyb21EdXJhdGlvbjpwfT1mdW5jdGlvbih0KXtsZXQgZT17dmVsb2NpdHk6MCxzdGlmZm5lc3M6MTAwLGRhbXBpbmc6MTAsbWFzczoxLGlzUmVzb2x2ZWRGcm9tRHVyYXRpb246ITEsLi4udH07aWYoIVFlKHQsWmUpJiZRZSh0LEtlKSl7Y29uc3Qgbj1ZZSh0KTtlPXsuLi5lLC4uLm4sbWFzczoxfSxlLmlzUmVzb2x2ZWRGcm9tRHVyYXRpb249ITB9cmV0dXJuIGV9KHsuLi5yLHZlbG9jaXR5Oi1OZShyLnZlbG9jaXR5fHwwKX0pLGQ9Znx8MCxoPXUvKDIqTWF0aC5zcXJ0KHMqYykpLHk9aS1vLHY9TmUoTWF0aC5zcXJ0KHMvYykpLG09TWF0aC5hYnMoeSk8NTtsZXQgZztpZihufHwobj1tPy4wMToyKSxlfHwoZT1tPy4wMDU6LjUpLGg8MSl7Y29uc3QgdD1YZSh2LGgpO2c9ZT0+e2NvbnN0IG49TWF0aC5leHAoLWgqdiplKTtyZXR1cm4gaS1uKigoZCtoKnYqeSkvdCpNYXRoLnNpbih0KmUpK3kqTWF0aC5jb3ModCplKSl9fWVsc2UgaWYoMT09PWgpZz10PT5pLU1hdGguZXhwKC12KnQpKih5KyhkK3YqeSkqdCk7ZWxzZXtjb25zdCB0PXYqTWF0aC5zcXJ0KGgqaC0xKTtnPWU9Pntjb25zdCBuPU1hdGguZXhwKC1oKnYqZSkscj1NYXRoLm1pbih0KmUsMzAwKTtyZXR1cm4gaS1uKigoZCtoKnYqeSkqTWF0aC5zaW5oKHIpK3QqeSpNYXRoLmNvc2gocikpL3R9fXJldHVybntjYWxjdWxhdGVkRHVyYXRpb246cCYmbHx8bnVsbCxuZXh0OnQ9Pntjb25zdCByPWcodCk7aWYocClhLmRvbmU9dD49bDtlbHNle2xldCBvPTA7aDwxJiYobz0wPT09dD9JZShkKTpGZShnLHQscikpO2NvbnN0IHM9TWF0aC5hYnMobyk8PW4sdT1NYXRoLmFicyhpLXIpPD1lO2EuZG9uZT1zJiZ1fXJldHVybiBhLnZhbHVlPWEuZG9uZT9pOnIsYX19fWNvbnN0IHRuPTJlNDtmdW5jdGlvbiBlbih0KXtsZXQgZT0wO2xldCBuPXQubmV4dChlKTtmb3IoOyFuLmRvbmUmJmU8dG47KWUrPTUwLG49dC5uZXh0KGUpO3JldHVybiBlPj10bj8xLzA6ZX1mdW5jdGlvbiBubih0LGU9MTAwLG4pe2NvbnN0IHI9bih7Li4udCxrZXlmcmFtZXM6WzAsZV19KSxvPU1hdGgubWluKGVuKHIpLHRuKTtyZXR1cm57dHlwZTpcImtleWZyYW1lc1wiLGVhc2U6dD0+ci5uZXh0KG8qdCkudmFsdWUvZSxkdXJhdGlvbjpOZShvKX19Y29uc3Qgcm49KHQsZSxuKT0+dCsoZS10KSpuLG9uPSh0LGUsbik9Pntjb25zdCByPWUtdDtyZXR1cm4gMD09PXI/MToobi10KS9yfTtmdW5jdGlvbiBhbih0LGUpe2NvbnN0IG49dFt0Lmxlbmd0aC0xXTtmb3IobGV0IHI9MTtyPD1lO3IrKyl7Y29uc3Qgbz1vbigwLGUscik7dC5wdXNoKHJuKG4sMSxvKSl9fWZ1bmN0aW9uIHNuKHQpe2NvbnN0IGU9WzBdO3JldHVybiBhbihlLHQubGVuZ3RoLTEpLGV9Y29uc3QgdW49dD0+Qm9vbGVhbih0JiZ0LmdldFZlbG9jaXR5KTtmdW5jdGlvbiBjbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmIUFycmF5LmlzQXJyYXkodCl9ZnVuY3Rpb24gbG4odCxlLG4scil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJmNuKGUpP2Z1bmN0aW9uKHQsZSxuKXt2YXIgcjtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7bGV0IG89ZG9jdW1lbnQ7ZSYmKFZlKEJvb2xlYW4oZS5jdXJyZW50KSxcIlNjb3BlIHByb3ZpZGVkLCBidXQgbm8gZWxlbWVudCBkZXRlY3RlZC5cIiksbz1lLmN1cnJlbnQpLG4/KG51bGwhPT0ocj1uW3RdKSYmdm9pZCAwIT09cnx8KG5bdF09by5xdWVyeVNlbGVjdG9yQWxsKHQpKSx0PW5bdF0pOnQ9by5xdWVyeVNlbGVjdG9yQWxsKHQpfWVsc2UgdCBpbnN0YW5jZW9mIEVsZW1lbnQmJih0PVt0XSk7cmV0dXJuIEFycmF5LmZyb20odHx8W10pfSh0LG4scik6dCBpbnN0YW5jZW9mIE5vZGVMaXN0P0FycmF5LmZyb20odCk6QXJyYXkuaXNBcnJheSh0KT90Olt0XX1mdW5jdGlvbiBmbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIHBuKHQsZSxuLHIpe3ZhciBvO3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlP2U6ZS5zdGFydHNXaXRoKFwiLVwiKXx8ZS5zdGFydHNXaXRoKFwiK1wiKT9NYXRoLm1heCgwLHQrcGFyc2VGbG9hdChlKSk6XCI8XCI9PT1lP246bnVsbCE9PShvPXIuZ2V0KGUpKSYmdm9pZCAwIT09bz9vOnR9Y29uc3QgZG49KHQsZSxuKT0+e2NvbnN0IHI9ZS10O3JldHVybigobi10KSVyK3IpJXIrdH0saG49dD0+QXJyYXkuaXNBcnJheSh0KSYmXCJudW1iZXJcIiE9dHlwZW9mIHRbMF07ZnVuY3Rpb24geW4odCxlKXtyZXR1cm4gaG4odCk/dFtkbigwLHQubGVuZ3RoLGUpXTp0fWZ1bmN0aW9uIHZuKHQsZSl7Y29uc3Qgbj10LmluZGV4T2YoZSk7bj4tMSYmdC5zcGxpY2UobiwxKX1mdW5jdGlvbiBtbih0LGUsbixyLG8saSl7IWZ1bmN0aW9uKHQsZSxuKXtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbz10W3JdO28uYXQ+ZSYmby5hdDxuJiYodm4odCxvKSxyLS0pfX0odCxvLGkpO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKXQucHVzaCh7dmFsdWU6ZVthXSxhdDpybihvLGksclthXSksZWFzaW5nOnluKG4sYSl9KX1mdW5jdGlvbiBnbih0LGUpe3JldHVybiB0LmF0PT09ZS5hdD9udWxsPT09dC52YWx1ZT8xOm51bGw9PT1lLnZhbHVlPy0xOjA6dC5hdC1lLmF0fWNvbnN0IGJuPVwiZWFzZUluT3V0XCI7ZnVuY3Rpb24gd24odCxlKXtyZXR1cm4hZS5oYXModCkmJmUuc2V0KHQse30pLGUuZ2V0KHQpfWZ1bmN0aW9uIF9uKHQsZSl7cmV0dXJuIGVbdF18fChlW3RdPVtdKSxlW3RdfWZ1bmN0aW9uIFNuKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3Q6W3RdfWZ1bmN0aW9uIGtuKHQsZSl7cmV0dXJuIHQmJnRbZV0/ey4uLnQsLi4udFtlXX06ey4uLnR9fWNvbnN0IHhuPXQ9PlwibnVtYmVyXCI9PXR5cGVvZiB0LEFuPXQ9PnQuZXZlcnkoeG4pLE9uPW5ldyBXZWFrTWFwLFRuPVtcInRyYW5zZm9ybVBlcnNwZWN0aXZlXCIsXCJ4XCIsXCJ5XCIsXCJ6XCIsXCJ0cmFuc2xhdGVYXCIsXCJ0cmFuc2xhdGVZXCIsXCJ0cmFuc2xhdGVaXCIsXCJzY2FsZVwiLFwic2NhbGVYXCIsXCJzY2FsZVlcIixcInJvdGF0ZVwiLFwicm90YXRlWFwiLFwicm90YXRlWVwiLFwicm90YXRlWlwiLFwic2tld1wiLFwic2tld1hcIixcInNrZXdZXCJdLEVuPW5ldyBTZXQoVG4pLFBuPXt0eXBlOlwic3ByaW5nXCIsc3RpZmZuZXNzOjUwMCxkYW1waW5nOjI1LHJlc3RTcGVlZDoxMH0sam49e3R5cGU6XCJrZXlmcmFtZXNcIixkdXJhdGlvbjouOH0sQ249e3R5cGU6XCJrZXlmcmFtZXNcIixlYXNlOlsuMjUsLjEsLjM1LDFdLGR1cmF0aW9uOi4zfSxMbj0odCx7a2V5ZnJhbWVzOmV9KT0+ZS5sZW5ndGg+Mj9qbjpFbi5oYXModCk/dC5zdGFydHNXaXRoKFwic2NhbGVcIik/e3R5cGU6XCJzcHJpbmdcIixzdGlmZm5lc3M6NTUwLGRhbXBpbmc6MD09PWVbMV0/MipNYXRoLnNxcnQoNTUwKTozMCxyZXN0U3BlZWQ6MTB9OlBuOkNuO2Z1bmN0aW9uIEluKHQsZSl7cmV0dXJuIHQ/dFtlXXx8dC5kZWZhdWx0fHx0OnZvaWQgMH1jb25zdCBObj0hMSxNbj0hMSxSbj0hMSxGbj10PT5udWxsIT09dDtmdW5jdGlvbiBEbih0LHtyZXBlYXQ6ZSxyZXBlYXRUeXBlOm49XCJsb29wXCJ9LHIpe2NvbnN0IG89dC5maWx0ZXIoRm4pLGk9ZSYmXCJsb29wXCIhPT1uJiZlJTI9PTE/MDpvLmxlbmd0aC0xO3JldHVybiBpJiZ2b2lkIDAhPT1yP3I6b1tpXX1jb25zdCBCbj1bXCJyZWFkXCIsXCJyZXNvbHZlS2V5ZnJhbWVzXCIsXCJ1cGRhdGVcIixcInByZVJlbmRlclwiLFwicmVuZGVyXCIsXCJwb3N0UmVuZGVyXCJdO2Z1bmN0aW9uIFZuKHQsZSl7bGV0IG49ITEscj0hMDtjb25zdCBvPXtkZWx0YTowLHRpbWVzdGFtcDowLGlzUHJvY2Vzc2luZzohMX0saT0oKT0+bj0hMCxhPUJuLnJlZHVjZSgoKHQsZSk9Pih0W2VdPWZ1bmN0aW9uKHQpe2xldCBlPW5ldyBTZXQsbj1uZXcgU2V0LHI9ITEsbz0hMTtjb25zdCBpPW5ldyBXZWFrU2V0O2xldCBhPXtkZWx0YTowLHRpbWVzdGFtcDowLGlzUHJvY2Vzc2luZzohMX07ZnVuY3Rpb24gcyhlKXtpLmhhcyhlKSYmKHUuc2NoZWR1bGUoZSksdCgpKSxlKGEpfWNvbnN0IHU9e3NjaGVkdWxlOih0LG89ITEsYT0hMSk9Pntjb25zdCBzPWEmJnI/ZTpuO3JldHVybiBvJiZpLmFkZCh0KSxzLmhhcyh0KXx8cy5hZGQodCksdH0sY2FuY2VsOnQ9PntuLmRlbGV0ZSh0KSxpLmRlbGV0ZSh0KX0scHJvY2Vzczp0PT57YT10LHI/bz0hMDoocj0hMCxbZSxuXT1bbixlXSxuLmNsZWFyKCksZS5mb3JFYWNoKHMpLHI9ITEsbyYmKG89ITEsdS5wcm9jZXNzKHQpKSl9fTtyZXR1cm4gdX0oaSksdCkpLHt9KSx7cmVhZDpzLHJlc29sdmVLZXlmcmFtZXM6dSx1cGRhdGU6YyxwcmVSZW5kZXI6bCxyZW5kZXI6Zixwb3N0UmVuZGVyOnB9PWEsZD0oKT0+e2NvbnN0IGk9TW4/by50aW1lc3RhbXA6cGVyZm9ybWFuY2Uubm93KCk7bj0hMSxvLmRlbHRhPXI/MWUzLzYwOk1hdGgubWF4KE1hdGgubWluKGktby50aW1lc3RhbXAsNDApLDEpLG8udGltZXN0YW1wPWksby5pc1Byb2Nlc3Npbmc9ITAscy5wcm9jZXNzKG8pLHUucHJvY2VzcyhvKSxjLnByb2Nlc3MobyksbC5wcm9jZXNzKG8pLGYucHJvY2VzcyhvKSxwLnByb2Nlc3Mobyksby5pc1Byb2Nlc3Npbmc9ITEsbiYmZSYmKHI9ITEsdChkKSl9O3JldHVybntzY2hlZHVsZTpCbi5yZWR1Y2UoKChlLGkpPT57Y29uc3Qgcz1hW2ldO3JldHVybiBlW2ldPShlLGk9ITEsYT0hMSk9PihufHwobj0hMCxyPSEwLG8uaXNQcm9jZXNzaW5nfHx0KGQpKSxzLnNjaGVkdWxlKGUsaSxhKSksZX0pLHt9KSxjYW5jZWw6dD0+e2ZvcihsZXQgZT0wO2U8Qm4ubGVuZ3RoO2UrKylhW0JuW2VdXS5jYW5jZWwodCl9LHN0YXRlOm8sc3RlcHM6YX19Y29uc3R7c2NoZWR1bGU6R24sY2FuY2VsOlVuLHN0YXRlOkhuLHN0ZXBzOnpufT1WbihcInVuZGVmaW5lZFwiIT10eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lP3JlcXVlc3RBbmltYXRpb25GcmFtZTpEZSwhMCksV249KHQsZSxuKT0+KCgoMS0zKm4rMyplKSp0KygzKm4tNiplKSkqdCszKmUpKnQsJG49MWUtNyxZbj0xMjtmdW5jdGlvbiBxbih0LGUsbixyKXtpZih0PT09ZSYmbj09PXIpcmV0dXJuIERlO2NvbnN0IG89ZT0+ZnVuY3Rpb24odCxlLG4scixvKXtsZXQgaSxhLHM9MDtkb3thPWUrKG4tZSkvMixpPVduKGEscixvKS10LGk+MD9uPWE6ZT1hfXdoaWxlKE1hdGguYWJzKGkpPiRuJiYrK3M8WW4pO3JldHVybiBhfShlLDAsMSx0LG4pO3JldHVybiB0PT4wPT09dHx8MT09PXQ/dDpXbihvKHQpLGUscil9Y29uc3QgWG49dD0+ZT0+ZTw9LjU/dCgyKmUpLzI6KDItdCgyKigxLWUpKSkvMixLbj10PT5lPT4xLXQoMS1lKSxabj1xbiguMzMsMS41MywuNjksLjk5KSxRbj1LbihabiksSm49WG4oUW4pLHRyPXQ9Pih0Kj0yKTwxPy41KlFuKHQpOi41KigyLU1hdGgucG93KDIsLTEwKih0LTEpKSksZXI9dD0+MS1NYXRoLnNpbihNYXRoLmFjb3ModCkpLG5yPUtuKGVyKSxycj1Ybihlciksb3I9dD0+L14wW14uXFxzXSskL3UudGVzdCh0KTtjb25zdCBpcj10PT4vXi0/KD86XFxkKyg/OlxcLlxcZCspP3xcXC5cXGQrKSQvdS50ZXN0KHQpLGFyPXQ9PmU9Plwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLnN0YXJ0c1dpdGgodCksc3I9YXIoXCItLVwiKSx1cj1hcihcInZhcigtLVwiKSxjcj10PT4hIXVyKHQpJiZsci50ZXN0KHQuc3BsaXQoXCIvKlwiKVswXS50cmltKCkpLGxyPS92YXJcXCgtLSg/OltcXHctXStcXHMqfFtcXHctXStcXHMqLCg/OlxccypbXikoXFxzXXxcXHMqXFwoKD86W14pKF18XFwoW14pKF0qXFwpKSpcXCkpK1xccyopXFwpJC9pdSxmcj0vXnZhclxcKC0tKD86KFtcXHctXSspfChbXFx3LV0rKSwgPyhbYS16QS1aXFxkICgpJSMuLC1dKykpXFwpL3U7ZnVuY3Rpb24gcHIodCxlLG49MSl7VmUobjw9NCxgTWF4IENTUyB2YXJpYWJsZSBmYWxsYmFjayBkZXB0aCBkZXRlY3RlZCBpbiBwcm9wZXJ0eSBcIiR7dH1cIi4gVGhpcyBtYXkgaW5kaWNhdGUgYSBjaXJjdWxhciBmYWxsYmFjayBkZXBlbmRlbmN5LmApO2NvbnN0W3Isb109ZnVuY3Rpb24odCl7Y29uc3QgZT1mci5leGVjKHQpO2lmKCFlKXJldHVyblssXTtjb25zdFssbixyLG9dPWU7cmV0dXJuW2AtLSR7bnVsbCE9bj9uOnJ9YCxvXX0odCk7aWYoIXIpcmV0dXJuO2NvbnN0IGk9d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSkuZ2V0UHJvcGVydHlWYWx1ZShyKTtpZihpKXtjb25zdCB0PWkudHJpbSgpO3JldHVybiBpcih0KT9wYXJzZUZsb2F0KHQpOnR9cmV0dXJuIGNyKG8pP3ByKG8sZSxuKzEpOm99Y29uc3QgZHI9e3Rlc3Q6dD0+XCJudW1iZXJcIj09dHlwZW9mIHQscGFyc2U6cGFyc2VGbG9hdCx0cmFuc2Zvcm06dD0+dH0saHI9ey4uLmRyLHRyYW5zZm9ybTp0PT5HZSgwLDEsdCl9LHlyPXsuLi5kcixkZWZhdWx0OjF9LHZyPXQ9Pih7dGVzdDplPT5cInN0cmluZ1wiPT10eXBlb2YgZSYmZS5lbmRzV2l0aCh0KSYmMT09PWUuc3BsaXQoXCIgXCIpLmxlbmd0aCxwYXJzZTpwYXJzZUZsb2F0LHRyYW5zZm9ybTplPT5gJHtlfSR7dH1gfSksbXI9dnIoXCJkZWdcIiksZ3I9dnIoXCIlXCIpLGJyPXZyKFwicHhcIiksd3I9dnIoXCJ2aFwiKSxfcj12cihcInZ3XCIpLFNyPXsuLi5ncixwYXJzZTp0PT5nci5wYXJzZSh0KS8xMDAsdHJhbnNmb3JtOnQ9PmdyLnRyYW5zZm9ybSgxMDAqdCl9LGtyPW5ldyBTZXQoW1wid2lkdGhcIixcImhlaWdodFwiLFwidG9wXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwiYm90dG9tXCIsXCJ4XCIsXCJ5XCIsXCJ0cmFuc2xhdGVYXCIsXCJ0cmFuc2xhdGVZXCJdKSx4cj10PT50PT09ZHJ8fHQ9PT1icixBcj0odCxlKT0+cGFyc2VGbG9hdCh0LnNwbGl0KFwiLCBcIilbZV0pLE9yPSh0LGUpPT4obix7dHJhbnNmb3JtOnJ9KT0+e2lmKFwibm9uZVwiPT09cnx8IXIpcmV0dXJuIDA7Y29uc3Qgbz1yLm1hdGNoKC9ebWF0cml4M2RcXCgoLispXFwpJC91KTtpZihvKXJldHVybiBBcihvWzFdLGUpO3tjb25zdCBlPXIubWF0Y2goL15tYXRyaXhcXCgoLispXFwpJC91KTtyZXR1cm4gZT9BcihlWzFdLHQpOjB9fSxUcj1uZXcgU2V0KFtcInhcIixcInlcIixcInpcIl0pLEVyPVRuLmZpbHRlcigodD0+IVRyLmhhcyh0KSkpO2NvbnN0IFByPXt3aWR0aDooe3g6dH0se3BhZGRpbmdMZWZ0OmU9XCIwXCIscGFkZGluZ1JpZ2h0Om49XCIwXCJ9KT0+dC5tYXgtdC5taW4tcGFyc2VGbG9hdChlKS1wYXJzZUZsb2F0KG4pLGhlaWdodDooe3k6dH0se3BhZGRpbmdUb3A6ZT1cIjBcIixwYWRkaW5nQm90dG9tOm49XCIwXCJ9KT0+dC5tYXgtdC5taW4tcGFyc2VGbG9hdChlKS1wYXJzZUZsb2F0KG4pLHRvcDoodCx7dG9wOmV9KT0+cGFyc2VGbG9hdChlKSxsZWZ0Oih0LHtsZWZ0OmV9KT0+cGFyc2VGbG9hdChlKSxib3R0b206KHt5OnR9LHt0b3A6ZX0pPT5wYXJzZUZsb2F0KGUpKyh0Lm1heC10Lm1pbikscmlnaHQ6KHt4OnR9LHtsZWZ0OmV9KT0+cGFyc2VGbG9hdChlKSsodC5tYXgtdC5taW4pLHg6T3IoNCwxMykseTpPcig1LDE0KX07UHIudHJhbnNsYXRlWD1Qci54LFByLnRyYW5zbGF0ZVk9UHIueTtjb25zdCBqcj10PT5lPT5lLnRlc3QodCksQ3I9W2RyLGJyLGdyLG1yLF9yLHdyLHt0ZXN0OnQ9PlwiYXV0b1wiPT09dCxwYXJzZTp0PT50fV0sTHI9dD0+Q3IuZmluZChqcih0KSksSXI9bmV3IFNldDtsZXQgTnI9ITEsTXI9ITE7ZnVuY3Rpb24gUnIoKXtpZihNcil7Y29uc3QgdD1BcnJheS5mcm9tKElyKS5maWx0ZXIoKHQ9PnQubmVlZHNNZWFzdXJlbWVudCkpLGU9bmV3IFNldCh0Lm1hcCgodD0+dC5lbGVtZW50KSkpLG49bmV3IE1hcDtlLmZvckVhY2goKHQ9Pntjb25zdCBlPWZ1bmN0aW9uKHQpe2NvbnN0IGU9W107cmV0dXJuIEVyLmZvckVhY2goKG49Pntjb25zdCByPXQuZ2V0VmFsdWUobik7dm9pZCAwIT09ciYmKGUucHVzaChbbixyLmdldCgpXSksci5zZXQobi5zdGFydHNXaXRoKFwic2NhbGVcIik/MTowKSl9KSksZX0odCk7ZS5sZW5ndGgmJihuLnNldCh0LGUpLHQucmVuZGVyKCkpfSkpLHQuZm9yRWFjaCgodD0+dC5tZWFzdXJlSW5pdGlhbFN0YXRlKCkpKSxlLmZvckVhY2goKHQ9Pnt0LnJlbmRlcigpO2NvbnN0IGU9bi5nZXQodCk7ZSYmZS5mb3JFYWNoKCgoW2Usbl0pPT57dmFyIHI7bnVsbD09PShyPXQuZ2V0VmFsdWUoZSkpfHx2b2lkIDA9PT1yfHxyLnNldChuKX0pKX0pKSx0LmZvckVhY2goKHQ9PnQubWVhc3VyZUVuZFN0YXRlKCkpKSx0LmZvckVhY2goKHQ9Pnt2b2lkIDAhPT10LnN1c3BlbmRlZFNjcm9sbFkmJndpbmRvdy5zY3JvbGxUbygwLHQuc3VzcGVuZGVkU2Nyb2xsWSl9KSl9TXI9ITEsTnI9ITEsSXIuZm9yRWFjaCgodD0+dC5jb21wbGV0ZSgpKSksSXIuY2xlYXIoKX1mdW5jdGlvbiBGcigpe0lyLmZvckVhY2goKHQ9Pnt0LnJlYWRLZXlmcmFtZXMoKSx0Lm5lZWRzTWVhc3VyZW1lbnQmJihNcj0hMCl9KSl9Y2xhc3MgRHJ7Y29uc3RydWN0b3IodCxlLG4scixvLGk9ITEpe3RoaXMuaXNDb21wbGV0ZT0hMSx0aGlzLmlzQXN5bmM9ITEsdGhpcy5uZWVkc01lYXN1cmVtZW50PSExLHRoaXMuaXNTY2hlZHVsZWQ9ITEsdGhpcy51bnJlc29sdmVkS2V5ZnJhbWVzPVsuLi50XSx0aGlzLm9uQ29tcGxldGU9ZSx0aGlzLm5hbWU9bix0aGlzLm1vdGlvblZhbHVlPXIsdGhpcy5lbGVtZW50PW8sdGhpcy5pc0FzeW5jPWl9c2NoZWR1bGVSZXNvbHZlKCl7dGhpcy5pc1NjaGVkdWxlZD0hMCx0aGlzLmlzQXN5bmM/KElyLmFkZCh0aGlzKSxOcnx8KE5yPSEwLEduLnJlYWQoRnIpLEduLnJlc29sdmVLZXlmcmFtZXMoUnIpKSk6KHRoaXMucmVhZEtleWZyYW1lcygpLHRoaXMuY29tcGxldGUoKSl9cmVhZEtleWZyYW1lcygpe2NvbnN0e3VucmVzb2x2ZWRLZXlmcmFtZXM6dCxuYW1lOmUsZWxlbWVudDpuLG1vdGlvblZhbHVlOnJ9PXRoaXM7Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aDtvKyspaWYobnVsbD09PXRbb10paWYoMD09PW8pe2NvbnN0IG89bnVsbD09cj92b2lkIDA6ci5nZXQoKSxpPXRbdC5sZW5ndGgtMV07aWYodm9pZCAwIT09byl0WzBdPW87ZWxzZSBpZihuJiZlKXtjb25zdCByPW4ucmVhZFZhbHVlKGUsaSk7bnVsbCE9ciYmKHRbMF09cil9dm9pZCAwPT09dFswXSYmKHRbMF09aSksciYmdm9pZCAwPT09byYmci5zZXQodFswXSl9ZWxzZSB0W29dPXRbby0xXX1zZXRGaW5hbEtleWZyYW1lKCl7fW1lYXN1cmVJbml0aWFsU3RhdGUoKXt9cmVuZGVyRW5kU3R5bGVzKCl7fW1lYXN1cmVFbmRTdGF0ZSgpe31jb21wbGV0ZSgpe3RoaXMuaXNDb21wbGV0ZT0hMCx0aGlzLm9uQ29tcGxldGUodGhpcy51bnJlc29sdmVkS2V5ZnJhbWVzLHRoaXMuZmluYWxLZXlmcmFtZSksSXIuZGVsZXRlKHRoaXMpfWNhbmNlbCgpe3RoaXMuaXNDb21wbGV0ZXx8KHRoaXMuaXNTY2hlZHVsZWQ9ITEsSXIuZGVsZXRlKHRoaXMpKX1yZXN1bWUoKXt0aGlzLmlzQ29tcGxldGV8fHRoaXMuc2NoZWR1bGVSZXNvbHZlKCl9fWNvbnN0IEJyPXQ9Pk1hdGgucm91bmQoMWU1KnQpLzFlNSxWcj0vLT8oPzpcXGQrKD86XFwuXFxkKyk/fFxcLlxcZCspL2d1O2NvbnN0IEdyPS9eKD86I1tcXGRhLWZdezMsOH18KD86cmdifGhzbClhP1xcKCg/Oi0/W1xcZC5dKyU/WyxcXHNdKyl7Mn0tP1tcXGQuXSslP1xccyooPzpbLC9dXFxzKik/KD86XFxiXFxkKyg/OlxcLlxcZCspP3xcXC5cXGQrKT8lP1xcKSkkL2l1LFVyPSh0LGUpPT5uPT5Cb29sZWFuKFwic3RyaW5nXCI9PXR5cGVvZiBuJiZHci50ZXN0KG4pJiZuLnN0YXJ0c1dpdGgodCl8fGUmJiFmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dH0obikmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGUpKSxIcj0odCxlLG4pPT5yPT57aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHIpcmV0dXJuIHI7Y29uc3RbbyxpLGEsc109ci5tYXRjaChWcik7cmV0dXJue1t0XTpwYXJzZUZsb2F0KG8pLFtlXTpwYXJzZUZsb2F0KGkpLFtuXTpwYXJzZUZsb2F0KGEpLGFscGhhOnZvaWQgMCE9PXM/cGFyc2VGbG9hdChzKToxfX0senI9ey4uLmRyLHRyYW5zZm9ybTp0PT5NYXRoLnJvdW5kKCh0PT5HZSgwLDI1NSx0KSkodCkpfSxXcj17dGVzdDpVcihcInJnYlwiLFwicmVkXCIpLHBhcnNlOkhyKFwicmVkXCIsXCJncmVlblwiLFwiYmx1ZVwiKSx0cmFuc2Zvcm06KHtyZWQ6dCxncmVlbjplLGJsdWU6bixhbHBoYTpyPTF9KT0+XCJyZ2JhKFwiK3pyLnRyYW5zZm9ybSh0KStcIiwgXCIrenIudHJhbnNmb3JtKGUpK1wiLCBcIit6ci50cmFuc2Zvcm0obikrXCIsIFwiK0JyKGhyLnRyYW5zZm9ybShyKSkrXCIpXCJ9O2NvbnN0ICRyPXt0ZXN0OlVyKFwiI1wiKSxwYXJzZTpmdW5jdGlvbih0KXtsZXQgZT1cIlwiLG49XCJcIixyPVwiXCIsbz1cIlwiO3JldHVybiB0Lmxlbmd0aD41PyhlPXQuc3Vic3RyaW5nKDEsMyksbj10LnN1YnN0cmluZygzLDUpLHI9dC5zdWJzdHJpbmcoNSw3KSxvPXQuc3Vic3RyaW5nKDcsOSkpOihlPXQuc3Vic3RyaW5nKDEsMiksbj10LnN1YnN0cmluZygyLDMpLHI9dC5zdWJzdHJpbmcoMyw0KSxvPXQuc3Vic3RyaW5nKDQsNSksZSs9ZSxuKz1uLHIrPXIsbys9bykse3JlZDpwYXJzZUludChlLDE2KSxncmVlbjpwYXJzZUludChuLDE2KSxibHVlOnBhcnNlSW50KHIsMTYpLGFscGhhOm8/cGFyc2VJbnQobywxNikvMjU1OjF9fSx0cmFuc2Zvcm06V3IudHJhbnNmb3JtfSxZcj17dGVzdDpVcihcImhzbFwiLFwiaHVlXCIpLHBhcnNlOkhyKFwiaHVlXCIsXCJzYXR1cmF0aW9uXCIsXCJsaWdodG5lc3NcIiksdHJhbnNmb3JtOih7aHVlOnQsc2F0dXJhdGlvbjplLGxpZ2h0bmVzczpuLGFscGhhOnI9MX0pPT5cImhzbGEoXCIrTWF0aC5yb3VuZCh0KStcIiwgXCIrZ3IudHJhbnNmb3JtKEJyKGUpKStcIiwgXCIrZ3IudHJhbnNmb3JtKEJyKG4pKStcIiwgXCIrQnIoaHIudHJhbnNmb3JtKHIpKStcIilcIn0scXI9e3Rlc3Q6dD0+V3IudGVzdCh0KXx8JHIudGVzdCh0KXx8WXIudGVzdCh0KSxwYXJzZTp0PT5Xci50ZXN0KHQpP1dyLnBhcnNlKHQpOllyLnRlc3QodCk/WXIucGFyc2UodCk6JHIucGFyc2UodCksdHJhbnNmb3JtOnQ9Plwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dC5oYXNPd25Qcm9wZXJ0eShcInJlZFwiKT9Xci50cmFuc2Zvcm0odCk6WXIudHJhbnNmb3JtKHQpfSxYcj0vKD86I1tcXGRhLWZdezMsOH18KD86cmdifGhzbClhP1xcKCg/Oi0/W1xcZC5dKyU/WyxcXHNdKyl7Mn0tP1tcXGQuXSslP1xccyooPzpbLC9dXFxzKik/KD86XFxiXFxkKyg/OlxcLlxcZCspP3xcXC5cXGQrKT8lP1xcKSkvZ2l1O2NvbnN0IEtyPVwibnVtYmVyXCIsWnI9XCJjb2xvclwiLFFyPVwidmFyXCIsSnI9XCJ2YXIoXCIsdG89XCIke31cIixlbz0vdmFyXFxzKlxcKFxccyotLSg/OltcXHctXStcXHMqfFtcXHctXStcXHMqLCg/OlxccypbXikoXFxzXXxcXHMqXFwoKD86W14pKF18XFwoW14pKF0qXFwpKSpcXCkpK1xccyopXFwpfCNbXFxkYS1mXXszLDh9fCg/OnJnYnxoc2wpYT9cXCgoPzotP1tcXGQuXSslP1ssXFxzXSspezJ9LT9bXFxkLl0rJT9cXHMqKD86WywvXVxccyopPyg/OlxcYlxcZCsoPzpcXC5cXGQrKT98XFwuXFxkKyk/JT9cXCl8LT8oPzpcXGQrKD86XFwuXFxkKyk/fFxcLlxcZCspL2dpdTtmdW5jdGlvbiBubyh0KXtjb25zdCBlPXQudG9TdHJpbmcoKSxuPVtdLHI9e2NvbG9yOltdLG51bWJlcjpbXSx2YXI6W119LG89W107bGV0IGk9MDtjb25zdCBhPWUucmVwbGFjZShlbywodD0+KHFyLnRlc3QodCk/KHIuY29sb3IucHVzaChpKSxvLnB1c2goWnIpLG4ucHVzaChxci5wYXJzZSh0KSkpOnQuc3RhcnRzV2l0aChKcik/KHIudmFyLnB1c2goaSksby5wdXNoKFFyKSxuLnB1c2godCkpOihyLm51bWJlci5wdXNoKGkpLG8ucHVzaChLciksbi5wdXNoKHBhcnNlRmxvYXQodCkpKSwrK2ksdG8pKSkuc3BsaXQodG8pO3JldHVybnt2YWx1ZXM6bixzcGxpdDphLGluZGV4ZXM6cix0eXBlczpvfX1mdW5jdGlvbiBybyh0KXtyZXR1cm4gbm8odCkudmFsdWVzfWZ1bmN0aW9uIG9vKHQpe2NvbnN0e3NwbGl0OmUsdHlwZXM6bn09bm8odCkscj1lLmxlbmd0aDtyZXR1cm4gdD0+e2xldCBvPVwiXCI7Zm9yKGxldCBpPTA7aTxyO2krKylpZihvKz1lW2ldLHZvaWQgMCE9PXRbaV0pe2NvbnN0IGU9bltpXTtvKz1lPT09S3I/QnIodFtpXSk6ZT09PVpyP3FyLnRyYW5zZm9ybSh0W2ldKTp0W2ldfXJldHVybiBvfX1jb25zdCBpbz10PT5cIm51bWJlclwiPT10eXBlb2YgdD8wOnQ7Y29uc3QgYW89e3Rlc3Q6ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gaXNOYU4odCkmJlwic3RyaW5nXCI9PXR5cGVvZiB0JiYoKG51bGw9PT0oZT10Lm1hdGNoKFZyKSl8fHZvaWQgMD09PWU/dm9pZCAwOmUubGVuZ3RoKXx8MCkrKChudWxsPT09KG49dC5tYXRjaChYcikpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmxlbmd0aCl8fDApPjB9LHBhcnNlOnJvLGNyZWF0ZVRyYW5zZm9ybWVyOm9vLGdldEFuaW1hdGFibGVOb25lOmZ1bmN0aW9uKHQpe2NvbnN0IGU9cm8odCk7cmV0dXJuIG9vKHQpKGUubWFwKGlvKSl9fSxzbz1uZXcgU2V0KFtcImJyaWdodG5lc3NcIixcImNvbnRyYXN0XCIsXCJzYXR1cmF0ZVwiLFwib3BhY2l0eVwiXSk7ZnVuY3Rpb24gdW8odCl7Y29uc3RbZSxuXT10LnNsaWNlKDAsLTEpLnNwbGl0KFwiKFwiKTtpZihcImRyb3Atc2hhZG93XCI9PT1lKXJldHVybiB0O2NvbnN0W3JdPW4ubWF0Y2goVnIpfHxbXTtpZighcilyZXR1cm4gdDtjb25zdCBvPW4ucmVwbGFjZShyLFwiXCIpO2xldCBpPXNvLmhhcyhlKT8xOjA7cmV0dXJuIHIhPT1uJiYoaSo9MTAwKSxlK1wiKFwiK2krbytcIilcIn1jb25zdCBjbz0vXFxiKFthLXotXSopXFwoLio/XFwpL2d1LGxvPXsuLi5hbyxnZXRBbmltYXRhYmxlTm9uZTp0PT57Y29uc3QgZT10Lm1hdGNoKGNvKTtyZXR1cm4gZT9lLm1hcCh1bykuam9pbihcIiBcIik6dH19LGZvPXtib3JkZXJXaWR0aDpicixib3JkZXJUb3BXaWR0aDpicixib3JkZXJSaWdodFdpZHRoOmJyLGJvcmRlckJvdHRvbVdpZHRoOmJyLGJvcmRlckxlZnRXaWR0aDpicixib3JkZXJSYWRpdXM6YnIscmFkaXVzOmJyLGJvcmRlclRvcExlZnRSYWRpdXM6YnIsYm9yZGVyVG9wUmlnaHRSYWRpdXM6YnIsYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6YnIsYm9yZGVyQm90dG9tTGVmdFJhZGl1czpicix3aWR0aDpicixtYXhXaWR0aDpicixoZWlnaHQ6YnIsbWF4SGVpZ2h0OmJyLHRvcDpicixyaWdodDpicixib3R0b206YnIsbGVmdDpicixwYWRkaW5nOmJyLHBhZGRpbmdUb3A6YnIscGFkZGluZ1JpZ2h0OmJyLHBhZGRpbmdCb3R0b206YnIscGFkZGluZ0xlZnQ6YnIsbWFyZ2luOmJyLG1hcmdpblRvcDpicixtYXJnaW5SaWdodDpicixtYXJnaW5Cb3R0b206YnIsbWFyZ2luTGVmdDpicixiYWNrZ3JvdW5kUG9zaXRpb25YOmJyLGJhY2tncm91bmRQb3NpdGlvblk6YnJ9LHBvPXtyb3RhdGU6bXIscm90YXRlWDptcixyb3RhdGVZOm1yLHJvdGF0ZVo6bXIsc2NhbGU6eXIsc2NhbGVYOnlyLHNjYWxlWTp5cixzY2FsZVo6eXIsc2tldzptcixza2V3WDptcixza2V3WTptcixkaXN0YW5jZTpicix0cmFuc2xhdGVYOmJyLHRyYW5zbGF0ZVk6YnIsdHJhbnNsYXRlWjpicix4OmJyLHk6YnIsejpicixwZXJzcGVjdGl2ZTpicix0cmFuc2Zvcm1QZXJzcGVjdGl2ZTpicixvcGFjaXR5OmhyLG9yaWdpblg6U3Isb3JpZ2luWTpTcixvcmlnaW5aOmJyfSxobz17Li4uZHIsdHJhbnNmb3JtOk1hdGgucm91bmR9LHlvPXsuLi5mbywuLi5wbyx6SW5kZXg6aG8sc2l6ZTpicixmaWxsT3BhY2l0eTpocixzdHJva2VPcGFjaXR5OmhyLG51bU9jdGF2ZXM6aG99LHZvPXsuLi55byxjb2xvcjpxcixiYWNrZ3JvdW5kQ29sb3I6cXIsb3V0bGluZUNvbG9yOnFyLGZpbGw6cXIsc3Ryb2tlOnFyLGJvcmRlckNvbG9yOnFyLGJvcmRlclRvcENvbG9yOnFyLGJvcmRlclJpZ2h0Q29sb3I6cXIsYm9yZGVyQm90dG9tQ29sb3I6cXIsYm9yZGVyTGVmdENvbG9yOnFyLGZpbHRlcjpsbyxXZWJraXRGaWx0ZXI6bG99LG1vPXQ9PnZvW3RdO2Z1bmN0aW9uIGdvKHQsZSl7bGV0IG49bW8odCk7cmV0dXJuIG4hPT1sbyYmKG49YW8pLG4uZ2V0QW5pbWF0YWJsZU5vbmU/bi5nZXRBbmltYXRhYmxlTm9uZShlKTp2b2lkIDB9Y29uc3QgYm89bmV3IFNldChbXCJhdXRvXCIsXCJub25lXCIsXCIwXCJdKTtjbGFzcyB3byBleHRlbmRzIERye2NvbnN0cnVjdG9yKHQsZSxuLHIsbyl7c3VwZXIodCxlLG4scixvLCEwKX1yZWFkS2V5ZnJhbWVzKCl7Y29uc3R7dW5yZXNvbHZlZEtleWZyYW1lczp0LGVsZW1lbnQ6ZSxuYW1lOm59PXRoaXM7aWYoIWV8fCFlLmN1cnJlbnQpcmV0dXJuO3N1cGVyLnJlYWRLZXlmcmFtZXMoKTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7bGV0IHI9dFtuXTtpZihcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9ci50cmltKCksY3IocikpKXtjb25zdCBvPXByKHIsZS5jdXJyZW50KTt2b2lkIDAhPT1vJiYodFtuXT1vKSxuPT09dC5sZW5ndGgtMSYmKHRoaXMuZmluYWxLZXlmcmFtZT1yKX19aWYodGhpcy5yZXNvbHZlTm9uZUtleWZyYW1lcygpLCFrci5oYXMobil8fDIhPT10Lmxlbmd0aClyZXR1cm47Y29uc3RbcixvXT10LGk9THIociksYT1McihvKTtpZihpIT09YSlpZih4cihpKSYmeHIoYSkpZm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IG49dFtlXTtcInN0cmluZ1wiPT10eXBlb2YgbiYmKHRbZV09cGFyc2VGbG9hdChuKSl9ZWxzZSB0aGlzLm5lZWRzTWVhc3VyZW1lbnQ9ITB9cmVzb2x2ZU5vbmVLZXlmcmFtZXMoKXtjb25zdHt1bnJlc29sdmVkS2V5ZnJhbWVzOnQsbmFtZTplfT10aGlzLG49W107Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspKFwibnVtYmVyXCI9PXR5cGVvZihyPXRbZV0pPzA9PT1yOm51bGw9PT1yfHxcIm5vbmVcIj09PXJ8fFwiMFwiPT09cnx8b3IocikpJiZuLnB1c2goZSk7dmFyIHI7bi5sZW5ndGgmJmZ1bmN0aW9uKHQsZSxuKXtsZXQgcixvPTA7Zm9yKDtvPHQubGVuZ3RoJiYhcjspe2NvbnN0IGU9dFtvXTtcInN0cmluZ1wiPT10eXBlb2YgZSYmIWJvLmhhcyhlKSYmbm8oZSkudmFsdWVzLmxlbmd0aCYmKHI9dFtvXSksbysrfWlmKHImJm4pZm9yKGNvbnN0IG8gb2YgZSl0W29dPWdvKG4scil9KHQsbixlKX1tZWFzdXJlSW5pdGlhbFN0YXRlKCl7Y29uc3R7ZWxlbWVudDp0LHVucmVzb2x2ZWRLZXlmcmFtZXM6ZSxuYW1lOm59PXRoaXM7aWYoIXR8fCF0LmN1cnJlbnQpcmV0dXJuO1wiaGVpZ2h0XCI9PT1uJiYodGhpcy5zdXNwZW5kZWRTY3JvbGxZPXdpbmRvdy5wYWdlWU9mZnNldCksdGhpcy5tZWFzdXJlZE9yaWdpbj1QcltuXSh0Lm1lYXN1cmVWaWV3cG9ydEJveCgpLHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQuY3VycmVudCkpLGVbMF09dGhpcy5tZWFzdXJlZE9yaWdpbjtjb25zdCByPWVbZS5sZW5ndGgtMV07dm9pZCAwIT09ciYmdC5nZXRWYWx1ZShuLHIpLmp1bXAociwhMSl9bWVhc3VyZUVuZFN0YXRlKCl7dmFyIHQ7Y29uc3R7ZWxlbWVudDplLG5hbWU6bix1bnJlc29sdmVkS2V5ZnJhbWVzOnJ9PXRoaXM7aWYoIWV8fCFlLmN1cnJlbnQpcmV0dXJuO2NvbnN0IG89ZS5nZXRWYWx1ZShuKTtvJiZvLmp1bXAodGhpcy5tZWFzdXJlZE9yaWdpbiwhMSk7Y29uc3QgaT1yLmxlbmd0aC0xLGE9cltpXTtyW2ldPVByW25dKGUubWVhc3VyZVZpZXdwb3J0Qm94KCksd2luZG93LmdldENvbXB1dGVkU3R5bGUoZS5jdXJyZW50KSksbnVsbCE9PWEmJnZvaWQgMD09PXRoaXMuZmluYWxLZXlmcmFtZSYmKHRoaXMuZmluYWxLZXlmcmFtZT1hKSwobnVsbD09PSh0PXRoaXMucmVtb3ZlZFRyYW5zZm9ybXMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmxlbmd0aCkmJnRoaXMucmVtb3ZlZFRyYW5zZm9ybXMuZm9yRWFjaCgoKFt0LG5dKT0+e2UuZ2V0VmFsdWUodCkuc2V0KG4pfSkpLHRoaXMucmVzb2x2ZU5vbmVLZXlmcmFtZXMoKX19bGV0IF9vO2Z1bmN0aW9uIFNvKCl7X289dm9pZCAwfWNvbnN0IGtvPXtub3c6KCk9Pih2b2lkIDA9PT1fbyYma28uc2V0KEhuLmlzUHJvY2Vzc2luZ3x8TW4/SG4udGltZXN0YW1wOnBlcmZvcm1hbmNlLm5vdygpKSxfbyksc2V0OnQ9Pntfbz10LHF1ZXVlTWljcm90YXNrKFNvKX19LHhvPSh0LGUpPT5cInpJbmRleFwiIT09ZSYmKCEoXCJudW1iZXJcIiE9dHlwZW9mIHQmJiFBcnJheS5pc0FycmF5KHQpKXx8IShcInN0cmluZ1wiIT10eXBlb2YgdHx8IWFvLnRlc3QodCkmJlwiMFwiIT09dHx8dC5zdGFydHNXaXRoKFwidXJsKFwiKSkpO2Z1bmN0aW9uIEFvKHQsZSxuLHIpe2NvbnN0IG89dFswXTtpZihudWxsPT09bylyZXR1cm4hMTtpZihcImRpc3BsYXlcIj09PWV8fFwidmlzaWJpbGl0eVwiPT09ZSlyZXR1cm4hMDtjb25zdCBpPXRbdC5sZW5ndGgtMV0sYT14byhvLGUpLHM9eG8oaSxlKTtyZXR1cm4gQmUoYT09PXMsYFlvdSBhcmUgdHJ5aW5nIHRvIGFuaW1hdGUgJHtlfSBmcm9tIFwiJHtvfVwiIHRvIFwiJHtpfVwiLiAke299IGlzIG5vdCBhbiBhbmltYXRhYmxlIHZhbHVlIC0gdG8gZW5hYmxlIHRoaXMgYW5pbWF0aW9uIHNldCAke299IHRvIGEgdmFsdWUgYW5pbWF0YWJsZSB0byAke2l9IHZpYSB0aGUgXFxgc3R5bGVcXGAgcHJvcGVydHkuYCksISghYXx8IXMpJiYoZnVuY3Rpb24odCl7Y29uc3QgZT10WzBdO2lmKDE9PT10Lmxlbmd0aClyZXR1cm4hMDtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dIT09ZSlyZXR1cm4hMH0odCl8fChcInNwcmluZ1wiPT09bnx8Zm4obikpJiZyKX1jbGFzcyBPb3tjb25zdHJ1Y3Rvcih7YXV0b3BsYXk6dD0hMCxkZWxheTplPTAsdHlwZTpuPVwia2V5ZnJhbWVzXCIscmVwZWF0OnI9MCxyZXBlYXREZWxheTpvPTAscmVwZWF0VHlwZTppPVwibG9vcFwiLC4uLmF9KXt0aGlzLmlzU3RvcHBlZD0hMSx0aGlzLmhhc0F0dGVtcHRlZFJlc29sdmU9ITEsdGhpcy5jcmVhdGVkQXQ9a28ubm93KCksdGhpcy5vcHRpb25zPXthdXRvcGxheTp0LGRlbGF5OmUsdHlwZTpuLHJlcGVhdDpyLHJlcGVhdERlbGF5Om8scmVwZWF0VHlwZTppLC4uLmF9LHRoaXMudXBkYXRlRmluaXNoZWRQcm9taXNlKCl9Y2FsY1N0YXJ0VGltZSgpe3JldHVybiB0aGlzLnJlc29sdmVkQXQmJnRoaXMucmVzb2x2ZWRBdC10aGlzLmNyZWF0ZWRBdD40MD90aGlzLnJlc29sdmVkQXQ6dGhpcy5jcmVhdGVkQXR9Z2V0IHJlc29sdmVkKCl7cmV0dXJuIHRoaXMuX3Jlc29sdmVkfHx0aGlzLmhhc0F0dGVtcHRlZFJlc29sdmV8fChGcigpLFJyKCkpLHRoaXMuX3Jlc29sdmVkfW9uS2V5ZnJhbWVzUmVzb2x2ZWQodCxlKXt0aGlzLnJlc29sdmVkQXQ9a28ubm93KCksdGhpcy5oYXNBdHRlbXB0ZWRSZXNvbHZlPSEwO2NvbnN0e25hbWU6bix0eXBlOnIsdmVsb2NpdHk6byxkZWxheTppLG9uQ29tcGxldGU6YSxvblVwZGF0ZTpzLGlzR2VuZXJhdG9yOnV9PXRoaXMub3B0aW9ucztpZighdSYmIUFvKHQsbixyLG8pKXtpZihSbnx8IWkpcmV0dXJuIG51bGw9PXN8fHMoRG4odCx0aGlzLm9wdGlvbnMsZSkpLG51bGw9PWF8fGEoKSx2b2lkIHRoaXMucmVzb2x2ZUZpbmlzaGVkUHJvbWlzZSgpO3RoaXMub3B0aW9ucy5kdXJhdGlvbj0wfWNvbnN0IGM9dGhpcy5pbml0UGxheWJhY2sodCxlKTshMSE9PWMmJih0aGlzLl9yZXNvbHZlZD17a2V5ZnJhbWVzOnQsZmluYWxLZXlmcmFtZTplLC4uLmN9LHRoaXMub25Qb3N0UmVzb2x2ZWQoKSl9b25Qb3N0UmVzb2x2ZWQoKXt9dGhlbih0LGUpe3JldHVybiB0aGlzLmN1cnJlbnRGaW5pc2hlZFByb21pc2UudGhlbih0LGUpfXVwZGF0ZUZpbmlzaGVkUHJvbWlzZSgpe3RoaXMuY3VycmVudEZpbmlzaGVkUHJvbWlzZT1uZXcgUHJvbWlzZSgodD0+e3RoaXMucmVzb2x2ZUZpbmlzaGVkUHJvbWlzZT10fSkpfX1mdW5jdGlvbiBUbyh7a2V5ZnJhbWVzOnQsdmVsb2NpdHk6ZT0wLHBvd2VyOm49LjgsdGltZUNvbnN0YW50OnI9MzI1LGJvdW5jZURhbXBpbmc6bz0xMCxib3VuY2VTdGlmZm5lc3M6aT01MDAsbW9kaWZ5VGFyZ2V0OmEsbWluOnMsbWF4OnUscmVzdERlbHRhOmM9LjUscmVzdFNwZWVkOmx9KXtjb25zdCBmPXRbMF0scD17ZG9uZTohMSx2YWx1ZTpmfSxkPXQ9PnZvaWQgMD09PXM/dTp2b2lkIDA9PT11fHxNYXRoLmFicyhzLXQpPE1hdGguYWJzKHUtdCk/czp1O2xldCBoPW4qZTtjb25zdCB5PWYraCx2PXZvaWQgMD09PWE/eTphKHkpO3YhPT15JiYoaD12LWYpO2NvbnN0IG09dD0+LWgqTWF0aC5leHAoLXQvciksZz10PT52K20odCksYj10PT57Y29uc3QgZT1tKHQpLG49Zyh0KTtwLmRvbmU9TWF0aC5hYnMoZSk8PWMscC52YWx1ZT1wLmRvbmU/djpufTtsZXQgdyxfO2NvbnN0IFM9dD0+e3ZhciBlOyhlPXAudmFsdWUsdm9pZCAwIT09cyYmZTxzfHx2b2lkIDAhPT11JiZlPnUpJiYodz10LF89SmUoe2tleWZyYW1lczpbcC52YWx1ZSxkKHAudmFsdWUpXSx2ZWxvY2l0eTpGZShnLHQscC52YWx1ZSksZGFtcGluZzpvLHN0aWZmbmVzczppLHJlc3REZWx0YTpjLHJlc3RTcGVlZDpsfSkpfTtyZXR1cm4gUygwKSx7Y2FsY3VsYXRlZER1cmF0aW9uOm51bGwsbmV4dDp0PT57bGV0IGU9ITE7cmV0dXJuIF98fHZvaWQgMCE9PXd8fChlPSEwLGIodCksUyh0KSksdm9pZCAwIT09dyYmdD49dz9fLm5leHQodC13KTooIWUmJmIodCkscCl9fX1jb25zdCBFbz1xbiguNDIsMCwxLDEpLFBvPXFuKDAsMCwuNTgsMSksam89cW4oLjQyLDAsLjU4LDEpLENvPXQ9PkFycmF5LmlzQXJyYXkodCkmJlwibnVtYmVyXCI9PXR5cGVvZiB0WzBdLExvPXtsaW5lYXI6RGUsZWFzZUluOkVvLGVhc2VJbk91dDpqbyxlYXNlT3V0OlBvLGNpcmNJbjplcixjaXJjSW5PdXQ6cnIsY2lyY091dDpucixiYWNrSW46UW4sYmFja0luT3V0OkpuLGJhY2tPdXQ6Wm4sYW50aWNpcGF0ZTp0cn0sSW89dD0+e2lmKENvKHQpKXtWZSg0PT09dC5sZW5ndGgsXCJDdWJpYyBiZXppZXIgYXJyYXlzIG11c3QgY29udGFpbiBmb3VyIG51bWVyaWNhbCB2YWx1ZXMuXCIpO2NvbnN0W2UsbixyLG9dPXQ7cmV0dXJuIHFuKGUsbixyLG8pfXJldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0PyhWZSh2b2lkIDAhPT1Mb1t0XSxgSW52YWxpZCBlYXNpbmcgdHlwZSAnJHt0fSdgKSxMb1t0XSk6dH0sTm89KHQsZSk9Pm49PmUodChuKSksTW89KC4uLnQpPT50LnJlZHVjZShObyk7ZnVuY3Rpb24gUm8odCxlLG4pe3JldHVybiBuPDAmJihuKz0xKSxuPjEmJihuLT0xKSxuPDEvNj90KzYqKGUtdCkqbjpuPC41P2U6bjwyLzM/dCsoZS10KSooMi8zLW4pKjY6dH1mdW5jdGlvbiBGbyh0LGUpe3JldHVybiBuPT5uPjA/ZTp0fWNvbnN0IERvPSh0LGUsbik9Pntjb25zdCByPXQqdCxvPW4qKGUqZS1yKStyO3JldHVybiBvPDA/MDpNYXRoLnNxcnQobyl9LEJvPVskcixXcixZcl07ZnVuY3Rpb24gVm8odCl7Y29uc3QgZT0obj10LEJvLmZpbmQoKHQ9PnQudGVzdChuKSkpKTt2YXIgbjtpZihCZShCb29sZWFuKGUpLGAnJHt0fScgaXMgbm90IGFuIGFuaW1hdGFibGUgY29sb3IuIFVzZSB0aGUgZXF1aXZhbGVudCBjb2xvciBjb2RlIGluc3RlYWQuYCksIUJvb2xlYW4oZSkpcmV0dXJuITE7bGV0IHI9ZS5wYXJzZSh0KTtyZXR1cm4gZT09PVlyJiYocj1mdW5jdGlvbih7aHVlOnQsc2F0dXJhdGlvbjplLGxpZ2h0bmVzczpuLGFscGhhOnJ9KXt0Lz0zNjAsbi89MTAwO2xldCBvPTAsaT0wLGE9MDtpZihlLz0xMDApe2NvbnN0IHI9bjwuNT9uKigxK2UpOm4rZS1uKmUscz0yKm4tcjtvPVJvKHMscix0KzEvMyksaT1SbyhzLHIsdCksYT1SbyhzLHIsdC0xLzMpfWVsc2Ugbz1pPWE9bjtyZXR1cm57cmVkOk1hdGgucm91bmQoMjU1Km8pLGdyZWVuOk1hdGgucm91bmQoMjU1KmkpLGJsdWU6TWF0aC5yb3VuZCgyNTUqYSksYWxwaGE6cn19KHIpKSxyfWNvbnN0IEdvPSh0LGUpPT57Y29uc3Qgbj1Wbyh0KSxyPVZvKGUpO2lmKCFufHwhcilyZXR1cm4gRm8odCxlKTtjb25zdCBvPXsuLi5ufTtyZXR1cm4gdD0+KG8ucmVkPURvKG4ucmVkLHIucmVkLHQpLG8uZ3JlZW49RG8obi5ncmVlbixyLmdyZWVuLHQpLG8uYmx1ZT1EbyhuLmJsdWUsci5ibHVlLHQpLG8uYWxwaGE9cm4obi5hbHBoYSxyLmFscGhhLHQpLFdyLnRyYW5zZm9ybShvKSl9LFVvPW5ldyBTZXQoW1wibm9uZVwiLFwiaGlkZGVuXCJdKTtmdW5jdGlvbiBIbyh0LGUpe3JldHVybiBuPT5ybih0LGUsbil9ZnVuY3Rpb24gem8odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/SG86XCJzdHJpbmdcIj09dHlwZW9mIHQ/Y3IodCk/Rm86cXIudGVzdCh0KT9HbzpZbzpBcnJheS5pc0FycmF5KHQpP1dvOlwib2JqZWN0XCI9PXR5cGVvZiB0P3FyLnRlc3QodCk/R286JG86Rm99ZnVuY3Rpb24gV28odCxlKXtjb25zdCBuPVsuLi50XSxyPW4ubGVuZ3RoLG89dC5tYXAoKCh0LG4pPT56byh0KSh0LGVbbl0pKSk7cmV0dXJuIHQ9Pntmb3IobGV0IGU9MDtlPHI7ZSsrKW5bZV09b1tlXSh0KTtyZXR1cm4gbn19ZnVuY3Rpb24gJG8odCxlKXtjb25zdCBuPXsuLi50LC4uLmV9LHI9e307Zm9yKGNvbnN0IG8gaW4gbil2b2lkIDAhPT10W29dJiZ2b2lkIDAhPT1lW29dJiYocltvXT16byh0W29dKSh0W29dLGVbb10pKTtyZXR1cm4gdD0+e2Zvcihjb25zdCBlIGluIHIpbltlXT1yW2VdKHQpO3JldHVybiBufX1jb25zdCBZbz0odCxlKT0+e2NvbnN0IG49YW8uY3JlYXRlVHJhbnNmb3JtZXIoZSkscj1ubyh0KSxvPW5vKGUpO3JldHVybiByLmluZGV4ZXMudmFyLmxlbmd0aD09PW8uaW5kZXhlcy52YXIubGVuZ3RoJiZyLmluZGV4ZXMuY29sb3IubGVuZ3RoPT09by5pbmRleGVzLmNvbG9yLmxlbmd0aCYmci5pbmRleGVzLm51bWJlci5sZW5ndGg+PW8uaW5kZXhlcy5udW1iZXIubGVuZ3RoP1VvLmhhcyh0KSYmIW8udmFsdWVzLmxlbmd0aHx8VW8uaGFzKGUpJiYhci52YWx1ZXMubGVuZ3RoP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIFVvLmhhcyh0KT9uPT5uPD0wP3Q6ZTpuPT5uPj0xP2U6dH0odCxlKTpNbyhXbyhmdW5jdGlvbih0LGUpe3ZhciBuO2NvbnN0IHI9W10sbz17Y29sb3I6MCx2YXI6MCxudW1iZXI6MH07Zm9yKGxldCBpPTA7aTxlLnZhbHVlcy5sZW5ndGg7aSsrKXtjb25zdCBhPWUudHlwZXNbaV0scz10LmluZGV4ZXNbYV1bb1thXV0sdT1udWxsIT09KG49dC52YWx1ZXNbc10pJiZ2b2lkIDAhPT1uP246MDtyW2ldPXUsb1thXSsrfXJldHVybiByfShyLG8pLG8udmFsdWVzKSxuKTooQmUoITAsYENvbXBsZXggdmFsdWVzICcke3R9JyBhbmQgJyR7ZX0nIHRvbyBkaWZmZXJlbnQgdG8gbWl4LiBFbnN1cmUgYWxsIGNvbG9ycyBhcmUgb2YgdGhlIHNhbWUgdHlwZSwgYW5kIHRoYXQgZWFjaCBjb250YWlucyB0aGUgc2FtZSBxdWFudGl0eSBvZiBudW1iZXIgYW5kIGNvbG9yIHZhbHVlcy4gRmFsbGluZyBiYWNrIHRvIGluc3RhbnQgdHJhbnNpdGlvbi5gKSxGbyh0LGUpKX07ZnVuY3Rpb24gcW8odCxlLG4pe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0JiZcIm51bWJlclwiPT10eXBlb2YgZSYmXCJudW1iZXJcIj09dHlwZW9mIG4pcmV0dXJuIHJuKHQsZSxuKTtyZXR1cm4gem8odCkodCxlKX1mdW5jdGlvbiBYbyh0LGUse2NsYW1wOm49ITAsZWFzZTpyLG1peGVyOm99PXt9KXtjb25zdCBpPXQubGVuZ3RoO2lmKFZlKGk9PT1lLmxlbmd0aCxcIkJvdGggaW5wdXQgYW5kIG91dHB1dCByYW5nZXMgbXVzdCBiZSB0aGUgc2FtZSBsZW5ndGhcIiksMT09PWkpcmV0dXJuKCk9PmVbMF07aWYoMj09PWkmJnRbMF09PT10WzFdKXJldHVybigpPT5lWzFdO3RbMF0+dFtpLTFdJiYodD1bLi4udF0ucmV2ZXJzZSgpLGU9Wy4uLmVdLnJldmVyc2UoKSk7Y29uc3QgYT1mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1bXSxvPW58fHFvLGk9dC5sZW5ndGgtMTtmb3IobGV0IG49MDtuPGk7bisrKXtsZXQgaT1vKHRbbl0sdFtuKzFdKTtpZihlKXtjb25zdCB0PUFycmF5LmlzQXJyYXkoZSk/ZVtuXXx8RGU6ZTtpPU1vKHQsaSl9ci5wdXNoKGkpfXJldHVybiByfShlLHIsbykscz1hLmxlbmd0aCx1PWU9PntsZXQgbj0wO2lmKHM+MSlmb3IoO248dC5sZW5ndGgtMiYmIShlPHRbbisxXSk7bisrKTtjb25zdCByPW9uKHRbbl0sdFtuKzFdLGUpO3JldHVybiBhW25dKHIpfTtyZXR1cm4gbj9lPT51KEdlKHRbMF0sdFtpLTFdLGUpKTp1fWZ1bmN0aW9uIEtvKHtkdXJhdGlvbjp0PTMwMCxrZXlmcmFtZXM6ZSx0aW1lczpuLGVhc2U6cj1cImVhc2VJbk91dFwifSl7Y29uc3Qgbz1obihyKT9yLm1hcChJbyk6SW8ociksaT17ZG9uZTohMSx2YWx1ZTplWzBdfSxhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubWFwKCh0PT50KmUpKX0obiYmbi5sZW5ndGg9PT1lLmxlbmd0aD9uOnNuKGUpLHQpLHM9WG8oYSxlLHtlYXNlOkFycmF5LmlzQXJyYXkobyk/bzoodT1lLGM9byx1Lm1hcCgoKCk9PmN8fGpvKSkuc3BsaWNlKDAsdS5sZW5ndGgtMSkpfSk7dmFyIHUsYztyZXR1cm57Y2FsY3VsYXRlZER1cmF0aW9uOnQsbmV4dDplPT4oaS52YWx1ZT1zKGUpLGkuZG9uZT1lPj10LGkpfX1jb25zdCBabz10PT57Y29uc3QgZT0oe3RpbWVzdGFtcDplfSk9PnQoZSk7cmV0dXJue3N0YXJ0OigpPT5Hbi51cGRhdGUoZSwhMCksc3RvcDooKT0+VW4oZSksbm93OigpPT5Ibi5pc1Byb2Nlc3Npbmc/SG4udGltZXN0YW1wOmtvLm5vdygpfX0sUW89e2RlY2F5OlRvLGluZXJ0aWE6VG8sdHdlZW46S28sa2V5ZnJhbWVzOktvLHNwcmluZzpKZX0sSm89dD0+dC8xMDA7Y2xhc3MgdGkgZXh0ZW5kcyBPb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmhvbGRUaW1lPW51bGwsdGhpcy5jYW5jZWxUaW1lPW51bGwsdGhpcy5jdXJyZW50VGltZT0wLHRoaXMucGxheWJhY2tTcGVlZD0xLHRoaXMucGVuZGluZ1BsYXlTdGF0ZT1cInJ1bm5pbmdcIix0aGlzLnN0YXJ0VGltZT1udWxsLHRoaXMuc3RhdGU9XCJpZGxlXCIsdGhpcy5zdG9wPSgpPT57aWYodGhpcy5yZXNvbHZlci5jYW5jZWwoKSx0aGlzLmlzU3RvcHBlZD0hMCxcImlkbGVcIj09PXRoaXMuc3RhdGUpcmV0dXJuO3RoaXMudGVhcmRvd24oKTtjb25zdHtvblN0b3A6dH09dGhpcy5vcHRpb25zO3QmJnQoKX07Y29uc3R7bmFtZTplLG1vdGlvblZhbHVlOm4sZWxlbWVudDpyLGtleWZyYW1lczpvfT10aGlzLm9wdGlvbnMsaT0obnVsbD09cj92b2lkIDA6ci5LZXlmcmFtZVJlc29sdmVyKXx8RHI7dGhpcy5yZXNvbHZlcj1uZXcgaShvLCgodCxlKT0+dGhpcy5vbktleWZyYW1lc1Jlc29sdmVkKHQsZSkpLGUsbixyKSx0aGlzLnJlc29sdmVyLnNjaGVkdWxlUmVzb2x2ZSgpfWluaXRQbGF5YmFjayh0KXtjb25zdHt0eXBlOmU9XCJrZXlmcmFtZXNcIixyZXBlYXQ6bj0wLHJlcGVhdERlbGF5OnI9MCxyZXBlYXRUeXBlOm8sdmVsb2NpdHk6aT0wfT10aGlzLm9wdGlvbnMsYT1mbihlKT9lOlFvW2VdfHxLbztsZXQgcyx1O2EhPT1LbyYmXCJudW1iZXJcIiE9dHlwZW9mIHRbMF0mJihzPU1vKEpvLHFvKHRbMF0sdFsxXSkpLHQ9WzAsMTAwXSk7Y29uc3QgYz1hKHsuLi50aGlzLm9wdGlvbnMsa2V5ZnJhbWVzOnR9KTtcIm1pcnJvclwiPT09byYmKHU9YSh7Li4udGhpcy5vcHRpb25zLGtleWZyYW1lczpbLi4udF0ucmV2ZXJzZSgpLHZlbG9jaXR5Oi1pfSkpLG51bGw9PT1jLmNhbGN1bGF0ZWREdXJhdGlvbiYmKGMuY2FsY3VsYXRlZER1cmF0aW9uPWVuKGMpKTtjb25zdHtjYWxjdWxhdGVkRHVyYXRpb246bH09YyxmPWwrcjtyZXR1cm57Z2VuZXJhdG9yOmMsbWlycm9yZWRHZW5lcmF0b3I6dSxtYXBQZXJjZW50VG9LZXlmcmFtZXM6cyxjYWxjdWxhdGVkRHVyYXRpb246bCxyZXNvbHZlZER1cmF0aW9uOmYsdG90YWxEdXJhdGlvbjpmKihuKzEpLXJ9fW9uUG9zdFJlc29sdmVkKCl7Y29uc3R7YXV0b3BsYXk6dD0hMH09dGhpcy5vcHRpb25zO3RoaXMucGxheSgpLFwicGF1c2VkXCIhPT10aGlzLnBlbmRpbmdQbGF5U3RhdGUmJnQ/dGhpcy5zdGF0ZT10aGlzLnBlbmRpbmdQbGF5U3RhdGU6dGhpcy5wYXVzZSgpfXRpY2sodCxlPSExKXtjb25zdHtyZXNvbHZlZDpufT10aGlzO2lmKCFuKXtjb25zdHtrZXlmcmFtZXM6dH09dGhpcy5vcHRpb25zO3JldHVybntkb25lOiEwLHZhbHVlOnRbdC5sZW5ndGgtMV19fWNvbnN0e2ZpbmFsS2V5ZnJhbWU6cixnZW5lcmF0b3I6byxtaXJyb3JlZEdlbmVyYXRvcjppLG1hcFBlcmNlbnRUb0tleWZyYW1lczphLGtleWZyYW1lczpzLGNhbGN1bGF0ZWREdXJhdGlvbjp1LHRvdGFsRHVyYXRpb246YyxyZXNvbHZlZER1cmF0aW9uOmx9PW47aWYobnVsbD09PXRoaXMuc3RhcnRUaW1lKXJldHVybiBvLm5leHQoMCk7Y29uc3R7ZGVsYXk6ZixyZXBlYXQ6cCxyZXBlYXRUeXBlOmQscmVwZWF0RGVsYXk6aCxvblVwZGF0ZTp5fT10aGlzLm9wdGlvbnM7dGhpcy5zcGVlZD4wP3RoaXMuc3RhcnRUaW1lPU1hdGgubWluKHRoaXMuc3RhcnRUaW1lLHQpOnRoaXMuc3BlZWQ8MCYmKHRoaXMuc3RhcnRUaW1lPU1hdGgubWluKHQtYy90aGlzLnNwZWVkLHRoaXMuc3RhcnRUaW1lKSksZT90aGlzLmN1cnJlbnRUaW1lPXQ6bnVsbCE9PXRoaXMuaG9sZFRpbWU/dGhpcy5jdXJyZW50VGltZT10aGlzLmhvbGRUaW1lOnRoaXMuY3VycmVudFRpbWU9TWF0aC5yb3VuZCh0LXRoaXMuc3RhcnRUaW1lKSp0aGlzLnNwZWVkO2NvbnN0IHY9dGhpcy5jdXJyZW50VGltZS1mKih0aGlzLnNwZWVkPj0wPzE6LTEpLG09dGhpcy5zcGVlZD49MD92PDA6dj5jO3RoaXMuY3VycmVudFRpbWU9TWF0aC5tYXgodiwwKSxcImZpbmlzaGVkXCI9PT10aGlzLnN0YXRlJiZudWxsPT09dGhpcy5ob2xkVGltZSYmKHRoaXMuY3VycmVudFRpbWU9Yyk7bGV0IGc9dGhpcy5jdXJyZW50VGltZSxiPW87aWYocCl7Y29uc3QgdD1NYXRoLm1pbih0aGlzLmN1cnJlbnRUaW1lLGMpL2w7bGV0IGU9TWF0aC5mbG9vcih0KSxuPXQlMTshbiYmdD49MSYmKG49MSksMT09PW4mJmUtLSxlPU1hdGgubWluKGUscCsxKTtCb29sZWFuKGUlMikmJihcInJldmVyc2VcIj09PWQ/KG49MS1uLGgmJihuLT1oL2wpKTpcIm1pcnJvclwiPT09ZCYmKGI9aSkpLGc9R2UoMCwxLG4pKmx9Y29uc3Qgdz1tP3tkb25lOiExLHZhbHVlOnNbMF19OmIubmV4dChnKTthJiYody52YWx1ZT1hKHcudmFsdWUpKTtsZXR7ZG9uZTpffT13O218fG51bGw9PT11fHwoXz10aGlzLnNwZWVkPj0wP3RoaXMuY3VycmVudFRpbWU+PWM6dGhpcy5jdXJyZW50VGltZTw9MCk7Y29uc3QgUz1udWxsPT09dGhpcy5ob2xkVGltZSYmKFwiZmluaXNoZWRcIj09PXRoaXMuc3RhdGV8fFwicnVubmluZ1wiPT09dGhpcy5zdGF0ZSYmXyk7cmV0dXJuIFMmJnZvaWQgMCE9PXImJih3LnZhbHVlPURuKHMsdGhpcy5vcHRpb25zLHIpKSx5JiZ5KHcudmFsdWUpLFMmJnRoaXMuZmluaXNoKCksd31nZXQgZHVyYXRpb24oKXtjb25zdHtyZXNvbHZlZDp0fT10aGlzO3JldHVybiB0P05lKHQuY2FsY3VsYXRlZER1cmF0aW9uKTowfWdldCB0aW1lKCl7cmV0dXJuIE5lKHRoaXMuY3VycmVudFRpbWUpfXNldCB0aW1lKHQpe3Q9SWUodCksdGhpcy5jdXJyZW50VGltZT10LG51bGwhPT10aGlzLmhvbGRUaW1lfHwwPT09dGhpcy5zcGVlZD90aGlzLmhvbGRUaW1lPXQ6dGhpcy5kcml2ZXImJih0aGlzLnN0YXJ0VGltZT10aGlzLmRyaXZlci5ub3coKS10L3RoaXMuc3BlZWQpfWdldCBzcGVlZCgpe3JldHVybiB0aGlzLnBsYXliYWNrU3BlZWR9c2V0IHNwZWVkKHQpe2NvbnN0IGU9dGhpcy5wbGF5YmFja1NwZWVkIT09dDt0aGlzLnBsYXliYWNrU3BlZWQ9dCxlJiYodGhpcy50aW1lPU5lKHRoaXMuY3VycmVudFRpbWUpKX1wbGF5KCl7aWYodGhpcy5yZXNvbHZlci5pc1NjaGVkdWxlZHx8dGhpcy5yZXNvbHZlci5yZXN1bWUoKSwhdGhpcy5fcmVzb2x2ZWQpcmV0dXJuIHZvaWQodGhpcy5wZW5kaW5nUGxheVN0YXRlPVwicnVubmluZ1wiKTtpZih0aGlzLmlzU3RvcHBlZClyZXR1cm47Y29uc3R7ZHJpdmVyOnQ9Wm8sb25QbGF5OmUsc3RhcnRUaW1lOm59PXRoaXMub3B0aW9uczt0aGlzLmRyaXZlcnx8KHRoaXMuZHJpdmVyPXQoKHQ9PnRoaXMudGljayh0KSkpKSxlJiZlKCk7Y29uc3Qgcj10aGlzLmRyaXZlci5ub3coKTtudWxsIT09dGhpcy5ob2xkVGltZT90aGlzLnN0YXJ0VGltZT1yLXRoaXMuaG9sZFRpbWU6dGhpcy5zdGFydFRpbWU/XCJmaW5pc2hlZFwiPT09dGhpcy5zdGF0ZSYmKHRoaXMuc3RhcnRUaW1lPXIpOnRoaXMuc3RhcnRUaW1lPW51bGwhPW4/bjp0aGlzLmNhbGNTdGFydFRpbWUoKSxcImZpbmlzaGVkXCI9PT10aGlzLnN0YXRlJiZ0aGlzLnVwZGF0ZUZpbmlzaGVkUHJvbWlzZSgpLHRoaXMuY2FuY2VsVGltZT10aGlzLnN0YXJ0VGltZSx0aGlzLmhvbGRUaW1lPW51bGwsdGhpcy5zdGF0ZT1cInJ1bm5pbmdcIix0aGlzLmRyaXZlci5zdGFydCgpfXBhdXNlKCl7dmFyIHQ7dGhpcy5fcmVzb2x2ZWQ/KHRoaXMuc3RhdGU9XCJwYXVzZWRcIix0aGlzLmhvbGRUaW1lPW51bGwhPT0odD10aGlzLmN1cnJlbnRUaW1lKSYmdm9pZCAwIT09dD90OjApOnRoaXMucGVuZGluZ1BsYXlTdGF0ZT1cInBhdXNlZFwifWNvbXBsZXRlKCl7XCJydW5uaW5nXCIhPT10aGlzLnN0YXRlJiZ0aGlzLnBsYXkoKSx0aGlzLnBlbmRpbmdQbGF5U3RhdGU9dGhpcy5zdGF0ZT1cImZpbmlzaGVkXCIsdGhpcy5ob2xkVGltZT1udWxsfWZpbmlzaCgpe3RoaXMudGVhcmRvd24oKSx0aGlzLnN0YXRlPVwiZmluaXNoZWRcIjtjb25zdHtvbkNvbXBsZXRlOnR9PXRoaXMub3B0aW9uczt0JiZ0KCl9Y2FuY2VsKCl7bnVsbCE9PXRoaXMuY2FuY2VsVGltZSYmdGhpcy50aWNrKHRoaXMuY2FuY2VsVGltZSksdGhpcy50ZWFyZG93bigpLHRoaXMudXBkYXRlRmluaXNoZWRQcm9taXNlKCl9dGVhcmRvd24oKXt0aGlzLnN0YXRlPVwiaWRsZVwiLHRoaXMuc3RvcERyaXZlcigpLHRoaXMucmVzb2x2ZUZpbmlzaGVkUHJvbWlzZSgpLHRoaXMudXBkYXRlRmluaXNoZWRQcm9taXNlKCksdGhpcy5zdGFydFRpbWU9dGhpcy5jYW5jZWxUaW1lPW51bGwsdGhpcy5yZXNvbHZlci5jYW5jZWwoKX1zdG9wRHJpdmVyKCl7dGhpcy5kcml2ZXImJih0aGlzLmRyaXZlci5zdG9wKCksdGhpcy5kcml2ZXI9dm9pZCAwKX1zYW1wbGUodCl7cmV0dXJuIHRoaXMuc3RhcnRUaW1lPTAsdGhpcy50aWNrKHQsITApfX1jb25zdCBlaT1uZXcgU2V0KFtcIm9wYWNpdHlcIixcImNsaXBQYXRoXCIsXCJmaWx0ZXJcIixcInRyYW5zZm9ybVwiXSksbmk9KHQsZSk9PntsZXQgbj1cIlwiO2NvbnN0IHI9TWF0aC5tYXgoTWF0aC5yb3VuZChlLzEwKSwyKTtmb3IobGV0IGU9MDtlPHI7ZSsrKW4rPXQob24oMCxyLTEsZSkpK1wiLCBcIjtyZXR1cm5gbGluZWFyKCR7bi5zdWJzdHJpbmcoMCxuLmxlbmd0aC0yKX0pYH0scmk9e2xpbmVhckVhc2luZzp2b2lkIDB9O2Z1bmN0aW9uIG9pKHQsZSl7Y29uc3Qgbj1qZSh0KTtyZXR1cm4oKT0+e3ZhciB0O3JldHVybiBudWxsIT09KHQ9cmlbZV0pJiZ2b2lkIDAhPT10P3Q6bigpfX1jb25zdCBpaT1vaSgoKCk9Pnt0cnl7ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5hbmltYXRlKHtvcGFjaXR5OjB9LHtlYXNpbmc6XCJsaW5lYXIoMCwgMSlcIn0pfWNhdGNoKHQpe3JldHVybiExfXJldHVybiEwfSksXCJsaW5lYXJFYXNpbmdcIik7ZnVuY3Rpb24gYWkodCl7cmV0dXJuIEJvb2xlYW4oXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmaWkoKXx8IXR8fFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodCBpbiB1aXx8aWkoKSl8fENvKHQpfHxBcnJheS5pc0FycmF5KHQpJiZ0LmV2ZXJ5KGFpKSl9Y29uc3Qgc2k9KFt0LGUsbixyXSk9PmBjdWJpYy1iZXppZXIoJHt0fSwgJHtlfSwgJHtufSwgJHtyfSlgLHVpPXtsaW5lYXI6XCJsaW5lYXJcIixlYXNlOlwiZWFzZVwiLGVhc2VJbjpcImVhc2UtaW5cIixlYXNlT3V0OlwiZWFzZS1vdXRcIixlYXNlSW5PdXQ6XCJlYXNlLWluLW91dFwiLGNpcmNJbjpzaShbMCwuNjUsLjU1LDFdKSxjaXJjT3V0OnNpKFsuNTUsMCwxLC40NV0pLGJhY2tJbjpzaShbLjMxLC4wMSwuNjYsLS41OV0pLGJhY2tPdXQ6c2koWy4zMywxLjUzLC42OSwuOTldKX07ZnVuY3Rpb24gY2kodCxlKXtyZXR1cm4gdD9cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZpaSgpP25pKHQsZSk6Q28odCk/c2kodCk6QXJyYXkuaXNBcnJheSh0KT90Lm1hcCgodD0+Y2kodCxlKXx8dWkuZWFzZU91dCkpOnVpW3RdOnZvaWQgMH1mdW5jdGlvbiBsaSh0LGUsbix7ZGVsYXk6cj0wLGR1cmF0aW9uOm89MzAwLHJlcGVhdDppPTAscmVwZWF0VHlwZTphPVwibG9vcFwiLGVhc2U6cyx0aW1lczp1fT17fSl7Y29uc3QgYz17W2VdOm59O3UmJihjLm9mZnNldD11KTtjb25zdCBsPWNpKHMsbyk7cmV0dXJuIEFycmF5LmlzQXJyYXkobCkmJihjLmVhc2luZz1sKSx0LmFuaW1hdGUoYyx7ZGVsYXk6cixkdXJhdGlvbjpvLGVhc2luZzpBcnJheS5pc0FycmF5KGwpP1wibGluZWFyXCI6bCxmaWxsOlwiYm90aFwiLGl0ZXJhdGlvbnM6aSsxLGRpcmVjdGlvbjpcInJldmVyc2VcIj09PWE/XCJhbHRlcm5hdGVcIjpcIm5vcm1hbFwifSl9ZnVuY3Rpb24gZmkodCxlKXt0LnRpbWVsaW5lPWUsdC5vbmZpbmlzaD1udWxsfWNvbnN0IHBpPWplKCgoKT0+T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoRWxlbWVudC5wcm90b3R5cGUsXCJhbmltYXRlXCIpKSk7Y29uc3QgZGk9e2FudGljaXBhdGU6dHIsYmFja0luT3V0OkpuLGNpcmNJbk91dDpycn07Y2xhc3MgaGkgZXh0ZW5kcyBPb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdHtuYW1lOmUsbW90aW9uVmFsdWU6bixlbGVtZW50OnIsa2V5ZnJhbWVzOm99PXRoaXMub3B0aW9uczt0aGlzLnJlc29sdmVyPW5ldyB3byhvLCgodCxlKT0+dGhpcy5vbktleWZyYW1lc1Jlc29sdmVkKHQsZSkpLGUsbixyKSx0aGlzLnJlc29sdmVyLnNjaGVkdWxlUmVzb2x2ZSgpfWluaXRQbGF5YmFjayh0LGUpe3ZhciBuO2xldHtkdXJhdGlvbjpyPTMwMCx0aW1lczpvLGVhc2U6aSx0eXBlOmEsbW90aW9uVmFsdWU6cyxuYW1lOnUsc3RhcnRUaW1lOmN9PXRoaXMub3B0aW9ucztpZighKG51bGw9PT0obj1zLm93bmVyKXx8dm9pZCAwPT09bj92b2lkIDA6bi5jdXJyZW50KSlyZXR1cm4hMTtpZihcInN0cmluZ1wiPT10eXBlb2YgaSYmaWkoKSYmaSBpbiBkaSYmKGk9ZGlbaV0pLGZ1bmN0aW9uKHQpe3JldHVybiBmbih0LnR5cGUpfHxcInNwcmluZ1wiPT09dC50eXBlfHwhYWkodC5lYXNlKX0odGhpcy5vcHRpb25zKSl7Y29uc3R7b25Db21wbGV0ZTplLG9uVXBkYXRlOm4sbW90aW9uVmFsdWU6cyxlbGVtZW50OnUsLi4uY309dGhpcy5vcHRpb25zLGw9ZnVuY3Rpb24odCxlKXtjb25zdCBuPW5ldyB0aSh7Li4uZSxrZXlmcmFtZXM6dCxyZXBlYXQ6MCxkZWxheTowLGlzR2VuZXJhdG9yOiEwfSk7bGV0IHI9e2RvbmU6ITEsdmFsdWU6dFswXX07Y29uc3Qgbz1bXTtsZXQgaT0wO2Zvcig7IXIuZG9uZSYmaTwyZTQ7KXI9bi5zYW1wbGUoaSksby5wdXNoKHIudmFsdWUpLGkrPTEwO3JldHVybnt0aW1lczp2b2lkIDAsa2V5ZnJhbWVzOm8sZHVyYXRpb246aS0xMCxlYXNlOlwibGluZWFyXCJ9fSh0LGMpOzE9PT0odD1sLmtleWZyYW1lcykubGVuZ3RoJiYodFsxXT10WzBdKSxyPWwuZHVyYXRpb24sbz1sLnRpbWVzLGk9bC5lYXNlLGE9XCJrZXlmcmFtZXNcIn1jb25zdCBsPWxpKHMub3duZXIuY3VycmVudCx1LHQsey4uLnRoaXMub3B0aW9ucyxkdXJhdGlvbjpyLHRpbWVzOm8sZWFzZTppfSk7cmV0dXJuIGwuc3RhcnRUaW1lPW51bGwhPWM/Yzp0aGlzLmNhbGNTdGFydFRpbWUoKSx0aGlzLnBlbmRpbmdUaW1lbGluZT8oZmkobCx0aGlzLnBlbmRpbmdUaW1lbGluZSksdGhpcy5wZW5kaW5nVGltZWxpbmU9dm9pZCAwKTpsLm9uZmluaXNoPSgpPT57Y29uc3R7b25Db21wbGV0ZTpufT10aGlzLm9wdGlvbnM7cy5zZXQoRG4odCx0aGlzLm9wdGlvbnMsZSkpLG4mJm4oKSx0aGlzLmNhbmNlbCgpLHRoaXMucmVzb2x2ZUZpbmlzaGVkUHJvbWlzZSgpfSx7YW5pbWF0aW9uOmwsZHVyYXRpb246cix0aW1lczpvLHR5cGU6YSxlYXNlOmksa2V5ZnJhbWVzOnR9fWdldCBkdXJhdGlvbigpe2NvbnN0e3Jlc29sdmVkOnR9PXRoaXM7aWYoIXQpcmV0dXJuIDA7Y29uc3R7ZHVyYXRpb246ZX09dDtyZXR1cm4gTmUoZSl9Z2V0IHRpbWUoKXtjb25zdHtyZXNvbHZlZDp0fT10aGlzO2lmKCF0KXJldHVybiAwO2NvbnN0e2FuaW1hdGlvbjplfT10O3JldHVybiBOZShlLmN1cnJlbnRUaW1lfHwwKX1zZXQgdGltZSh0KXtjb25zdHtyZXNvbHZlZDplfT10aGlzO2lmKCFlKXJldHVybjtjb25zdHthbmltYXRpb246bn09ZTtuLmN1cnJlbnRUaW1lPUllKHQpfWdldCBzcGVlZCgpe2NvbnN0e3Jlc29sdmVkOnR9PXRoaXM7aWYoIXQpcmV0dXJuIDE7Y29uc3R7YW5pbWF0aW9uOmV9PXQ7cmV0dXJuIGUucGxheWJhY2tSYXRlfXNldCBzcGVlZCh0KXtjb25zdHtyZXNvbHZlZDplfT10aGlzO2lmKCFlKXJldHVybjtjb25zdHthbmltYXRpb246bn09ZTtuLnBsYXliYWNrUmF0ZT10fWdldCBzdGF0ZSgpe2NvbnN0e3Jlc29sdmVkOnR9PXRoaXM7aWYoIXQpcmV0dXJuXCJpZGxlXCI7Y29uc3R7YW5pbWF0aW9uOmV9PXQ7cmV0dXJuIGUucGxheVN0YXRlfWdldCBzdGFydFRpbWUoKXtjb25zdHtyZXNvbHZlZDp0fT10aGlzO2lmKCF0KXJldHVybiBudWxsO2NvbnN0e2FuaW1hdGlvbjplfT10O3JldHVybiBlLnN0YXJ0VGltZX1hdHRhY2hUaW1lbGluZSh0KXtpZih0aGlzLl9yZXNvbHZlZCl7Y29uc3R7cmVzb2x2ZWQ6ZX09dGhpcztpZighZSlyZXR1cm4gRGU7Y29uc3R7YW5pbWF0aW9uOm59PWU7Zmkobix0KX1lbHNlIHRoaXMucGVuZGluZ1RpbWVsaW5lPXQ7cmV0dXJuIERlfXBsYXkoKXtpZih0aGlzLmlzU3RvcHBlZClyZXR1cm47Y29uc3R7cmVzb2x2ZWQ6dH09dGhpcztpZighdClyZXR1cm47Y29uc3R7YW5pbWF0aW9uOmV9PXQ7XCJmaW5pc2hlZFwiPT09ZS5wbGF5U3RhdGUmJnRoaXMudXBkYXRlRmluaXNoZWRQcm9taXNlKCksZS5wbGF5KCl9cGF1c2UoKXtjb25zdHtyZXNvbHZlZDp0fT10aGlzO2lmKCF0KXJldHVybjtjb25zdHthbmltYXRpb246ZX09dDtlLnBhdXNlKCl9c3RvcCgpe2lmKHRoaXMucmVzb2x2ZXIuY2FuY2VsKCksdGhpcy5pc1N0b3BwZWQ9ITAsXCJpZGxlXCI9PT10aGlzLnN0YXRlKXJldHVybjt0aGlzLnJlc29sdmVGaW5pc2hlZFByb21pc2UoKSx0aGlzLnVwZGF0ZUZpbmlzaGVkUHJvbWlzZSgpO2NvbnN0e3Jlc29sdmVkOnR9PXRoaXM7aWYoIXQpcmV0dXJuO2NvbnN0e2FuaW1hdGlvbjplLGtleWZyYW1lczpuLGR1cmF0aW9uOnIsdHlwZTpvLGVhc2U6aSx0aW1lczphfT10O2lmKFwiaWRsZVwiPT09ZS5wbGF5U3RhdGV8fFwiZmluaXNoZWRcIj09PWUucGxheVN0YXRlKXJldHVybjtpZih0aGlzLnRpbWUpe2NvbnN0e21vdGlvblZhbHVlOnQsb25VcGRhdGU6ZSxvbkNvbXBsZXRlOnMsZWxlbWVudDp1LC4uLmN9PXRoaXMub3B0aW9ucyxsPW5ldyB0aSh7Li4uYyxrZXlmcmFtZXM6bixkdXJhdGlvbjpyLHR5cGU6byxlYXNlOmksdGltZXM6YSxpc0dlbmVyYXRvcjohMH0pLGY9SWUodGhpcy50aW1lKTt0LnNldFdpdGhWZWxvY2l0eShsLnNhbXBsZShmLTEwKS52YWx1ZSxsLnNhbXBsZShmKS52YWx1ZSwxMCl9Y29uc3R7b25TdG9wOnN9PXRoaXMub3B0aW9ucztzJiZzKCksdGhpcy5jYW5jZWwoKX1jb21wbGV0ZSgpe2NvbnN0e3Jlc29sdmVkOnR9PXRoaXM7dCYmdC5hbmltYXRpb24uZmluaXNoKCl9Y2FuY2VsKCl7Y29uc3R7cmVzb2x2ZWQ6dH09dGhpczt0JiZ0LmFuaW1hdGlvbi5jYW5jZWwoKX1zdGF0aWMgc3VwcG9ydHModCl7Y29uc3R7bW90aW9uVmFsdWU6ZSxuYW1lOm4scmVwZWF0RGVsYXk6cixyZXBlYXRUeXBlOm8sZGFtcGluZzppLHR5cGU6YX09dDtyZXR1cm4gcGkoKSYmbiYmZWkuaGFzKG4pJiZlJiZlLm93bmVyJiZlLm93bmVyLmN1cnJlbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCYmIWUub3duZXIuZ2V0UHJvcHMoKS5vblVwZGF0ZSYmIXImJlwibWlycm9yXCIhPT1vJiYwIT09aSYmXCJpbmVydGlhXCIhPT1hfX1jb25zdCB5aT0odCxlLG4scj17fSxvLGkpPT5hPT57Y29uc3Qgcz1JbihyLHQpfHx7fSx1PXMuZGVsYXl8fHIuZGVsYXl8fDA7bGV0e2VsYXBzZWQ6Yz0wfT1yO2MtPUllKHUpO2xldCBsPXtrZXlmcmFtZXM6QXJyYXkuaXNBcnJheShuKT9uOltudWxsLG5dLGVhc2U6XCJlYXNlT3V0XCIsdmVsb2NpdHk6ZS5nZXRWZWxvY2l0eSgpLC4uLnMsZGVsYXk6LWMsb25VcGRhdGU6dD0+e2Uuc2V0KHQpLHMub25VcGRhdGUmJnMub25VcGRhdGUodCl9LG9uQ29tcGxldGU6KCk9PnthKCkscy5vbkNvbXBsZXRlJiZzLm9uQ29tcGxldGUoKX0sbmFtZTp0LG1vdGlvblZhbHVlOmUsZWxlbWVudDppP3ZvaWQgMDpvfTsoZnVuY3Rpb24oe3doZW46dCxkZWxheTplLGRlbGF5Q2hpbGRyZW46bixzdGFnZ2VyQ2hpbGRyZW46cixzdGFnZ2VyRGlyZWN0aW9uOm8scmVwZWF0OmkscmVwZWF0VHlwZTphLHJlcGVhdERlbGF5OnMsZnJvbTp1LGVsYXBzZWQ6YywuLi5sfSl7cmV0dXJuISFPYmplY3Qua2V5cyhsKS5sZW5ndGh9KShzKXx8KGw9ey4uLmwsLi4uTG4odCxsKX0pLGwuZHVyYXRpb24mJihsLmR1cmF0aW9uPUllKGwuZHVyYXRpb24pKSxsLnJlcGVhdERlbGF5JiYobC5yZXBlYXREZWxheT1JZShsLnJlcGVhdERlbGF5KSksdm9pZCAwIT09bC5mcm9tJiYobC5rZXlmcmFtZXNbMF09bC5mcm9tKTtsZXQgZj0hMTtpZigoITE9PT1sLnR5cGV8fDA9PT1sLmR1cmF0aW9uJiYhbC5yZXBlYXREZWxheSkmJihsLmR1cmF0aW9uPTAsMD09PWwuZGVsYXkmJihmPSEwKSksKFJufHxObikmJihmPSEwLGwuZHVyYXRpb249MCxsLmRlbGF5PTApLGYmJiFpJiZ2b2lkIDAhPT1lLmdldCgpKXtjb25zdCB0PURuKGwua2V5ZnJhbWVzLHMpO2lmKHZvaWQgMCE9PXQpcmV0dXJuIEduLnVwZGF0ZSgoKCk9PntsLm9uVXBkYXRlKHQpLGwub25Db21wbGV0ZSgpfSkpLG5ldyBMZShbXSl9cmV0dXJuIWkmJmhpLnN1cHBvcnRzKGwpP25ldyBoaShsKTpuZXcgdGkobCl9LHZpPXQ9PkFycmF5LmlzQXJyYXkodCksbWk9dD0+Qm9vbGVhbih0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdC5taXgmJnQudG9WYWx1ZSksZ2k9dD0+dmkodCk/dFt0Lmxlbmd0aC0xXXx8MDp0O2NsYXNzIGJpe2NvbnN0cnVjdG9yKCl7dGhpcy5zdWJzY3JpcHRpb25zPVtdfWFkZCh0KXt2YXIgZSxuO3JldHVybiBlPXRoaXMuc3Vic2NyaXB0aW9ucyxuPXQsLTE9PT1lLmluZGV4T2YobikmJmUucHVzaChuKSwoKT0+dm4odGhpcy5zdWJzY3JpcHRpb25zLHQpfW5vdGlmeSh0LGUsbil7Y29uc3Qgcj10aGlzLnN1YnNjcmlwdGlvbnMubGVuZ3RoO2lmKHIpaWYoMT09PXIpdGhpcy5zdWJzY3JpcHRpb25zWzBdKHQsZSxuKTtlbHNlIGZvcihsZXQgbz0wO288cjtvKyspe2NvbnN0IHI9dGhpcy5zdWJzY3JpcHRpb25zW29dO3ImJnIodCxlLG4pfX1nZXRTaXplKCl7cmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGh9Y2xlYXIoKXt0aGlzLnN1YnNjcmlwdGlvbnMubGVuZ3RoPTB9fWNvbnN0IHdpPXtjdXJyZW50OnZvaWQgMH07Y2xhc3MgX2l7Y29uc3RydWN0b3IodCxlPXt9KXt0aGlzLnZlcnNpb249XCIxMS4xMS45XCIsdGhpcy5jYW5UcmFja1ZlbG9jaXR5PW51bGwsdGhpcy5ldmVudHM9e30sdGhpcy51cGRhdGVBbmROb3RpZnk9KHQsZT0hMCk9Pntjb25zdCBuPWtvLm5vdygpO3RoaXMudXBkYXRlZEF0IT09biYmdGhpcy5zZXRQcmV2RnJhbWVWYWx1ZSgpLHRoaXMucHJldj10aGlzLmN1cnJlbnQsdGhpcy5zZXRDdXJyZW50KHQpLHRoaXMuY3VycmVudCE9PXRoaXMucHJldiYmdGhpcy5ldmVudHMuY2hhbmdlJiZ0aGlzLmV2ZW50cy5jaGFuZ2Uubm90aWZ5KHRoaXMuY3VycmVudCksZSYmdGhpcy5ldmVudHMucmVuZGVyUmVxdWVzdCYmdGhpcy5ldmVudHMucmVuZGVyUmVxdWVzdC5ub3RpZnkodGhpcy5jdXJyZW50KX0sdGhpcy5oYXNBbmltYXRlZD0hMSx0aGlzLnNldEN1cnJlbnQodCksdGhpcy5vd25lcj1lLm93bmVyfXNldEN1cnJlbnQodCl7dmFyIGU7dGhpcy5jdXJyZW50PXQsdGhpcy51cGRhdGVkQXQ9a28ubm93KCksbnVsbD09PXRoaXMuY2FuVHJhY2tWZWxvY2l0eSYmdm9pZCAwIT09dCYmKHRoaXMuY2FuVHJhY2tWZWxvY2l0eT0oZT10aGlzLmN1cnJlbnQsIWlzTmFOKHBhcnNlRmxvYXQoZSkpKSl9c2V0UHJldkZyYW1lVmFsdWUodD10aGlzLmN1cnJlbnQpe3RoaXMucHJldkZyYW1lVmFsdWU9dCx0aGlzLnByZXZVcGRhdGVkQXQ9dGhpcy51cGRhdGVkQXR9b25DaGFuZ2UodCl7cmV0dXJuIHRoaXMub24oXCJjaGFuZ2VcIix0KX1vbih0LGUpe3RoaXMuZXZlbnRzW3RdfHwodGhpcy5ldmVudHNbdF09bmV3IGJpKTtjb25zdCBuPXRoaXMuZXZlbnRzW3RdLmFkZChlKTtyZXR1cm5cImNoYW5nZVwiPT09dD8oKT0+e24oKSxHbi5yZWFkKCgoKT0+e3RoaXMuZXZlbnRzLmNoYW5nZS5nZXRTaXplKCl8fHRoaXMuc3RvcCgpfSkpfTpufWNsZWFyTGlzdGVuZXJzKCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5ldmVudHMpdGhpcy5ldmVudHNbdF0uY2xlYXIoKX1hdHRhY2godCxlKXt0aGlzLnBhc3NpdmVFZmZlY3Q9dCx0aGlzLnN0b3BQYXNzaXZlRWZmZWN0PWV9c2V0KHQsZT0hMCl7ZSYmdGhpcy5wYXNzaXZlRWZmZWN0P3RoaXMucGFzc2l2ZUVmZmVjdCh0LHRoaXMudXBkYXRlQW5kTm90aWZ5KTp0aGlzLnVwZGF0ZUFuZE5vdGlmeSh0LGUpfXNldFdpdGhWZWxvY2l0eSh0LGUsbil7dGhpcy5zZXQoZSksdGhpcy5wcmV2PXZvaWQgMCx0aGlzLnByZXZGcmFtZVZhbHVlPXQsdGhpcy5wcmV2VXBkYXRlZEF0PXRoaXMudXBkYXRlZEF0LW59anVtcCh0LGU9ITApe3RoaXMudXBkYXRlQW5kTm90aWZ5KHQpLHRoaXMucHJldj10LHRoaXMucHJldlVwZGF0ZWRBdD10aGlzLnByZXZGcmFtZVZhbHVlPXZvaWQgMCxlJiZ0aGlzLnN0b3AoKSx0aGlzLnN0b3BQYXNzaXZlRWZmZWN0JiZ0aGlzLnN0b3BQYXNzaXZlRWZmZWN0KCl9Z2V0KCl7cmV0dXJuIHdpLmN1cnJlbnQmJndpLmN1cnJlbnQucHVzaCh0aGlzKSx0aGlzLmN1cnJlbnR9Z2V0UHJldmlvdXMoKXtyZXR1cm4gdGhpcy5wcmV2fWdldFZlbG9jaXR5KCl7Y29uc3QgdD1rby5ub3coKTtpZighdGhpcy5jYW5UcmFja1ZlbG9jaXR5fHx2b2lkIDA9PT10aGlzLnByZXZGcmFtZVZhbHVlfHx0LXRoaXMudXBkYXRlZEF0PjMwKXJldHVybiAwO2NvbnN0IGU9TWF0aC5taW4odGhpcy51cGRhdGVkQXQtdGhpcy5wcmV2VXBkYXRlZEF0LDMwKTtyZXR1cm4gTWUocGFyc2VGbG9hdCh0aGlzLmN1cnJlbnQpLXBhcnNlRmxvYXQodGhpcy5wcmV2RnJhbWVWYWx1ZSksZSl9c3RhcnQodCl7cmV0dXJuIHRoaXMuc3RvcCgpLG5ldyBQcm9taXNlKChlPT57dGhpcy5oYXNBbmltYXRlZD0hMCx0aGlzLmFuaW1hdGlvbj10KGUpLHRoaXMuZXZlbnRzLmFuaW1hdGlvblN0YXJ0JiZ0aGlzLmV2ZW50cy5hbmltYXRpb25TdGFydC5ub3RpZnkoKX0pKS50aGVuKCgoKT0+e3RoaXMuZXZlbnRzLmFuaW1hdGlvbkNvbXBsZXRlJiZ0aGlzLmV2ZW50cy5hbmltYXRpb25Db21wbGV0ZS5ub3RpZnkoKSx0aGlzLmNsZWFyQW5pbWF0aW9uKCl9KSl9c3RvcCgpe3RoaXMuYW5pbWF0aW9uJiYodGhpcy5hbmltYXRpb24uc3RvcCgpLHRoaXMuZXZlbnRzLmFuaW1hdGlvbkNhbmNlbCYmdGhpcy5ldmVudHMuYW5pbWF0aW9uQ2FuY2VsLm5vdGlmeSgpKSx0aGlzLmNsZWFyQW5pbWF0aW9uKCl9aXNBbmltYXRpbmcoKXtyZXR1cm4hIXRoaXMuYW5pbWF0aW9ufWNsZWFyQW5pbWF0aW9uKCl7ZGVsZXRlIHRoaXMuYW5pbWF0aW9ufWRlc3Ryb3koKXt0aGlzLmNsZWFyTGlzdGVuZXJzKCksdGhpcy5zdG9wKCksdGhpcy5zdG9wUGFzc2l2ZUVmZmVjdCYmdGhpcy5zdG9wUGFzc2l2ZUVmZmVjdCgpfX1mdW5jdGlvbiBTaSh0LGUpe3JldHVybiBuZXcgX2kodCxlKX1mdW5jdGlvbiBraSh0KXtjb25zdCBlPVt7fSx7fV07cmV0dXJuIG51bGw9PXR8fHQudmFsdWVzLmZvckVhY2goKCh0LG4pPT57ZVswXVtuXT10LmdldCgpLGVbMV1bbl09dC5nZXRWZWxvY2l0eSgpfSkpLGV9ZnVuY3Rpb24geGkodCxlLG4scil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSl7Y29uc3RbbyxpXT1raShyKTtlPWUodm9pZCAwIT09bj9uOnQuY3VzdG9tLG8saSl9aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXQudmFyaWFudHMmJnQudmFyaWFudHNbZV0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpe2NvbnN0W28saV09a2kocik7ZT1lKHZvaWQgMCE9PW4/bjp0LmN1c3RvbSxvLGkpfXJldHVybiBlfWZ1bmN0aW9uIEFpKHQsZSxuKXtjb25zdCByPXQuZ2V0UHJvcHMoKTtyZXR1cm4geGkocixlLHZvaWQgMCE9PW4/bjpyLmN1c3RvbSx0KX1mdW5jdGlvbiBPaSh0LGUsbil7dC5oYXNWYWx1ZShlKT90LmdldFZhbHVlKGUpLnNldChuKTp0LmFkZFZhbHVlKGUsU2kobikpfWNvbnN0IFRpPXQ9PnQucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZ3UsXCIkMS0kMlwiKS50b0xvd2VyQ2FzZSgpLEVpPVwiZGF0YS1cIitUaShcImZyYW1lckFwcGVhcklkXCIpO2Z1bmN0aW9uIFBpKHQpe3JldHVybiB0LnByb3BzW0VpXX1mdW5jdGlvbiBqaSh0LGUpe2lmKCF0LmFwcGx5V2lsbENoYW5nZSlyZXR1cm47Y29uc3Qgbj10LmdldFZhbHVlKFwid2lsbENoYW5nZVwiKTtyZXR1cm4gcj1uLEJvb2xlYW4odW4ocikmJnIuYWRkKT9uLmFkZChlKTp2b2lkIDA7dmFyIHJ9ZnVuY3Rpb24gQ2koe3Byb3RlY3RlZEtleXM6dCxuZWVkc0FuaW1hdGluZzplfSxuKXtjb25zdCByPXQuaGFzT3duUHJvcGVydHkobikmJiEwIT09ZVtuXTtyZXR1cm4gZVtuXT0hMSxyfWZ1bmN0aW9uIExpKHQsZSx7ZGVsYXk6bj0wLHRyYW5zaXRpb25PdmVycmlkZTpyLHR5cGU6b309e30pe3ZhciBpO2xldHt0cmFuc2l0aW9uOmE9dC5nZXREZWZhdWx0VHJhbnNpdGlvbigpLHRyYW5zaXRpb25FbmQ6cywuLi51fT1lO3ImJihhPXIpO2NvbnN0IGM9W10sbD1vJiZ0LmFuaW1hdGlvblN0YXRlJiZ0LmFuaW1hdGlvblN0YXRlLmdldFN0YXRlKClbb107Zm9yKGNvbnN0IGUgaW4gdSl7Y29uc3Qgcj10LmdldFZhbHVlKGUsbnVsbCE9PShpPXQubGF0ZXN0VmFsdWVzW2VdKSYmdm9pZCAwIT09aT9pOm51bGwpLG89dVtlXTtpZih2b2lkIDA9PT1vfHxsJiZDaShsLGUpKWNvbnRpbnVlO2NvbnN0IHM9e2RlbGF5Om4sLi4uSW4oYXx8e30sZSl9O2xldCBmPSExO2lmKHdpbmRvdy5Nb3Rpb25IYW5kb2ZmQW5pbWF0aW9uKXtjb25zdCBuPVBpKHQpO2lmKG4pe2NvbnN0IHQ9d2luZG93Lk1vdGlvbkhhbmRvZmZBbmltYXRpb24obixlLEduKTtudWxsIT09dCYmKHMuc3RhcnRUaW1lPXQsZj0hMCl9fWppKHQsZSksci5zdGFydCh5aShlLHIsbyx0LnNob3VsZFJlZHVjZU1vdGlvbiYmRW4uaGFzKGUpP3t0eXBlOiExfTpzLHQsZikpO2NvbnN0IHA9ci5hbmltYXRpb247cCYmYy5wdXNoKHApfXJldHVybiBzJiZQcm9taXNlLmFsbChjKS50aGVuKCgoKT0+e0duLnVwZGF0ZSgoKCk9PntzJiZmdW5jdGlvbih0LGUpe2NvbnN0IG49QWkodCxlKTtsZXR7dHJhbnNpdGlvbkVuZDpyPXt9LHRyYW5zaXRpb246bz17fSwuLi5pfT1ufHx7fTtpPXsuLi5pLC4uLnJ9O2Zvcihjb25zdCBlIGluIGkpT2kodCxlLGdpKGlbZV0pKX0odCxzKX0pKX0pKSxjfWNvbnN0IElpPXt9O2Z1bmN0aW9uIE5pKHQse2xheW91dDplLGxheW91dElkOm59KXtyZXR1cm4gRW4uaGFzKHQpfHx0LnN0YXJ0c1dpdGgoXCJvcmlnaW5cIil8fChlfHx2b2lkIDAhPT1uKSYmKCEhSWlbdF18fFwib3BhY2l0eVwiPT09dCl9ZnVuY3Rpb24gTWkodCxlLG4pe3ZhciByO2NvbnN0e3N0eWxlOm99PXQsaT17fTtmb3IoY29uc3QgYSBpbiBvKSh1bihvW2FdKXx8ZS5zdHlsZSYmdW4oZS5zdHlsZVthXSl8fE5pKGEsdCl8fHZvaWQgMCE9PShudWxsPT09KHI9bnVsbD09bj92b2lkIDA6bi5nZXRWYWx1ZShhKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIubGl2ZVN0eWxlKSkmJihpW2FdPW9bYV0pO3JldHVybiBuJiZvJiZcInN0cmluZ1wiPT10eXBlb2Ygby53aWxsQ2hhbmdlJiYobi5hcHBseVdpbGxDaGFuZ2U9ITEpLGl9ZnVuY3Rpb24gUmkodCxlLG4pe2NvbnN0IHI9TWkodCxlLG4pO2Zvcihjb25zdCBuIGluIHQpaWYodW4odFtuXSl8fHVuKGVbbl0pKXtyWy0xIT09VG4uaW5kZXhPZihuKT9cImF0dHJcIituLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc3Vic3RyaW5nKDEpOm5dPXRbbl19cmV0dXJuIHJ9Y29uc3QgRmk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyxEaT17Y3VycmVudDpudWxsfSxCaT17Y3VycmVudDohMX07ZnVuY3Rpb24gVmkodCl7cmV0dXJuIG51bGwhPT10JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5zdGFydH1mdW5jdGlvbiBHaSh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdHx8QXJyYXkuaXNBcnJheSh0KX1jb25zdCBVaT1bXCJhbmltYXRlXCIsXCJ3aGlsZUluVmlld1wiLFwid2hpbGVGb2N1c1wiLFwid2hpbGVIb3ZlclwiLFwid2hpbGVUYXBcIixcIndoaWxlRHJhZ1wiLFwiZXhpdFwiXSxIaT1bXCJpbml0aWFsXCIsLi4uVWldO2Z1bmN0aW9uIHppKHQpe3JldHVybiBWaSh0LmFuaW1hdGUpfHxIaS5zb21lKChlPT5HaSh0W2VdKSkpfWZ1bmN0aW9uIFdpKHQpe3JldHVybiBCb29sZWFuKHppKHQpfHx0LnZhcmlhbnRzKX1jb25zdCAkaT17YW5pbWF0aW9uOltcImFuaW1hdGVcIixcInZhcmlhbnRzXCIsXCJ3aGlsZUhvdmVyXCIsXCJ3aGlsZVRhcFwiLFwiZXhpdFwiLFwid2hpbGVJblZpZXdcIixcIndoaWxlRm9jdXNcIixcIndoaWxlRHJhZ1wiXSxleGl0OltcImV4aXRcIl0sZHJhZzpbXCJkcmFnXCIsXCJkcmFnQ29udHJvbHNcIl0sZm9jdXM6W1wid2hpbGVGb2N1c1wiXSxob3ZlcjpbXCJ3aGlsZUhvdmVyXCIsXCJvbkhvdmVyU3RhcnRcIixcIm9uSG92ZXJFbmRcIl0sdGFwOltcIndoaWxlVGFwXCIsXCJvblRhcFwiLFwib25UYXBTdGFydFwiLFwib25UYXBDYW5jZWxcIl0scGFuOltcIm9uUGFuXCIsXCJvblBhblN0YXJ0XCIsXCJvblBhblNlc3Npb25TdGFydFwiLFwib25QYW5FbmRcIl0saW5WaWV3OltcIndoaWxlSW5WaWV3XCIsXCJvblZpZXdwb3J0RW50ZXJcIixcIm9uVmlld3BvcnRMZWF2ZVwiXSxsYXlvdXQ6W1wibGF5b3V0XCIsXCJsYXlvdXRJZFwiXX0sWWk9e307Zm9yKGNvbnN0IHQgaW4gJGkpWWlbdF09e2lzRW5hYmxlZDplPT4kaVt0XS5zb21lKCh0PT4hIWVbdF0pKX07Y29uc3QgcWk9Wy4uLkNyLHFyLGFvXSxYaT0oKT0+KHt4OnttaW46MCxtYXg6MH0seTp7bWluOjAsbWF4OjB9fSksS2k9W1wiQW5pbWF0aW9uU3RhcnRcIixcIkFuaW1hdGlvbkNvbXBsZXRlXCIsXCJVcGRhdGVcIixcIkJlZm9yZUxheW91dE1lYXN1cmVcIixcIkxheW91dE1lYXN1cmVcIixcIkxheW91dEFuaW1hdGlvblN0YXJ0XCIsXCJMYXlvdXRBbmltYXRpb25Db21wbGV0ZVwiXTtjbGFzcyBaaXtzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHModCxlLG4pe3JldHVybnt9fWNvbnN0cnVjdG9yKHtwYXJlbnQ6dCxwcm9wczplLHByZXNlbmNlQ29udGV4dDpuLHJlZHVjZWRNb3Rpb25Db25maWc6cixibG9ja0luaXRpYWxBbmltYXRpb246byx2aXN1YWxTdGF0ZTppfSxhPXt9KXt0aGlzLmFwcGx5V2lsbENoYW5nZT0hMSx0aGlzLmN1cnJlbnQ9bnVsbCx0aGlzLmNoaWxkcmVuPW5ldyBTZXQsdGhpcy5pc1ZhcmlhbnROb2RlPSExLHRoaXMuaXNDb250cm9sbGluZ1ZhcmlhbnRzPSExLHRoaXMuc2hvdWxkUmVkdWNlTW90aW9uPW51bGwsdGhpcy52YWx1ZXM9bmV3IE1hcCx0aGlzLktleWZyYW1lUmVzb2x2ZXI9RHIsdGhpcy5mZWF0dXJlcz17fSx0aGlzLnZhbHVlU3Vic2NyaXB0aW9ucz1uZXcgTWFwLHRoaXMucHJldk1vdGlvblZhbHVlcz17fSx0aGlzLmV2ZW50cz17fSx0aGlzLnByb3BFdmVudFN1YnNjcmlwdGlvbnM9e30sdGhpcy5ub3RpZnlVcGRhdGU9KCk9PnRoaXMubm90aWZ5KFwiVXBkYXRlXCIsdGhpcy5sYXRlc3RWYWx1ZXMpLHRoaXMucmVuZGVyPSgpPT57dGhpcy5jdXJyZW50JiYodGhpcy50cmlnZ2VyQnVpbGQoKSx0aGlzLnJlbmRlckluc3RhbmNlKHRoaXMuY3VycmVudCx0aGlzLnJlbmRlclN0YXRlLHRoaXMucHJvcHMuc3R5bGUsdGhpcy5wcm9qZWN0aW9uKSl9LHRoaXMucmVuZGVyU2NoZWR1bGVkQXQ9MCx0aGlzLnNjaGVkdWxlUmVuZGVyPSgpPT57Y29uc3QgdD1rby5ub3coKTt0aGlzLnJlbmRlclNjaGVkdWxlZEF0PHQmJih0aGlzLnJlbmRlclNjaGVkdWxlZEF0PXQsR24ucmVuZGVyKHRoaXMucmVuZGVyLCExLCEwKSl9O2NvbnN0e2xhdGVzdFZhbHVlczpzLHJlbmRlclN0YXRlOnV9PWk7dGhpcy5sYXRlc3RWYWx1ZXM9cyx0aGlzLmJhc2VUYXJnZXQ9ey4uLnN9LHRoaXMuaW5pdGlhbFZhbHVlcz1lLmluaXRpYWw/ey4uLnN9Ont9LHRoaXMucmVuZGVyU3RhdGU9dSx0aGlzLnBhcmVudD10LHRoaXMucHJvcHM9ZSx0aGlzLnByZXNlbmNlQ29udGV4dD1uLHRoaXMuZGVwdGg9dD90LmRlcHRoKzE6MCx0aGlzLnJlZHVjZWRNb3Rpb25Db25maWc9cix0aGlzLm9wdGlvbnM9YSx0aGlzLmJsb2NrSW5pdGlhbEFuaW1hdGlvbj1Cb29sZWFuKG8pLHRoaXMuaXNDb250cm9sbGluZ1ZhcmlhbnRzPXppKGUpLHRoaXMuaXNWYXJpYW50Tm9kZT1XaShlKSx0aGlzLmlzVmFyaWFudE5vZGUmJih0aGlzLnZhcmlhbnRDaGlsZHJlbj1uZXcgU2V0KSx0aGlzLm1hbnVhbGx5QW5pbWF0ZU9uTW91bnQ9Qm9vbGVhbih0JiZ0LmN1cnJlbnQpO2NvbnN0e3dpbGxDaGFuZ2U6YywuLi5sfT10aGlzLnNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyhlLHt9LHRoaXMpO2Zvcihjb25zdCB0IGluIGwpe2NvbnN0IGU9bFt0XTt2b2lkIDAhPT1zW3RdJiZ1bihlKSYmZS5zZXQoc1t0XSwhMSl9fW1vdW50KHQpe3RoaXMuY3VycmVudD10LE9uLnNldCh0LHRoaXMpLHRoaXMucHJvamVjdGlvbiYmIXRoaXMucHJvamVjdGlvbi5pbnN0YW5jZSYmdGhpcy5wcm9qZWN0aW9uLm1vdW50KHQpLHRoaXMucGFyZW50JiZ0aGlzLmlzVmFyaWFudE5vZGUmJiF0aGlzLmlzQ29udHJvbGxpbmdWYXJpYW50cyYmKHRoaXMucmVtb3ZlRnJvbVZhcmlhbnRUcmVlPXRoaXMucGFyZW50LmFkZFZhcmlhbnRDaGlsZCh0aGlzKSksdGhpcy52YWx1ZXMuZm9yRWFjaCgoKHQsZSk9PnRoaXMuYmluZFRvTW90aW9uVmFsdWUoZSx0KSkpLEJpLmN1cnJlbnR8fGZ1bmN0aW9uKCl7aWYoQmkuY3VycmVudD0hMCxGaSlpZih3aW5kb3cubWF0Y2hNZWRpYSl7Y29uc3QgdD13aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uKVwiKSxlPSgpPT5EaS5jdXJyZW50PXQubWF0Y2hlczt0LmFkZExpc3RlbmVyKGUpLGUoKX1lbHNlIERpLmN1cnJlbnQ9ITF9KCksdGhpcy5zaG91bGRSZWR1Y2VNb3Rpb249XCJuZXZlclwiIT09dGhpcy5yZWR1Y2VkTW90aW9uQ29uZmlnJiYoXCJhbHdheXNcIj09PXRoaXMucmVkdWNlZE1vdGlvbkNvbmZpZ3x8RGkuY3VycmVudCksdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmNoaWxkcmVuLmFkZCh0aGlzKSx0aGlzLnVwZGF0ZSh0aGlzLnByb3BzLHRoaXMucHJlc2VuY2VDb250ZXh0KX11bm1vdW50KCl7T24uZGVsZXRlKHRoaXMuY3VycmVudCksdGhpcy5wcm9qZWN0aW9uJiZ0aGlzLnByb2plY3Rpb24udW5tb3VudCgpLFVuKHRoaXMubm90aWZ5VXBkYXRlKSxVbih0aGlzLnJlbmRlciksdGhpcy52YWx1ZVN1YnNjcmlwdGlvbnMuZm9yRWFjaCgodD0+dCgpKSksdGhpcy52YWx1ZVN1YnNjcmlwdGlvbnMuY2xlYXIoKSx0aGlzLnJlbW92ZUZyb21WYXJpYW50VHJlZSYmdGhpcy5yZW1vdmVGcm9tVmFyaWFudFRyZWUoKSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuY2hpbGRyZW4uZGVsZXRlKHRoaXMpO2Zvcihjb25zdCB0IGluIHRoaXMuZXZlbnRzKXRoaXMuZXZlbnRzW3RdLmNsZWFyKCk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5mZWF0dXJlcyl7Y29uc3QgZT10aGlzLmZlYXR1cmVzW3RdO2UmJihlLnVubW91bnQoKSxlLmlzTW91bnRlZD0hMSl9dGhpcy5jdXJyZW50PW51bGx9YmluZFRvTW90aW9uVmFsdWUodCxlKXt0aGlzLnZhbHVlU3Vic2NyaXB0aW9ucy5oYXModCkmJnRoaXMudmFsdWVTdWJzY3JpcHRpb25zLmdldCh0KSgpO2NvbnN0IG49RW4uaGFzKHQpLHI9ZS5vbihcImNoYW5nZVwiLChlPT57dGhpcy5sYXRlc3RWYWx1ZXNbdF09ZSx0aGlzLnByb3BzLm9uVXBkYXRlJiZHbi5wcmVSZW5kZXIodGhpcy5ub3RpZnlVcGRhdGUpLG4mJnRoaXMucHJvamVjdGlvbiYmKHRoaXMucHJvamVjdGlvbi5pc1RyYW5zZm9ybURpcnR5PSEwKX0pKSxvPWUub24oXCJyZW5kZXJSZXF1ZXN0XCIsdGhpcy5zY2hlZHVsZVJlbmRlcik7bGV0IGk7d2luZG93Lk1vdGlvbkNoZWNrQXBwZWFyU3luYyYmKGk9d2luZG93Lk1vdGlvbkNoZWNrQXBwZWFyU3luYyh0aGlzLHQsZSkpLHRoaXMudmFsdWVTdWJzY3JpcHRpb25zLnNldCh0LCgoKT0+e3IoKSxvKCksaSYmaSgpLGUub3duZXImJmUuc3RvcCgpfSkpfXNvcnROb2RlUG9zaXRpb24odCl7cmV0dXJuIHRoaXMuY3VycmVudCYmdGhpcy5zb3J0SW5zdGFuY2VOb2RlUG9zaXRpb24mJnRoaXMudHlwZT09PXQudHlwZT90aGlzLnNvcnRJbnN0YW5jZU5vZGVQb3NpdGlvbih0aGlzLmN1cnJlbnQsdC5jdXJyZW50KTowfXVwZGF0ZUZlYXR1cmVzKCl7bGV0IHQ9XCJhbmltYXRpb25cIjtmb3IodCBpbiBZaSl7Y29uc3QgZT1ZaVt0XTtpZighZSljb250aW51ZTtjb25zdHtpc0VuYWJsZWQ6bixGZWF0dXJlOnJ9PWU7aWYoIXRoaXMuZmVhdHVyZXNbdF0mJnImJm4odGhpcy5wcm9wcykmJih0aGlzLmZlYXR1cmVzW3RdPW5ldyByKHRoaXMpKSx0aGlzLmZlYXR1cmVzW3RdKXtjb25zdCBlPXRoaXMuZmVhdHVyZXNbdF07ZS5pc01vdW50ZWQ/ZS51cGRhdGUoKTooZS5tb3VudCgpLGUuaXNNb3VudGVkPSEwKX19fXRyaWdnZXJCdWlsZCgpe3RoaXMuYnVpbGQodGhpcy5yZW5kZXJTdGF0ZSx0aGlzLmxhdGVzdFZhbHVlcyx0aGlzLnByb3BzKX1tZWFzdXJlVmlld3BvcnRCb3goKXtyZXR1cm4gdGhpcy5jdXJyZW50P3RoaXMubWVhc3VyZUluc3RhbmNlVmlld3BvcnRCb3godGhpcy5jdXJyZW50LHRoaXMucHJvcHMpOnt4OnttaW46MCxtYXg6MH0seTp7bWluOjAsbWF4OjB9fX1nZXRTdGF0aWNWYWx1ZSh0KXtyZXR1cm4gdGhpcy5sYXRlc3RWYWx1ZXNbdF19c2V0U3RhdGljVmFsdWUodCxlKXt0aGlzLmxhdGVzdFZhbHVlc1t0XT1lfXVwZGF0ZSh0LGUpeyh0LnRyYW5zZm9ybVRlbXBsYXRlfHx0aGlzLnByb3BzLnRyYW5zZm9ybVRlbXBsYXRlKSYmdGhpcy5zY2hlZHVsZVJlbmRlcigpLHRoaXMucHJldlByb3BzPXRoaXMucHJvcHMsdGhpcy5wcm9wcz10LHRoaXMucHJldlByZXNlbmNlQ29udGV4dD10aGlzLnByZXNlbmNlQ29udGV4dCx0aGlzLnByZXNlbmNlQ29udGV4dD1lO2ZvcihsZXQgZT0wO2U8S2kubGVuZ3RoO2UrKyl7Y29uc3Qgbj1LaVtlXTt0aGlzLnByb3BFdmVudFN1YnNjcmlwdGlvbnNbbl0mJih0aGlzLnByb3BFdmVudFN1YnNjcmlwdGlvbnNbbl0oKSxkZWxldGUgdGhpcy5wcm9wRXZlbnRTdWJzY3JpcHRpb25zW25dKTtjb25zdCByPXRbXCJvblwiK25dO3ImJih0aGlzLnByb3BFdmVudFN1YnNjcmlwdGlvbnNbbl09dGhpcy5vbihuLHIpKX10aGlzLnByZXZNb3Rpb25WYWx1ZXM9ZnVuY3Rpb24odCxlLG4pe2Zvcihjb25zdCByIGluIGUpe2NvbnN0IG89ZVtyXSxpPW5bcl07aWYodW4obykpdC5hZGRWYWx1ZShyLG8pO2Vsc2UgaWYodW4oaSkpdC5hZGRWYWx1ZShyLFNpKG8se293bmVyOnR9KSk7ZWxzZSBpZihpIT09bylpZih0Lmhhc1ZhbHVlKHIpKXtjb25zdCBlPXQuZ2V0VmFsdWUocik7ITA9PT1lLmxpdmVTdHlsZT9lLmp1bXAobyk6ZS5oYXNBbmltYXRlZHx8ZS5zZXQobyl9ZWxzZXtjb25zdCBlPXQuZ2V0U3RhdGljVmFsdWUocik7dC5hZGRWYWx1ZShyLFNpKHZvaWQgMCE9PWU/ZTpvLHtvd25lcjp0fSkpfX1mb3IoY29uc3QgciBpbiBuKXZvaWQgMD09PWVbcl0mJnQucmVtb3ZlVmFsdWUocik7cmV0dXJuIGV9KHRoaXMsdGhpcy5zY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHModCx0aGlzLnByZXZQcm9wcyx0aGlzKSx0aGlzLnByZXZNb3Rpb25WYWx1ZXMpLHRoaXMuaGFuZGxlQ2hpbGRNb3Rpb25WYWx1ZSYmdGhpcy5oYW5kbGVDaGlsZE1vdGlvblZhbHVlKCl9Z2V0UHJvcHMoKXtyZXR1cm4gdGhpcy5wcm9wc31nZXRWYXJpYW50KHQpe3JldHVybiB0aGlzLnByb3BzLnZhcmlhbnRzP3RoaXMucHJvcHMudmFyaWFudHNbdF06dm9pZCAwfWdldERlZmF1bHRUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMucHJvcHMudHJhbnNpdGlvbn1nZXRUcmFuc2Zvcm1QYWdlUG9pbnQoKXtyZXR1cm4gdGhpcy5wcm9wcy50cmFuc2Zvcm1QYWdlUG9pbnR9Z2V0Q2xvc2VzdFZhcmlhbnROb2RlKCl7cmV0dXJuIHRoaXMuaXNWYXJpYW50Tm9kZT90aGlzOnRoaXMucGFyZW50P3RoaXMucGFyZW50LmdldENsb3Nlc3RWYXJpYW50Tm9kZSgpOnZvaWQgMH1hZGRWYXJpYW50Q2hpbGQodCl7Y29uc3QgZT10aGlzLmdldENsb3Nlc3RWYXJpYW50Tm9kZSgpO2lmKGUpcmV0dXJuIGUudmFyaWFudENoaWxkcmVuJiZlLnZhcmlhbnRDaGlsZHJlbi5hZGQodCksKCk9PmUudmFyaWFudENoaWxkcmVuLmRlbGV0ZSh0KX1hZGRWYWx1ZSh0LGUpe2NvbnN0IG49dGhpcy52YWx1ZXMuZ2V0KHQpO2UhPT1uJiYobiYmdGhpcy5yZW1vdmVWYWx1ZSh0KSx0aGlzLmJpbmRUb01vdGlvblZhbHVlKHQsZSksdGhpcy52YWx1ZXMuc2V0KHQsZSksdGhpcy5sYXRlc3RWYWx1ZXNbdF09ZS5nZXQoKSl9cmVtb3ZlVmFsdWUodCl7dGhpcy52YWx1ZXMuZGVsZXRlKHQpO2NvbnN0IGU9dGhpcy52YWx1ZVN1YnNjcmlwdGlvbnMuZ2V0KHQpO2UmJihlKCksdGhpcy52YWx1ZVN1YnNjcmlwdGlvbnMuZGVsZXRlKHQpKSxkZWxldGUgdGhpcy5sYXRlc3RWYWx1ZXNbdF0sdGhpcy5yZW1vdmVWYWx1ZUZyb21SZW5kZXJTdGF0ZSh0LHRoaXMucmVuZGVyU3RhdGUpfWhhc1ZhbHVlKHQpe3JldHVybiB0aGlzLnZhbHVlcy5oYXModCl9Z2V0VmFsdWUodCxlKXtpZih0aGlzLnByb3BzLnZhbHVlcyYmdGhpcy5wcm9wcy52YWx1ZXNbdF0pcmV0dXJuIHRoaXMucHJvcHMudmFsdWVzW3RdO2xldCBuPXRoaXMudmFsdWVzLmdldCh0KTtyZXR1cm4gdm9pZCAwPT09biYmdm9pZCAwIT09ZSYmKG49U2kobnVsbD09PWU/dm9pZCAwOmUse293bmVyOnRoaXN9KSx0aGlzLmFkZFZhbHVlKHQsbikpLG59cmVhZFZhbHVlKHQsZSl7dmFyIG47bGV0IHI9dm9pZCAwPT09dGhpcy5sYXRlc3RWYWx1ZXNbdF0mJnRoaXMuY3VycmVudD9udWxsIT09KG49dGhpcy5nZXRCYXNlVGFyZ2V0RnJvbVByb3BzKHRoaXMucHJvcHMsdCkpJiZ2b2lkIDAhPT1uP246dGhpcy5yZWFkVmFsdWVGcm9tSW5zdGFuY2UodGhpcy5jdXJyZW50LHQsdGhpcy5vcHRpb25zKTp0aGlzLmxhdGVzdFZhbHVlc1t0XTt2YXIgbztyZXR1cm4gbnVsbCE9ciYmKFwic3RyaW5nXCI9PXR5cGVvZiByJiYoaXIocil8fG9yKHIpKT9yPXBhcnNlRmxvYXQocik6KG89ciwhcWkuZmluZChqcihvKSkmJmFvLnRlc3QoZSkmJihyPWdvKHQsZSkpKSx0aGlzLnNldEJhc2VUYXJnZXQodCx1bihyKT9yLmdldCgpOnIpKSx1bihyKT9yLmdldCgpOnJ9c2V0QmFzZVRhcmdldCh0LGUpe3RoaXMuYmFzZVRhcmdldFt0XT1lfWdldEJhc2VUYXJnZXQodCl7dmFyIGU7Y29uc3R7aW5pdGlhbDpufT10aGlzLnByb3BzO2xldCByO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBufHxcIm9iamVjdFwiPT10eXBlb2Ygbil7Y29uc3Qgbz14aSh0aGlzLnByb3BzLG4sbnVsbD09PShlPXRoaXMucHJlc2VuY2VDb250ZXh0KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jdXN0b20pO28mJihyPW9bdF0pfWlmKG4mJnZvaWQgMCE9PXIpcmV0dXJuIHI7Y29uc3Qgbz10aGlzLmdldEJhc2VUYXJnZXRGcm9tUHJvcHModGhpcy5wcm9wcyx0KTtyZXR1cm4gdm9pZCAwPT09b3x8dW4obyk/dm9pZCAwIT09dGhpcy5pbml0aWFsVmFsdWVzW3RdJiZ2b2lkIDA9PT1yP3ZvaWQgMDp0aGlzLmJhc2VUYXJnZXRbdF06b31vbih0LGUpe3JldHVybiB0aGlzLmV2ZW50c1t0XXx8KHRoaXMuZXZlbnRzW3RdPW5ldyBiaSksdGhpcy5ldmVudHNbdF0uYWRkKGUpfW5vdGlmeSh0LC4uLmUpe3RoaXMuZXZlbnRzW3RdJiZ0aGlzLmV2ZW50c1t0XS5ub3RpZnkoLi4uZSl9fWNsYXNzIFFpIGV4dGVuZHMgWml7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuS2V5ZnJhbWVSZXNvbHZlcj13b31zb3J0SW5zdGFuY2VOb2RlUG9zaXRpb24odCxlKXtyZXR1cm4gMiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpPzE6LTF9Z2V0QmFzZVRhcmdldEZyb21Qcm9wcyh0LGUpe3JldHVybiB0LnN0eWxlP3Quc3R5bGVbZV06dm9pZCAwfXJlbW92ZVZhbHVlRnJvbVJlbmRlclN0YXRlKHQse3ZhcnM6ZSxzdHlsZTpufSl7ZGVsZXRlIGVbdF0sZGVsZXRlIG5bdF19fWNvbnN0IEppPSh0LGUpPT5lJiZcIm51bWJlclwiPT10eXBlb2YgdD9lLnRyYW5zZm9ybSh0KTp0LHRhPXt4OlwidHJhbnNsYXRlWFwiLHk6XCJ0cmFuc2xhdGVZXCIsejpcInRyYW5zbGF0ZVpcIix0cmFuc2Zvcm1QZXJzcGVjdGl2ZTpcInBlcnNwZWN0aXZlXCJ9LGVhPVRuLmxlbmd0aDtmdW5jdGlvbiBuYSh0LGUsbil7Y29uc3R7c3R5bGU6cix2YXJzOm8sdHJhbnNmb3JtT3JpZ2luOml9PXQ7bGV0IGE9ITEscz0hMTtmb3IoY29uc3QgdCBpbiBlKXtjb25zdCBuPWVbdF07aWYoRW4uaGFzKHQpKWE9ITA7ZWxzZSBpZihzcih0KSlvW3RdPW47ZWxzZXtjb25zdCBlPUppKG4seW9bdF0pO3Quc3RhcnRzV2l0aChcIm9yaWdpblwiKT8ocz0hMCxpW3RdPWUpOnJbdF09ZX19aWYoZS50cmFuc2Zvcm18fChhfHxuP3IudHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXtsZXQgcj1cIlwiLG89ITA7Zm9yKGxldCBpPTA7aTxlYTtpKyspe2NvbnN0IGE9VG5baV0scz10W2FdO2lmKHZvaWQgMD09PXMpY29udGludWU7bGV0IHU9ITA7aWYodT1cIm51bWJlclwiPT10eXBlb2Ygcz9zPT09KGEuc3RhcnRzV2l0aChcInNjYWxlXCIpPzE6MCk6MD09PXBhcnNlRmxvYXQocyksIXV8fG4pe2NvbnN0IHQ9Smkocyx5b1thXSk7dXx8KG89ITEscis9YCR7dGFbYV18fGF9KCR7dH0pIGApLG4mJihlW2FdPXQpfX1yZXR1cm4gcj1yLnRyaW0oKSxuP3I9bihlLG8/XCJcIjpyKTpvJiYocj1cIm5vbmVcIikscn0oZSx0LnRyYW5zZm9ybSxuKTpyLnRyYW5zZm9ybSYmKHIudHJhbnNmb3JtPVwibm9uZVwiKSkscyl7Y29uc3R7b3JpZ2luWDp0PVwiNTAlXCIsb3JpZ2luWTplPVwiNTAlXCIsb3JpZ2luWjpuPTB9PWk7ci50cmFuc2Zvcm1PcmlnaW49YCR7dH0gJHtlfSAke259YH19ZnVuY3Rpb24gcmEodCxlLG4pe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6YnIudHJhbnNmb3JtKGUrbip0KX1jb25zdCBvYT17b2Zmc2V0Olwic3Ryb2tlLWRhc2hvZmZzZXRcIixhcnJheTpcInN0cm9rZS1kYXNoYXJyYXlcIn0saWE9e29mZnNldDpcInN0cm9rZURhc2hvZmZzZXRcIixhcnJheTpcInN0cm9rZURhc2hhcnJheVwifTtmdW5jdGlvbiBhYSh0LHthdHRyWDplLGF0dHJZOm4sYXR0clNjYWxlOnIsb3JpZ2luWDpvLG9yaWdpblk6aSxwYXRoTGVuZ3RoOmEscGF0aFNwYWNpbmc6cz0xLHBhdGhPZmZzZXQ6dT0wLC4uLmN9LGwsZil7aWYobmEodCxjLGYpLGwpcmV0dXJuIHZvaWQodC5zdHlsZS52aWV3Qm94JiYodC5hdHRycy52aWV3Qm94PXQuc3R5bGUudmlld0JveCkpO3QuYXR0cnM9dC5zdHlsZSx0LnN0eWxlPXt9O2NvbnN0e2F0dHJzOnAsc3R5bGU6ZCxkaW1lbnNpb25zOmh9PXQ7cC50cmFuc2Zvcm0mJihoJiYoZC50cmFuc2Zvcm09cC50cmFuc2Zvcm0pLGRlbGV0ZSBwLnRyYW5zZm9ybSksaCYmKHZvaWQgMCE9PW98fHZvaWQgMCE9PWl8fGQudHJhbnNmb3JtKSYmKGQudHJhbnNmb3JtT3JpZ2luPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm5gJHtyYShlLHQueCx0LndpZHRoKX0gJHtyYShuLHQueSx0LmhlaWdodCl9YH0oaCx2b2lkIDAhPT1vP286LjUsdm9pZCAwIT09aT9pOi41KSksdm9pZCAwIT09ZSYmKHAueD1lKSx2b2lkIDAhPT1uJiYocC55PW4pLHZvaWQgMCE9PXImJihwLnNjYWxlPXIpLHZvaWQgMCE9PWEmJmZ1bmN0aW9uKHQsZSxuPTEscj0wLG89ITApe3QucGF0aExlbmd0aD0xO2NvbnN0IGk9bz9vYTppYTt0W2kub2Zmc2V0XT1ici50cmFuc2Zvcm0oLXIpO2NvbnN0IGE9YnIudHJhbnNmb3JtKGUpLHM9YnIudHJhbnNmb3JtKG4pO3RbaS5hcnJheV09YCR7YX0gJHtzfWB9KHAsYSxzLHUsITEpfWNvbnN0IHNhPW5ldyBTZXQoW1wiYmFzZUZyZXF1ZW5jeVwiLFwiZGlmZnVzZUNvbnN0YW50XCIsXCJrZXJuZWxNYXRyaXhcIixcImtlcm5lbFVuaXRMZW5ndGhcIixcImtleVNwbGluZXNcIixcImtleVRpbWVzXCIsXCJsaW1pdGluZ0NvbmVBbmdsZVwiLFwibWFya2VySGVpZ2h0XCIsXCJtYXJrZXJXaWR0aFwiLFwibnVtT2N0YXZlc1wiLFwidGFyZ2V0WFwiLFwidGFyZ2V0WVwiLFwic3VyZmFjZVNjYWxlXCIsXCJzcGVjdWxhckNvbnN0YW50XCIsXCJzcGVjdWxhckV4cG9uZW50XCIsXCJzdGREZXZpYXRpb25cIixcInRhYmxlVmFsdWVzXCIsXCJ2aWV3Qm94XCIsXCJncmFkaWVudFRyYW5zZm9ybVwiLFwicGF0aExlbmd0aFwiLFwic3RhcnRPZmZzZXRcIixcInRleHRMZW5ndGhcIixcImxlbmd0aEFkanVzdFwiXSk7ZnVuY3Rpb24gdWEodCx7c3R5bGU6ZSx2YXJzOm59LHIsbyl7T2JqZWN0LmFzc2lnbih0LnN0eWxlLGUsbyYmby5nZXRQcm9qZWN0aW9uU3R5bGVzKHIpKTtmb3IoY29uc3QgZSBpbiBuKXQuc3R5bGUuc2V0UHJvcGVydHkoZSxuW2VdKX1mdW5jdGlvbiBjYSh0LGUsbixyKXt1YSh0LGUsdm9pZCAwLHIpO2Zvcihjb25zdCBuIGluIGUuYXR0cnMpdC5zZXRBdHRyaWJ1dGUoc2EuaGFzKG4pP246VGkobiksZS5hdHRyc1tuXSl9Y29uc3QgbGE9dD0+XCJzdHJpbmdcIj09dHlwZW9mIHQmJlwic3ZnXCI9PT10LnRvTG93ZXJDYXNlKCk7Y2xhc3MgZmEgZXh0ZW5kcyBRaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50eXBlPVwic3ZnXCIsdGhpcy5pc1NWR1RhZz0hMSx0aGlzLm1lYXN1cmVJbnN0YW5jZVZpZXdwb3J0Qm94PVhpfWdldEJhc2VUYXJnZXRGcm9tUHJvcHModCxlKXtyZXR1cm4gdFtlXX1yZWFkVmFsdWVGcm9tSW5zdGFuY2UodCxlKXtpZihFbi5oYXMoZSkpe2NvbnN0IHQ9bW8oZSk7cmV0dXJuIHQmJnQuZGVmYXVsdHx8MH1yZXR1cm4gZT1zYS5oYXMoZSk/ZTpUaShlKSx0LmdldEF0dHJpYnV0ZShlKX1zY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHModCxlLG4pe3JldHVybiBSaSh0LGUsbil9YnVpbGQodCxlLG4pe2FhKHQsZSx0aGlzLmlzU1ZHVGFnLG4udHJhbnNmb3JtVGVtcGxhdGUpfXJlbmRlckluc3RhbmNlKHQsZSxuLHIpe2NhKHQsZSwwLHIpfW1vdW50KHQpe3RoaXMuaXNTVkdUYWc9bGEodC50YWdOYW1lKSxzdXBlci5tb3VudCh0KX19ZnVuY3Rpb24gcGEodCxlKXtyZXR1cm4gZnVuY3Rpb24oe3RvcDp0LGxlZnQ6ZSxyaWdodDpuLGJvdHRvbTpyfSl7cmV0dXJue3g6e21pbjplLG1heDpufSx5OnttaW46dCxtYXg6cn19fShmdW5jdGlvbih0LGUpe2lmKCFlKXJldHVybiB0O2NvbnN0IG49ZSh7eDp0LmxlZnQseTp0LnRvcH0pLHI9ZSh7eDp0LnJpZ2h0LHk6dC5ib3R0b219KTtyZXR1cm57dG9wOm4ueSxsZWZ0Om4ueCxib3R0b206ci55LHJpZ2h0OnIueH19KHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZSkpfWNsYXNzIGRhIGV4dGVuZHMgUWl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT1cImh0bWxcIix0aGlzLmFwcGx5V2lsbENoYW5nZT0hMCx0aGlzLnJlbmRlckluc3RhbmNlPXVhfXJlYWRWYWx1ZUZyb21JbnN0YW5jZSh0LGUpe2lmKEVuLmhhcyhlKSl7Y29uc3QgdD1tbyhlKTtyZXR1cm4gdCYmdC5kZWZhdWx0fHwwfXtjb25zdCByPShuPXQsd2luZG93LmdldENvbXB1dGVkU3R5bGUobikpLG89KHNyKGUpP3IuZ2V0UHJvcGVydHlWYWx1ZShlKTpyW2VdKXx8MDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2Ygbz9vLnRyaW0oKTpvfXZhciBufW1lYXN1cmVJbnN0YW5jZVZpZXdwb3J0Qm94KHQse3RyYW5zZm9ybVBhZ2VQb2ludDplfSl7cmV0dXJuIHBhKHQsZSl9YnVpbGQodCxlLG4pe25hKHQsZSxuLnRyYW5zZm9ybVRlbXBsYXRlKX1zY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHModCxlLG4pe3JldHVybiBNaSh0LGUsbil9aGFuZGxlQ2hpbGRNb3Rpb25WYWx1ZSgpe3RoaXMuY2hpbGRTdWJzY3JpcHRpb24mJih0aGlzLmNoaWxkU3Vic2NyaXB0aW9uKCksZGVsZXRlIHRoaXMuY2hpbGRTdWJzY3JpcHRpb24pO2NvbnN0e2NoaWxkcmVuOnR9PXRoaXMucHJvcHM7dW4odCkmJih0aGlzLmNoaWxkU3Vic2NyaXB0aW9uPXQub24oXCJjaGFuZ2VcIiwodD0+e3RoaXMuY3VycmVudCYmKHRoaXMuY3VycmVudC50ZXh0Q29udGVudD1gJHt0fWApfSkpKX19Y2xhc3MgaGEgZXh0ZW5kcyBaaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50eXBlPVwib2JqZWN0XCJ9cmVhZFZhbHVlRnJvbUluc3RhbmNlKHQsZSl7aWYoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCBpbiBlfShlLHQpKXtjb25zdCBuPXRbZV07aWYoXCJzdHJpbmdcIj09dHlwZW9mIG58fFwibnVtYmVyXCI9PXR5cGVvZiBuKXJldHVybiBufX1nZXRCYXNlVGFyZ2V0RnJvbVByb3BzKCl7fXJlbW92ZVZhbHVlRnJvbVJlbmRlclN0YXRlKHQsZSl7ZGVsZXRlIGUub3V0cHV0W3RdfW1lYXN1cmVJbnN0YW5jZVZpZXdwb3J0Qm94KCl7cmV0dXJue3g6e21pbjowLG1heDowfSx5OnttaW46MCxtYXg6MH19fWJ1aWxkKHQsZSl7T2JqZWN0LmFzc2lnbih0Lm91dHB1dCxlKX1yZW5kZXJJbnN0YW5jZSh0LHtvdXRwdXQ6ZX0pe09iamVjdC5hc3NpZ24odCxlKX1zb3J0SW5zdGFuY2VOb2RlUG9zaXRpb24oKXtyZXR1cm4gMH19ZnVuY3Rpb24geWEodCl7Y29uc3QgZT17cHJlc2VuY2VDb250ZXh0Om51bGwscHJvcHM6e30sdmlzdWFsU3RhdGU6e3JlbmRlclN0YXRlOnt0cmFuc2Zvcm06e30sdHJhbnNmb3JtT3JpZ2luOnt9LHN0eWxlOnt9LHZhcnM6e30sYXR0cnM6e319LGxhdGVzdFZhbHVlczp7fX19LG49ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBTVkdFbGVtZW50JiZcInN2Z1wiIT09dC50YWdOYW1lfSh0KT9uZXcgZmEoZSk6bmV3IGRhKGUpO24ubW91bnQodCksT24uc2V0KHQsbil9ZnVuY3Rpb24gdmEodCl7Y29uc3QgZT1uZXcgaGEoe3ByZXNlbmNlQ29udGV4dDpudWxsLHByb3BzOnt9LHZpc3VhbFN0YXRlOntyZW5kZXJTdGF0ZTp7b3V0cHV0Ont9fSxsYXRlc3RWYWx1ZXM6e319fSk7ZS5tb3VudCh0KSxPbi5zZXQodCxlKX1mdW5jdGlvbiBtYSh0LGUsbixyKXtjb25zdCBvPVtdO2lmKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHVuKHQpfHxcIm51bWJlclwiPT10eXBlb2YgdHx8XCJzdHJpbmdcIj09dHlwZW9mIHQmJiFjbihlKX0odCxlKSlvLnB1c2goZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9dW4odCk/dDpTaSh0KTtyZXR1cm4gci5zdGFydCh5aShcIlwiLHIsZSxuKSksci5hbmltYXRpb259KHQsY24oZSkmJmUuZGVmYXVsdHx8ZSxuJiZuLmRlZmF1bHR8fG4pKTtlbHNle2NvbnN0IGk9bG4odCxlLHIpLGE9aS5sZW5ndGg7VmUoQm9vbGVhbihhKSxcIk5vIHZhbGlkIGVsZW1lbnRzIHByb3ZpZGVkLlwiKTtmb3IobGV0IHQ9MDt0PGE7dCsrKXtjb25zdCByPWlbdF0scz1yIGluc3RhbmNlb2YgRWxlbWVudD95YTp2YTtPbi5oYXMocil8fHMocik7Y29uc3QgdT1Pbi5nZXQociksYz17Li4ubn07XCJkZWxheVwiaW4gYyYmXCJmdW5jdGlvblwiPT10eXBlb2YgYy5kZWxheSYmKGMuZGVsYXk9Yy5kZWxheSh0LGEpKSxvLnB1c2goLi4uTGkodSx7Li4uZSx0cmFuc2l0aW9uOmN9LHt9KSl9fXJldHVybiBvfWZ1bmN0aW9uIGdhKHQsZSxuKXtjb25zdCByPVtdLG89ZnVuY3Rpb24odCx7ZGVmYXVsdFRyYW5zaXRpb246ZT17fSwuLi5ufT17fSxyLG8pe2NvbnN0IGk9ZS5kdXJhdGlvbnx8LjMsYT1uZXcgTWFwLHM9bmV3IE1hcCx1PXt9LGM9bmV3IE1hcDtsZXQgbD0wLGY9MCxwPTA7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGE9dFtuXTtpZihcInN0cmluZ1wiPT10eXBlb2YgYSl7Yy5zZXQoYSxmKTtjb250aW51ZX1pZighQXJyYXkuaXNBcnJheShhKSl7Yy5zZXQoYS5uYW1lLHBuKGYsYS5hdCxsLGMpKTtjb250aW51ZX1sZXRbZCxoLHk9e31dPWE7dm9pZCAwIT09eS5hdCYmKGY9cG4oZix5LmF0LGwsYykpO2xldCB2PTA7Y29uc3QgbT0odCxuLHIsYT0wLHM9MCk9Pntjb25zdCB1PVNuKHQpLHtkZWxheTpjPTAsdGltZXM6bD1zbih1KSx0eXBlOmQ9XCJrZXlmcmFtZXNcIiwuLi5ofT1uO2xldHtlYXNlOnk9ZS5lYXNlfHxcImVhc2VPdXRcIixkdXJhdGlvbjptfT1uO2NvbnN0IGc9XCJmdW5jdGlvblwiPT10eXBlb2YgYz9jKGEscyk6YyxiPXUubGVuZ3RoLHc9Zm4oZCk/ZDpudWxsPT1vP3ZvaWQgMDpvW2RdO2lmKGI8PTImJncpe2xldCB0PTEwMDtpZigyPT09YiYmQW4odSkpe2NvbnN0IGU9dVsxXS11WzBdO3Q9TWF0aC5hYnMoZSl9Y29uc3QgZT17Li4uaH07dm9pZCAwIT09bSYmKGUuZHVyYXRpb249SWUobSkpO2NvbnN0IG49bm4oZSx0LHcpO3k9bi5lYXNlLG09bi5kdXJhdGlvbn1udWxsIT1tfHwobT1pKTtjb25zdCBfPWYrZyxTPV8rbTsxPT09bC5sZW5ndGgmJjA9PT1sWzBdJiYobFsxXT0xKTtjb25zdCBrPWwubGVuZ3RoLXUubGVuZ3RoO2s+MCYmYW4obCxrKSwxPT09dS5sZW5ndGgmJnUudW5zaGlmdChudWxsKSxtbihyLHUseSxsLF8sUyksdj1NYXRoLm1heChnK20sdikscD1NYXRoLm1heChTLHApfTtpZih1bihkKSltKGgseSxfbihcImRlZmF1bHRcIix3bihkLHMpKSk7ZWxzZXtjb25zdCB0PWxuKGQsaCxyLHUpLGU9dC5sZW5ndGg7Zm9yKGxldCBuPTA7bjxlO24rKyl7Y29uc3Qgcj13bih0W25dLHMpO2Zvcihjb25zdCB0IGluIGgpbShoW3RdLGtuKHksdCksX24odCxyKSxuLGUpfX1sPWYsZis9dn1yZXR1cm4gcy5mb3JFYWNoKCgodCxyKT0+e2Zvcihjb25zdCBvIGluIHQpe2NvbnN0IGk9dFtvXTtpLnNvcnQoZ24pO2NvbnN0IHM9W10sdT1bXSxjPVtdO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKXtjb25zdHthdDplLHZhbHVlOm4sZWFzaW5nOnJ9PWlbdF07cy5wdXNoKG4pLHUucHVzaChvbigwLHAsZSkpLGMucHVzaChyfHxcImVhc2VPdXRcIil9MCE9PXVbMF0mJih1LnVuc2hpZnQoMCkscy51bnNoaWZ0KHNbMF0pLGMudW5zaGlmdChibikpLDEhPT11W3UubGVuZ3RoLTFdJiYodS5wdXNoKDEpLHMucHVzaChudWxsKSksYS5oYXMocil8fGEuc2V0KHIse2tleWZyYW1lczp7fSx0cmFuc2l0aW9uOnt9fSk7Y29uc3QgbD1hLmdldChyKTtsLmtleWZyYW1lc1tvXT1zLGwudHJhbnNpdGlvbltvXT17Li4uZSxkdXJhdGlvbjpwLGVhc2U6Yyx0aW1lczp1LC4uLm59fX0pKSxhfSh0LGUsbix7c3ByaW5nOkplfSk7cmV0dXJuIG8uZm9yRWFjaCgoKHtrZXlmcmFtZXM6dCx0cmFuc2l0aW9uOmV9LG4pPT57ci5wdXNoKC4uLm1hKG4sdCxlKSl9KSkscn1jb25zdCBiYT1mdW5jdGlvbih0LGUsbil7bGV0IHI9W107dmFyIG87bz10LHI9QXJyYXkuaXNBcnJheShvKSYmQXJyYXkuaXNBcnJheShvWzBdKT9nYSh0LGUsd2EpOm1hKHQsZSxuLHdhKTtjb25zdCBpPW5ldyBMZShyKTtyZXR1cm4gd2EmJndhLmFuaW1hdGlvbnMucHVzaChpKSxpfTt2YXIgd2E7ZnVuY3Rpb24gX2EodCl7cmV0dXJuIF9hPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LF9hKHQpfWZ1bmN0aW9uIFNhKCl7LyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqL1NhPWZ1bmN0aW9uKCl7cmV0dXJuIGV9O3ZhciB0LGU9e30sbj1PYmplY3QucHJvdG90eXBlLHI9bi5oYXNPd25Qcm9wZXJ0eSxvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24odCxlLG4pe3RbZV09bi52YWx1ZX0saT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGE9aS5pdGVyYXRvcnx8XCJAQGl0ZXJhdG9yXCIscz1pLmFzeW5jSXRlcmF0b3J8fFwiQEBhc3luY0l0ZXJhdG9yXCIsdT1pLnRvU3RyaW5nVGFnfHxcIkBAdG9TdHJpbmdUYWdcIjtmdW5jdGlvbiBjKHQsZSxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLHRbZV19dHJ5e2Moe30sXCJcIil9Y2F0Y2godCl7Yz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bn19ZnVuY3Rpb24gbCh0LGUsbixyKXt2YXIgaT1lJiZlLnByb3RvdHlwZSBpbnN0YW5jZW9mIG0/ZTptLGE9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSkscz1uZXcgaihyfHxbXSk7cmV0dXJuIG8oYSxcIl9pbnZva2VcIix7dmFsdWU6Tyh0LG4scyl9KSxhfWZ1bmN0aW9uIGYodCxlLG4pe3RyeXtyZXR1cm57dHlwZTpcIm5vcm1hbFwiLGFyZzp0LmNhbGwoZSxuKX19Y2F0Y2godCl7cmV0dXJue3R5cGU6XCJ0aHJvd1wiLGFyZzp0fX19ZS53cmFwPWw7dmFyIHA9XCJzdXNwZW5kZWRTdGFydFwiLGQ9XCJzdXNwZW5kZWRZaWVsZFwiLGg9XCJleGVjdXRpbmdcIix5PVwiY29tcGxldGVkXCIsdj17fTtmdW5jdGlvbiBtKCl7fWZ1bmN0aW9uIGcoKXt9ZnVuY3Rpb24gYigpe312YXIgdz17fTtjKHcsYSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgXz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsUz1fJiZfKF8oQyhbXSkpKTtTJiZTIT09biYmci5jYWxsKFMsYSkmJih3PVMpO3ZhciBrPWIucHJvdG90eXBlPW0ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodyk7ZnVuY3Rpb24geCh0KXtbXCJuZXh0XCIsXCJ0aHJvd1wiLFwicmV0dXJuXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2ModCxlLChmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW52b2tlKGUsdCl9KSl9KSl9ZnVuY3Rpb24gQSh0LGUpe2Z1bmN0aW9uIG4obyxpLGEscyl7dmFyIHU9Zih0W29dLHQsaSk7aWYoXCJ0aHJvd1wiIT09dS50eXBlKXt2YXIgYz11LmFyZyxsPWMudmFsdWU7cmV0dXJuIGwmJlwib2JqZWN0XCI9PV9hKGwpJiZyLmNhbGwobCxcIl9fYXdhaXRcIik/ZS5yZXNvbHZlKGwuX19hd2FpdCkudGhlbigoZnVuY3Rpb24odCl7bihcIm5leHRcIix0LGEscyl9KSwoZnVuY3Rpb24odCl7bihcInRocm93XCIsdCxhLHMpfSkpOmUucmVzb2x2ZShsKS50aGVuKChmdW5jdGlvbih0KXtjLnZhbHVlPXQsYShjKX0pLChmdW5jdGlvbih0KXtyZXR1cm4gbihcInRocm93XCIsdCxhLHMpfSkpfXModS5hcmcpfXZhciBpO28odGhpcyxcIl9pbnZva2VcIix7dmFsdWU6ZnVuY3Rpb24odCxyKXtmdW5jdGlvbiBvKCl7cmV0dXJuIG5ldyBlKChmdW5jdGlvbihlLG8pe24odCxyLGUsbyl9KSl9cmV0dXJuIGk9aT9pLnRoZW4obyxvKTpvKCl9fSl9ZnVuY3Rpb24gTyhlLG4scil7dmFyIG89cDtyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZihvPT09aCl0aHJvdyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7aWYobz09PXkpe2lmKFwidGhyb3dcIj09PWkpdGhyb3cgYTtyZXR1cm57dmFsdWU6dCxkb25lOiEwfX1mb3Ioci5tZXRob2Q9aSxyLmFyZz1hOzspe3ZhciBzPXIuZGVsZWdhdGU7aWYocyl7dmFyIHU9VChzLHIpO2lmKHUpe2lmKHU9PT12KWNvbnRpbnVlO3JldHVybiB1fX1pZihcIm5leHRcIj09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoXCJ0aHJvd1wiPT09ci5tZXRob2Qpe2lmKG89PT1wKXRocm93IG89eSxyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlXCJyZXR1cm5cIj09PXIubWV0aG9kJiZyLmFicnVwdChcInJldHVyblwiLHIuYXJnKTtvPWg7dmFyIGM9ZihlLG4scik7aWYoXCJub3JtYWxcIj09PWMudHlwZSl7aWYobz1yLmRvbmU/eTpkLGMuYXJnPT09diljb250aW51ZTtyZXR1cm57dmFsdWU6Yy5hcmcsZG9uZTpyLmRvbmV9fVwidGhyb3dcIj09PWMudHlwZSYmKG89eSxyLm1ldGhvZD1cInRocm93XCIsci5hcmc9Yy5hcmcpfX19ZnVuY3Rpb24gVChlLG4pe3ZhciByPW4ubWV0aG9kLG89ZS5pdGVyYXRvcltyXTtpZihvPT09dClyZXR1cm4gbi5kZWxlZ2F0ZT1udWxsLFwidGhyb3dcIj09PXImJmUuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9XCJyZXR1cm5cIixuLmFyZz10LFQoZSxuKSxcInRocm93XCI9PT1uLm1ldGhvZCl8fFwicmV0dXJuXCIhPT1yJiYobi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIityK1wiJyBtZXRob2RcIikpLHY7dmFyIGk9ZihvLGUuaXRlcmF0b3Isbi5hcmcpO2lmKFwidGhyb3dcIj09PWkudHlwZSlyZXR1cm4gbi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPWkuYXJnLG4uZGVsZWdhdGU9bnVsbCx2O3ZhciBhPWkuYXJnO3JldHVybiBhP2EuZG9uZT8obltlLnJlc3VsdE5hbWVdPWEudmFsdWUsbi5uZXh0PWUubmV4dExvYyxcInJldHVyblwiIT09bi5tZXRob2QmJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz10KSxuLmRlbGVnYXRlPW51bGwsdik6YToobi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSxuLmRlbGVnYXRlPW51bGwsdil9ZnVuY3Rpb24gRSh0KXt2YXIgZT17dHJ5TG9jOnRbMF19OzEgaW4gdCYmKGUuY2F0Y2hMb2M9dFsxXSksMiBpbiB0JiYoZS5maW5hbGx5TG9jPXRbMl0sZS5hZnRlckxvYz10WzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaChlKX1mdW5jdGlvbiBQKHQpe3ZhciBlPXQuY29tcGxldGlvbnx8e307ZS50eXBlPVwibm9ybWFsXCIsZGVsZXRlIGUuYXJnLHQuY29tcGxldGlvbj1lfWZ1bmN0aW9uIGoodCl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOlwicm9vdFwifV0sdC5mb3JFYWNoKEUsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gQyhlKXtpZihlfHxcIlwiPT09ZSl7dmFyIG49ZVthXTtpZihuKXJldHVybiBuLmNhbGwoZSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5uZXh0KXJldHVybiBlO2lmKCFpc05hTihlLmxlbmd0aCkpe3ZhciBvPS0xLGk9ZnVuY3Rpb24gbigpe2Zvcig7KytvPGUubGVuZ3RoOylpZihyLmNhbGwoZSxvKSlyZXR1cm4gbi52YWx1ZT1lW29dLG4uZG9uZT0hMSxuO3JldHVybiBuLnZhbHVlPXQsbi5kb25lPSEwLG59O3JldHVybiBpLm5leHQ9aX19dGhyb3cgbmV3IFR5cGVFcnJvcihfYShlKStcIiBpcyBub3QgaXRlcmFibGVcIil9cmV0dXJuIGcucHJvdG90eXBlPWIsbyhrLFwiY29uc3RydWN0b3JcIix7dmFsdWU6Yixjb25maWd1cmFibGU6ITB9KSxvKGIsXCJjb25zdHJ1Y3RvclwiLHt2YWx1ZTpnLGNvbmZpZ3VyYWJsZTohMH0pLGcuZGlzcGxheU5hbWU9YyhiLHUsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSxlLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4hIWUmJihlPT09Z3x8XCJHZW5lcmF0b3JGdW5jdGlvblwiPT09KGUuZGlzcGxheU5hbWV8fGUubmFtZSkpfSxlLm1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxiKToodC5fX3Byb3RvX189YixjKHQsdSxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGspLHR9LGUuYXdyYXA9ZnVuY3Rpb24odCl7cmV0dXJue19fYXdhaXQ6dH19LHgoQS5wcm90b3R5cGUpLGMoQS5wcm90b3R5cGUscywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxlLkFzeW5jSXRlcmF0b3I9QSxlLmFzeW5jPWZ1bmN0aW9uKHQsbixyLG8saSl7dm9pZCAwPT09aSYmKGk9UHJvbWlzZSk7dmFyIGE9bmV3IEEobCh0LG4scixvKSxpKTtyZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKG4pP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9uZT90LnZhbHVlOmEubmV4dCgpfSkpfSx4KGspLGMoayx1LFwiR2VuZXJhdG9yXCIpLGMoayxhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGMoayxcInRvU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEdlbmVyYXRvcl1cIn0pKSxlLmtleXM9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHQpLG49W107Zm9yKHZhciByIGluIGUpbi5wdXNoKHIpO3JldHVybiBuLnJldmVyc2UoKSxmdW5jdGlvbiB0KCl7Zm9yKDtuLmxlbmd0aDspe3ZhciByPW4ucG9wKCk7aWYociBpbiBlKXJldHVybiB0LnZhbHVlPXIsdC5kb25lPSExLHR9cmV0dXJuIHQuZG9uZT0hMCx0fX0sZS52YWx1ZXM9QyxqLnByb3RvdHlwZT17Y29uc3RydWN0b3I6aixyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5hcmc9dCx0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChQKSwhZSlmb3IodmFyIG4gaW4gdGhpcylcInRcIj09PW4uY2hhckF0KDApJiZyLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09dCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIHQ9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciBuPXRoaXM7ZnVuY3Rpb24gbyhyLG8pe3JldHVybiBzLnR5cGU9XCJ0aHJvd1wiLHMuYXJnPWUsbi5uZXh0PXIsbyYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPXQpLCEhb31mb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbaV0scz1hLmNvbXBsZXRpb247aWYoXCJyb290XCI9PT1hLnRyeUxvYylyZXR1cm4gbyhcImVuZFwiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgdT1yLmNhbGwoYSxcImNhdGNoTG9jXCIpLGM9ci5jYWxsKGEsXCJmaW5hbGx5TG9jXCIpO2lmKHUmJmMpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBvKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX1lbHNlIGlmKHUpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBvKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIWMpdGhyb3cgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciBvPXRoaXMudHJ5RW50cmllc1tuXTtpZihvLnRyeUxvYzw9dGhpcy5wcmV2JiZyLmNhbGwobyxcImZpbmFsbHlMb2NcIikmJnRoaXMucHJldjxvLmZpbmFsbHlMb2Mpe3ZhciBpPW87YnJlYWt9fWkmJihcImJyZWFrXCI9PT10fHxcImNvbnRpbnVlXCI9PT10KSYmaS50cnlMb2M8PWUmJmU8PWkuZmluYWxseUxvYyYmKGk9bnVsbCk7dmFyIGE9aT9pLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT10LGEuYXJnPWUsaT8odGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyx2KTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbih0LGUpe2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm5cImJyZWFrXCI9PT10LnR5cGV8fFwiY29udGludWVcIj09PXQudHlwZT90aGlzLm5leHQ9dC5hcmc6XCJyZXR1cm5cIj09PXQudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPXQuYXJnLHRoaXMubWV0aG9kPVwicmV0dXJuXCIsdGhpcy5uZXh0PVwiZW5kXCIpOlwibm9ybWFsXCI9PT10LnR5cGUmJmUmJih0aGlzLm5leHQ9ZSksdn0sZmluaXNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLmZpbmFsbHlMb2M9PT10KXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxQKG4pLHZ9fSxjYXRjaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi50cnlMb2M9PT10KXt2YXIgcj1uLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09ci50eXBlKXt2YXIgbz1yLmFyZztQKG4pfXJldHVybiBvfX10aHJvdyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLG4scil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOkMoZSkscmVzdWx0TmFtZTpuLG5leHRMb2M6cn0sXCJuZXh0XCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXQpLHZ9fSxlfWZ1bmN0aW9uIGthKHQsZSl7dmFyIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheSh0KXx8KG49QWEodCkpfHxlJiZ0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpe24mJih0PW4pO3ZhciByPTAsbz1mdW5jdGlvbigpe307cmV0dXJue3M6byxuOmZ1bmN0aW9uKCl7cmV0dXJuIHI+PXQubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTp0W3IrK119fSxlOmZ1bmN0aW9uKHQpe3Rocm93IHR9LGY6b319dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciBpLGE9ITAscz0hMTtyZXR1cm57czpmdW5jdGlvbigpe249bi5jYWxsKHQpfSxuOmZ1bmN0aW9uKCl7dmFyIHQ9bi5uZXh0KCk7cmV0dXJuIGE9dC5kb25lLHR9LGU6ZnVuY3Rpb24odCl7cz0hMCxpPXR9LGY6ZnVuY3Rpb24oKXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGl9fX19ZnVuY3Rpb24geGEodCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIE9hKHQpfSh0KXx8ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9dFtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT10W1wiQEBpdGVyYXRvclwiXSlyZXR1cm4gQXJyYXkuZnJvbSh0KX0odCl8fEFhKHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIEFhKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIE9hKHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/T2EodCxlKTp2b2lkIDB9fWZ1bmN0aW9uIE9hKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBUYSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxQYShyLmtleSkscil9fWZ1bmN0aW9uIEVhKHQsZSxuKXtyZXR1cm4oZT1QYShlKSlpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH1mdW5jdGlvbiBQYSh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPV9hKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPV9hKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09X2EoZSk/ZTplK1wiXCJ9dmFyIGphPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihvLGkpe2Z1bmN0aW9uIGEodCl7dHJ5e3Uoci5uZXh0KHQpKX1jYXRjaCh0KXtpKHQpfX1mdW5jdGlvbiBzKHQpe3RyeXt1KHIudGhyb3codCkpfWNhdGNoKHQpe2kodCl9fWZ1bmN0aW9uIHUodCl7dmFyIGU7dC5kb25lP28odC52YWx1ZSk6KGU9dC52YWx1ZSxlIGluc3RhbmNlb2Ygbj9lOm5ldyBuKChmdW5jdGlvbih0KXt0KGUpfSkpKS50aGVuKGEscyl9dSgocj1yLmFwcGx5KHQsZXx8W10pKS5uZXh0KCkpfSkpfSxDYT1FYShFYShFYSh7fSxtZSxcIjI1LjMzJVwiKSx2ZSxcIjUwJVwiKSxnZSxcIjc1LjY2JVwiKSxMYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtpZihmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5zZXF1ZW5jZXM9W10sdGhpcy5jb250cm9sPW51bGwsdGhpcy50cmFuc2Zvcm1lcnM9e30sQXJyYXkuaXNBcnJheShlKSl7dmFyIHI7KHI9dGhpcy5zZXF1ZW5jZXMpLnB1c2guYXBwbHkocix4YShlKSksdGhpcy5zZXF1ZW5jZU9wdGlvbnM9T2JqZWN0LmFzc2lnbih7fSx0LmRlZmF1bHRTZXF1ZW5jZU9wdGlvbnMsbnx8e30pfWVsc2V7dmFyIG89ZSxpPW58fHQuZGVmYXVsdE9wdGlvbnM7dGhpcy5zZXF1ZW5jZXMucHVzaCh7cHJvcHM6byxvcHRpb25zOml8fHt9fSksdGhpcy5zZXF1ZW5jZU9wdGlvbnM9T2JqZWN0LmFzc2lnbih7fSx0LmRlZmF1bHRTZXF1ZW5jZU9wdGlvbnMpfX1yZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZUYSh0LnByb3RvdHlwZSxlKSxuJiZUYSh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0odCxbe2tleTpcImFuaW1hdGVcIix2YWx1ZTpmdW5jdGlvbihlLG4scil7dmFyIG89ZS5zY29wZSxpPWUub3ZlcndyaXRlcyxhPWUudGFyZ2V0O3JldHVybiBqYSh0aGlzLHZvaWQgMCx2b2lkIDAsU2EoKS5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIHM9dGhpcztyZXR1cm4gU2EoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7amEocyx2b2lkIDAsdm9pZCAwLFNhKCkubWFyaygoZnVuY3Rpb24gcygpe3ZhciB1LGMsbCxmLHA9dGhpcztyZXR1cm4gU2EoKS53cmFwKChmdW5jdGlvbihzKXtmb3IoOzspc3dpdGNoKHMucHJldj1zLm5leHQpe2Nhc2UgMDp0aGlzLnNlcXVlbmNlT3B0aW9ucy5zeW5jfHxlKCksdT0wO2Nhc2UgMjppZighKHU8dGhpcy5zZXF1ZW5jZU9wdGlvbnMucmVwZWF0KSl7cy5uZXh0PTIyO2JyZWFrfWM9a2EodGhpcy5zZXF1ZW5jZXMpLHMucHJldj00LGY9U2EoKS5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIHIscyx1LGMsZixkO3JldHVybiBTYSgpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKHI9bC52YWx1ZSxzPXIucHJvcHMsdT1yLm9wdGlvbnMsYz1iKHt9LHAucHJvcFRvQ1NTKG4sYS5zdGF0ZSkpLG8uY3VycmVudCl7ZS5uZXh0PTQ7YnJlYWt9dGhyb3cgbmV3IEVycm9yKFwiTm8gc2NvcGUgZm91bmQgd2hlbiBhbmltYXRpbmcuXCIpO2Nhc2UgNDppZihmPW8uY3VycmVudCxPYmplY3QuYXNzaWduKGYuc3R5bGUsYyksYS5zdGF0ZT10Lm1lcmdlU3RhdGUoYS5zdGF0ZSxzKSxkPWJhKGYscC5wcm9wVG9DU1MobixhLnN0YXRlLGkpLHAub3B0aW9uc1RvRnJhbWVyTW90aW9uT3B0aW9ucyh1KXx8e30pLHAuc2V0Q29udHJvbChkKSxuLmxvZ2dlci5kZWJ1ZyhcIkFuaW1hdGluZ1wiLHAucHJvcFRvQ1NTKG4sYS5zdGF0ZSxpKSksITEhPT0obnVsbD09dT92b2lkIDA6dS5zeW5jKSl7ZS5uZXh0PTE0O2JyZWFrfWQudGhlbigoZnVuY3Rpb24oKXtPYmplY3QuYXNzaWduKGYuc3R5bGUscC5wcm9wVG9DU1MobixhLnN0YXRlLGkpKSxwLnNldENvbnRyb2wobnVsbCl9KSksZS5uZXh0PTE4O2JyZWFrO2Nhc2UgMTQ6cmV0dXJuIGUubmV4dD0xNixuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7cmV0dXJuIGQudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdCgpfSkpfSkpO2Nhc2UgMTY6T2JqZWN0LmFzc2lnbihmLnN0eWxlLHAucHJvcFRvQ1NTKG4sYS5zdGF0ZSxpKSkscC5zZXRDb250cm9sKG51bGwpO2Nhc2UgMTg6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpLGMucygpO2Nhc2UgNzppZigobD1jLm4oKSkuZG9uZSl7cy5uZXh0PTExO2JyZWFrfXJldHVybiBzLmRlbGVnYXRlWWllbGQoZigpLFwidDBcIiw5KTtjYXNlIDk6cy5uZXh0PTc7YnJlYWs7Y2FzZSAxMTpzLm5leHQ9MTY7YnJlYWs7Y2FzZSAxMzpzLnByZXY9MTMscy50MT1zLmNhdGNoKDQpLGMuZShzLnQxKTtjYXNlIDE2OnJldHVybiBzLnByZXY9MTYsYy5mKCkscy5maW5pc2goMTYpO2Nhc2UgMTk6dSsrLHMubmV4dD0yO2JyZWFrO2Nhc2UgMjI6cmV0dXJuIHMubmV4dD0yNCxBKDIpO2Nhc2UgMjQ6dGhpcy5zZXRDb250cm9sKG51bGwpLGUoKSxyJiZyKGEuc3RhdGUpO2Nhc2UgMjc6Y2FzZVwiZW5kXCI6cmV0dXJuIHMuc3RvcCgpfX0pLHMsdGhpcyxbWzQsMTMsMTYsMTldXSl9KSkpfSkpKTtjYXNlIDE6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKX19LHtrZXk6XCJyZXBlYXRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXF1ZW5jZU9wdGlvbnMucmVwZWF0Kj10LHRoaXN9fSx7a2V5Olwib3ZlcndyaXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1lcnNbdF09ZSx0aGlzfX0se2tleTpcInByb3BUb0NTU1wiLHZhbHVlOmZ1bmN0aW9uKGUsbixyKXt2YXIgbyxpPShudWxsPT09KG89ZS5nZXRMYXN0U2NlbmUoKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uY29uZmlnKXx8e30sYT1pLmludmVydFkscz1pLmludmVydFgsdT17cG9zaXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIHQucG9zaXRpb25Ub0NTUyhlLGEscyl9LGJhY2tncm91bmRDb2xvcjpmdW5jdGlvbihlKXtyZXR1cm4gdC5iYWNrZ3JvdW5kVG9DU1MoZSl9LGJhY2tncm91bmRPcGFjaXR5OmZ1bmN0aW9uKHQpe3JldHVybntvcGFjaXR5OnR9fSxvcGFjaXR5OmZ1bmN0aW9uKHQpe3JldHVybntvcGFjaXR5OnR9fSxzY2FsZTpmdW5jdGlvbigpe3JldHVyblwic2NhbGVcImluIG4/e3dpZHRoOlwiXCIuY29uY2F0KDEwMCpuLnNjYWxlLFwiJVwiKX06e319LHJvdGF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJue319LGRpc3BsYXk6ZnVuY3Rpb24oKXtyZXR1cm57fX0sc3JjOmZ1bmN0aW9uKCl7cmV0dXJue319LGZvbnRTaXplOmZ1bmN0aW9uKHQpe3JldHVybntmb250U2l6ZTp0fX0sZm9udENvbG9yOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3tjb2xvcjp0fTp7Y29sb3I6Uyh0KX19fSxjPXt9O2Zvcih2YXIgbCBpbiBjLnRyYW5zZm9ybT10LnByb3BUb0NTU1RyYW5zZm9ybShlLG4pLHRoaXMudHJhbnNmb3JtZXJzLnRyYW5zZm9ybSYmT2JqZWN0LmFzc2lnbihjLHRoaXMudHJhbnNmb3JtZXJzLnRyYW5zZm9ybShuKSksciYmci50cmFuc2Zvcm0mJk9iamVjdC5hc3NpZ24oYyxyLnRyYW5zZm9ybShuKSksbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixsKSYmKHImJnJbbF0/T2JqZWN0LmFzc2lnbihjLHJbbF0obltsXSkpOnRoaXMudHJhbnNmb3JtZXJzW2xdP09iamVjdC5hc3NpZ24oYyx0aGlzLnRyYW5zZm9ybWVyc1tsXShuW2xdKSk6dVtsXSYmT2JqZWN0LmFzc2lnbihjLHVbbF0obltsXSkpKTtyZXR1cm4gY319LHtrZXk6XCJvcHRpb25zVG9GcmFtZXJNb3Rpb25PcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIHQ7dmFyIGU9dC5kdXJhdGlvbjtyZXR1cm57ZHVyYXRpb246ZT9lLzFlMzowLGVhc2U6dC5lYXNlfX19LHtrZXk6XCJzZXRDb250cm9sXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udHJvbD10LHRoaXN9fSx7a2V5OlwiZ2V0Q29udHJvbFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udHJvbH19LHtrZXk6XCJjb3B5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy5zZXF1ZW5jZXMsdGhpcy5zZXF1ZW5jZU9wdGlvbnMpfX1dLFt7a2V5OlwiaXNQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBUZS5pc0NvbW1vblBvc2l0aW9uVHlwZSh0KXx8RWUuaXNDb29yZDJEUG9zaXRpb24odCl8fFBlLmlzQWxpZ25Qb3NpdGlvbih0KX19LHtrZXk6XCJwb3NpdGlvblRvQ1NTXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0P09lLmlzUmF3UG9zaXRpb24odCk/T2UuRDJQb3NpdGlvblRvQ1NTKE9lLnJhd1Bvc2l0aW9uVG9Db29yZDJEKHQpLG4sZSk6T2UuRDJQb3NpdGlvblRvQ1NTKHQudG9DU1MoKSxuLGUpOnt9fX0se2tleTpcImJhY2tncm91bmRUb0NTU1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P3t9OmJzLmlzU3RhdGljSW1hZ2VEYXRhKHQpP3tiYWNrZ3JvdW5kSW1hZ2U6XCJ1cmwoXCIuY29uY2F0KHQuc3JjLFwiKVwiKX06XCJzdHJpbmdcIj09dHlwZW9mIHQ/e2JhY2tncm91bmRDb2xvcjp0fTpbXCJyXCIsXCJnXCIsXCJiXCJdLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gZSBpbiB0fSkpP3tiYWNrZ3JvdW5kQ29sb3I6Uyh0KX06e2JhY2tncm91bmRJbWFnZTpcInVybChcIit0LnVybCtcIilcIn19fSx7a2V5OlwibWVyZ2VQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoIXQmJiFlKXRocm93IG5ldyBFcnJvcihcIk5vIHBvc2l0aW9uIGZvdW5kLlwiKTtyZXR1cm4gdCYmZT9PZS5tZXJnZVBvc2l0aW9uKE9lLnRyeVBhcnNlUG9zaXRpb24odCksT2UudHJ5UGFyc2VQb3NpdGlvbihlKSk6T2UudG9Db29yZDJEKE9lLnRyeVBhcnNlUG9zaXRpb24odHx8ZSkpfX0se2tleTpcIm1lcmdlU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubWVyZ2VQb3NpdGlvbih0LnBvc2l0aW9uLGUucG9zaXRpb24pO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sYih0LGUpKSx7cG9zaXRpb246bn0pfX0se2tleTpcInByb3BUb0NTU1RyYW5zZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06W107aWYoIXQuZ2V0TGFzdFNjZW5lKCkpdGhyb3cgbmV3IEVycm9yKCdObyBzY2VuZSBmb3VuZCBpbiBzdGF0ZSwgbWFrZSBzdXJlIHlvdSBjYWxsZWQgXCJzY2VuZS5hY3RpdmF0ZSgpXCIgYmVmb3JlIHRoaXMgbWV0aG9kLicpO3ZhciBvPShudWxsPT09KG49dC5nZXRMYXN0U2NlbmUoKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uY29uZmlnKXx8e30saT1vLmludmVydFksYT1vLmludmVydFg7cmV0dXJuW1widHJhbnNsYXRlKFwiLmNvbmNhdChyWzBdfHwoYT9cIlwiOlwiLVwiKStcIjUwJVwiLFwiLCBcIikuY29uY2F0KHJbMV18fChpP1wiXCI6XCItXCIpK1wiNTAlXCIsXCIpXCIpLHZvaWQgMCE9PWUucm90YXRpb24mJlwicm90YXRlKFwiLmNvbmNhdChlLnJvdGF0aW9uLFwiZGVnKVwiKV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpfX1dKX0oKTtmdW5jdGlvbiBJYSh0KXtyZXR1cm4gSWE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sSWEodCl9ZnVuY3Rpb24gTmEodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsTWEoci5rZXkpLHIpfX1mdW5jdGlvbiBNYSh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPUlhKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPUlhKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09SWEoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gUmEodCxlLG4pe3JldHVybiBlPURhKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PUlhKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LEZhKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxEYSh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBGYSgpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKEZhPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBEYSh0KXtyZXR1cm4gRGE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LERhKHQpfWZ1bmN0aW9uIEJhKHQsZSl7cmV0dXJuIEJhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sQmEodCxlKX1MYS5kZWZhdWx0U2VxdWVuY2VPcHRpb25zPXtzeW5jOiEwLHJlcGVhdDoxfSxMYS5kZWZhdWx0T3B0aW9ucz17ZHVyYXRpb246MCxlYXNlOlwibGluZWFyXCJ9LExhLkNvbW1vbkltYWdlUG9zaXRpb25NYXA9Q2E7dmFyIFZhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLFJhKHRoaXMsZSl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkJhKHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZOYSh0LnByb3RvdHlwZSxlKSxuJiZOYSh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcImRvXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHVzaCgkdC5BY3Rpb25UeXBlcy5kbyx0KX19LHtrZXk6XCJkb0FzeW5jXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHVzaCgkdC5BY3Rpb25UeXBlcy5kb0FzeW5jLHQpfX0se2tleTpcImFueVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnB1c2goJHQuQWN0aW9uVHlwZXMuYW55LHQpfX0se2tleTpcImFsbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnB1c2goJHQuQWN0aW9uVHlwZXMuYWxsLHQpfX0se2tleTpcImFsbEFzeW5jXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHVzaCgkdC5BY3Rpb25UeXBlcy5hbGxBc3luYyx0KX19LHtrZXk6XCJyZXBlYXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnB1c2goJHQuQWN0aW9uVHlwZXMucmVwZWF0LGUsdCl9fSx7a2V5Olwic2xlZXBcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wdXNoKCR0LkFjdGlvblR5cGVzLnNsZWVwLFtdLHQpfX0se2tleTpcInB1c2hcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1pZS50b0FjdGlvbnMoZSkscj1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KHI+Mj9yLTI6MCksaT0yO2k8cjtpKyspb1tpLTJdPWFyZ3VtZW50c1tpXTt2YXIgYT1uZXcgJHQodGhpcy5jaGFpbigpLHQsKG5ldyB4dCkuc2V0Q29udGVudChbdGhpcy5jb25zdHJ1Y3QobildLmNvbmNhdChvKSkpO3JldHVybiB0aGlzLmNoYWluKGEpfX1dLFt7a2V5OlwiZG9cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4obmV3IGUpLmRvKHQpfX0se2tleTpcImRvQXN5bmNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4obmV3IGUpLmRvQXN5bmModCl9fSx7a2V5OlwiYW55XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuKG5ldyBlKS5hbnkodCl9fSx7a2V5OlwiYWxsXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuKG5ldyBlKS5hbGwodCl9fSx7a2V5OlwiYWxsQXN5bmNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4obmV3IGUpLmFsbEFzeW5jKHQpfX0se2tleTpcInJlcGVhdFwiLHZhbHVlOmZ1bmN0aW9uKHQsbil7cmV0dXJuKG5ldyBlKS5yZXBlYXQodCxuKX19LHtrZXk6XCJzbGVlcFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybihuZXcgZSkuc2xlZXAodCl9fV0pfSh5ZSk7ZnVuY3Rpb24gR2EodCl7cmV0dXJuIEdhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEdhKHQpfWZ1bmN0aW9uIFVhKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LEhhKHIua2V5KSxyKX19ZnVuY3Rpb24gSGEodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1HYSh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1HYShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PUdhKGUpP2U6ZStcIlwifWZ1bmN0aW9uIHphKHQsZSxuKXtyZXR1cm4gZT0kYShlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1HYShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxXYSgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sJGEodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gV2EoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihXYT1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gJGEodCl7cmV0dXJuICRhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSwkYSh0KX1mdW5jdGlvbiBZYSh0LGUpe3JldHVybiBZYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFlhKHQsZSl9dmFyIHFhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxuKXt2YXIgcjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLChyPXphKHRoaXMsZSkpLmV2ZW50cz1uZXcgayxyLnJlZj12b2lkIDAsXCJzdHJpbmdcIj09dHlwZW9mIHQ/KHIubmFtZT10LHIuY29uZmlnPWIoZS5kZWZhdWx0Q29uZmlnLG58fHt9KSxyLmNvbmZpZy5wb3NpdGlvbiYmKHIuY29uZmlnLnBvc2l0aW9uPU9lLnRyeVBhcnNlUG9zaXRpb24oci5jb25maWcucG9zaXRpb24pKSk6KHIubmFtZT1cIlwiLHIuY29uZmlnPWIoZS5kZWZhdWx0Q29uZmlnLHQpLHIuY29uZmlnLnBvc2l0aW9uJiYoci5jb25maWcucG9zaXRpb249T2UudHJ5UGFyc2VQb3NpdGlvbihyLmNvbmZpZy5wb3NpdGlvbikpKSxyLnN0YXRlPWIoe30sci5jb25maWcpLHIuY2hlY2tDb25maWcoKSxyfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZZYSh0LGUpfShlLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmVWEodC5wcm90b3R5cGUsZSksbiYmVWEodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJkaXNwb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzcG9zZSgpfX0se2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoYWluKHRoaXMuX2luaXQoKSl9fSx7a2V5OlwiY2hlY2tDb25maWdcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmNvbmZpZy5zcmMpdGhyb3cgbmV3IEVycm9yKFwiSW1hZ2Ugc3JjIGlzIHJlcXVpcmVkXCIpO2lmKCFMYS5pc1Bvc2l0aW9uKHRoaXMuY29uZmlnLnBvc2l0aW9uKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBvc2l0aW9uXFxuUG9zaXRpb24gbXVzdCBiZSBvbmUgb2YgQ29tbW9uSW1hZ2VQb3NpdGlvbiwgQWxpZ24sIENvb3JkMkRcIik7cmV0dXJuIHRoaXN9fSx7a2V5Olwic2V0U3JjXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLmNvbWJpbmVBY3Rpb25zKG5ldyBWYSwoZnVuY3Rpb24ocil7aWYoZSl7dmFyIG89ZS5jb3B5KCk7by5zZXRTcmMoYnMuc3JjVG9TdHJpbmcodCkpLHIuX3RyYW5zaXRpb25TcmMobyl9dmFyIGk9bmV3IGFzKHIsYXMuQWN0aW9uVHlwZXMuc2V0U3JjLChuZXcgeHQpLnNldENvbnRlbnQoW1wic3RyaW5nXCI9PXR5cGVvZiB0P3Q6YnMuc3RhdGljSW1hZ2VEYXRhVG9TcmModCldKSk7cmV0dXJuIHIuY2hhaW4oaSkuY2hhaW4obi5fZmx1c2goKSl9KSl9fSx7a2V5OlwiYXBwbHlUcmFuc2Zvcm1cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmNvbWJpbmVBY3Rpb25zKG5ldyBWYSwoZnVuY3Rpb24obil7dmFyIHI9bmV3IGFzKG4sYXMuQWN0aW9uVHlwZXMuYXBwbHlUcmFuc2Zvcm0sKG5ldyB4dCkuc2V0Q29udGVudChbdm9pZCAwLHQuY29weSgpLHgoKV0pKTtyZXR1cm4gbi5jaGFpbihyKS5jaGFpbihlLl9mbHVzaCgpKX0pKX19LHtrZXk6XCJzaG93XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQgaW5zdGFuY2VvZiBMYT90LmNvcHkoKTpuZXcgTGEoW3twcm9wczp7b3BhY2l0eToxfSxvcHRpb25zOnR8fHt9fV0pO3JldHVybiB0aGlzLmNvbWJpbmVBY3Rpb25zKG5ldyBWYSwoZnVuY3Rpb24odCl7dmFyIHI9bmV3IGFzKHQsYXMuQWN0aW9uVHlwZXMuc2hvdywobmV3IHh0KS5zZXRDb250ZW50KFt2b2lkIDAsbl0pKTtyZXR1cm4gdC5jaGFpbihyKS5jaGFpbihlLl9mbHVzaCgpKX0pKX19LHtrZXk6XCJoaWRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5jb21iaW5lQWN0aW9ucyhuZXcgVmEsKGZ1bmN0aW9uKG4pe3ZhciByPW5ldyBhcyhuLGFzLkFjdGlvblR5cGVzLmhpZGUsKG5ldyB4dCkuc2V0Q29udGVudChbdm9pZCAwLHQgaW5zdGFuY2VvZiBMYT90LmNvcHkoKTpuZXcgTGEoW3twcm9wczp7b3BhY2l0eTowfSxvcHRpb25zOnR8fHt9fV0pXSkpO3JldHVybiBuLmNoYWluKHIpLmNoYWluKGUuX2ZsdXNoKCkpfSkpfX0se2tleTpcInRvVHJhbnNmb3JtXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IExhKHRoaXMuc3RhdGUse2R1cmF0aW9uOjB9KX19LHtrZXk6XCJzZXRTY29wZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlZj10LHRoaXN9fSx7a2V5OlwiZ2V0U2NvcGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlZn19LHtrZXk6XCJjb3B5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodGhpcy5uYW1lLHRoaXMuY29uZmlnKX19LHtrZXk6XCJ0b0RhdGFcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLmRpc3Bvc2VkfHxPKHRoaXMuc3RhdGUsdGhpcy5jb25maWcpP251bGw6e3N0YXRlOmIoe30sZS5zZXJpYWxpemVJbWFnZVN0YXRlKHRoaXMuc3RhdGUpKX19fSx7a2V5OlwiZnJvbURhdGFcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZT1iKHRoaXMuc3RhdGUsZS5kZXNlcmlhbGl6ZUltYWdlU3RhdGUodC5zdGF0ZSkpLHRoaXN9fSx7a2V5OlwiXyRzZXREaXNwb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS5kaXNwb3NlZD0hMCx0aGlzfX0se2tleTpcIl9hcHBseVRyYW5zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGFpbihuZXcgYXModGhpcy5jaGFpbigpLFwiaW1hZ2U6YXBwbHlUcmFuc2l0aW9uXCIsKG5ldyB4dCkuc2V0Q29udGVudChbdF0pKSl9fSx7a2V5OlwiX2luaXRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGFzKHRoaXMuY2hhaW4oKSxhcy5BY3Rpb25UeXBlcy5pbml0LChuZXcgeHQpLnNldENvbnRlbnQoW3RdKSl9fSx7a2V5OlwiX2ZsdXNoXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGFzKHRoaXMuY2hhaW4oKSxhcy5BY3Rpb25UeXBlcy5mbHVzaCxuZXcgeHQpfX0se2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPWIoe30sdGhpcy5jb25maWcpfX0se2tleTpcInRvRGlzcGxheWFibGVUcmFuc2Zvcm1cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgTGEodGhpcy5zdGF0ZSx7ZHVyYXRpb246MH0pfX0se2tleTpcIl90cmFuc2l0aW9uU3JjXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5jb3B5KCk7cmV0dXJuIHRoaXMuX2FwcGx5VHJhbnNpdGlvbihlKSx0aGlzfX0se2tleTpcIl9kaXNwb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGFpbihuZXcgYXModGhpcy5jaGFpbigpLGFzLkFjdGlvblR5cGVzLmRpc3Bvc2UsbmV3IHh0KSl9fV0sW3trZXk6XCJzZXJpYWxpemVJbWFnZVN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9e3Bvc2l0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiBPZS5zZXJpYWxpemVQb3NpdGlvbih0KX19LG49e307Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihuW3JdPWVbcl0/ZVtyXSh0W3JdKTp0W3JdKTtyZXR1cm4gbn19LHtrZXk6XCJkZXNlcmlhbGl6ZUltYWdlU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT17cG9zaXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIE9lLnRvQ29vcmQyRCh0KX19LG49e307Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihuW3JdPWVbcl0/ZVtyXSh0W3JdKTp0W3JdKTtyZXR1cm4gbn19XSl9KHllKTtmdW5jdGlvbiBYYSh0KXtyZXR1cm4gWGE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sWGEodCl9ZnVuY3Rpb24gS2EoKXsvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovS2E9ZnVuY3Rpb24oKXtyZXR1cm4gZX07dmFyIHQsZT17fSxuPU9iamVjdC5wcm90b3R5cGUscj1uLmhhc093blByb3BlcnR5LG89T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbih0LGUsbil7dFtlXT1uLnZhbHVlfSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYT1pLml0ZXJhdG9yfHxcIkBAaXRlcmF0b3JcIixzPWkuYXN5bmNJdGVyYXRvcnx8XCJAQGFzeW5jSXRlcmF0b3JcIix1PWkudG9TdHJpbmdUYWd8fFwiQEB0b1N0cmluZ1RhZ1wiO2Z1bmN0aW9uIGModCxlLG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksdFtlXX10cnl7Yyh7fSxcIlwiKX1jYXRjaCh0KXtjPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1ufX1mdW5jdGlvbiBsKHQsZSxuLHIpe3ZhciBpPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgbT9lOm0sYT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxzPW5ldyBqKHJ8fFtdKTtyZXR1cm4gbyhhLFwiX2ludm9rZVwiLHt2YWx1ZTpPKHQsbixzKX0pLGF9ZnVuY3Rpb24gZih0LGUsbil7dHJ5e3JldHVybnt0eXBlOlwibm9ybWFsXCIsYXJnOnQuY2FsbChlLG4pfX1jYXRjaCh0KXtyZXR1cm57dHlwZTpcInRocm93XCIsYXJnOnR9fX1lLndyYXA9bDt2YXIgcD1cInN1c3BlbmRlZFN0YXJ0XCIsZD1cInN1c3BlbmRlZFlpZWxkXCIsaD1cImV4ZWN1dGluZ1wiLHk9XCJjb21wbGV0ZWRcIix2PXt9O2Z1bmN0aW9uIG0oKXt9ZnVuY3Rpb24gZygpe31mdW5jdGlvbiBiKCl7fXZhciB3PXt9O2ModyxhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBfPU9iamVjdC5nZXRQcm90b3R5cGVPZixTPV8mJl8oXyhDKFtdKSkpO1MmJlMhPT1uJiZyLmNhbGwoUyxhKSYmKHc9Uyk7dmFyIGs9Yi5wcm90b3R5cGU9bS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3KTtmdW5jdGlvbiB4KHQpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Yyh0LGUsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX0pKX0pKX1mdW5jdGlvbiBBKHQsZSl7ZnVuY3Rpb24gbihvLGksYSxzKXt2YXIgdT1mKHRbb10sdCxpKTtpZihcInRocm93XCIhPT11LnR5cGUpe3ZhciBjPXUuYXJnLGw9Yy52YWx1ZTtyZXR1cm4gbCYmXCJvYmplY3RcIj09WGEobCkmJnIuY2FsbChsLFwiX19hd2FpdFwiKT9lLnJlc29sdmUobC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih0KXtuKFwibmV4dFwiLHQsYSxzKX0pLChmdW5jdGlvbih0KXtuKFwidGhyb3dcIix0LGEscyl9KSk6ZS5yZXNvbHZlKGwpLnRoZW4oKGZ1bmN0aW9uKHQpe2MudmFsdWU9dCxhKGMpfSksKGZ1bmN0aW9uKHQpe3JldHVybiBuKFwidGhyb3dcIix0LGEscyl9KSl9cyh1LmFyZyl9dmFyIGk7byh0aGlzLFwiX2ludm9rZVwiLHt2YWx1ZTpmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIG8oKXtyZXR1cm4gbmV3IGUoKGZ1bmN0aW9uKGUsbyl7bih0LHIsZSxvKX0pKX1yZXR1cm4gaT1pP2kudGhlbihvLG8pOm8oKX19KX1mdW5jdGlvbiBPKGUsbixyKXt2YXIgbz1wO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1oKXRocm93IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtpZihvPT09eSl7aWYoXCJ0aHJvd1wiPT09aSl0aHJvdyBhO3JldHVybnt2YWx1ZTp0LGRvbmU6ITB9fWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgdT1UKHMscik7aWYodSl7aWYodT09PXYpY29udGludWU7cmV0dXJuIHV9fWlmKFwibmV4dFwiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZihcInRocm93XCI9PT1yLm1ldGhvZCl7aWYobz09PXApdGhyb3cgbz15LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2VcInJldHVyblwiPT09ci5tZXRob2QmJnIuYWJydXB0KFwicmV0dXJuXCIsci5hcmcpO289aDt2YXIgYz1mKGUsbixyKTtpZihcIm5vcm1hbFwiPT09Yy50eXBlKXtpZihvPXIuZG9uZT95OmQsYy5hcmc9PT12KWNvbnRpbnVlO3JldHVybnt2YWx1ZTpjLmFyZyxkb25lOnIuZG9uZX19XCJ0aHJvd1wiPT09Yy50eXBlJiYobz15LHIubWV0aG9kPVwidGhyb3dcIixyLmFyZz1jLmFyZyl9fX1mdW5jdGlvbiBUKGUsbil7dmFyIHI9bi5tZXRob2Qsbz1lLml0ZXJhdG9yW3JdO2lmKG89PT10KXJldHVybiBuLmRlbGVnYXRlPW51bGwsXCJ0aHJvd1wiPT09ciYmZS5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD1cInJldHVyblwiLG4uYXJnPXQsVChlLG4pLFwidGhyb3dcIj09PW4ubWV0aG9kKXx8XCJyZXR1cm5cIiE9PXImJihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiK3IrXCInIG1ldGhvZFwiKSksdjt2YXIgaT1mKG8sZS5pdGVyYXRvcixuLmFyZyk7aWYoXCJ0aHJvd1wiPT09aS50eXBlKXJldHVybiBuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHY7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW2UucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9ZS5uZXh0TG9jLFwicmV0dXJuXCIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPXQpLG4uZGVsZWdhdGU9bnVsbCx2KTphOihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLG4uZGVsZWdhdGU9bnVsbCx2KX1mdW5jdGlvbiBFKHQpe3ZhciBlPXt0cnlMb2M6dFswXX07MSBpbiB0JiYoZS5jYXRjaExvYz10WzFdKSwyIGluIHQmJihlLmZpbmFsbHlMb2M9dFsyXSxlLmFmdGVyTG9jPXRbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKGUpfWZ1bmN0aW9uIFAodCl7dmFyIGU9dC5jb21wbGV0aW9ufHx7fTtlLnR5cGU9XCJub3JtYWxcIixkZWxldGUgZS5hcmcsdC5jb21wbGV0aW9uPWV9ZnVuY3Rpb24gaih0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XCJyb290XCJ9XSx0LmZvckVhY2goRSx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBDKGUpe2lmKGV8fFwiXCI9PT1lKXt2YXIgbj1lW2FdO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG89LTEsaT1mdW5jdGlvbiBuKCl7Zm9yKDsrK288ZS5sZW5ndGg7KWlmKHIuY2FsbChlLG8pKXJldHVybiBuLnZhbHVlPWVbb10sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9dCxuLmRvbmU9ITAsbn07cmV0dXJuIGkubmV4dD1pfX10aHJvdyBuZXcgVHlwZUVycm9yKFhhKGUpK1wiIGlzIG5vdCBpdGVyYWJsZVwiKX1yZXR1cm4gZy5wcm90b3R5cGU9YixvKGssXCJjb25zdHJ1Y3RvclwiLHt2YWx1ZTpiLGNvbmZpZ3VyYWJsZTohMH0pLG8oYixcImNvbnN0cnVjdG9yXCIse3ZhbHVlOmcsY29uZmlndXJhYmxlOiEwfSksZy5kaXNwbGF5TmFtZT1jKGIsdSxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLGUuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbih0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNvbnN0cnVjdG9yO3JldHVybiEhZSYmKGU9PT1nfHxcIkdlbmVyYXRvckZ1bmN0aW9uXCI9PT0oZS5kaXNwbGF5TmFtZXx8ZS5uYW1lKSl9LGUubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGIpOih0Ll9fcHJvdG9fXz1iLGModCx1LFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoayksdH0sZS5hd3JhcD1mdW5jdGlvbih0KXtyZXR1cm57X19hd2FpdDp0fX0seChBLnByb3RvdHlwZSksYyhBLnByb3RvdHlwZSxzLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGUuQXN5bmNJdGVyYXRvcj1BLGUuYXN5bmM9ZnVuY3Rpb24odCxuLHIsbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgQShsKHQsbixyLG8pLGkpO3JldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24obik/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kb25lP3QudmFsdWU6YS5uZXh0KCl9KSl9LHgoayksYyhrLHUsXCJHZW5lcmF0b3JcIiksYyhrLGEsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksYyhrLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgR2VuZXJhdG9yXVwifSkpLGUua2V5cz1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QodCksbj1bXTtmb3IodmFyIHIgaW4gZSluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIHQoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5wb3AoKTtpZihyIGluIGUpcmV0dXJuIHQudmFsdWU9cix0LmRvbmU9ITEsdH1yZXR1cm4gdC5kb25lPSEwLHR9fSxlLnZhbHVlcz1DLGoucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpqLHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PXQsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLmFyZz10LHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKFApLCFlKWZvcih2YXIgbiBpbiB0aGlzKVwidFwiPT09bi5jaGFyQXQoMCkmJnIuY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgdD10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIG49dGhpcztmdW5jdGlvbiBvKHIsbyl7cmV0dXJuIHMudHlwZT1cInRocm93XCIscy5hcmc9ZSxuLm5leHQ9cixvJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9dCksISFvfWZvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBhPXRoaXMudHJ5RW50cmllc1tpXSxzPWEuY29tcGxldGlvbjtpZihcInJvb3RcIj09PWEudHJ5TG9jKXJldHVybiBvKFwiZW5kXCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciB1PXIuY2FsbChhLFwiY2F0Y2hMb2NcIiksYz1yLmNhbGwoYSxcImZpbmFsbHlMb2NcIik7aWYodSYmYyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIG8oYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gbyhhLmZpbmFsbHlMb2MpfWVsc2UgaWYodSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIG8oYS5jYXRjaExvYywhMCl9ZWxzZXtpZighYyl0aHJvdyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIG89dGhpcy50cnlFbnRyaWVzW25dO2lmKG8udHJ5TG9jPD10aGlzLnByZXYmJnIuY2FsbChvLFwiZmluYWxseUxvY1wiKSYmdGhpcy5wcmV2PG8uZmluYWxseUxvYyl7dmFyIGk9bzticmVha319aSYmKFwiYnJlYWtcIj09PXR8fFwiY29udGludWVcIj09PXQpJiZpLnRyeUxvYzw9ZSYmZTw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgYT1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPXQsYS5hcmc9ZSxpPyh0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLm5leHQ9aS5maW5hbGx5TG9jLHYpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVyblwiYnJlYWtcIj09PXQudHlwZXx8XCJjb250aW51ZVwiPT09dC50eXBlP3RoaXMubmV4dD10LmFyZzpcInJldHVyblwiPT09dC50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9dC5hcmcsdGhpcy5tZXRob2Q9XCJyZXR1cm5cIix0aGlzLm5leHQ9XCJlbmRcIik6XCJub3JtYWxcIj09PXQudHlwZSYmZSYmKHRoaXMubmV4dD1lKSx2fSxmaW5pc2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4uZmluYWxseUxvYz09PXQpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLFAobiksdn19LGNhdGNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLnRyeUxvYz09PXQpe3ZhciByPW4uY29tcGxldGlvbjtpZihcInRocm93XCI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO1Aobil9cmV0dXJuIG99fXRocm93IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6QyhlKSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSxcIm5leHRcIj09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dCksdn19LGV9ZnVuY3Rpb24gWmEodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsUWEoci5rZXkpLHIpfX1mdW5jdGlvbiBRYSh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPVhhKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPVhhKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09WGEoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gSmEodCxlLG4pe3JldHVybiBlPXJzKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PVhhKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LHRzKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxycyh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiB0cygpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKHRzPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBlcyh0LGUsbixyKXt2YXIgbz1ucyhycygxJnI/dC5wcm90b3R5cGU6dCksZSxuKTtyZXR1cm4gMiZyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvP2Z1bmN0aW9uKHQpe3JldHVybiBvLmFwcGx5KG4sdCl9Om99ZnVuY3Rpb24gbnMoKXtyZXR1cm4gbnM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0LmJpbmQoKTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZnVuY3Rpb24odCxlKXtmb3IoOyF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJm51bGwhPT0odD1ycyh0KSk7KTtyZXR1cm4gdH0odCxlKTtpZihyKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsZSk7cmV0dXJuIG8uZ2V0P28uZ2V0LmNhbGwoYXJndW1lbnRzLmxlbmd0aDwzP3Q6bik6by52YWx1ZX19LG5zLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBycyh0KXtyZXR1cm4gcnM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHJzKHQpfWZ1bmN0aW9uIG9zKHQsZSl7cmV0dXJuIG9zPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sb3ModCxlKX1xYS5FdmVudFR5cGVzPXtcImV2ZW50OmltYWdlLmluaXRcIjpcImV2ZW50OmltYWdlLmluaXRcIixcImV2ZW50OmltYWdlLm1vdW50XCI6XCJldmVudDppbWFnZS5tb3VudFwiLFwiZXZlbnQ6aW1hZ2UudW5tb3VudFwiOlwiZXZlbnQ6aW1hZ2UudW5tb3VudFwiLFwiZXZlbnQ6aW1hZ2UucmVhZHlcIjpcImV2ZW50OmltYWdlLnJlYWR5XCIsXCJldmVudDppbWFnZS5lbGVtZW50TG9hZGVkXCI6XCJldmVudDppbWFnZS5lbGVtZW50TG9hZGVkXCIsXCJldmVudDppbWFnZS5mbHVzaFwiOlwiZXZlbnQ6aW1hZ2UuZmx1c2hcIixcImV2ZW50OmltYWdlLmZsdXNoQ29tcG9uZW50XCI6XCJldmVudDppbWFnZS5mbHVzaENvbXBvbmVudFwiLFwiZXZlbnQ6ZGlzcGxheWFibGUuYXBwbHlUcmFuc2l0aW9uXCI6XCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zaXRpb25cIixcImV2ZW50OmRpc3BsYXlhYmxlLmFwcGx5VHJhbnNmb3JtXCI6XCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zZm9ybVwiLFwiZXZlbnQ6ZGlzcGxheWFibGUuaW5pdFwiOlwiZXZlbnQ6ZGlzcGxheWFibGUuaW5pdFwifSxxYS5kZWZhdWx0Q29uZmlnPXtzcmM6XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3l3QUFBQUFBUUFCQUFBQ0FVd0FPdz09XCIsZGlzcGxheTohMSxwb3NpdGlvbjpuZXcgVGUoaGUuQ2VudGVyKSxzY2FsZToxLHJvdGF0aW9uOjAsb3BhY2l0eTowfTt2YXIgaXM9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gYSh0KXt0cnl7dShyLm5leHQodCkpfWNhdGNoKHQpe2kodCl9fWZ1bmN0aW9uIHModCl7dHJ5e3Uoci50aHJvdyh0KSl9Y2F0Y2godCl7aSh0KX19ZnVuY3Rpb24gdSh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oKGZ1bmN0aW9uKHQpe3QoZSl9KSkpLnRoZW4oYSxzKX11KChyPXIuYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9LGFzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLEphKHRoaXMsZSxhcmd1bWVudHMpfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZvcyh0LGUpfShlLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmWmEodC5wcm90b3R5cGUsZSksbiYmWmEodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJleGVjdXRlQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztpZih0aGlzLnR5cGU9PT1uLmluaXQpe3ZhciBvPXQuZmluZEVsZW1lbnRCeUltYWdlKHRoaXMuY2FsbGVlKTtvJiZ0LmRpc3Bvc2VJbWFnZSh0aGlzLmNhbGxlZSxvLnNjZW5lKTt2YXIgaT10aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKVswXTt0LmNyZWF0ZUltYWdlKHRoaXMuY2FsbGVlLGkpO3ZhciBhPW5ldyB3KChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKTtyZXR1cm4gaXMocix2b2lkIDAsdm9pZCAwLEthKCkubWFyaygoZnVuY3Rpb24gZSgpe3JldHVybiBLYSgpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLm5leHQ9Mix0aGlzLmNhbGxlZS5ldmVudHMuYW55KFwiZXZlbnQ6ZGlzcGxheWFibGUuaW5pdFwiKTtjYXNlIDI6YS5yZXNvbHZlKHt0eXBlOnRoaXMudHlwZSxub2RlOnRoaXMuY29udGVudE5vZGUuZ2V0Q2hpbGQoKX0pLHQuc3RhZ2UubmV4dCgpO2Nhc2UgNDpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksYX1pZih0aGlzLnR5cGU9PT1uLnNldFNyYylyZXR1cm4gdGhpcy5jYWxsZWUuc3RhdGUuc3JjPXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdLHQubG9nZ2VyLmRlYnVnKFwiSW1hZ2UgLSBTZXQgU3JjXCIsdGhpcy5jYWxsZWUuc3RhdGUuc3JjKSx0LnN0YWdlLnVwZGF0ZSgpLGVzKGUsXCJleGVjdXRlQWN0aW9uXCIsdGhpcywzKShbdF0pO2lmKFtuLnNob3csbi5oaWRlLG4uYXBwbHlUcmFuc2Zvcm1dLmluY2x1ZGVzKHRoaXMudHlwZSkpe3ZhciBzPW5ldyB3KChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKS5yZWdpc3RlclNraXBDb250cm9sbGVyKG5ldyBFKChmdW5jdGlvbigpe3JldHVybiByLnR5cGU9PT1uLmhpZGUmJihyLmNhbGxlZS5zdGF0ZS5kaXNwbGF5PSExKSxlcyhlLFwiZXhlY3V0ZUFjdGlvblwiLHIsMykoW3RdKX0pKSksdT10aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKVsxXTtyZXR1cm4gdGhpcy50eXBlPT09bi5zaG93JiYodGhpcy5jYWxsZWUuc3RhdGUuZGlzcGxheT0hMCx0LnN0YWdlLnVwZGF0ZSgpKSx0LmFuaW1hdGVJbWFnZShxYS5FdmVudFR5cGVzW1wiZXZlbnQ6ZGlzcGxheWFibGUuYXBwbHlUcmFuc2Zvcm1cIl0sdGhpcy5jYWxsZWUsW3VdLChmdW5jdGlvbigpe3ZhciB0O3IudHlwZT09PW4uaGlkZSYmKHIuY2FsbGVlLnN0YXRlLmRpc3BsYXk9ITEpLHMucmVzb2x2ZSh7dHlwZTpyLnR5cGUsbm9kZTpudWxsPT09KHQ9ci5jb250ZW50Tm9kZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0Q2hpbGQoKX0pfSkpLHN9aWYodGhpcy50eXBlPT09bi5kaXNwb3NlKXJldHVybiB0LmRpc3Bvc2VJbWFnZSh0aGlzLmNhbGxlZSksdGhpcy5jYWxsZWUuXyRzZXREaXNwb3NlKCksZXMoZSxcImV4ZWN1dGVBY3Rpb25cIix0aGlzLDMpKFt0XSk7aWYodGhpcy50eXBlPT09bi5hcHBseVRyYW5zaXRpb24pe3ZhciBjPW5ldyB3KChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKS5yZWdpc3RlclNraXBDb250cm9sbGVyKG5ldyBFKChmdW5jdGlvbigpe3JldHVybiByLnR5cGU9PT1uLmhpZGUmJihyLmNhbGxlZS5zdGF0ZS5kaXNwbGF5PSExKSx7dHlwZTpyLnR5cGUsbm9kZTpyLmNvbnRlbnROb2RlLmdldENoaWxkKCl9fSkpKSxsPXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdO3JldHVybiB0aGlzLmNhbGxlZS5ldmVudHMuYW55KFwiZXZlbnQ6ZGlzcGxheWFibGUuYXBwbHlUcmFuc2l0aW9uXCIsbCkudGhlbigoZnVuY3Rpb24oKXtjLnJlc29sdmUoe3R5cGU6ci50eXBlLG5vZGU6ci5jb250ZW50Tm9kZS5nZXRDaGlsZCgpfSksdC5zdGFnZS5uZXh0KCl9KSksY31pZih0aGlzLnR5cGU9PT1uLmZsdXNoKXJldHVybiBlcyhlLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKTt0aHJvdyBlcyhlLFwidW5rbm93blR5cGVcIix0aGlzLDMpKFtdKX19XSl9KFUpO2Z1bmN0aW9uIHNzKHQsZSxuKXtyZXR1cm4gZT1wcyhlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1kcyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxscygpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10scHModCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gdXModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmZnModCxlKX1mdW5jdGlvbiBjcyh0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBNYXA/bmV3IE1hcDp2b2lkIDA7cmV0dXJuIGNzPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwhZnVuY3Rpb24odCl7dHJ5e3JldHVybi0xIT09RnVuY3Rpb24udG9TdHJpbmcuY2FsbCh0KS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKX1jYXRjaChlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fX0odCkpcmV0dXJuIHQ7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7aWYodm9pZCAwIT09ZSl7aWYoZS5oYXModCkpcmV0dXJuIGUuZ2V0KHQpO2Uuc2V0KHQsbil9ZnVuY3Rpb24gbigpe3JldHVybiBmdW5jdGlvbih0LGUsbil7aWYobHMoKSlyZXR1cm4gUmVmbGVjdC5jb25zdHJ1Y3QuYXBwbHkobnVsbCxhcmd1bWVudHMpO3ZhciByPVtudWxsXTtyLnB1c2guYXBwbHkocixlKTt2YXIgbz1uZXcodC5iaW5kLmFwcGx5KHQscikpO3JldHVybiBuJiZmcyhvLG4ucHJvdG90eXBlKSxvfSh0LGFyZ3VtZW50cyxwcyh0aGlzKS5jb25zdHJ1Y3Rvcil9cmV0dXJuIG4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpuLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGZzKG4sdCl9LGNzKHQpfWZ1bmN0aW9uIGxzKCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4obHM9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIGZzKHQsZSl7cmV0dXJuIGZzPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sZnModCxlKX1mdW5jdGlvbiBwcyh0KXtyZXR1cm4gcHM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHBzKHQpfWZ1bmN0aW9uIGRzKHQpe3JldHVybiBkcz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxkcyh0KX1mdW5jdGlvbiBocyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24geXModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbXMoci5rZXkpLHIpfX1mdW5jdGlvbiB2cyh0LGUsbil7cmV0dXJuIGUmJnlzKHQucHJvdG90eXBlLGUpLG4mJnlzKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fWZ1bmN0aW9uIG1zKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9ZHModCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9ZHMocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1kcyhlKT9lOmUrXCJcIn1hcy5BY3Rpb25UeXBlcz1uO3ZhciBncz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuLHIpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToxO2hzKHRoaXMsdCksdGhpcy5yPWUsdGhpcy5nPW4sdGhpcy5iPXIsdGhpcy5hPW99cmV0dXJuIHZzKHQsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJyZ2JhKFwiLmNvbmNhdCh0aGlzLnIsXCIsIFwiKS5jb25jYXQodGhpcy5nLFwiLCBcIikuY29uY2F0KHRoaXMuYixcIiwgXCIpLmNvbmNhdCh0aGlzLmEsXCIpXCIpfX0se2tleTpcInRvSGV4XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIiNcIit0aGlzLnIudG9TdHJpbmcoMTYpK3RoaXMuZy50b1N0cmluZygxNikrdGhpcy5iLnRvU3RyaW5nKDE2KX19LHtrZXk6XCJ0b0ltYWdlQ29sb3JcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybntyOnRoaXMucixnOnRoaXMuZyxiOnRoaXMuYixhOnRoaXMuYX19fV0sW3trZXk6XCJpc0hleFN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiYvXiNbMC05QS1GXXs2fSQvaS50ZXN0KHQpfX0se2tleTpcImZyb21IZXhcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj1lLnNsaWNlKDEpO3JldHVybiBuZXcgdChwYXJzZUludChuLnNsaWNlKDAsMiksMTYpLHBhcnNlSW50KG4uc2xpY2UoMiw0KSwxNikscGFyc2VJbnQobi5zbGljZSg0LDYpLDE2KSw4PT09bi5sZW5ndGg/cGFyc2VJbnQobi5zbGljZSg2LDgpLDE2KS8yNTU6MSl9fV0pfSgpLGJzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2hzKHRoaXMsdCl9cmV0dXJuIHZzKHQsbnVsbCxbe2tleTpcInNyY1RvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0LnNyY319LHtrZXk6XCJzdGF0aWNJbWFnZURhdGFUb1NyY1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dC5zcmN9fSx7a2V5OlwiaXNTdGF0aWNJbWFnZURhdGFcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09KG51bGw9PXQ/dm9pZCAwOnQuc3JjKX19LHtrZXk6XCJiYWNrZ3JvdW5kVG9TcmNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdC5pc1N0YXRpY0ltYWdlRGF0YShlKT9lLnNyYzoobnVsbD09ZT92b2lkIDA6ZS51cmwpfHxudWxsfX0se2tleTpcImlzRXh0ZXJuYWxTcmNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGFydHNXaXRoKFwiaHR0cDovL1wiKXx8dC5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIil9fSx7a2V5OlwiaXNJbWFnZVNyY1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYhdGhpcy5pc0hleFN0cmluZyhlKXx8dC5pc1N0YXRpY0ltYWdlRGF0YShlKX19LHtrZXk6XCJpc0ltYWdlQ29sb3JcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdC5pc0hleFN0cmluZyhlKXx8dC5pc1BsYWluQ29sb3IoZSl9fSx7a2V5OlwiaXNQbGFpbkNvbG9yXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR8fFwib2JqZWN0XCI9PT1kcyh0KSYmXCJyXCJpbiB0JiZcImdcImluIHQmJlwiYlwiaW4gdH19LHtrZXk6XCJpc0hleFN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiYvXiMoWzAtOUEtRl17Nn18WzAtOUEtRl17M30pJC9pLnRlc3QodCl9fSx7a2V5OlwidG9CYWNrZ3JvdW5kU3JjXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0LnNyY319LHtrZXk6XCJ0b0hleFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBTKHQpfX1dKX0oKTticy5SR0JDb2xvcj1nczt2YXIgd3MsX3M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LG4pe3JldHVybiBocyh0aGlzLGUpLHNzKHRoaXMsZSxbdCx7aW5mbzpufSxcIk5hcnJhTGVhZlJlYWN0LVN0YXRpY1NjcmlwdFdhcm5pbmdcIl0pfXJldHVybiB1cyhlLHQpLHZzKGUsbnVsbCxbe2tleTpcImlzV2FybmluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZX19XSl9KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxuKXt2YXIgcixvPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpcIlVzZUVycm9yXCI7cmV0dXJuIGhzKHRoaXMsZSksKHI9c3ModGhpcyxlLFt0XSkpLnByb3BzPW4sci5uYW1lPW8scn1yZXR1cm4gdXMoZSx0KSx2cyhlLG51bGwsW3trZXk6XCJpc1VzZUVycm9yXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlfX1dKX0oY3MoRXJyb3IpKSksU3M9ZnVuY3Rpb24oKXtyZXR1cm4gdnMoKGZ1bmN0aW9uIHQoZSl7aHModGhpcyx0KSx0aGlzLnNjZW5lPWV9KSxbe2tleTpcInJ1blwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuc2NlbmUuc2NlbmVSb290KXJldHVybiBudWxsO3ZhciB0PW5ldyBNYXAsZT1uZXcgTWFwLG49W10scj1uZXcgU2V0LG89dGhpcy5zY2VuZS5nZXRBbGxDaGlsZHJlbih0aGlzLnNjZW5lLnNjZW5lUm9vdCk7aWYoIW8ubGVuZ3RoKXJldHVybiBudWxsO2ZvcihuLnB1c2gob1swXSk7bi5sZW5ndGg7KXt2YXIgaT1uLnNoaWZ0KCk7dGhpcy5jaGVja0FjdGlvbihpLHtpbWFnZVN0YXRlczp0LHNjZW5lczplfSxyKTt2YXIgYT1pLmNvbnRlbnROb2RlLmdldENoaWxkKCk7YSYmYS5hY3Rpb24mJm4ucHVzaChhLmFjdGlvbil9cmV0dXJuIHR9fSx7a2V5OlwiY2hlY2tBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0LG4scil7dmFyIG89bi5pbWFnZVN0YXRlcyxpPW4uc2NlbmVzO2lmKHQgaW5zdGFuY2VvZiBhcylvLmhhcyh0LmNhbGxlZSl8fG8uc2V0KHQuY2FsbGVlLHtpc0Rpc3Bvc2VkOiExLHVzZWRFeHRlcm5hbFNyYzohMX0pLHRoaXMuY2hlY2tJbWFnZShvLmdldCh0LmNhbGxlZSksdCk7ZWxzZSBpZih0IGluc3RhbmNlb2YgZHQpe3ZhciBhPXQuY2FsbGVlO2lmKGkuaGFzKGEubmFtZSkpe2lmKGkuZ2V0KGEubmFtZSkhPT1hKXt2YXIgcz1cIlNjZW5lIHdpdGggbmFtZTogXCIuY29uY2F0KGEubmFtZSxcIiBpcyBkdXBsaWNhdGVkXFxuU2NlbmU6IFwiKS5jb25jYXQoYS5uYW1lLFwiXFxuXFxuQXQ6IFwiKS5jb25jYXQodC5fX3N0YWNrKTt0aHJvdyBuZXcgX3Mocyl9fWVsc2UgaS5zZXQoYS5uYW1lLGEpO2lmKHQudHlwZT09PWUuanVtcFRvKXt2YXIgdT10LmNvbnRlbnROb2RlLmdldENvbnRlbnQoKVswXTtpZihyLmhhcyh1KSlyZXR1cm47ci5hZGQodSl9fX19LHtrZXk6XCJjaGVja0ltYWdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihlLnR5cGU9PT1uLmRpc3Bvc2Upe2lmKHQuaXNEaXNwb3NlZCl7dmFyIHI9XCJJbWFnZSBpcyBkaXNwb3NlZCBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgYWN0aW9uOiBcIi5jb25jYXQoZS50eXBlLFwiXFxuSW1hZ2U6IFwiKS5jb25jYXQoZS5jYWxsZWUubmFtZSxcIlxcbkFjdGlvbjogXCIpLmNvbmNhdChlLnR5cGUsXCJcXG5cXG5BdDogXCIpLmNvbmNhdChlLl9fc3RhY2spO3Rocm93IG5ldyBfcyhyKX10LmlzRGlzcG9zZWQ9ITB9ZWxzZSBpZihbbi5pbml0LG4uc2hvdyxuLmhpZGUsbi5hcHBseVRyYW5zZm9ybSxuLmFwcGx5VHJhbnNpdGlvbl0uaW5jbHVkZXMoZS50eXBlKSl7aWYodC5pc0Rpc3Bvc2VkKXt2YXIgbz1cIkltYWdlIGlzIGRpc3Bvc2VkIGJlZm9yZSBhY3Rpb246IFwiLmNvbmNhdChlLnR5cGUsXCJcXG5JbWFnZTogXCIpLmNvbmNhdChlLmNhbGxlZS5uYW1lLFwiXFxuQWN0aW9uOiBcIikuY29uY2F0KGUudHlwZSxcIlxcblxcbkF0OiBcIikuY29uY2F0KGUuX19zdGFjayk7dGhyb3cgbmV3IF9zKG8pfX1lbHNlIGlmKGUudHlwZT09PW4uc2V0U3JjKXt2YXIgaT1lLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKVswXTticy5pc0V4dGVybmFsU3JjKGkpJiYodC51c2VkRXh0ZXJuYWxTcmM9ITApfX19XSl9KCk7ZnVuY3Rpb24ga3ModCl7cmV0dXJuIGtzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGtzKHQpfWZ1bmN0aW9uIHhzKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LEFzKHIua2V5KSxyKX19ZnVuY3Rpb24gQXModCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1rcyh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1rcyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PWtzKGUpP2U6ZStcIlwifWZ1bmN0aW9uIE9zKHQsZSxuKXtyZXR1cm4gZT1FcyhlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1rcyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxUcygpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sRXModCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gVHMoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihUcz1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gRXModCl7cmV0dXJuIEVzPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxFcyh0KX1mdW5jdGlvbiBQcyh0LGUpe3JldHVybiBQcz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFBzKHQsZSl9IWZ1bmN0aW9uKHQpe3Quc291bmRFZmZlY3Q9XCJzb3VuZEVmZmVjdFwiLHQubXVzaWM9XCJtdXNpY1wiLHQudm9pY2U9XCJ2b2ljZVwiLHQuYmFja2dyb3VuZE11c2ljPVwiYmFja2dyb3VuZE11c2ljXCJ9KHdzfHwod3M9e30pKTt2YXIganM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksKHQ9T3ModGhpcyxlKSkuc3RhdGU9e3BsYXlpbmc6bnVsbCx0b2tlbjpudWxsfSx0LmNvbmZpZz1iKGUuZGVmYXVsdENvbmZpZyxcInN0cmluZ1wiPT10eXBlb2Ygbj97c3JjOm59Om4pLHR9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJlBzKHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZ4cyh0LnByb3RvdHlwZSxlKSxuJiZ4cyh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcInBsYXlcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuY29uZmlnLnR5cGU9PT13cy5iYWNrZ3JvdW5kTXVzaWMpdGhyb3cgbmV3IEVycm9yKFwiQmFja2dyb3VuZCBtdXNpYyBjYW5ub3QgYmUgcGxheWVkIGRpcmVjdGx5XCIpO3JldHVybiB0aGlzLnB1c2hBY3Rpb24odHQuQWN0aW9uVHlwZXMucGxheSxbdm9pZCAwXSl9fSx7a2V5Olwic3RvcFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5jb25maWcudHlwZT09PXdzLmJhY2tncm91bmRNdXNpYyl0aHJvdyBuZXcgRXJyb3IoXCJCYWNrZ3JvdW5kIG11c2ljIGNhbm5vdCBiZSBzdG9wcGVkIGRpcmVjdGx5XCIpO3JldHVybiB0aGlzLnB1c2hBY3Rpb24odHQuQWN0aW9uVHlwZXMuc3RvcCxbdm9pZCAwXSl9fSx7a2V5OlwiZmFkZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtpZih0aGlzLmNvbmZpZy50eXBlPT09d3MuYmFja2dyb3VuZE11c2ljKXRocm93IG5ldyBFcnJvcihcIkJhY2tncm91bmQgbXVzaWMgY2Fubm90IGJlIGZhZGVkIGRpcmVjdGx5XCIpO3JldHVybiB0aGlzLnB1c2hBY3Rpb24odHQuQWN0aW9uVHlwZXMuZmFkZSxbe3N0YXJ0OnQsZW5kOmUsZHVyYXRpb246bn1dKX19LHtrZXk6XCJzZXRWb2x1bWVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wdXNoQWN0aW9uKHR0LkFjdGlvblR5cGVzLnNldFZvbHVtZSxbdF0pfX0se2tleTpcInNldFJhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wdXNoQWN0aW9uKHR0LkFjdGlvblR5cGVzLnNldFJhdGUsW3RdKX19LHtrZXk6XCJwYXVzZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10P3RoaXMuZmFkZSh2b2lkIDAsMCx0KTp0aGlzLnB1c2hBY3Rpb24odHQuQWN0aW9uVHlwZXMucGF1c2UsW3ZvaWQgMF0pfX0se2tleTpcInJlc3VtZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10P3RoaXMuZmFkZSgwLHRoaXMuY29uZmlnLnZvbHVtZSx0KTp0aGlzLnB1c2hBY3Rpb24odHQuQWN0aW9uVHlwZXMucmVzdW1lLFt2b2lkIDBdKX19LHtrZXk6XCJnZXRIb3dsT3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuYXNzaWduKHtzcmM6dGhpcy5jb25maWcuc3JjLGxvb3A6dGhpcy5jb25maWcubG9vcCx2b2x1bWU6dGhpcy5jb25maWcudm9sdW1lLGh0bWw1OnRoaXMuY29uZmlnLnN0cmVhbWluZyxhdXRvcGxheTohMX0sdHx8e30pfX0se2tleTpcImdldFNyY1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLnNyY319LHtrZXk6XCJnZXRUb2tlblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUudG9rZW58fHZvaWQgMH19LHtrZXk6XCJnZXRQbGF5aW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS5wbGF5aW5nfX0se2tleTpcInNldFRva2VuXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zdGF0ZS50b2tlbj12b2lkIDA9PT10P251bGw6dH19LHtrZXk6XCJzZXRQbGF5aW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGUucGxheWluZz10LHRoaXN9fSx7a2V5OlwidG9EYXRhXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gTyh0aGlzLmNvbmZpZyxlLmRlZmF1bHRDb25maWcpP251bGw6e2NvbmZpZzpfKHRoaXMuY29uZmlnKX19fSx7a2V5OlwiZnJvbURhdGFcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb25maWc9Yih0aGlzLmNvbmZpZyx0LmNvbmZpZyksdGhpc319LHtrZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7bnVsbD09PSh0PXRoaXMuc3RhdGUucGxheWluZyl8fHZvaWQgMD09PXR8fHQuc3RvcCgpLHRoaXMuc3RhdGUucGxheWluZz1udWxsLHRoaXMuc3RhdGUudG9rZW49bnVsbH19LHtrZXk6XCJwdXNoQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jaGFpbihuZXcgdHQodGhpcy5jaGFpbigpLHQsKG5ldyB4dCkuc2V0Q29udGVudChlKSkpfX1dLFt7a2V5OlwidG9Tb3VuZFNyY1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P251bGw6XCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0LmdldFNyYygpfX0se2tleTpcInRvU291bmRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9udWxsOlwic3RyaW5nXCI9PXR5cGVvZiB0P25ldyBlKHtzcmM6dH0pOnR9fV0pfSh5ZSk7ZnVuY3Rpb24gQ3ModCl7cmV0dXJuIENzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LENzKHQpfWZ1bmN0aW9uIExzKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LElzKHIua2V5KSxyKX19ZnVuY3Rpb24gSXModCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1Dcyh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1DcyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PUNzKGUpP2U6ZStcIlwifWpzLmRlZmF1bHRDb25maWc9e3NyYzpcIlwiLHN5bmM6ITEsbG9vcDohMSx2b2x1bWU6MX07dmFyIE5zPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuY29uZmlnPWV9cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmTHModC5wcm90b3R5cGUsZSksbiYmTHModCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KHQsbnVsbCxbe2tleTpcImZyb21cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdC5pc1BhdXNlQ29uc3RydWN0b3IoZSk/bmV3IHQ6ZX19LHtrZXk6XCJ3YWl0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KHtkdXJhdGlvbjplfSl9fSx7a2V5OlwiaXNQYXVzZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzUGF1c2VDb25zdHJ1Y3RvcihlKXx8ZSBpbnN0YW5jZW9mIHR9fSx7a2V5OlwiaXNQYXVzZUNvbnN0cnVjdG9yXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fX1dKX0oKTtmdW5jdGlvbiBNcyh0KXtyZXR1cm4gTXM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sTXModCl9ZnVuY3Rpb24gUnModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsRnMoci5rZXkpLHIpfX1mdW5jdGlvbiBGcyh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPU1zKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPU1zKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09TXMoZSk/ZTplK1wiXCJ9dmFyIERzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLnRleHQ9ZSx0aGlzLmNvbmZpZz1iKHQuZGVmYXVsdENvbmZpZyxuKX1yZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZScyh0LnByb3RvdHlwZSxlKSxuJiZScyh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0odCxbe2tleTpcImV2YWx1YXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG49dGhpcztpZihOcy5pc1BhdXNlKHRoaXMudGV4dCkpcmV0dXJuW3RoaXNdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMudGV4dCl7dmFyIHI9dGhpcy50ZXh0KGUpO3JldHVybiBBcnJheS5pc0FycmF5KHIpP3IubWFwKChmdW5jdGlvbihyKXtyZXR1cm4gdC5pc1dvcmQocik/ci5pbmhlcml0KG4uY29uZmlnKS5ldmFsdWF0ZShlKTpuZXcgdChyLG4uY29uZmlnKX0pKS5mbGF0KCk6dC5pc1dvcmQocik/ci5pbmhlcml0KHRoaXMuY29uZmlnKS5ldmFsdWF0ZShlKTpbbmV3IHQocix0aGlzLmNvbmZpZyldfXJldHVyblt0aGlzXX19LHtrZXk6XCJpbmhlcml0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29uZmlnLmNvbG9yPXRoaXMuY29uZmlnLmNvbG9yfHx0LmNvbG9yLHRoaXMuY29uZmlnLml0YWxpYz10aGlzLmNvbmZpZy5pdGFsaWN8fHQuaXRhbGljLHRoaXMuY29uZmlnLmJvbGQ9dGhpcy5jb25maWcuYm9sZHx8dC5ib2xkLHRoaXN9fV0sW3trZXk6XCJpc1dvcmRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHR9fV0pfSgpO2Z1bmN0aW9uIEJzKHQpe3JldHVybiBCcz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxCcyh0KX1mdW5jdGlvbiBWcyh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gR3ModCl9KHQpfHxmdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT10W1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPXRbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gR3ModCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9Hcyh0LGUpOnZvaWQgMH19KHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIEdzKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBVcyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxIcyhyLmtleSkscil9fWZ1bmN0aW9uIEhzKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9QnModCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9QnMocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1CcyhlKT9lOmUrXCJcIn1Ecy5kZWZhdWx0Q29uZmlnPXt9LERzLmRlZmF1bHRDb2xvcj1cIiMwMDBcIjt2YXIgenM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMudGV4dD10LmZvcm1hdChlKSx0aGlzLmNvbmZpZz1iKHQuZGVmYXVsdENvbmZpZyxPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbikse3ZvaWNlOmpzLnRvU291bmQobi52b2ljZSl9KSksdGhpcy5zdGF0ZT1fKHQuZGVmYXVsdFN0YXRlKX1yZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZVcyh0LnByb3RvdHlwZSxlKSxuJiZVcyh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0odCxbe2tleTpcInRvRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE8odGhpcy5zdGF0ZSx0LmRlZmF1bHRTdGF0ZSk/bnVsbDp7c3RhdGU6Xyh0aGlzLnN0YXRlKX19fSx7a2V5OlwiZnJvbURhdGFcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZT1iKHRoaXMuc3RhdGUsdCksdGhpc319LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRleHR9KSkuam9pbihcIlwiKX19LHtrZXk6XCJzZXRDaGFyYWN0ZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb25maWcuY2hhcmFjdGVyPXQsdGhpc319LHtrZXk6XCJldmFsdWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1bXSxyPTA7cjx0aGlzLnRleHQubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy50ZXh0W3JdLmV2YWx1YXRlKGUpO24ucHVzaC5hcHBseShuLFZzKHQuZm9ybWF0U3RhdGljV29yZChvKSkpfXJldHVybiBufX0se2tleTpcImNvcHlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdChWcyh0aGlzLnRleHQpLHRoaXMuY29uZmlnKX19XSxbe2tleTpcImlzU2VudGVuY2VcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHR9fSx7a2V5OlwidG9TZW50ZW5jZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0LmlzU2VudGVuY2UoZSk/ZTpuZXcgdChlKX19LHtrZXk6XCJmb3JtYXRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1bXTtpZihBcnJheS5pc0FycmF5KHQpKWZvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWUucHVzaCh0aGlzLmZvcm1hdFdvcmQodFtuXSkpO2Vsc2UgZS5wdXNoKHRoaXMuZm9ybWF0V29yZCh0KSk7cmV0dXJuIGV9fSx7a2V5OlwiZm9ybWF0V29yZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBEcy5pc1dvcmQodCk/dDpuZXcgRHModCl9fSx7a2V5OlwiZm9ybWF0U3RhdGljV29yZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG4uZm9ybWF0U3RhdGljV29yZCh0LGUpfSkpLmZsYXQoMik6W0RzLmlzV29yZCh0KT90Om5ldyBEcyh0LGUpXX19XSl9KCk7ZnVuY3Rpb24gV3ModCl7cmV0dXJuIFdzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFdzKHQpfWZ1bmN0aW9uICRzKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFlzKHIua2V5KSxyKX19ZnVuY3Rpb24gWXModCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1Xcyh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1XcyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PVdzKGUpP2U6ZStcIlwifWZ1bmN0aW9uIHFzKHQsZSxuKXtyZXR1cm4gZT1RcyhlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1XcyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxYcygpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sUXModCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gWHMoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihYcz1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gS3ModCxlLG4scil7dmFyIG89WnMoUXMoMSZyP3QucHJvdG90eXBlOnQpLGUsbik7cmV0dXJuIDImciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbz9mdW5jdGlvbih0KXtyZXR1cm4gby5hcHBseShuLHQpfTpvfWZ1bmN0aW9uIFpzKCl7cmV0dXJuIFpzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldC5iaW5kKCk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQsZSl7Zm9yKDshe30uaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9UXModCkpOyk7cmV0dXJuIHR9KHQsZSk7aWYocil7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpO3JldHVybiBvLmdldD9vLmdldC5jYWxsKGFyZ3VtZW50cy5sZW5ndGg8Mz90Om4pOm8udmFsdWV9fSxacy5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gUXModCl7cmV0dXJuIFFzPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxRcyh0KX1mdW5jdGlvbiBKcyh0LGUpe3JldHVybiBKcz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEpzKHQsZSl9enMuZGVmYXVsdENvbmZpZz17Y29sb3I6XCIjMDAwXCIscGF1c2U6ITAsdm9pY2U6bnVsbCxjaGFyYWN0ZXI6bnVsbH0senMuZGVmYXVsdFN0YXRlPXtkaXNwbGF5OiEwfTt2YXIgdHU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbigpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsbikscXModGhpcyxuLGFyZ3VtZW50cyl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkpzKHQsZSl9KG4sZSksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiYkcyh0LnByb3RvdHlwZSxlKSxuJiYkcyh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0obixbe2tleTpcImV4ZWN1dGVBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj10aGlzO2lmKHRoaXMudHlwZT09PXQuc2F5KXt2YXIgbz1uZXcgdygoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSkucmVnaXN0ZXJTa2lwQ29udHJvbGxlcihuZXcgRSgoZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpyLnR5cGUsbm9kZTpyLmNvbnRlbnROb2RlLmdldENoaWxkKCl9fSkpKSxpPXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpLGE9aS5jb25maWcudm9pY2U7cmV0dXJuIGEmJih0dC5pbml0U291bmQoZSxhKSxlLnBsYXlTb3VuZChhLChmdW5jdGlvbigpe2Uuc3RvcFNvdW5kKGEpfSkpKSxlLmNyZWF0ZVRleHQodGhpcy5nZXRJZCgpLGksKGZ1bmN0aW9uKCl7YSYmZS5zdG9wU291bmQoYSksby5yZXNvbHZlKHt0eXBlOnIudHlwZSxub2RlOnIuY29udGVudE5vZGUuZ2V0Q2hpbGQoKX0pfSkpLG99aWYodGhpcy50eXBlPT09dC5zZXROYW1lKXJldHVybiB0aGlzLmNhbGxlZS5zdGF0ZS5uYW1lPXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdLEtzKG4sXCJleGVjdXRlQWN0aW9uXCIsdGhpcywzKShbZV0pO3Rocm93IEtzKG4sXCJ1bmtub3duVHlwZVwiLHRoaXMsMykoW10pfX1dKX0oVSk7ZnVuY3Rpb24gZXUodCl7cmV0dXJuIGV1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGV1KHQpfWZ1bmN0aW9uIG51KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHJ1KHIua2V5KSxyKX19ZnVuY3Rpb24gcnUodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1ldSh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1ldShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PWV1KGUpP2U6ZStcIlwifWZ1bmN0aW9uIG91KHQsZSxuKXtyZXR1cm4gZT1hdShlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1ldShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxpdSgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sYXUodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gaXUoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihpdT1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gYXUodCl7cmV0dXJuIGF1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxhdSh0KX1mdW5jdGlvbiBzdSh0LGUpe3JldHVybiBzdT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LHN1KHQsZSl9dHUuQWN0aW9uVHlwZXM9dDt2YXIgdXU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLChuPW91KHRoaXMsZSkpLmNvbmZpZz1iKGUuZGVmYXVsdENvbmZpZyxyKSxuLnN0YXRlPXtuYW1lOnR8fFwiXCJ9LG59cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJnN1KHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZudSh0LnByb3RvdHlwZSxlKSxuJiZudSh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcInNheVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49QXJyYXkuaXNBcnJheSh0KT9uZXcgenModCxPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZXx8e30pLHtjaGFyYWN0ZXI6dGhpc30pKTooenMuaXNTZW50ZW5jZSh0KT90Om5ldyB6cyh0LE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlfHx7fSkse2NoYXJhY3Rlcjp0aGlzfSkpKS5jb3B5KCk7bi5zZXRDaGFyYWN0ZXIodGhpcyk7dmFyIHI9bmV3IHR1KHRoaXMuY2hhaW4oKSx0dS5BY3Rpb25UeXBlcy5zYXksKG5ldyB4dCkuc2V0Q29udGVudChuKSk7cmV0dXJuIHRoaXMuY2hhaW4ocil9fSx7a2V5Olwic2V0TmFtZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB0dSh0aGlzLmNoYWluKCksdHUuQWN0aW9uVHlwZXMuc2V0TmFtZSwobmV3IHh0KS5zZXRDb250ZW50KFt0XSkpO3JldHVybiB0aGlzLmNoYWluKGUpfX1dKX0oeWUpO2Z1bmN0aW9uIGN1KHQpe3JldHVybiBjdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxjdSh0KX1mdW5jdGlvbiBsdSh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gZnUodCl9KHQpfHxmdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT10W1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPXRbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gZnUodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9mdSh0LGUpOnZvaWQgMH19KHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIGZ1KHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBwdSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxkdShyLmtleSkscil9fWZ1bmN0aW9uIGR1KHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9Y3UodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9Y3UocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1jdShlKT9lOmUrXCJcIn1mdW5jdGlvbiBodSh0LGUsbil7cmV0dXJuIGU9bXUoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09Y3UoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQseXUoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLG11KHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIHl1KCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oeXU9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIHZ1KCl7cmV0dXJuIHZ1PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldC5iaW5kKCk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQsZSl7Zm9yKDshe30uaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9bXUodCkpOyk7cmV0dXJuIHR9KHQsZSk7aWYocil7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpO3JldHVybiBvLmdldD9vLmdldC5jYWxsKGFyZ3VtZW50cy5sZW5ndGg8Mz90Om4pOm8udmFsdWV9fSx2dS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbXUodCl7cmV0dXJuIG11PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxtdSh0KX1mdW5jdGlvbiBndSh0LGUpe3JldHVybiBndT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGd1KHQsZSl9dXUuZGVmYXVsdENvbmZpZz17Y29sb3I6XCIjMDAwXCJ9O3ZhciBidT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSxodSh0aGlzLGUsYXJndW1lbnRzKX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmZ3UodCxlKX0oZSx0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJnB1KHQucHJvdG90eXBlLGUpLG4mJnB1KHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShlLFt7a2V5OlwiZXhlY3V0ZUFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG4scj10aGlzLmNhbGxlZS5ldmFsdWF0ZSh0aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKSx7Z2FtZVN0YXRlOnR9KTtyZXR1cm4gbnVsbD09PShlPW51bGw9PXI/dm9pZCAwOnJbci5sZW5ndGgtMV0pfHx2b2lkIDA9PT1lfHxlLmNvbnRlbnROb2RlLmFkZENoaWxkKHRoaXMuY29udGVudE5vZGUuZ2V0Q2hpbGQoKSksdGhpcy5jb250ZW50Tm9kZS5hZGRDaGlsZCgobnVsbD09PShuPW51bGw9PXI/dm9pZCAwOnJbMF0pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmNvbnRlbnROb2RlKXx8bnVsbCkse3R5cGU6dGhpcy50eXBlLG5vZGU6dGhpcy5jb250ZW50Tm9kZS5nZXRDaGlsZCgpfX19LHtrZXk6XCJnZXRGdXR1cmVBY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5bXS5jb25jYXQobHUodGhpcy5jYWxsZWUuX2dldEZ1dHVyZUFjdGlvbnMoKSksbHUoZnVuY3Rpb24odCxlLG4scil7dmFyIG89dnUobXUoMSZyP3QucHJvdG90eXBlOnQpLGUsbik7cmV0dXJuIDImciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbz9mdW5jdGlvbih0KXtyZXR1cm4gby5hcHBseShuLHQpfTpvfShlLFwiZ2V0RnV0dXJlQWN0aW9uc1wiLHRoaXMsMykoW10pKSl9fV0pfShVKTtmdW5jdGlvbiB3dSh0KXtyZXR1cm4gd3U9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sd3UodCl9ZnVuY3Rpb24gX3UodCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGt1KHQpfSh0KXx8ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9dFtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT10W1wiQEBpdGVyYXRvclwiXSlyZXR1cm4gQXJyYXkuZnJvbSh0KX0odCl8fFN1KHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIFN1KHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIGt1KHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/a3UodCxlKTp2b2lkIDB9fWZ1bmN0aW9uIGt1KHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiB4dSh0LGUsbil7cmV0dXJuIGU9T3UoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09d3UoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsQXUoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLE91KHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIEF1KCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oQXU9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIE91KHQpe3JldHVybiBPdT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sT3UodCl9ZnVuY3Rpb24gVHUodCxlKXtyZXR1cm4gVHU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxUdSh0LGUpfWZ1bmN0aW9uIEV1KHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBQdSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxDdShyLmtleSkscil9fWZ1bmN0aW9uIGp1KHQsZSxuKXtyZXR1cm4gZSYmUHUodC5wcm90b3R5cGUsZSksbiYmUHUodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9ZnVuY3Rpb24gQ3UodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT13dSh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT13dShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PXd1KGUpP2U6ZStcIlwifWJ1LkFjdGlvblR5cGVzPXthY3Rpb246XCJjb25kaXRpb246YWN0aW9uXCJ9O3ZhciBMdT1mdW5jdGlvbigpe3JldHVybiBqdSgoZnVuY3Rpb24gdChlKXtFdSh0aGlzLHQpLHRoaXMuaGFuZGxlcj1lfSksW3trZXk6XCJldmFsdWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2FtZVN0YXRlO3JldHVybnt2YWx1ZTp0aGlzLmhhbmRsZXIodGhpcy5nZXRDdHgoe2dhbWVTdGF0ZTplfSkpfX19LHtrZXk6XCJnZXRDdHhcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmdhbWVTdGF0ZTtyZXR1cm57Z2FtZVN0YXRlOmUsZ2FtZTplLmdhbWUsbGl2ZUdhbWU6ZS5nYW1lLmdldExpdmVHYW1lKCksc3RvcmFibGU6ZS5nYW1lLmdldExpdmVHYW1lKCkuZ2V0U3RvcmFibGUoKX19fV0pfSgpLEl1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gRXUodGhpcyxlKSwodD14dSh0aGlzLGUpKS5jb25kaXRpb25zPXtJZjp7Y29uZGl0aW9uOm51bGwsYWN0aW9uOm51bGx9LEVsc2VJZjpbXSxFbHNlOnthY3Rpb246bnVsbH19LHQuY29uZmlnPWIoZS5kZWZhdWx0Q29uZmlnLG4pLHR9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJlR1KHQsZSl9KGUsdCksanUoZSxbe2tleTpcIklmXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmNvbmRpdGlvbnMuSWYuY29uZGl0aW9uKXRocm93IG5ldyBfcyhcIklGIGNvbmRpdGlvbiBhbHJlYWR5IHNldFxcbllvdSBhcmUgdHJ5aW5nIHRvIHNldCBtdWx0aXBsZSBJRiBjb25kaXRpb25zIGZvciB0aGUgc2FtZSBjb25kaXRpb25cIik7aWYodGhpcy5jb25kaXRpb25zLkVsc2VJZi5sZW5ndGgpdGhyb3cgbmV3IF9zKFwiRUxTRS1JRiBjb25kaXRpb24gYWxyZWFkeSBzZXRcXG5Zb3UgYXJlIHRyeWluZyB0byBzZXQgYW4gSUYgY29uZGl0aW9uIGFmdGVyIGFuIEVMU0UtSUYgY29uZGl0aW9uXCIpO2lmKHRoaXMuY29uZGl0aW9ucy5FbHNlLmFjdGlvbil0aHJvdyBuZXcgX3MoXCJFTFNFIGNvbmRpdGlvbiBhbHJlYWR5IHNldFxcbllvdSBhcmUgdHJ5aW5nIHRvIHNldCBhbiBJRiBjb25kaXRpb24gYWZ0ZXIgYW4gRUxTRSBjb25kaXRpb25cIik7cmV0dXJuIHRoaXMuY29uZGl0aW9ucy5JZi5jb25kaXRpb249dCBpbnN0YW5jZW9mIEx1P3Q6bmV3IEx1KHQpLHRoaXMuY29uZGl0aW9ucy5JZi5hY3Rpb249dGhpcy5jb25zdHJ1Y3QoQXJyYXkuaXNBcnJheShlKT9lOltlXSksdGhpcy5jaGFpbigpfX0se2tleTpcIkVsc2VJZlwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuY29uZGl0aW9ucy5JZi5jb25kaXRpb24pdGhyb3cgbmV3IF9zKFwiSUYgY29uZGl0aW9uIG5vdCBzZXRcXG5Zb3UgYXJlIHRyeWluZyB0byBzZXQgYW4gRUxTRS1JRiBjb25kaXRpb24gd2l0aG91dCBhbiBJRiBjb25kaXRpb25cIik7aWYodGhpcy5jb25kaXRpb25zLkVsc2UuYWN0aW9uKXRocm93IG5ldyBfcyhcIkVMU0UgY29uZGl0aW9uIGFscmVhZHkgc2V0XFxuWW91IGFyZSB0cnlpbmcgdG8gc2V0IGFuIEVMU0UtSUYgY29uZGl0aW9uIGFmdGVyIGFuIEVMU0UgY29uZGl0aW9uXCIpO3JldHVybiB0aGlzLmNvbmRpdGlvbnMuRWxzZUlmLnB1c2goe2NvbmRpdGlvbjp0IGluc3RhbmNlb2YgTHU/dDpuZXcgTHUodCksYWN0aW9uOnRoaXMuY29uc3RydWN0KEFycmF5LmlzQXJyYXkoZSk/ZTpbZV0pfSksdGhpcy5jaGFpbigpfX0se2tleTpcIkVsc2VcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5jb25kaXRpb25zLklmLmNvbmRpdGlvbil0aHJvdyBuZXcgX3MoXCJJRiBjb25kaXRpb24gbm90IHNldFxcbllvdSBhcmUgdHJ5aW5nIHRvIHNldCBhbiBFTFNFIGNvbmRpdGlvbiB3aXRob3V0IGFuIElGIGNvbmRpdGlvblwiKTtpZih0aGlzLmNvbmRpdGlvbnMuRWxzZS5hY3Rpb24pdGhyb3cgbmV3IF9zKFwiRUxTRSBjb25kaXRpb24gYWxyZWFkeSBzZXRcXG5Zb3UgYXJlIHRyeWluZyB0byBzZXQgbXVsdGlwbGUgRUxTRSBjb25kaXRpb25zIGZvciB0aGUgc2FtZSBjb25kaXRpb25cIik7cmV0dXJuIHRoaXMuY29uZGl0aW9ucy5FbHNlLmFjdGlvbj10aGlzLmNvbnN0cnVjdChBcnJheS5pc0FycmF5KHQpP3Q6W3RdKSx0aGlzLmNoYWluKCl9fSx7a2V5OlwiZXZhbHVhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuLHIsbz17Z2FtZVN0YXRlOmUuZ2FtZVN0YXRlfSxpPW51bGw9PT0obj10LklmLmNvbmRpdGlvbil8fHZvaWQgMD09PW4/dm9pZCAwOm4uZXZhbHVhdGUobyk7aWYobnVsbD09aT92b2lkIDA6aS52YWx1ZSlyZXR1cm4gdC5JZi5hY3Rpb258fG51bGw7dmFyIGEscz1mdW5jdGlvbih0LGUpe3ZhciBuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYoIW4pe2lmKEFycmF5LmlzQXJyYXkodCl8fChuPVN1KHQpKXx8ZSYmdCYmXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKXtuJiYodD1uKTt2YXIgcj0wLG89ZnVuY3Rpb24oKXt9O3JldHVybntzOm8sbjpmdW5jdGlvbigpe3JldHVybiByPj10Lmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6dFtyKytdfX0sZTpmdW5jdGlvbih0KXt0aHJvdyB0fSxmOm99fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgaSxhPSEwLHM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtuPW4uY2FsbCh0KX0sbjpmdW5jdGlvbigpe3ZhciB0PW4ubmV4dCgpO3JldHVybiBhPXQuZG9uZSx0fSxlOmZ1bmN0aW9uKHQpe3M9ITAsaT10fSxmOmZ1bmN0aW9uKCl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBpfX19fSh0LkVsc2VJZik7dHJ5e2ZvcihzLnMoKTshKGE9cy5uKCkpLmRvbmU7KXt2YXIgdT1hLnZhbHVlLGM9bnVsbD09PShyPXUuY29uZGl0aW9uKXx8dm9pZCAwPT09cj92b2lkIDA6ci5ldmFsdWF0ZShvKTtpZihudWxsPT1jP3ZvaWQgMDpjLnZhbHVlKXJldHVybiB1LmFjdGlvbnx8bnVsbH19Y2F0Y2godCl7cy5lKHQpfWZpbmFsbHl7cy5mKCl9cmV0dXJuIHQuRWxzZS5hY3Rpb258fG51bGx9fSx7a2V5OlwiZnJvbUNoYWluZWRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm5bUmVmbGVjdC5jb25zdHJ1Y3QoYnUsW3RoaXMsYnUuQWN0aW9uVHlwZXMuYWN0aW9uLChuZXcgeHQpLnNldENvbnRlbnQodC5jb25kaXRpb25zKV0pXX19LHtrZXk6XCJjb25zdHJ1Y3RcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByLG89aWUudG9BY3Rpb25zKHQpLGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIGE9b1tpXS5jb250ZW50Tm9kZSxzPW51bGw9PT0ocj1vW2krMV0pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmNvbnRlbnROb2RlO3MmJmEuc2V0Q2hpbGQocyksaT09PW8ubGVuZ3RoLTEmJmUmJmEuc2V0Q2hpbGQoZSksMD09PWkmJm4mJm4uc2V0Q2hpbGQoYSl9cmV0dXJuIG99fSx7a2V5OlwiX2dldEZ1dHVyZUFjdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBpZS50b0FjdGlvbnMoW10uY29uY2F0KF91KHRoaXMuY29uZGl0aW9ucy5JZi5hY3Rpb258fFtdKSxfdSh0aGlzLmNvbmRpdGlvbnMuRWxzZUlmLmZsYXRNYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFjdGlvbnx8W119KSkpLF91KHRoaXMuY29uZGl0aW9ucy5FbHNlLmFjdGlvbnx8W10pKSl9fV0sW3trZXk6XCJnZXRJbml0aWFsU3RhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybntJZjp7Y29uZGl0aW9uOm51bGwsYWN0aW9uOm51bGx9LEVsc2VJZjpbXSxFbHNlOnthY3Rpb246bnVsbH19fX1dKX0oeWUpO2Z1bmN0aW9uIE51KHQpe3JldHVybiBOdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxOdSh0KX1mdW5jdGlvbiBNdSh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gUnUodCl9KHQpfHxmdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT10W1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPXRbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gUnUodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9SdSh0LGUpOnZvaWQgMH19KHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIFJ1KHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBGdSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxEdShyLmtleSkscil9fWZ1bmN0aW9uIER1KHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9TnUodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9TnUocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1OdShlKT9lOmUrXCJcIn1mdW5jdGlvbiBCdSh0LGUsbil7cmV0dXJuIGU9VXUoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09TnUoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsVnUoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLFV1KHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIFZ1KCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oVnU9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIEd1KCl7cmV0dXJuIEd1PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldC5iaW5kKCk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQsZSl7Zm9yKDshe30uaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9VXUodCkpOyk7cmV0dXJuIHR9KHQsZSk7aWYocil7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpO3JldHVybiBvLmdldD9vLmdldC5jYWxsKGFyZ3VtZW50cy5sZW5ndGg8Mz90Om4pOm8udmFsdWV9fSxHdS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gVXUodCl7cmV0dXJuIFV1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxVdSh0KX1mdW5jdGlvbiBIdSh0LGUpe3JldHVybiBIdT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEh1KHQsZSl9SXUuZGVmYXVsdENvbmZpZz17fTt2YXIgenU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksQnUodGhpcyxlLGFyZ3VtZW50cyl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkh1KHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZGdSh0LnByb3RvdHlwZSxlKSxuJiZGdSh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcImV4ZWN1dGVBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLHI9dGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KCk7cmV0dXJuIHQuY3JlYXRlTWVudShyLChmdW5jdGlvbihyKXt2YXIgbyxpLGE9KG51bGw9PT0obz10LmdhbWUuZ2V0TGl2ZUdhbWUoKS5nZXRDdXJyZW50QWN0aW9uKCkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmNvbnRlbnROb2RlLmdldENoaWxkKCkpfHxudWxsO2EmJihudWxsPT09KGk9ci5hY3Rpb25bci5hY3Rpb24ubGVuZ3RoLTFdKXx8dm9pZCAwPT09aXx8aS5jb250ZW50Tm9kZS5hZGRDaGlsZChhKSksbi5yZXNvbHZlKHt0eXBlOmUudHlwZSxub2RlOnIuYWN0aW9uWzBdLmNvbnRlbnROb2RlfSl9KSksbn19LHtrZXk6XCJnZXRGdXR1cmVBY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKTtyZXR1cm5bXS5jb25jYXQoTXUodGhpcy5jYWxsZWUuX2dldEZ1dHVyZUFjdGlvbnModC5jaG9pY2VzKSksTXUoZnVuY3Rpb24odCxlLG4scil7dmFyIG89R3UoVXUoMSZyP3QucHJvdG90eXBlOnQpLGUsbik7cmV0dXJuIDImciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbz9mdW5jdGlvbih0KXtyZXR1cm4gby5hcHBseShuLHQpfTpvfShlLFwiZ2V0RnV0dXJlQWN0aW9uc1wiLHRoaXMsMykoW10pKSl9fV0pfShVKTtmdW5jdGlvbiBXdSh0KXtyZXR1cm4gV3U9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sV3UodCl9ZnVuY3Rpb24gJHUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsWXUoci5rZXkpLHIpfX1mdW5jdGlvbiBZdSh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPVd1KHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPVd1KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09V3UoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gcXUodCxlLG4pe3JldHVybiBlPUt1KGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PVd1KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LFh1KCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxLdSh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBYdSgpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKFh1PWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBLdSh0KXtyZXR1cm4gS3U9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LEt1KHQpfWZ1bmN0aW9uIFp1KHQsZSl7cmV0dXJuIFp1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sWnUodCxlKX16dS5BY3Rpb25UeXBlcz17YWN0aW9uOlwibWVudTphY3Rpb25cIn07dmFyIFF1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSwobj1xdSh0aGlzLGUpKS5jaG9pY2VzPVtdLG4ucHJvbXB0PXpzLmlzU2VudGVuY2UodCk/dDpuZXcgenModCksbi5jb25maWc9YihlLmRlZmF1bHRDb25maWcsciksbn1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmWnUodCxlKX0oZSx0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJiR1KHQucHJvdG90eXBlLGUpLG4mJiR1KHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShlLFt7a2V5OlwiY2hvb3NlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmNoYWluKCk7cmV0dXJuIHpzLmlzU2VudGVuY2UodCkmJmV8fChEcy5pc1dvcmQodCl8fEFycmF5LmlzQXJyYXkodCl8fFwic3RyaW5nXCI9PXR5cGVvZiB0KSYmZT9uLmNob2ljZXMucHVzaCh7cHJvbXB0OnpzLnRvU2VudGVuY2UodCksYWN0aW9uOmllLnRvQWN0aW9ucyhlKX0pOlwib2JqZWN0XCI9PT1XdSh0KSYmXCJwcm9tcHRcImluIHQmJlwiYWN0aW9uXCJpbiB0P24uY2hvaWNlcy5wdXNoKHtwcm9tcHQ6enMudG9TZW50ZW5jZSh0LnByb21wdCksYWN0aW9uOmllLnRvQWN0aW9ucyh0LmFjdGlvbil9KTpjb25zb2xlLndhcm4oXCJObyB2YWxpZCBjaG9pY2UgYWRkZWQgdG8gbWVudSwgXCIse2FyZzA6dCxhcmcxOmV9KSxufX0se2tleTpcImZyb21DaGFpbmVkXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuW25ldyB6dSh0aGlzLmNoYWluKCksenUuQWN0aW9uVHlwZXMuYWN0aW9uLChuZXcgeHQpLnNldENvbnRlbnQoe3Byb21wdDp0aGlzLnByb21wdCxjaG9pY2VzOnQuY29uc3RydWN0Q2hvaWNlcygpfSkpXX19LHtrZXk6XCJfZ2V0RnV0dXJlQWN0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWN0aW9ufSkpLmZsYXQoMil9fSx7a2V5OlwiY29uc3RydWN0Tm9kZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGk9dFtvXS5jb250ZW50Tm9kZSxhPW51bGw9PT0ocj10W28rMV0pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmNvbnRlbnROb2RlO2EmJmkuc2V0Q2hpbGQoYSksbz09PXRoaXMuY2hvaWNlcy5sZW5ndGgtMSYmZSYmaS5zZXRDaGlsZChlKSwwPT09byYmbiYmbi5zZXRDaGlsZChpKX1yZXR1cm4gdH19LHtrZXk6XCJjb25zdHJ1Y3RDaG9pY2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLmNob2ljZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm57YWN0aW9uOnQuY29uc3RydWN0Tm9kZXMoZS5hY3Rpb24pLHByb21wdDplLnByb21wdH19KSl9fV0pfSh5ZSk7ZnVuY3Rpb24gSnUodCl7cmV0dXJuIEp1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEp1KHQpfWZ1bmN0aW9uIHRjKHQpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBlYyh0KX0odCl8fGZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPXRbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9dFtcIkBAaXRlcmF0b3JcIl0pcmV0dXJuIEFycmF5LmZyb20odCl9KHQpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBlYyh0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP2VjKHQsZSk6dm9pZCAwfX0odCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gZWModCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIG5jKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHJjKHIua2V5KSxyKX19ZnVuY3Rpb24gcmModCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1KdSh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1KdShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PUp1KGUpP2U6ZStcIlwifWZ1bmN0aW9uIG9jKHQsZSxuKXtyZXR1cm4gZT1hYyhlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1KdShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxpYygpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sYWModCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gaWMoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihpYz1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gYWModCl7cmV0dXJuIGFjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxhYyh0KX1mdW5jdGlvbiBzYyh0LGUpe3JldHVybiBzYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LHNjKHQsZSl9UXUuZGVmYXVsdENvbmZpZz17fSxRdS50YXJnZXRBY3Rpb249enU7dmFyIHVjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLG9jKHRoaXMsZSl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJnNjKHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZuYyh0LnByb3RvdHlwZSxlKSxuJiZuYyh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcImZyb21DaGFpbmVkXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0QWN0aW9ucygpfX0se2tleTpcImZvckVhY2hDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IFNldCxyPVtdO2ZvcihBcnJheS5pc0FycmF5KHQpP3IucHVzaC5hcHBseShyLHRjKHQpKTpyLnB1c2godCk7ci5sZW5ndGg7KXt2YXIgbz1yLnNoaWZ0KCk7aWYoIW4uaGFzKG8pKXtuLmFkZChvKSxlKG8pO3ZhciBpPW8uZ2V0RnV0dXJlQWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIW4uaGFzKHQpfSkpO3IucHVzaC5hcHBseShyLHRjKGkpKX19fX0se2tleTpcImdldEFsbENoaWxkcmVuXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaENoaWxkKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBlLnB1c2godCl9KSksZX19LHtrZXk6XCJnZXRBbGxDaGlsZHJlbk1hcFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBNYXA7cmV0dXJuIHRoaXMuZm9yRWFjaENoaWxkKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBlLnNldCh0LmdldElkKCksdCl9KSksZX19LHtrZXk6XCJnZXRBbGxFbGVtZW50TWFwXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IE1hcDtyZXR1cm4gdGhpcy5mb3JFYWNoQ2hpbGQodCwoZnVuY3Rpb24odCl7cmV0dXJuIGUuc2V0KHQuY2FsbGVlLmdldElkKCksdC5jYWxsZWUpfSkpLGV9fSx7a2V5OlwiZ2V0QWxsQ2hpbGRyZW5FbGVtZW50c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5mcm9tKG5ldyBTZXQodGhpcy5nZXRBbGxDaGlsZHJlbih0KS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNhbGxlZX0pKSkpfX0se2tleTpcInRvRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSx7a2V5OlwiY29uc3RydWN0Tm9kZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbixyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07MD09PXImJmU/ZS5zZXRDaGlsZChvLmNvbnRlbnROb2RlKTpyPjAmJihudWxsPT09KG49dFtyLTFdLmNvbnRlbnROb2RlKXx8dm9pZCAwPT09bnx8bi5zZXRDaGlsZChvLmNvbnRlbnROb2RlKSl9cmV0dXJuIHQubGVuZ3RoP3RbMF0uY29udGVudE5vZGU6bnVsbH19XSl9KGFlKTtmdW5jdGlvbiBjYyh0KXtyZXR1cm4gY2M9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sY2ModCl9ZnVuY3Rpb24gbGModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZmMoci5rZXkpLHIpfX1mdW5jdGlvbiBmYyh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPWNjKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPWNjKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09Y2MoZSk/ZTplK1wiXCJ9dmFyIHBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5zcmM9W10sdGhpcy5mdXR1cmU9W119cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmbGModC5wcm90b3R5cGUsZSksbiYmbGModCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KHQsW3trZXk6XCJyZWdpc3RlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZihBcnJheS5pc0FycmF5KHQpKXQuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIG4ucmVnaXN0ZXIodCl9KSk7ZWxzZSBpZih0IGluc3RhbmNlb2YganMpe2lmKHRoaXMuaXNTcmNSZWdpc3RlcmVkKHQuZ2V0U3JjKCkpKXJldHVybiB0aGlzO3RoaXMuc3JjLnB1c2goe3R5cGU6XCJhdWRpb1wiLHNyYzp0fSl9ZWxzZSBpZih0IGluc3RhbmNlb2YgcWF8fGJzLmlzU3RhdGljSW1hZ2VEYXRhKHQpKXtpZih0IGluc3RhbmNlb2YgcWEpe2lmKHRoaXMuaXNTcmNSZWdpc3RlcmVkKGJzLnNyY1RvU3RyaW5nKHQuc3RhdGUuc3JjKSkpcmV0dXJuIHRoaXN9ZWxzZSBpZih0aGlzLmlzU3JjUmVnaXN0ZXJlZChicy5zcmNUb1N0cmluZyh0LnNyYykpKXJldHVybiB0aGlzO3RoaXMuc3JjLnB1c2goe3R5cGU6XCJpbWFnZVwiLHNyYzp0IGluc3RhbmNlb2YgcWE/dDpuZXcgcWEoXCJcIix7c3JjOmJzLnN0YXRpY0ltYWdlRGF0YVRvU3JjKHQpfSl9KX1lbHNlIGlmKFwib2JqZWN0XCI9PT1jYyh0KSl7aWYodGhpcy5pc1NyY1JlZ2lzdGVyZWQodC5zcmN8fFwiXCIpKXJldHVybiB0aGlzO3RoaXMuc3JjLnB1c2godCl9ZWxzZSBpZihcImF1ZGlvXCI9PT10KXtpZih0aGlzLmlzU3JjUmVnaXN0ZXJlZChlfHxcIlwiKSlyZXR1cm4gdGhpczt0aGlzLnNyYy5wdXNoKHt0eXBlOnQsc3JjOmUgaW5zdGFuY2VvZiBqcz9lOm5ldyBqcyh7c3JjOmV9KX0pfWVsc2V7aWYodGhpcy5pc1NyY1JlZ2lzdGVyZWQoZXx8XCJcIikpcmV0dXJuIHRoaXM7dGhpcy5zcmMucHVzaCh7dHlwZTp0LHNyYzplfSl9cmV0dXJuIHRoaXN9fSx7a2V5OlwiaXNTcmNSZWdpc3RlcmVkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG49ZSBpbnN0YW5jZW9mIGpzP2UuZ2V0U3JjKCk6ZTtyZXR1cm4gdGhpcy5zcmMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PXQuU3JjVHlwZXMuYXVkaW8/bj09PWUuc3JjLmdldFNyYygpOmUudHlwZT09PXQuU3JjVHlwZXMuaW1hZ2U/bj09PWJzLnNyY1RvU3RyaW5nKGUuc3JjLnN0YXRlLnNyYyk6bj09PWUuc3JjfSkpfX0se2tleTpcImdldFNyY1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3JjfX0se2tleTpcImdldFNyY0J5VHlwZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNyYy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnR5cGU9PT10fSkpfX0se2tleTpcInJlZ2lzdGVyRnV0dXJlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZnV0dXJlLmluY2x1ZGVzKHQpfHx0aGlzLmhhc0Z1dHVyZSh0KXx8dGhpcy5mdXR1cmUucHVzaCh0KSx0aGlzfX0se2tleTpcImhhc0Z1dHVyZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZ1dHVyZS5pbmNsdWRlcyh0KX19XSl9KCk7ZnVuY3Rpb24gZGModCl7cmV0dXJuIGRjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGRjKHQpfWZ1bmN0aW9uIGhjKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHljKHIua2V5KSxyKX19ZnVuY3Rpb24geWModCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1kYyh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1kYyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PWRjKGUpP2U6ZStcIlwifWZ1bmN0aW9uIHZjKHQsZSxuKXtyZXR1cm4gZT13YyhlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1kYyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxtYygpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sd2ModCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gbWMoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihtYz1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gZ2ModCxlLG4scil7dmFyIG89YmMod2MoMSZyP3QucHJvdG90eXBlOnQpLGUsbik7cmV0dXJuIDImciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbz9mdW5jdGlvbih0KXtyZXR1cm4gby5hcHBseShuLHQpfTpvfWZ1bmN0aW9uIGJjKCl7cmV0dXJuIGJjPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldC5iaW5kKCk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQsZSl7Zm9yKDshe30uaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9d2ModCkpOyk7cmV0dXJuIHR9KHQsZSk7aWYocil7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpO3JldHVybiBvLmdldD9vLmdldC5jYWxsKGFyZ3VtZW50cy5sZW5ndGg8Mz90Om4pOm8udmFsdWV9fSxiYy5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gd2ModCl7cmV0dXJuIHdjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSx3Yyh0KX1mdW5jdGlvbiBfYyh0LGUpe3JldHVybiBfYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LF9jKHQsZSl9cGMuU3JjVHlwZXM9e2ltYWdlOlwiaW1hZ2VcIix2aWRlbzpcInZpZGVvXCIsYXVkaW86XCJhdWRpb1wifTt2YXIgU2M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdmModGhpcyxlLGFyZ3VtZW50cyl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJl9jKHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZoYyh0LnByb3RvdHlwZSxlKSxuJiZoYyh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcImV4ZWN1dGVBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10aGlzO2lmKHRoaXMudHlwZT09PXMuaW5pdCl7dmFyIHI9dC5maW5kRWxlbWVudEJ5RGlzcGxheWFibGUodGhpcy5jYWxsZWUpO3ImJnQuZGlzcG9zZURpc3BsYXlhYmxlKHRoaXMuY2FsbGVlLHIuc2NlbmUpO3ZhciBvPXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdO3QuY3JlYXRlRGlzcGxheWFibGUodGhpcy5jYWxsZWUsbyk7dmFyIGk9bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpO3JldHVybiB0aGlzLmNhbGxlZS5ldmVudHMuYW55KFwiZXZlbnQ6ZGlzcGxheWFibGUuaW5pdFwiKS50aGVuKChmdW5jdGlvbigpe2kucmVzb2x2ZSh7dHlwZTpuLnR5cGUsbm9kZTpuLmNvbnRlbnROb2RlLmdldENoaWxkKCl9KSx0LnN0YWdlLm5leHQoKX0pKSxpfWlmKFtzLnNob3cscy5oaWRlLHMuYXBwbHlUcmFuc2Zvcm1dLmluY2x1ZGVzKHRoaXMudHlwZSkpe3ZhciBhPW5ldyB3KChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKS5yZWdpc3RlclNraXBDb250cm9sbGVyKG5ldyBFKChmdW5jdGlvbigpe3JldHVybiBuLnR5cGU9PT1zLmhpZGUmJihuLmNhbGxlZS5zdGF0ZS5kaXNwbGF5PSExKSxnYyhlLFwiZXhlY3V0ZUFjdGlvblwiLG4sMykoW3RdKX0pKSksdT10aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKVswXTtyZXR1cm4gdGhpcy50eXBlPT09cy5zaG93JiYodGhpcy5jYWxsZWUuc3RhdGUuZGlzcGxheT0hMCx0LnN0YWdlLnVwZGF0ZSgpKSx0LmFuaW1hdGVUZXh0KFFjLkV2ZW50VHlwZXNbXCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zZm9ybVwiXSx0aGlzLmNhbGxlZSxbdV0sKGZ1bmN0aW9uKCl7bi50eXBlPT09cy5oaWRlJiYobi5jYWxsZWUuc3RhdGUuZGlzcGxheT0hMSksYS5yZXNvbHZlKGdjKGUsXCJleGVjdXRlQWN0aW9uXCIsbiwzKShbdF0pKX0pKSxhfWlmKHRoaXMudHlwZT09PXMuc2V0VGV4dClyZXR1cm4gdGhpcy5jYWxsZWUuc3RhdGUudGV4dD10aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKVswXSxnYyhlLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKTtpZih0aGlzLnR5cGU9PT1zLnNldEZvbnRTaXplKXt0aGlzLmNhbGxlZS5zdGF0ZS5mb250U2l6ZT10aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKVswXTt2YXIgYz1uZXcgTGEoW10se2R1cmF0aW9uOjB9KSxsPW5ldyB3O3JldHVybiB0LmFuaW1hdGVUZXh0KFFjLkV2ZW50VHlwZXNbXCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zZm9ybVwiXSx0aGlzLmNhbGxlZSxbY10sKGZ1bmN0aW9uKCl7bC5yZXNvbHZlKGdjKGUsXCJleGVjdXRlQWN0aW9uXCIsbiwzKShbdF0pKX0pKSxsfWlmKHRoaXMudHlwZT09PXMuYXBwbHlUcmFuc2l0aW9uKXt2YXIgZj0obmV3IHcpLnJlZ2lzdGVyU2tpcENvbnRyb2xsZXIobmV3IEUoKGZ1bmN0aW9uKCl7cmV0dXJuIHQubG9nZ2VyLmluZm8oXCJOYXJyYUxlYWYtUmVhY3Q6IFRleHQgVHJhbnNpdGlvblwiLFwiU2tpcHBlZFwiKSx7dHlwZTpuLnR5cGUsbm9kZTpuLmNvbnRlbnROb2RlLmdldENoaWxkKCl9fSkpKSxwPXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdO3JldHVybiB0aGlzLmNhbGxlZS5ldmVudHMuYW55KFwiZXZlbnQ6ZGlzcGxheWFibGUuYXBwbHlUcmFuc2l0aW9uXCIscCkudGhlbigoZnVuY3Rpb24oKXtmLnJlc29sdmUoe3R5cGU6bi50eXBlLG5vZGU6bi5jb250ZW50Tm9kZS5nZXRDaGlsZCgpfSksdC5zdGFnZS5uZXh0KCl9KSksZn10aHJvdyBnYyhlLFwidW5rbm93blR5cGVcIix0aGlzLDMpKFtdKX19XSl9KFUpO1NjLkFjdGlvblR5cGVzPXM7dmFyIGtjPXtzdGFydDpcInN0YXJ0XCIsdXBkYXRlOlwidXBkYXRlXCIsZW5kOlwiZW5kXCJ9O2Z1bmN0aW9uIHhjKHQpe3JldHVybiB4Yz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx4Yyh0KX1mdW5jdGlvbiBBYyh0LGUsbil7cmV0dXJuIGU9VGMoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09eGMoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsT2MoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLFRjKHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIE9jKCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oT2M9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIFRjKHQpe3JldHVybiBUYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sVGModCl9ZnVuY3Rpb24gRWModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmUGModCxlKX1mdW5jdGlvbiBQYyh0LGUpe3JldHVybiBQYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFBjKHQsZSl9ZnVuY3Rpb24gamModCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIENjKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LEljKHIua2V5KSxyKX19ZnVuY3Rpb24gTGModCxlLG4pe3JldHVybiBlJiZDYyh0LnByb3RvdHlwZSxlKSxuJiZDYyh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH1mdW5jdGlvbiBJYyh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPXhjKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPXhjKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09eGMoZSk/ZTplK1wiXCJ9dmFyIE5jPWZ1bmN0aW9uKCl7cmV0dXJuIExjKChmdW5jdGlvbiB0KCl7amModGhpcyx0KSx0aGlzLmV2ZW50cz1uZXcga30pLFt7a2V5Olwic3RhcnRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKX19LHtrZXk6XCJ0b0VsZW1lbnRQcm9wc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIil9fSx7a2V5OlwiY29weVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIil9fSx7a2V5OlwicmVxdWVzdEFuaW1hdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLG89dC5zdGFydCxpPXQuZW5kLGE9dC5kdXJhdGlvbixzPWUub25Db21wbGV0ZSx1PWUub25VcGRhdGU7cmV0dXJuIHRoaXMuZXZlbnRzLmVtaXQoa2Muc3RhcnQsbnVsbCksdGhpcy5jb250cm9sbGVyPWJhKG8saSxPYmplY3QuYXNzaWduKHtkdXJhdGlvbjphLzFlMyxvblVwZGF0ZTpmdW5jdGlvbih0KXt1JiZ1KHQpLHIuZXZlbnRzLmVtaXQoa2MudXBkYXRlLHIudG9FbGVtZW50UHJvcHMoKSl9LG9uQ29tcGxldGU6ZnVuY3Rpb24oKXtyLmNvbnRyb2xsZXI9dm9pZCAwLHIuZXZlbnRzLmVtaXQoa2MuZW5kLG51bGwpLHMmJnMoKX19LG4pKSx0aGlzLmNvbnRyb2xsZXJ9fV0pfSgpLE1jPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gamModGhpcyxlKSxBYyh0aGlzLGUsYXJndW1lbnRzKX1yZXR1cm4gRWMoZSx0KSxMYyhlLFt7a2V5Olwic2V0U3JjXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIil9fSx7a2V5OlwiY29weVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIil9fV0pfShOYyksUmM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBqYyh0aGlzLGUpLEFjKHRoaXMsZSxhcmd1bWVudHMpfXJldHVybiBFYyhlLHQpLExjKGUsW3trZXk6XCJjb3B5XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKX19XSl9KE5jKTtmdW5jdGlvbiBGYyh0KXtyZXR1cm4gRmM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sRmModCl9ZnVuY3Rpb24gRGModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsQmMoci5rZXkpLHIpfX1mdW5jdGlvbiBCYyh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPUZjKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPUZjKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09RmMoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gVmModCxlLG4pe3JldHVybiBlPVVjKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PUZjKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LEdjKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxVYyh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBHYygpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKEdjPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBVYyh0KXtyZXR1cm4gVWM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFVjKHQpfWZ1bmN0aW9uIEhjKHQsZSl7cmV0dXJuIEhjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sSGModCxlKX12YXIgemM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LG4pe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjFlMyxpPWFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106dm9pZCAwO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksKHI9VmModGhpcyxlKSkuc3RhdGU9e2ZvbnRTaXplOjB9LHIuc3RhcnRWYWx1ZT10LHIuZW5kVmFsdWU9bixyLmR1cmF0aW9uPW8sci5lYXNpbmc9aSxyfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZIYyh0LGUpfShlLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmRGModC5wcm90b3R5cGUsZSksbiYmRGModCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJzdGFydFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5zdGF0ZS5mb250U2l6ZT10aGlzLnN0YXJ0VmFsdWUsdGhpcy5yZXF1ZXN0QW5pbWF0aW9uKHtzdGFydDp0aGlzLnN0YXJ0VmFsdWUsZW5kOnRoaXMuZW5kVmFsdWUsZHVyYXRpb246dGhpcy5kdXJhdGlvbn0se29uQ29tcGxldGU6ZnVuY3Rpb24oKXtlLnN0YXRlLmZvbnRTaXplPWUuZW5kVmFsdWUsdCYmdCgpfSxvblVwZGF0ZTpmdW5jdGlvbih0KXtlLnN0YXRlLmZvbnRTaXplPXR9fSx7ZWFzZTp0aGlzLmVhc2luZ30pfX0se2tleTpcInRvRWxlbWVudFByb3BzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5be3N0eWxlOntmb250U2l6ZTp0aGlzLnN0YXRlLmZvbnRTaXplfX1dfX0se2tleTpcImNvcHlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLnN0YXJ0VmFsdWUsdGhpcy5lbmRWYWx1ZSx0aGlzLmR1cmF0aW9uLHRoaXMuZWFzaW5nKX19XSl9KFJjKTtmdW5jdGlvbiBXYyh0KXtyZXR1cm4gV2M9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sV2ModCl9ZnVuY3Rpb24gJGModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsWWMoci5rZXkpLHIpfX1mdW5jdGlvbiBZYyh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPVdjKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPVdjKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09V2MoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gcWModCxlLG4pe3JldHVybiBlPUtjKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PVdjKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LFhjKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxLYyh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBYYygpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKFhjPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBLYyh0KXtyZXR1cm4gS2M9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LEtjKHQpfWZ1bmN0aW9uIFpjKHQsZSl7cmV0dXJuIFpjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sWmModCxlKX16Yy5GcmFtZXM9WzEsMF07dmFyIFFjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSwobj1xYyh0aGlzLGUpKS5ldmVudHM9bmV3IGssbi5jb25maWc9XCJzdHJpbmdcIj09dHlwZW9mIHQ/Yih7fSxlLmRlZmF1bHRDb25maWcscix7dGV4dDp0fSk6Yih7fSxlLmRlZmF1bHRDb25maWcsdCksbi5zdGF0ZT1iKHt9LG4uY29uZmlnKSxufXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZaYyh0LGUpfShlLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmJGModC5wcm90b3R5cGUsZSksbiYmJGModCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJhcHBseVRyYW5zZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2hhaW4oKSxuPW5ldyBTYyhlLFNjLkFjdGlvblR5cGVzLmFwcGx5VHJhbnNmb3JtLChuZXcgeHQpLnNldENvbnRlbnQoW3QuY29weSgpXSkpO3JldHVybiBlLmNoYWluKG4pfX0se2tleTpcImFwcGx5VHJhbnNpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2hhaW4oKSxuPXRoaXMuX2FwcGx5VHJhbnNpdGlvbihlLHQpO3JldHVybiBlLmNoYWluKG4pfX0se2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoYWluKCksbj10IGluc3RhbmNlb2YgTGE/dC5jb3B5KCk6bmV3IExhKFt7cHJvcHM6e29wYWNpdHk6MX0sb3B0aW9uczp0fHx7fX1dKSxyPW5ldyBTYyhlLFNjLkFjdGlvblR5cGVzLnNob3csKG5ldyB4dCkuc2V0Q29udGVudChbbl0pKTtyZXR1cm4gZS5jaGFpbihyKX19LHtrZXk6XCJoaWRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGFpbigpLG49dCBpbnN0YW5jZW9mIExhP3QuY29weSgpOm5ldyBMYShbe3Byb3BzOntvcGFjaXR5OjF9LG9wdGlvbnM6dHx8e319XSkscj1uZXcgU2MoZSxTYy5BY3Rpb25UeXBlcy5oaWRlLChuZXcgeHQpLnNldENvbnRlbnQoW25dKSk7cmV0dXJuIGUuY2hhaW4ocil9fSx7a2V5Olwic2V0VGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2hhaW4oKSxuPW5ldyBTYyhlLFNjLkFjdGlvblR5cGVzLnNldFRleHQsKG5ldyB4dCkuc2V0Q29udGVudChbdF0pKTtyZXR1cm4gZS5jaGFpbihuKX19LHtrZXk6XCJzZXRGb250U2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxyPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwO3JldHVybiB0aGlzLmNvbWJpbmVBY3Rpb25zKG5ldyBWYSwoZnVuY3Rpb24obyl7aWYobil7dmFyIGk9bmV3IHpjKGUuc3RhdGUuZm9udFNpemUsdCxuLHIpO28uY2hhaW4oZS5fYXBwbHlUcmFuc2l0aW9uKG8saSkpfXZhciBhPW5ldyBTYyhvLFNjLkFjdGlvblR5cGVzLnNldEZvbnRTaXplLChuZXcgeHQpLnNldENvbnRlbnQoW3RdKSk7cmV0dXJuIG8uY2hhaW4oYSl9KSl9fSx7a2V5OlwidG9EYXRhXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57c3RhdGU6Yih7fSxxYS5zZXJpYWxpemVJbWFnZVN0YXRlKHRoaXMuc3RhdGUpKX19fSx7a2V5OlwiZnJvbURhdGFcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZT1iKHt9LHFhLmRlc2VyaWFsaXplSW1hZ2VTdGF0ZSh0LnN0YXRlKSksdGhpc319LHtrZXk6XCJ0b1RyYW5zZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMYSh0aGlzLnN0YXRlLHtkdXJhdGlvbjowfSl9fSx7a2V5OlwidG9EaXNwbGF5YWJsZVRyYW5zZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMYSh0aGlzLnN0YXRlLHtkdXJhdGlvbjowfSl9fSx7a2V5OlwiX2luaXRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFNjKHRoaXMuY2hhaW4oKSxTYy5BY3Rpb25UeXBlcy5pbml0LChuZXcgeHQpLnNldENvbnRlbnQoW3RdKSl9fSx7a2V5OlwiX2FwcGx5VHJhbnNpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBTYyh0LFNjLkFjdGlvblR5cGVzLmFwcGx5VHJhbnNpdGlvbiwobmV3IHh0KS5zZXRDb250ZW50KFtlXSkpfX1dKX0oeWUpO2Z1bmN0aW9uIEpjKHQpe3JldHVybiBKYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxKYyh0KX1mdW5jdGlvbiB0bCh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gZWwodCl9KHQpfHxmdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT10W1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPXRbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gZWwodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9lbCh0LGUpOnZvaWQgMH19KHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIGVsKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBubCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxybChyLmtleSkscil9fWZ1bmN0aW9uIHJsKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9SmModCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9SmMocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1KYyhlKT9lOmUrXCJcIn1mdW5jdGlvbiBvbCh0LGUsbil7cmV0dXJuIGU9c2woZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09SmMoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsaWwoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLHNsKHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIGlsKCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oaWw9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIGFsKCl7cmV0dXJuIGFsPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldC5iaW5kKCk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQsZSl7Zm9yKDshe30uaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9c2wodCkpOyk7cmV0dXJuIHR9KHQsZSk7aWYocil7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpO3JldHVybiBvLmdldD9vLmdldC5jYWxsKGFyZ3VtZW50cy5sZW5ndGg8Mz90Om4pOm8udmFsdWV9fSxhbC5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gc2wodCl7cmV0dXJuIHNsPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxzbCh0KX1mdW5jdGlvbiB1bCh0LGUpe3JldHVybiB1bD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LHVsKHQsZSl9UWMuRXZlbnRUeXBlcz17XCJldmVudDp0ZXh0LnNob3dcIjpcImV2ZW50OnRleHQuc2hvd1wiLFwiZXZlbnQ6dGV4dC5oaWRlXCI6XCJldmVudDp0ZXh0LmhpZGVcIixcImV2ZW50OmRpc3BsYXlhYmxlLmFwcGx5VHJhbnNpdGlvblwiOlwiZXZlbnQ6ZGlzcGxheWFibGUuYXBwbHlUcmFuc2l0aW9uXCIsXCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zZm9ybVwiOlwiZXZlbnQ6ZGlzcGxheWFibGUuYXBwbHlUcmFuc2Zvcm1cIixcImV2ZW50OmRpc3BsYXlhYmxlLmluaXRcIjpcImV2ZW50OmRpc3BsYXlhYmxlLmluaXRcIn0sUWMuZGVmYXVsdENvbmZpZz17cG9zaXRpb246bmV3IFRlKFRlLlBvc2l0aW9ucy5DZW50ZXIpLHNjYWxlOjEscm90YXRpb246MCxvcGFjaXR5OjAsYWxpZ25YOlwiY2VudGVyXCIsYWxpZ25ZOlwiY2VudGVyXCIsZm9udFNpemU6MTYsZm9udENvbG9yOlwiIzAwMDAwMFwiLGRpc3BsYXk6ITEsdGV4dDpcIlwifTt2YXIgY2w9ZnVuY3Rpb24odCxlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmZS5pbmRleE9mKHIpPDAmJihuW3JdPXRbcl0pO2lmKG51bGwhPXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtvPHIubGVuZ3RoO28rKyllLmluZGV4T2YocltvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHQscltvXSkmJihuW3Jbb11dPXRbcltvXV0pfXJldHVybiBufSxsbD1mdW5jdGlvbih0KXtmdW5jdGlvbiByKHQpe3ZhciBlLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnIuZGVmYXVsdENvbmZpZzshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHIpLChlPW9sKHRoaXMscikpLnNyY01hbmFnZXI9bmV3IHBjLGUuZXZlbnRzPW5ldyBrLGUubmFtZT10O3ZhciBvPWIoci5kZWZhdWx0Q29uZmlnLG4pLGk9by5iYWNrZ3JvdW5kLGE9Y2wobyxbXCJiYWNrZ3JvdW5kXCJdKTtyZXR1cm4gZS5jb25maWc9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGEpLHtiYWNrZ3JvdW5kSW1hZ2U6bmV3IHFhKHtvcGFjaXR5OjF9KSxiYWNrZ3JvdW5kOml8fG51bGx9KSxlLnN0YXRlPWIoZS5jb25maWcse30pLGV9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJnVsKHQsZSl9KHIsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZubCh0LnByb3RvdHlwZSxlKSxuJiZubCh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0ocixbe2tleTpcInRvQmFja2dyb3VuZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKGJzLmlzSW1hZ2VTcmModCl8fGJzLmlzSW1hZ2VDb2xvcih0KSlyZXR1cm4gdDtpZih0IGluc3RhbmNlb2YgZ3MpcmV0dXJuIHQudG9JbWFnZUNvbG9yKCk7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYWNrZ3JvdW5kIHR5cGVcIil9fSx7a2V5OlwiYWN0aXZhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoYWluKHRoaXMuX2luaXQodGhpcykpfX0se2tleTpcImRlYWN0aXZhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoYWluKHRoaXMuX2V4aXQoKSl9fSx7a2V5Olwic2V0QmFja2dyb3VuZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5jb21iaW5lQWN0aW9ucyhuZXcgVmEsKGZ1bmN0aW9uKHIpe2lmKGUpe3ZhciBvPWUuY29weSgpO28uc2V0U3JjKG4udG9CYWNrZ3JvdW5kKHQpKSxyLl90cmFuc2l0aW9uVG9TY2VuZSh2b2lkIDAsbyxuLnRvQmFja2dyb3VuZCh0KSl9cmV0dXJuIHIuY2hhaW4obmV3IGR0KHIsXCJzY2VuZTpzZXRCYWNrZ3JvdW5kXCIsKG5ldyB4dCkuc2V0Q29udGVudChbdF0pKSl9KSl9fSx7a2V5OlwiYXBwbHlUcmFuc2Zvcm1cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGFpbihuZXcgZHQodGhpcy5jaGFpbigpLFwic2NlbmU6YXBwbHlUcmFuc2Zvcm1cIiwobmV3IHh0KS5zZXRDb250ZW50KFt0LmNvcHkoKV0pKSl9fSx7a2V5OlwianVtcFRvXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLmNvbWJpbmVBY3Rpb25zKG5ldyBWYSwoZnVuY3Rpb24ocil7dmFyIG89ZXx8e307cmV0dXJuIHIuY2hhaW4obmV3IGR0KHIsXCJzY2VuZTpwcmVVbm1vdW50XCIsKG5ldyB4dCkuc2V0Q29udGVudChbXSkpKS5fdHJhbnNpdGlvblRvU2NlbmUodCxvLnRyYW5zaXRpb24pLmNoYWluKHQuX2luaXQoKSkuY2hhaW4obi5fZXhpdCgpKS5fanVtcFRvKHQpfSkpfX0se2tleTpcInNsZWVwXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hhaW4obmV3IGR0KHRoaXMuY2hhaW4oKSxcInNjZW5lOnNsZWVwXCIsKG5ldyB4dCkuc2V0Q29udGVudCh0KSkpfX0se2tleTpcInNldEJhY2tncm91bmRNdXNpY1wiLHZhbHVlOmZ1bmN0aW9uKHQsbil7cmV0dXJuIHRoaXMuY2hhaW4obmV3IGR0KHRoaXMuY2hhaW4oKSxlLnNldEJhY2tncm91bmRNdXNpYywobmV3IHh0KS5zZXRDb250ZW50KFt0LG5dKSkpfX0se2tleTpcInRvRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJue3N0YXRlOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxfKHRoaXMuc3RhdGUpKSx7YmFja2dyb3VuZE11c2ljOm51bGw9PT0odD10aGlzLnN0YXRlLmJhY2tncm91bmRNdXNpYyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQudG9EYXRhKCksYmFja2dyb3VuZDp0aGlzLnN0YXRlLmJhY2tncm91bmR9KSxiYWNrZ3JvdW5kSW1hZ2VTdGF0ZTp0aGlzLnN0YXRlLmJhY2tncm91bmRJbWFnZS50b0RhdGEoKX19fSx7a2V5OlwiZnJvbURhdGFcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZT1iKHRoaXMuc3RhdGUsdC5zdGF0ZSksdC5zdGF0ZS5iYWNrZ3JvdW5kTXVzaWMmJih0aGlzLnN0YXRlLmJhY2tncm91bmRNdXNpYz0obmV3IGpzKS5mcm9tRGF0YSh0LnN0YXRlLmJhY2tncm91bmRNdXNpYykpLHQuYmFja2dyb3VuZEltYWdlU3RhdGUmJnRoaXMuc3RhdGUuYmFja2dyb3VuZEltYWdlLmZyb21EYXRhKHQuYmFja2dyb3VuZEltYWdlU3RhdGUpLHRoaXN9fSx7a2V5OlwiZ2V0SW5pdFRyYW5zZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMYShbe3Byb3BzOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLnN0YXRlLmJhY2tncm91bmRJbWFnZS5zdGF0ZSkse29wYWNpdHk6MX0pLG9wdGlvbnM6e2R1cmF0aW9uOjB9fV0pfX0se2tleTpcImFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPShBcnJheS5pc0FycmF5KHQpP3QuZmxhdCgyKTp0KHRoaXMpLmZsYXQoMikpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGllLmlzQ2hhaW5lZCh0KT90LmZyb21DaGFpbmVkKHQpOnR9KSkuZmxhdCgyKSxuPVtdLG89W107dGhpcy5nZXRBbGxDaGlsZHJlbkVsZW1lbnRzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2llLmlzQ2hhaW5lZCh0KXx8KHQgaW5zdGFuY2VvZiBxYT9uLnB1c2godCk6dCBpbnN0YW5jZW9mIFFjJiZvLnB1c2godCkpfSkpO3ZhciBpPVt0aGlzLl9pbml0KHRoaXMpXS5jb25jYXQodGwobi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Ll9pbml0KCl9KSkpLHRsKG8ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5faW5pdCgpfSkpKSx0bChlKSksYT1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1hbChzbCgxJnI/dC5wcm90b3R5cGU6dCksZSxuKTtyZXR1cm4gMiZyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvP2Z1bmN0aW9uKHQpe3JldHVybiBvLmFwcGx5KG4sdCl9Om99KHIsXCJjb25zdHJ1Y3ROb2Rlc1wiLHRoaXMsMykoW2ldKSxzPW5ldyB4dCh2b2lkIDAsdm9pZCAwLGF8fHZvaWQgMCkuc2V0Q29udGVudCh0aGlzKTtyZXR1cm4gbnVsbD09YXx8YS5zZXRQYXJlbnQocyksdGhpcy5zY2VuZVJvb3Q9bmV3IGR0KHRoaXMuY2hhaW4oKSxcInNjZW5lOmFjdGlvblwiLHMpLHRoaXN9fSx7a2V5OlwicmVnaXN0ZXJTcmNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMscj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bmV3IFNldDtpZih0aGlzLnNjZW5lUm9vdCl7dmFyIG89bmV3IFNldCxpPW5ldyBTZXQsYT1bdGhpcy5zY2VuZVJvb3RdLHM9bmV3IFNldDtmb3IoYnMuaXNJbWFnZVNyYyh0aGlzLmNvbmZpZy5iYWNrZ3JvdW5kKSYmdGhpcy5zcmNNYW5hZ2VyLnJlZ2lzdGVyKG5ldyBxYSh7c3JjOmJzLnRvQmFja2dyb3VuZFNyYyh0aGlzLmNvbmZpZy5iYWNrZ3JvdW5kKX0pKTthLmxlbmd0aDspe3ZhciB1PWEuc2hpZnQoKTtpZighby5oYXModSkpe2lmKG8uYWRkKHUpLHUgaW5zdGFuY2VvZiBkdCl7aWYodS50eXBlPT09ZS5qdW1wVG8pe3ZhciBjPXUsbD1jLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKVswXTtpZihpLmhhcyhjKXx8ci5oYXMobCkpY29udGludWU7aS5hZGQoYykscy5hZGQobCksci5hZGQobCl9fWVsc2UgaWYodSBpbnN0YW5jZW9mIGFzKXt2YXIgZj11O2lmKHRoaXMuc3JjTWFuYWdlci5yZWdpc3RlcihmLmNhbGxlZSksdS50eXBlPT09bi5zZXRTcmMpe3ZhciBwPXUuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdO3RoaXMuc3JjTWFuYWdlci5yZWdpc3RlcihuZXcgcWEoe3NyYzpwfSkpfX1lbHNlIGlmKHUgaW5zdGFuY2VvZiB0dCl0aGlzLnNyY01hbmFnZXIucmVnaXN0ZXIodS5jYWxsZWUpO2Vsc2UgaWYodSBpbnN0YW5jZW9mICR0KXt2YXIgZD11LmdldEZ1dHVyZUFjdGlvbnMoKTthLnB1c2guYXBwbHkoYSx0bChkKSl9YS5wdXNoLmFwcGx5KGEsdGwodS5nZXRGdXR1cmVBY3Rpb25zKCkpKX19cy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnJlZ2lzdGVyU3JjKHIpLHQuc3JjTWFuYWdlci5yZWdpc3RlckZ1dHVyZShlLnNyY01hbmFnZXIpfSkpfX19LHtrZXk6XCJhc3NpZ25BY3Rpb25JZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5nZXRBbGxDaGlsZHJlbih0aGlzLnNjZW5lUm9vdHx8W10pLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7dC5zZXRJZChcImFjdGlvbi1cIi5jb25jYXQoZSkpfSkpfX0se2tleTpcImFzc2lnbkVsZW1lbnRJZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5nZXRBbGxDaGlsZHJlbkVsZW1lbnRzKHRoaXMuc2NlbmVSb290fHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXt0LnNldElkKFwiZWxlbWVudC1cIi5jb25jYXQoZSkpfSkpfX0se2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPWIoci5kZWZhdWx0U3RhdGUsdGhpcy5jb25maWcpLHRoaXMuc3RhdGUuYmFja2dyb3VuZEltYWdlLnJlc2V0KCl9fSx7a2V5OlwidG9EaXNwbGF5YWJsZVRyYW5zZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuYmFja2dyb3VuZEltYWdlLnRvRGlzcGxheWFibGVUcmFuc2Zvcm0oKX19LHtrZXk6XCJfYXBwbHlUcmFuc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hhaW4obmV3IGR0KHRoaXMuY2hhaW4oKSxcInNjZW5lOmFwcGx5VHJhbnNpdGlvblwiLChuZXcgeHQpLnNldENvbnRlbnQoW3RdKSkpfX0se2tleTpcIl9qdW1wVG9cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGFpbihuZXcgZHQodGhpcy5jaGFpbigpLFwic2NlbmU6anVtcFRvXCIsKG5ldyB4dCkuc2V0Q29udGVudChbdF0pKSl9fSx7a2V5OlwiX2V4aXRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgZHQodGhpcy5jaGFpbigpLFwic2NlbmU6ZXhpdFwiLChuZXcgeHQpLnNldENvbnRlbnQoW10pKX19LHtrZXk6XCJfdHJhbnNpdGlvblRvU2NlbmVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5jaGFpbigpO2lmKGUpe3ZhciBvPWUuY29weSgpO3QmJnQuY29uZmlnLmJhY2tncm91bmQmJm8uc2V0U3JjKHQuY29uZmlnLmJhY2tncm91bmQpLG4mJm8uc2V0U3JjKG4pLHIuX2FwcGx5VHJhbnNpdGlvbihvKX1yZXR1cm4gcn19LHtrZXk6XCJfaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBkdCgoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMpLmNoYWluKCksXCJzY2VuZTppbml0XCIsKG5ldyB4dCkuc2V0Q29udGVudChbXSkpfX1dKX0odWMpO2Z1bmN0aW9uIGZsKHQpe3JldHVybiBmbD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxmbCh0KX1mdW5jdGlvbiBwbCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxkbChyLmtleSkscil9fWZ1bmN0aW9uIGRsKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9ZmwodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9ZmwocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1mbChlKT9lOmUrXCJcIn1mdW5jdGlvbiBobCh0LGUsbil7cmV0dXJuIGU9bWwoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09ZmwoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQseWwoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLG1sKHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIHlsKCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oeWw9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIHZsKCl7cmV0dXJuIHZsPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldC5iaW5kKCk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQsZSl7Zm9yKDshe30uaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9bWwodCkpOyk7cmV0dXJuIHR9KHQsZSk7aWYocil7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpO3JldHVybiBvLmdldD9vLmdldC5jYWxsKGFyZ3VtZW50cy5sZW5ndGg8Mz90Om4pOm8udmFsdWV9fSx2bC5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbWwodCl7cmV0dXJuIG1sPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxtbCh0KX1mdW5jdGlvbiBnbCh0LGUpe3JldHVybiBnbD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGdsKHQsZSl9bGwuRXZlbnRUeXBlcz17XCJldmVudDpzY2VuZS5yZW1vdmVcIjpcImV2ZW50OnNjZW5lLnJlbW92ZVwiLFwiZXZlbnQ6c2NlbmUubG9hZFwiOlwiZXZlbnQ6c2NlbmUubG9hZFwiLFwiZXZlbnQ6c2NlbmUudW5sb2FkXCI6XCJldmVudDpzY2VuZS51bmxvYWRcIixcImV2ZW50OnNjZW5lLm1vdW50XCI6XCJldmVudDpzY2VuZS5tb3VudFwiLFwiZXZlbnQ6c2NlbmUudW5tb3VudFwiOlwiZXZlbnQ6c2NlbmUudW5tb3VudFwiLFwiZXZlbnQ6c2NlbmUucHJlVW5tb3VudFwiOlwiZXZlbnQ6c2NlbmUucHJlVW5tb3VudFwiLFwiZXZlbnQ6c2NlbmUuaW1hZ2VMb2FkZWRcIjpcImV2ZW50OnNjZW5lLmltYWdlTG9hZGVkXCIsXCJldmVudDpzY2VuZS5zZXRCYWNrZ3JvdW5kTXVzaWNcIjpcImV2ZW50OnNjZW5lLnNldEJhY2tncm91bmRNdXNpY1wiLFwiZXZlbnQ6ZGlzcGxheWFibGUuYXBwbHlUcmFuc2l0aW9uXCI6XCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zaXRpb25cIixcImV2ZW50OmRpc3BsYXlhYmxlLmFwcGx5VHJhbnNmb3JtXCI6XCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zZm9ybVwiLFwiZXZlbnQ6ZGlzcGxheWFibGUuaW5pdFwiOlwiZXZlbnQ6ZGlzcGxheWFibGUuaW5pdFwifSxsbC5kZWZhdWx0Q29uZmlnPXtpbnZlcnRZOiExLGludmVydFg6ITEsYmFja2dyb3VuZE11c2ljOm51bGwsYmFja2dyb3VuZE11c2ljRmFkZTowfSxsbC5kZWZhdWx0U3RhdGU9e307dmFyIGJsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLGhsKHRoaXMsZSxhcmd1bWVudHMpfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZnbCh0LGUpfShlLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmcGwodC5wcm90b3R5cGUsZSksbiYmcGwodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJleGVjdXRlQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpLmV4ZWN1dGUoe2dhbWVTdGF0ZTp0fSksZnVuY3Rpb24odCxlLG4scil7dmFyIG89dmwobWwoMSZyP3QucHJvdG90eXBlOnQpLGUsbik7cmV0dXJuIDImciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbz9mdW5jdGlvbih0KXtyZXR1cm4gby5hcHBseShuLHQpfTpvfShlLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKX19XSl9KFUpO2Z1bmN0aW9uIHdsKHQpe3JldHVybiB3bD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx3bCh0KX1mdW5jdGlvbiBfbCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTbChyLmtleSkscil9fWZ1bmN0aW9uIFNsKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9d2wodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9d2wocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT13bChlKT9lOmUrXCJcIn1mdW5jdGlvbiBrbCh0LGUsbil7cmV0dXJuIGU9T2woZSkseGwodCxBbCgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sT2wodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24geGwodCxlKXtpZihlJiYoXCJvYmplY3RcIj09d2woZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9ZnVuY3Rpb24gQWwoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihBbD1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gT2wodCl7cmV0dXJuIE9sPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxPbCh0KX1mdW5jdGlvbiBUbCh0LGUpe3JldHVybiBUbD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFRsKHQsZSl9YmwuQWN0aW9uVHlwZXM9e2FjdGlvbjpcInNjcmlwdDphY3Rpb25cIn07dmFyIEVsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSwobj1rbCh0aGlzLGUpKS5oYW5kbGVyPXQseGwobixuLmNoYWluKCkpfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZUbCh0LGUpfShlLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmX2wodC5wcm90b3R5cGUsZSksbiYmX2wodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49dC5nYW1lU3RhdGU7dGhpcy5oYW5kbGVyKGUuZ2V0Q3R4KHtnYW1lU3RhdGU6bn0pKX19LHtrZXk6XCJmcm9tQ2hhaW5lZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybltuZXcgYmwodGhpcy5jaGFpbigpLGJsLkFjdGlvblR5cGVzLmFjdGlvbiwobmV3IHh0KS5zZXRDb250ZW50KHQpKV19fV0sW3trZXk6XCJnZXRDdHhcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmdhbWVTdGF0ZTtyZXR1cm57Z2FtZVN0YXRlOmUsZ2FtZTplLmdhbWUsbGl2ZUdhbWU6ZS5nYW1lLmdldExpdmVHYW1lKCksc3RvcmFibGU6ZS5nYW1lLmdldExpdmVHYW1lKCkuZ2V0U3RvcmFibGUoKX19fV0pfSh5ZSk7ZnVuY3Rpb24gUGwodCl7cmV0dXJuIFBsPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFBsKHQpfWZ1bmN0aW9uIGpsKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LENsKHIua2V5KSxyKX19ZnVuY3Rpb24gQ2wodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1QbCh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1QbChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PVBsKGUpP2U6ZStcIlwifWZ1bmN0aW9uIExsKHQsZSxuKXtyZXR1cm4gZT1ObChlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1QbChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxJbCgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sTmwodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gSWwoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihJbD1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gTmwodCl7cmV0dXJuIE5sPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxObCh0KX1mdW5jdGlvbiBNbCh0LGUpe3JldHVybiBNbD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LE1sKHQsZSl9dmFyIFJsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSwobj1MbCh0aGlzLGUpKS5lbnRyeVNjZW5lPW51bGwsbi5uYW1lPXQsbi5jb25maWc9YihlLmRlZmF1bHRDb25maWcsciksbn1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmTWwodCxlKX0oZSx0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJmpsKHQucHJvdG90eXBlLGUpLG4mJmpsKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShlLFt7a2V5OlwiZW50cnlcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lbnRyeVNjZW5lPXQsdGhpc319LHtrZXk6XCJjb25zdHJ1Y3RTdG9yeVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbnRyeVNjZW5lO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlN0b3J5IG11c3QgaGF2ZSBhbiBlbnRyeSBzY2VuZVwiKTtyZXR1cm4gdC5yZWdpc3RlclNyYygpLHQuYXNzaWduQWN0aW9uSWQoKSx0LmFzc2lnbkVsZW1lbnRJZCgpLHRoaXMucnVuU3RhdGljQ2hlY2sodCksdGhpc319LHtrZXk6XCJnZXRBbGxFbGVtZW50U3RhdGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdGhpcy5nZXRBbGxDaGlsZHJlbkVsZW1lbnRzKChudWxsPT09KHQ9dGhpcy5lbnRyeVNjZW5lKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zY2VuZVJvb3QpfHxbXSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57aWQ6dC5nZXRJZCgpLGRhdGE6dC50b0RhdGEoKX19KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hIXQuZGF0YX0pKX19LHtrZXk6XCJydW5TdGF0aWNDaGVja1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgU3ModCkucnVuKCl9fV0pfSh1Yyk7ZnVuY3Rpb24gRmwodCl7cmV0dXJuIEZsPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEZsKHQpfWZ1bmN0aW9uIERsKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe3ZhciBuPW51bGw9PXQ/bnVsbDpcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKG51bGwhPW4pe3ZhciByLG8saSxhLHM9W10sdT0hMCxjPSExO3RyeXtpZihpPShuPW4uY2FsbCh0KSkubmV4dCwwPT09ZSl7aWYoT2JqZWN0KG4pIT09bilyZXR1cm47dT0hMX1lbHNlIGZvcig7ISh1PShyPWkuY2FsbChuKSkuZG9uZSkmJihzLnB1c2goci52YWx1ZSkscy5sZW5ndGghPT1lKTt1PSEwKTt9Y2F0Y2godCl7Yz0hMCxvPXR9ZmluYWxseXt0cnl7aWYoIXUmJm51bGwhPW4ucmV0dXJuJiYoYT1uLnJldHVybigpLE9iamVjdChhKSE9PWEpKXJldHVybn1maW5hbGx5e2lmKGMpdGhyb3cgb319cmV0dXJuIHN9fSh0LGUpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBCbCh0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP0JsKHQsZSk6dm9pZCAwfX0odCxlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIEJsKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBWbCh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gR2wodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsSGwoci5rZXkpLHIpfX1mdW5jdGlvbiBVbCh0LGUsbil7cmV0dXJuIGUmJkdsKHQucHJvdG90eXBlLGUpLG4mJkdsKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fWZ1bmN0aW9uIEhsKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9RmwodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9RmwocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1GbChlKT9lOmUrXCJcIn1SbC5kZWZhdWx0Q29uZmlnPXt9O3ZhciB6bD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuLHIpe1ZsKHRoaXMsdCksdGhpcy5uYW1lPWUsdGhpcy5rZXk9cnx8ZSx0aGlzLmNvbnRlbnQ9Yih7fSxuKX1yZXR1cm4gVWwodCxbe2tleTpcInNldFwiLHZhbHVlOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuaXNTZXJpYWxpemFibGUobik/KHRoaXMuY29udGVudFtlXT1uLHRoaXMpOihjb25zb2xlLndhcm4oJ1ZhbHVlIFwiJy5jb25jYXQobiwnXCIgaW4ga2V5IFwiJykuY29uY2F0KFN0cmluZyhlKSwnXCIgaXMgbm90IHNlcmlhbGl6YWJsZSwgYW5kIHdpbGwgbm90IGJlIHNldFxcbmF0IG5hbWVzcGFjZSBcIicpLmNvbmNhdCh0aGlzLm5hbWUsJ1wiJykpLHRoaXMuY29udGVudFtlXT1uLHRoaXMpfX0se2tleTpcImdldFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRlbnRbdF19fSx7a2V5OlwidG9EYXRhXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXJpYWxpemUoKX19LHtrZXk6XCJsb2FkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dD90aGlzLmNvbnRlbnQ9dDpjb25zb2xlLndhcm4oXCJObyBkYXRhIHRvIGxvYWRcIil9fSx7a2V5Olwic2VyaWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9e307cmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMuY29udGVudCkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9RGwobiwyKSxvPXJbMF0saT1yWzFdO2Vbb109dC53cmFwKGkpfSkpLGV9fSx7a2V5OlwiZGVzZXJpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3Q/T2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49RGwodCwyKSxyPW5bMF0sbz1uWzFdO2UuY29udGVudFtyXT1lLnVud3JhcChvKX0pKTpjb25zb2xlLndhcm4oXCJObyBkYXRhIHRvIGxvYWRcIil9fSx7a2V5OlwidG9UeXBlTmFtZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRGF0ZT9cImRhdGVcIjpcImFueVwifX0se2tleTpcIndyYXBcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm57YW55OmZ1bmN0aW9uKHQpe3JldHVybnt0eXBlOlwiYW55XCIsZGF0YTp0fX0sZGF0ZTpmdW5jdGlvbih0KXtyZXR1cm57dHlwZTpcImRhdGVcIixkYXRhOnQudG9TdHJpbmcoKX19fVt0aGlzLnRvVHlwZU5hbWUodCldKHQpfX0se2tleTpcInVud3JhcFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXthbnk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0sZGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IERhdGUodC5kYXRhKX19O3JldHVybiBlW3QudHlwZV0odCl9fV0sW3trZXk6XCJpc1NlcmlhbGl6YWJsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiEhW1wibnVtYmVyXCIsXCJzdHJpbmdcIixcImJvb2xlYW5cIl0uaW5jbHVkZXMoRmwoZSkpfHwoZSBpbnN0YW5jZW9mIERhdGV8fChudWxsPT1lfHwoQXJyYXkuaXNBcnJheShlKT9lLmV2ZXJ5KHQuaXNTZXJpYWxpemFibGUpOlwib2JqZWN0XCI9PT1GbChlKSYmKE9iamVjdC5nZXRQcm90b3R5cGVPZihlKT09PU9iamVjdC5wcm90b3R5cGUmJk9iamVjdC52YWx1ZXMoZSkuZXZlcnkodC5pc1NlcmlhbGl6YWJsZSkpKSkpfX1dKX0oKSxXbD1mdW5jdGlvbigpe3JldHVybiBVbCgoZnVuY3Rpb24gdCgpe1ZsKHRoaXMsdCksdGhpcy5uYW1lc3BhY2VzPXt9fSksW3trZXk6XCJhZGROYW1lc3BhY2VcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uYW1lc3BhY2VzW3Qua2V5XSYmY29uc29sZS53YXJuKFwiTmFtZXNwYWNlIFwiLmNvbmNhdCh0LmtleSxcIiBhbHJlYWR5IGV4aXN0c1wiKSksdGhpcy5uYW1lc3BhY2VzW3Qua2V5XT10LHRoaXN9fSx7a2V5OlwiZ2V0TmFtZXNwYWNlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmFtZXNwYWNlc1t0XX19LHtrZXk6XCJzZXROYW1lc3BhY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm5hbWVzcGFjZXNbdF09ZSx0aGlzfX0se2tleTpcImdldE5hbWVzcGFjZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWVzcGFjZXN9fSx7a2V5Olwia2V5c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubmFtZXNwYWNlcyl9fSx7a2V5OlwidmFsdWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLm5hbWVzcGFjZXMpfX0se2tleTpcImVudHJpZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBPYmplY3QuZW50cmllcyh0aGlzLm5hbWVzcGFjZXMpfX0se2tleTpcInRvRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW50cmllcygpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXt2YXIgbj1EbChlLDIpLHI9blswXSxvPW5bMV07cmV0dXJuIHRbcl09by50b0RhdGEoKSx0fSkse30pfX0se2tleTpcImxvYWRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3Q/T2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49RGwodCwyKSxyPW5bMF0sbz1uWzFdO2UubmFtZXNwYWNlc1tyXT9lLm5hbWVzcGFjZXNbcl0ubG9hZChvKTpjb25zb2xlLndhcm4oXCJOYW1lc3BhY2UgXCIuY29uY2F0KHIsXCIgbm90IGZvdW5kIGluIFwiKS5jb25jYXQoZS5jb25zdHJ1Y3Rvci5uYW1lKSl9KSk6Y29uc29sZS53YXJuKFwiTm8gZGF0YSB0byBsb2FkXCIpfX0se2tleTpcImNsZWFyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lc3BhY2VzPXt9LHRoaXN9fV0pfSgpLCRsPW8oMTk2KTtmdW5jdGlvbiBZbCh0KXtyZXR1cm4gWWw9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sWWwodCl9ZnVuY3Rpb24gcWwodCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIFpsKHQpfSh0KXx8ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9dFtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT10W1wiQEBpdGVyYXRvclwiXSlyZXR1cm4gQXJyYXkuZnJvbSh0KX0odCl8fEtsKHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIFhsKCl7LyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqL1hsPWZ1bmN0aW9uKCl7cmV0dXJuIGV9O3ZhciB0LGU9e30sbj1PYmplY3QucHJvdG90eXBlLHI9bi5oYXNPd25Qcm9wZXJ0eSxvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24odCxlLG4pe3RbZV09bi52YWx1ZX0saT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGE9aS5pdGVyYXRvcnx8XCJAQGl0ZXJhdG9yXCIscz1pLmFzeW5jSXRlcmF0b3J8fFwiQEBhc3luY0l0ZXJhdG9yXCIsdT1pLnRvU3RyaW5nVGFnfHxcIkBAdG9TdHJpbmdUYWdcIjtmdW5jdGlvbiBjKHQsZSxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLHRbZV19dHJ5e2Moe30sXCJcIil9Y2F0Y2godCl7Yz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bn19ZnVuY3Rpb24gbCh0LGUsbixyKXt2YXIgaT1lJiZlLnByb3RvdHlwZSBpbnN0YW5jZW9mIG0/ZTptLGE9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSkscz1uZXcgaihyfHxbXSk7cmV0dXJuIG8oYSxcIl9pbnZva2VcIix7dmFsdWU6Tyh0LG4scyl9KSxhfWZ1bmN0aW9uIGYodCxlLG4pe3RyeXtyZXR1cm57dHlwZTpcIm5vcm1hbFwiLGFyZzp0LmNhbGwoZSxuKX19Y2F0Y2godCl7cmV0dXJue3R5cGU6XCJ0aHJvd1wiLGFyZzp0fX19ZS53cmFwPWw7dmFyIHA9XCJzdXNwZW5kZWRTdGFydFwiLGQ9XCJzdXNwZW5kZWRZaWVsZFwiLGg9XCJleGVjdXRpbmdcIix5PVwiY29tcGxldGVkXCIsdj17fTtmdW5jdGlvbiBtKCl7fWZ1bmN0aW9uIGcoKXt9ZnVuY3Rpb24gYigpe312YXIgdz17fTtjKHcsYSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgXz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsUz1fJiZfKF8oQyhbXSkpKTtTJiZTIT09biYmci5jYWxsKFMsYSkmJih3PVMpO3ZhciBrPWIucHJvdG90eXBlPW0ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodyk7ZnVuY3Rpb24geCh0KXtbXCJuZXh0XCIsXCJ0aHJvd1wiLFwicmV0dXJuXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2ModCxlLChmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW52b2tlKGUsdCl9KSl9KSl9ZnVuY3Rpb24gQSh0LGUpe2Z1bmN0aW9uIG4obyxpLGEscyl7dmFyIHU9Zih0W29dLHQsaSk7aWYoXCJ0aHJvd1wiIT09dS50eXBlKXt2YXIgYz11LmFyZyxsPWMudmFsdWU7cmV0dXJuIGwmJlwib2JqZWN0XCI9PVlsKGwpJiZyLmNhbGwobCxcIl9fYXdhaXRcIik/ZS5yZXNvbHZlKGwuX19hd2FpdCkudGhlbigoZnVuY3Rpb24odCl7bihcIm5leHRcIix0LGEscyl9KSwoZnVuY3Rpb24odCl7bihcInRocm93XCIsdCxhLHMpfSkpOmUucmVzb2x2ZShsKS50aGVuKChmdW5jdGlvbih0KXtjLnZhbHVlPXQsYShjKX0pLChmdW5jdGlvbih0KXtyZXR1cm4gbihcInRocm93XCIsdCxhLHMpfSkpfXModS5hcmcpfXZhciBpO28odGhpcyxcIl9pbnZva2VcIix7dmFsdWU6ZnVuY3Rpb24odCxyKXtmdW5jdGlvbiBvKCl7cmV0dXJuIG5ldyBlKChmdW5jdGlvbihlLG8pe24odCxyLGUsbyl9KSl9cmV0dXJuIGk9aT9pLnRoZW4obyxvKTpvKCl9fSl9ZnVuY3Rpb24gTyhlLG4scil7dmFyIG89cDtyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZihvPT09aCl0aHJvdyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7aWYobz09PXkpe2lmKFwidGhyb3dcIj09PWkpdGhyb3cgYTtyZXR1cm57dmFsdWU6dCxkb25lOiEwfX1mb3Ioci5tZXRob2Q9aSxyLmFyZz1hOzspe3ZhciBzPXIuZGVsZWdhdGU7aWYocyl7dmFyIHU9VChzLHIpO2lmKHUpe2lmKHU9PT12KWNvbnRpbnVlO3JldHVybiB1fX1pZihcIm5leHRcIj09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoXCJ0aHJvd1wiPT09ci5tZXRob2Qpe2lmKG89PT1wKXRocm93IG89eSxyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlXCJyZXR1cm5cIj09PXIubWV0aG9kJiZyLmFicnVwdChcInJldHVyblwiLHIuYXJnKTtvPWg7dmFyIGM9ZihlLG4scik7aWYoXCJub3JtYWxcIj09PWMudHlwZSl7aWYobz1yLmRvbmU/eTpkLGMuYXJnPT09diljb250aW51ZTtyZXR1cm57dmFsdWU6Yy5hcmcsZG9uZTpyLmRvbmV9fVwidGhyb3dcIj09PWMudHlwZSYmKG89eSxyLm1ldGhvZD1cInRocm93XCIsci5hcmc9Yy5hcmcpfX19ZnVuY3Rpb24gVChlLG4pe3ZhciByPW4ubWV0aG9kLG89ZS5pdGVyYXRvcltyXTtpZihvPT09dClyZXR1cm4gbi5kZWxlZ2F0ZT1udWxsLFwidGhyb3dcIj09PXImJmUuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9XCJyZXR1cm5cIixuLmFyZz10LFQoZSxuKSxcInRocm93XCI9PT1uLm1ldGhvZCl8fFwicmV0dXJuXCIhPT1yJiYobi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIityK1wiJyBtZXRob2RcIikpLHY7dmFyIGk9ZihvLGUuaXRlcmF0b3Isbi5hcmcpO2lmKFwidGhyb3dcIj09PWkudHlwZSlyZXR1cm4gbi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPWkuYXJnLG4uZGVsZWdhdGU9bnVsbCx2O3ZhciBhPWkuYXJnO3JldHVybiBhP2EuZG9uZT8obltlLnJlc3VsdE5hbWVdPWEudmFsdWUsbi5uZXh0PWUubmV4dExvYyxcInJldHVyblwiIT09bi5tZXRob2QmJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz10KSxuLmRlbGVnYXRlPW51bGwsdik6YToobi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSxuLmRlbGVnYXRlPW51bGwsdil9ZnVuY3Rpb24gRSh0KXt2YXIgZT17dHJ5TG9jOnRbMF19OzEgaW4gdCYmKGUuY2F0Y2hMb2M9dFsxXSksMiBpbiB0JiYoZS5maW5hbGx5TG9jPXRbMl0sZS5hZnRlckxvYz10WzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaChlKX1mdW5jdGlvbiBQKHQpe3ZhciBlPXQuY29tcGxldGlvbnx8e307ZS50eXBlPVwibm9ybWFsXCIsZGVsZXRlIGUuYXJnLHQuY29tcGxldGlvbj1lfWZ1bmN0aW9uIGoodCl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOlwicm9vdFwifV0sdC5mb3JFYWNoKEUsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gQyhlKXtpZihlfHxcIlwiPT09ZSl7dmFyIG49ZVthXTtpZihuKXJldHVybiBuLmNhbGwoZSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5uZXh0KXJldHVybiBlO2lmKCFpc05hTihlLmxlbmd0aCkpe3ZhciBvPS0xLGk9ZnVuY3Rpb24gbigpe2Zvcig7KytvPGUubGVuZ3RoOylpZihyLmNhbGwoZSxvKSlyZXR1cm4gbi52YWx1ZT1lW29dLG4uZG9uZT0hMSxuO3JldHVybiBuLnZhbHVlPXQsbi5kb25lPSEwLG59O3JldHVybiBpLm5leHQ9aX19dGhyb3cgbmV3IFR5cGVFcnJvcihZbChlKStcIiBpcyBub3QgaXRlcmFibGVcIil9cmV0dXJuIGcucHJvdG90eXBlPWIsbyhrLFwiY29uc3RydWN0b3JcIix7dmFsdWU6Yixjb25maWd1cmFibGU6ITB9KSxvKGIsXCJjb25zdHJ1Y3RvclwiLHt2YWx1ZTpnLGNvbmZpZ3VyYWJsZTohMH0pLGcuZGlzcGxheU5hbWU9YyhiLHUsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSxlLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4hIWUmJihlPT09Z3x8XCJHZW5lcmF0b3JGdW5jdGlvblwiPT09KGUuZGlzcGxheU5hbWV8fGUubmFtZSkpfSxlLm1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxiKToodC5fX3Byb3RvX189YixjKHQsdSxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGspLHR9LGUuYXdyYXA9ZnVuY3Rpb24odCl7cmV0dXJue19fYXdhaXQ6dH19LHgoQS5wcm90b3R5cGUpLGMoQS5wcm90b3R5cGUscywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxlLkFzeW5jSXRlcmF0b3I9QSxlLmFzeW5jPWZ1bmN0aW9uKHQsbixyLG8saSl7dm9pZCAwPT09aSYmKGk9UHJvbWlzZSk7dmFyIGE9bmV3IEEobCh0LG4scixvKSxpKTtyZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKG4pP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9uZT90LnZhbHVlOmEubmV4dCgpfSkpfSx4KGspLGMoayx1LFwiR2VuZXJhdG9yXCIpLGMoayxhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGMoayxcInRvU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEdlbmVyYXRvcl1cIn0pKSxlLmtleXM9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHQpLG49W107Zm9yKHZhciByIGluIGUpbi5wdXNoKHIpO3JldHVybiBuLnJldmVyc2UoKSxmdW5jdGlvbiB0KCl7Zm9yKDtuLmxlbmd0aDspe3ZhciByPW4ucG9wKCk7aWYociBpbiBlKXJldHVybiB0LnZhbHVlPXIsdC5kb25lPSExLHR9cmV0dXJuIHQuZG9uZT0hMCx0fX0sZS52YWx1ZXM9QyxqLnByb3RvdHlwZT17Y29uc3RydWN0b3I6aixyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5hcmc9dCx0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChQKSwhZSlmb3IodmFyIG4gaW4gdGhpcylcInRcIj09PW4uY2hhckF0KDApJiZyLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09dCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIHQ9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciBuPXRoaXM7ZnVuY3Rpb24gbyhyLG8pe3JldHVybiBzLnR5cGU9XCJ0aHJvd1wiLHMuYXJnPWUsbi5uZXh0PXIsbyYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPXQpLCEhb31mb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbaV0scz1hLmNvbXBsZXRpb247aWYoXCJyb290XCI9PT1hLnRyeUxvYylyZXR1cm4gbyhcImVuZFwiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgdT1yLmNhbGwoYSxcImNhdGNoTG9jXCIpLGM9ci5jYWxsKGEsXCJmaW5hbGx5TG9jXCIpO2lmKHUmJmMpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBvKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX1lbHNlIGlmKHUpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBvKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIWMpdGhyb3cgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciBvPXRoaXMudHJ5RW50cmllc1tuXTtpZihvLnRyeUxvYzw9dGhpcy5wcmV2JiZyLmNhbGwobyxcImZpbmFsbHlMb2NcIikmJnRoaXMucHJldjxvLmZpbmFsbHlMb2Mpe3ZhciBpPW87YnJlYWt9fWkmJihcImJyZWFrXCI9PT10fHxcImNvbnRpbnVlXCI9PT10KSYmaS50cnlMb2M8PWUmJmU8PWkuZmluYWxseUxvYyYmKGk9bnVsbCk7dmFyIGE9aT9pLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT10LGEuYXJnPWUsaT8odGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyx2KTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbih0LGUpe2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm5cImJyZWFrXCI9PT10LnR5cGV8fFwiY29udGludWVcIj09PXQudHlwZT90aGlzLm5leHQ9dC5hcmc6XCJyZXR1cm5cIj09PXQudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPXQuYXJnLHRoaXMubWV0aG9kPVwicmV0dXJuXCIsdGhpcy5uZXh0PVwiZW5kXCIpOlwibm9ybWFsXCI9PT10LnR5cGUmJmUmJih0aGlzLm5leHQ9ZSksdn0sZmluaXNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLmZpbmFsbHlMb2M9PT10KXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxQKG4pLHZ9fSxjYXRjaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi50cnlMb2M9PT10KXt2YXIgcj1uLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09ci50eXBlKXt2YXIgbz1yLmFyZztQKG4pfXJldHVybiBvfX10aHJvdyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLG4scil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOkMoZSkscmVzdWx0TmFtZTpuLG5leHRMb2M6cn0sXCJuZXh0XCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXQpLHZ9fSxlfWZ1bmN0aW9uIEtsKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIFpsKHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/WmwodCxlKTp2b2lkIDB9fWZ1bmN0aW9uIFpsKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBRbCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxKbChyLmtleSkscil9fWZ1bmN0aW9uIEpsKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9WWwodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9WWwocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1ZbChlKT9lOmUrXCJcIn12YXIgdGY9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gYSh0KXt0cnl7dShyLm5leHQodCkpfWNhdGNoKHQpe2kodCl9fWZ1bmN0aW9uIHModCl7dHJ5e3Uoci50aHJvdyh0KSl9Y2F0Y2godCl7aSh0KX19ZnVuY3Rpb24gdSh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oKGZ1bmN0aW9uKHQpe3QoZSl9KSkpLnRoZW4oYSxzKX11KChyPXIuYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9LGVmPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmUWwodC5wcm90b3R5cGUsZSksbiYmUWwodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KChmdW5jdGlvbiB0KGUsbil7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLnN0YXRlPXtzb3VuZHM6W10sc3JjTWFuYWdlcnM6W10sZWxlbWVudHM6W119LHRoaXMuY3VycmVudEhhbmRsaW5nPW51bGwsdGhpcy5zdGFnZT1uLHRoaXMuZ2FtZT1lLHRoaXMuZXZlbnRzPW5ldyBrLHRoaXMubG9nZ2VyPW5ldyBUKGUsXCJOYXJyYUxlYWYtUmVhY3RcIil9KSxbe2tleTpcImZpbmRFbGVtZW50QnlTY2VuZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlLmVsZW1lbnRzLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNjZW5lPT09dH0pKXx8bnVsbH19LHtrZXk6XCJmaW5kRWxlbWVudEJ5SW1hZ2VcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZS5lbGVtZW50cy5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5lbGUuaW1hZ2VzLmluY2x1ZGVzKHQpfSkpfHxudWxsfX0se2tleTpcImZpbmRFbGVtZW50QnlEaXNwbGF5YWJsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlLmVsZW1lbnRzLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVsZS5kaXNwbGF5YWJsZS5pbmNsdWRlcyh0KX0pKXx8bnVsbH19LHtrZXk6XCJhZGRTY2VuZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNjZW5lRXhpc3RzKHQpfHx0aGlzLnN0YXRlLmVsZW1lbnRzLnB1c2goe3NjZW5lOnQsZWxlOnRoaXMuZ2V0RWxlbWVudE1hcCgpfSksdGhpc319LHtrZXk6XCJwb3BTY2VuZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGF0ZS5lbGVtZW50cy5wb3AoKTtyZXR1cm4gdD8odGhpcy5yZW1vdmVFbGVtZW50cyh0LnNjZW5lKSx0aGlzKTp0aGlzfX0se2tleTpcInJlbW92ZVNjZW5lXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVtb3ZlRWxlbWVudHModCksdGhpc319LHtrZXk6XCJnZXRTY2VuZUVsZW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS5lbGVtZW50c319LHtrZXk6XCJnZXRMYXN0U2NlbmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybihudWxsPT09KHQ9dGhpcy5zdGF0ZS5lbGVtZW50c1t0aGlzLnN0YXRlLmVsZW1lbnRzLmxlbmd0aC0xXSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2NlbmUpfHxudWxsfX0se2tleTpcInNjZW5lRXhpc3RzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy5zdGF0ZS5lbGVtZW50cy5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zY2VuZT09PXR9KSk6ISF0aGlzLmdldExhc3RTY2VuZSgpfX0se2tleTpcImlzU2NlbmVBY3RpdmVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuPWZ1bmN0aW9uKHQsZSl7dmFyIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheSh0KXx8KG49S2wodCkpfHxlJiZ0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpe24mJih0PW4pO3ZhciByPTAsbz1mdW5jdGlvbigpe307cmV0dXJue3M6byxuOmZ1bmN0aW9uKCl7cmV0dXJuIHI+PXQubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTp0W3IrK119fSxlOmZ1bmN0aW9uKHQpe3Rocm93IHR9LGY6b319dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciBpLGE9ITAscz0hMTtyZXR1cm57czpmdW5jdGlvbigpe249bi5jYWxsKHQpfSxuOmZ1bmN0aW9uKCl7dmFyIHQ9bi5uZXh0KCk7cmV0dXJuIGE9dC5kb25lLHR9LGU6ZnVuY3Rpb24odCl7cz0hMCxpPXR9LGY6ZnVuY3Rpb24oKXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGl9fX19KHRoaXMuc3RhdGUuZWxlbWVudHMpO3RyeXtmb3Iobi5zKCk7IShlPW4ubigpKS5kb25lOyl7aWYoZS52YWx1ZS5zY2VuZT09PXQpcmV0dXJuITB9fWNhdGNoKHQpe24uZSh0KX1maW5hbGx5e24uZigpfXJldHVybiExfX0se2tleTpcImhhbmRsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmN1cnJlbnRIYW5kbGluZz09PXR8fCh0aGlzLmN1cnJlbnRIYW5kbGluZz10LHQudHlwZSksdGhpc319LHtrZXk6XCJjcmVhdGVUZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7dmFyIG8saT1udWxsPT09KG89dGhpcy5maW5kRWxlbWVudEJ5U2NlbmUodGhpcy5fZ2V0TGFzdFNjZW5lSWZOb3QocikpKXx8dm9pZCAwPT09bz92b2lkIDA6by5lbGUudGV4dHM7aWYoIWkpdGhyb3cgbmV3IEVycm9yKFwiU2NlbmUgbm90IGZvdW5kXCIpO3ZhciBhPXRoaXMuY3JlYXRlV2FpdGFibGVBY3Rpb24oe2NoYXJhY3RlcjplLmNvbmZpZy5jaGFyYWN0ZXIsc2VudGVuY2U6ZSxpZDp0fSwoZnVuY3Rpb24oKXtpLnNwbGljZShpLmluZGV4T2YoYSksMSksbiYmbigpfSkpO2kucHVzaChhKX19LHtrZXk6XCJjcmVhdGVNZW51XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByO2lmKCF0LmNob2ljZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk1lbnUgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBjaG9pY2VcIik7dmFyIG89bnVsbD09PShyPXRoaXMuZmluZEVsZW1lbnRCeVNjZW5lKHRoaXMuX2dldExhc3RTY2VuZUlmTm90KG4pKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZWxlLm1lbnVzO2lmKCFvKXRocm93IG5ldyBFcnJvcihcIlNjZW5lIG5vdCBmb3VuZFwiKTt2YXIgaT10aGlzLmNyZWF0ZVdhaXRhYmxlQWN0aW9uKHQsKGZ1bmN0aW9uKHQpe28uc3BsaWNlKG8uaW5kZXhPZihpKSwxKSxlJiZlKHQpfSkpO28ucHVzaChpKX19LHtrZXk6XCJjcmVhdGVJbWFnZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZ2V0TGFzdFNjZW5lSWZOb3QoZSkscj10aGlzLmZpbmRFbGVtZW50QnlTY2VuZShuKTtyZXR1cm4gcj8oci5lbGUuaW1hZ2VzLnB1c2godCksdGhpcyk6dGhpc319LHtrZXk6XCJkaXNwb3NlSW1hZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuLHI9dGhpcy5fZ2V0TGFzdFNjZW5lSWZOb3QoZSksbz1udWxsPT09KG49dGhpcy5maW5kRWxlbWVudEJ5U2NlbmUocikpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmVsZS5pbWFnZXM7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiU2NlbmUgbm90IGZvdW5kXCIpO3ZhciBpPW8uaW5kZXhPZih0KTtpZigtMT09PWkpdGhyb3cgbmV3IEVycm9yKFwiSW1hZ2Ugbm90IGZvdW5kXCIpO3JldHVybiBvLnNwbGljZShpLDEpLHRoaXN9fSx7a2V5OlwiY3JlYXRlRGlzcGxheWFibGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2dldExhc3RTY2VuZUlmTm90KGUpLHI9dGhpcy5maW5kRWxlbWVudEJ5U2NlbmUobik7cmV0dXJuIHI/KHIuZWxlLmRpc3BsYXlhYmxlLnB1c2godCksdGhpcyk6dGhpc319LHtrZXk6XCJkaXNwb3NlRGlzcGxheWFibGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuLHI9dGhpcy5fZ2V0TGFzdFNjZW5lSWZOb3QoZSksbz1udWxsPT09KG49dGhpcy5maW5kRWxlbWVudEJ5U2NlbmUocikpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmVsZS5kaXNwbGF5YWJsZTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJTY2VuZSBub3QgZm91bmRcIik7dmFyIGk9by5pbmRleE9mKHQpO2lmKC0xPT09aSl0aHJvdyBuZXcgRXJyb3IoXCJEaXNwbGF5YWJsZXMgbm90IGZvdW5kXCIpO3JldHVybiBvLnNwbGljZShpLDEpLHRoaXN9fSx7a2V5OlwiZm9yY2VSZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnN0YXRlLnNvdW5kcy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXQuZ2V0UGxheWluZygpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5zdG9wKCl9KSksdGhpcy5zdGF0ZS5lbGVtZW50cy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLnNjZW5lO3Qub2ZmU3JjTWFuYWdlcihuLnNyY01hbmFnZXIpLHQucmVtb3ZlU2NlbmUobiksbi5ldmVudHMuY2xlYXIoKX0pKSx0aGlzLnN0YXRlLmVsZW1lbnRzPVtdLHRoaXMuc3RhdGUuc3JjTWFuYWdlcnM9W119fSx7a2V5OlwiaW5pdFNvdW5kXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5nZXRQbGF5aW5nKCl8fHQuc2V0UGxheWluZyhuZXcodGhpcy5nZXRIb3dsKCkpKHQuZ2V0SG93bE9wdGlvbnMoZSkpKSx0fX0se2tleTpcInBsYXlTb3VuZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt0aGlzLmluaXRTb3VuZCh0LG4pO3ZhciByPXQuZ2V0UGxheWluZygpLnBsYXkoKSxvPVt0LmdldFBsYXlpbmcoKS5vbmNlKFwiZW5kXCIsaS5iaW5kKHRoaXMpKSx0LmdldFBsYXlpbmcoKS5vbmNlKFwic3RvcFwiLGkuYmluZCh0aGlzKSldO2Z1bmN0aW9uIGkoKXtlJiZlKCksby5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5vZmYoKX0pKSx0aGlzLnN0YXRlLnNvdW5kcz10aGlzLnN0YXRlLnNvdW5kcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pKSx0aGlzLnN0YWdlLm5leHQoKX1yZXR1cm4gdGhpcy5zdGF0ZS5zb3VuZHMucHVzaCh0KSx0LnN0YXRlLnRva2VuPXIscn19LHtrZXk6XCJzdG9wU291bmRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybihudWxsPT09KGU9dC5zdGF0ZS5wbGF5aW5nKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wbGF5aW5nKHQuZ2V0VG9rZW4oKSkpJiYobnVsbD09PShuPXQuc3RhdGUucGxheWluZyl8fHZvaWQgMD09PW58fG4uc3RvcCh0LmdldFRva2VuKCkpKSx0LnNldFBsYXlpbmcobnVsbCkuc2V0VG9rZW4obnVsbCksdH19LHtrZXk6XCJ0cmFuc2l0aW9uU291bmRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRmKHRoaXMsdm9pZCAwLHZvaWQgMCxYbCgpLm1hcmsoKGZ1bmN0aW9uIHIoKXt2YXIgbztyZXR1cm4gWGwoKS53cmFwKChmdW5jdGlvbihyKXtmb3IoOzspc3dpdGNoKHIucHJldj1yLm5leHQpe2Nhc2UgMDppZighdCl7ci5uZXh0PTU7YnJlYWt9aWYoIW4pe3IubmV4dD00O2JyZWFrfXJldHVybiByLm5leHQ9NCx0aGlzLmZhZGVTb3VuZCh0LDAsbik7Y2FzZSA0OnRoaXMuc3RvcFNvdW5kKHQpO2Nhc2UgNTppZighZSl7ci5uZXh0PTEyO2JyZWFrfWlmKG89ZS5jb25maWcudm9sdW1lLHRoaXMucGxheVNvdW5kKGUsdm9pZCAwLHt2b2x1bWU6MH0pLCFuKXtyLm5leHQ9MTE7YnJlYWt9cmV0dXJuIHIubmV4dD0xMSx0aGlzLmZhZGVTb3VuZChlLG8sbik7Y2FzZSAxMTplLmdldFBsYXlpbmcoKS52b2x1bWUobyxlLmdldFRva2VuKCkpO2Nhc2UgMTI6Y2FzZVwiZW5kXCI6cmV0dXJuIHIuc3RvcCgpfX0pLHIsdGhpcyl9KSkpfX0se2tleTpcImZhZGVTb3VuZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvO3JldHVybiB0Zih0aGlzLHZvaWQgMCx2b2lkIDAsWGwoKS5tYXJrKChmdW5jdGlvbiBpKCl7dmFyIGE7cmV0dXJuIFhsKCkud3JhcCgoZnVuY3Rpb24oaSl7Zm9yKDs7KXN3aXRjaChpLnByZXY9aS5uZXh0KXtjYXNlIDA6cmV0dXJuIGE9bnVsbD09PShyPXQuZ2V0UGxheWluZygpKXx8dm9pZCAwPT09cj92b2lkIDA6ci52b2x1bWUodC5nZXRUb2tlbigpKSxudWxsPT09KG89dC5nZXRQbGF5aW5nKCkpfHx2b2lkIDA9PT1vfHxvLmZhZGUoYSxlLG4sdC5nZXRUb2tlbigpKSxpLm5leHQ9NCxBKG4pO2Nhc2UgNDpyZXR1cm4gaS5hYnJ1cHQoXCJyZXR1cm5cIix2b2lkIDApO2Nhc2UgNTpjYXNlXCJlbmRcIjpyZXR1cm4gaS5zdG9wKCl9fSksaSl9KSkpfX0se2tleTpcImdldEhvd2xcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAkbC5Ib3dsfX0se2tleTpcImFuaW1hdGVJbWFnZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0aGlzLmFueUV2ZW50LmFwcGx5KHRoaXMsW3QsZSxyXS5jb25jYXQocWwobikpKX19LHtrZXk6XCJhbmltYXRlVGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0aGlzLmFueUV2ZW50LmFwcGx5KHRoaXMsW3QsZSxyXS5jb25jYXQocWwobikpKX19LHtrZXk6XCJyZWdpc3RlclNyY01hbmFnZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZS5zcmNNYW5hZ2Vycy5wdXNoKHQpLHRoaXN9fSx7a2V5Olwib2ZmU3JjTWFuYWdlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlLnNyY01hbmFnZXJzPXRoaXMuc3RhdGUuc3JjTWFuYWdlcnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXR9KSksdGhpc319LHtrZXk6XCJnZXRTdG9yYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2FtZS5nZXRMaXZlR2FtZSgpLmdldFN0b3JhYmxlKCl9fSx7a2V5OlwiZGlzcG9zZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5mb3JjZVJlc2V0KCl9fSx7a2V5OlwidG9EYXRhXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57c2NlbmVzOnRoaXMuc3RhdGUuZWxlbWVudHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm57c2NlbmVJZDp0LnNjZW5lLmdldElkKCksZWxlbWVudHM6e2ltYWdlczp0LmVsZS5pbWFnZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRJZCgpfSkpfX19KSl9fX0se2tleTpcImxvYWREYXRhXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKHRoaXMuc3RhdGUuZWxlbWVudHM9W10sIXRoaXMuZ2FtZS5nZXRMaXZlR2FtZSgpLnN0b3J5KXRocm93IG5ldyBFcnJvcihcIk5vIHN0b3J5IGxvYWRlZFwiKTt0LnNjZW5lcy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj10LnNjZW5lSWQsbz10LmVsZW1lbnRzO24ubG9nZ2VyLmRlYnVnKFwiTG9hZGluZyBzY2VuZTogXCIrcik7dmFyIGk9ZS5nZXQocik7aWYoIWkpdGhyb3cgbmV3IEVycm9yKFwiU2NlbmUgbm90IGZvdW5kLCBpZDogXCIrcitcIlxcbk5hcnJhTGVhZiBjYW5ub3QgZmluZCB0aGUgZWxlbWVudCB3aXRoIHRoZSBpZCBmcm9tIHRoZSBzYXZlZCBnYW1lXCIpO3ZhciBhPXtzY2VuZTppLGVsZTp7aW1hZ2VzOm8uaW1hZ2VzLm1hcCgoZnVuY3Rpb24odCl7aWYoIWUuaGFzKHQpKXRocm93IG5ldyBFcnJvcihcIkltYWdlIG5vdCBmb3VuZCwgaWQ6IFwiK3QrXCJcXG5OYXJyYUxlYWYgY2Fubm90IGZpbmQgdGhlIGVsZW1lbnQgd2l0aCB0aGUgaWQgZnJvbSB0aGUgc2F2ZWQgZ2FtZVwiKTtyZXR1cm4gZS5nZXQodCl9KSksbWVudXM6W10sdGV4dHM6W10sZGlzcGxheWFibGU6W119fTtuLnN0YXRlLmVsZW1lbnRzLnB1c2goYSksbi5yZWdpc3RlclNyY01hbmFnZXIoaS5zcmNNYW5hZ2VyKSxkdC5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKGksbil9KSl9fSx7a2V5OlwiaW5pdFNjZW5lc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnN0YXRlLmVsZW1lbnRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUuc2NlbmU7ZHQucmVnaXN0ZXJFdmVudExpc3RlbmVycyhuLHQpfSkpfX0se2tleTpcImdldEVsZW1lbnRNYXBcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybnt0ZXh0czpbXSxtZW51czpbXSxpbWFnZXM6W10sZGlzcGxheWFibGU6W119fX0se2tleTpcInJlbW92ZUVsZW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZS5lbGVtZW50cy5maW5kSW5kZXgoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNjZW5lPT09dH0pKTtyZXR1cm4tMT09PWV8fHRoaXMuc3RhdGUuZWxlbWVudHMuc3BsaWNlKGUsMSksdGhpc319LHtrZXk6XCJfZ2V0TGFzdFNjZW5lSWZOb3RcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10fHx0aGlzLmdldExhc3RTY2VuZSgpO2lmKCFlfHwhdGhpcy5zY2VuZUV4aXN0cyhlKSl0aHJvdyBuZXcgRXJyb3IoJ1NjZW5lIG5vdCBmb3VuZCwgcGxlYXNlIGNhbGwgXCJzY2VuZS5hY3RpdmF0ZSgpXCIgZmlyc3QuJyk7cmV0dXJuIGV9fSx7a2V5OlwiYW55RXZlbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByLG89dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGgsYT1uZXcgQXJyYXkoaT4zP2ktMzowKSxzPTM7czxpO3MrKylhW3MtM109YXJndW1lbnRzW3NdOyhyPWUuZXZlbnRzKS5hbnkuYXBwbHkocixbdF0uY29uY2F0KGEpKS50aGVuKG4pLnRoZW4oKGZ1bmN0aW9uKCl7by5zdGFnZS5uZXh0KCl9KSl9fSx7a2V5OlwiY3JlYXRlV2FpdGFibGVBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybnthY3Rpb246dCxvbkNsaWNrOmZ1bmN0aW9uKHQpe2UmJmUodCl9fX19XSl9KCk7ZnVuY3Rpb24gbmYodCl7dmFyIGUsbixyPVwiXCI7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHR8fFwibnVtYmVyXCI9PXR5cGVvZiB0KXIrPXQ7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgdClpZihBcnJheS5pc0FycmF5KHQpKXt2YXIgbz10Lmxlbmd0aDtmb3IoZT0wO2U8bztlKyspdFtlXSYmKG49bmYodFtlXSkpJiYociYmKHIrPVwiIFwiKSxyKz1uKX1lbHNlIGZvcihuIGluIHQpdFtuXSYmKHImJihyKz1cIiBcIikscis9bik7cmV0dXJuIHJ9ZWYuRXZlbnRUeXBlcz17XCJldmVudDpzdGF0ZS5yZWFkeVwiOlwiZXZlbnQ6c3RhdGUucmVhZHlcIixcImV2ZW50OnN0YXRlLmVuZFwiOlwiZXZlbnQ6c3RhdGUuZW5kXCIsXCJldmVudDpzdGF0ZS5wbGF5ZXIuc2tpcFwiOlwiZXZlbnQ6c3RhdGUucGxheWVyLnNraXBcIixcImV2ZW50OnN0YXRlLnByZWxvYWQudW5tb3VudFwiOlwiZXZlbnQ6c3RhdGUucHJlbG9hZC51bm1vdW50XCIsXCJldmVudDpzdGF0ZS5wcmVsb2FkLmxvYWRlZFwiOlwiZXZlbnQ6c3RhdGUucHJlbG9hZC5sb2FkZWRcIixcImV2ZW50OnN0YXRlLnBsYXllci5mbHVzaFwiOlwiZXZlbnQ6c3RhdGUucGxheWVyLmZsdXNoXCJ9O2NvbnN0IHJmPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUsbj0wLHI9XCJcIixvPWFyZ3VtZW50cy5sZW5ndGg7bjxvO24rKykodD1hcmd1bWVudHNbbl0pJiYoZT1uZih0KSkmJihyJiYocis9XCIgXCIpLHIrPWUpO3JldHVybiByfTt2YXIgb2Y9bygxMiksYWY9by5uKG9mKTtmdW5jdGlvbiBzZih0LGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fSh0KXx8ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsPT10P251bGw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZihudWxsIT1uKXt2YXIgcixvLGksYSxzPVtdLHU9ITAsYz0hMTt0cnl7aWYoaT0obj1uLmNhbGwodCkpLm5leHQsMD09PWUpe2lmKE9iamVjdChuKSE9PW4pcmV0dXJuO3U9ITF9ZWxzZSBmb3IoOyEodT0ocj1pLmNhbGwobikpLmRvbmUpJiYocy5wdXNoKHIudmFsdWUpLHMubGVuZ3RoIT09ZSk7dT0hMCk7fWNhdGNoKHQpe2M9ITAsbz10fWZpbmFsbHl7dHJ5e2lmKCF1JiZudWxsIT1uLnJldHVybiYmKGE9bi5yZXR1cm4oKSxPYmplY3QoYSkhPT1hKSlyZXR1cm59ZmluYWxseXtpZihjKXRocm93IG99fXJldHVybiBzfX0odCxlKXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdWYodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT91Zih0LGUpOnZvaWQgMH19KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiB1Zih0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gY2YodCl7cmV0dXJuIGNmPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGNmKHQpfWZ1bmN0aW9uIGxmKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGZmKHIua2V5KSxyKX19ZnVuY3Rpb24gZmYodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1jZih0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1jZihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PWNmKGUpP2U6ZStcIlwifXZhciBwZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuc3RhdGU9e3dpZHRoOjAsaGVpZ2h0OjAsbWluV2lkdGg6ODAwLG1pbkhlaWdodDo0NTAscGF1c2VkOiExfSx0aGlzLmV2ZW50cz1uZXcgayx0aGlzLmxvY2tlcnM9W10sdGhpcy51cGRhdGVyPW51bGx9cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmbGYodC5wcm90b3R5cGUsZSksbiYmbGYodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KHQsW3trZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbihlLG4pe3RoaXMuc3RhdGUud2lkdGg9ZSx0aGlzLnN0YXRlLmhlaWdodD1uLHRoaXMuZXZlbnRzLmVtaXQodC5FdmVudFR5cGVzW1wiZXZlbnQ6YXNwZWN0UmF0aW8udXBkYXRlXCJdLGUsbil9fSx7a2V5OlwidXBkYXRlTWluXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnN0YXRlLm1pbldpZHRoPXQsdGhpcy5zdGF0ZS5taW5IZWlnaHQ9ZX19LHtrZXk6XCJsb2NrXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1TeW1ib2woKTtyZXR1cm4gdGhpcy5sb2NrZXJzLnB1c2godCksdH19LHtrZXk6XCJ1bmxvY2tcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0JiYhdGhpcy5sb2NrZXJzLmluY2x1ZGVzKHQpKXRocm93IG5ldyBFcnJvcihcIkxvY2tlciBub3QgZm91bmRcIik7cmV0dXJuIHRoaXMubG9ja2Vycz10aGlzLmxvY2tlcnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXR9KSksdGhpcy50cmlnZ2VyVXBkYXRlKCksbnVsbH19LHtrZXk6XCJpc0xvY2tlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmxvY2tlcnMubGVuZ3RofX0se2tleTpcImdldFN0eWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57d2lkdGg6XCJcIi5jb25jYXQodGhpcy5zdGF0ZS53aWR0aCxcInB4XCIpLGhlaWdodDpcIlwiLmNvbmNhdCh0aGlzLnN0YXRlLmhlaWdodCxcInB4XCIpfX19LHtrZXk6XCJzZXRVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnVwZGF0ZXI9dH19LHtrZXk6XCJwYXVzZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZS5wYXVzZWQ9ITAsdGhpcy5ldmVudHMuZW1pdCh0LkV2ZW50VHlwZXNbXCJldmVudDphc3BlY3RSYXRpby5wYXVzZVwiXSl9fSx7a2V5OlwicmVzdW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlLnBhdXNlZD0hMSx0aGlzLmV2ZW50cy5lbWl0KHQuRXZlbnRUeXBlc1tcImV2ZW50OmFzcGVjdFJhdGlvLnJlc3VtZVwiXSl9fSx7a2V5Olwib25VcGRhdGVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLmV2ZW50cy5vbih0LkV2ZW50VHlwZXNbXCJldmVudDphc3BlY3RSYXRpby51cGRhdGVcIl0sZSksZnVuY3Rpb24oKXtuLmV2ZW50cy5vZmYodC5FdmVudFR5cGVzW1wiZXZlbnQ6YXNwZWN0UmF0aW8udXBkYXRlXCJdLGUpfX19LHtrZXk6XCJ0cmlnZ2VyVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZXImJnRoaXMudXBkYXRlcigpfX1dKX0oKTtwZi5FdmVudFR5cGVzPXtcImV2ZW50OmFzcGVjdFJhdGlvLnVwZGF0ZVwiOlwiZXZlbnQ6YXNwZWN0UmF0aW8udXBkYXRlXCIsXCJldmVudDphc3BlY3RSYXRpby5wYXVzZVwiOlwiZXZlbnQ6YXNwZWN0UmF0aW8ucGF1c2VcIixcImV2ZW50OmFzcGVjdFJhdGlvLnJlc3VtZVwiOlwiZXZlbnQ6YXNwZWN0UmF0aW8ucmVzdW1lXCJ9O3ZhciBkZj0oMCxvZi5jcmVhdGVDb250ZXh0KShudWxsKTtmdW5jdGlvbiBoZih0KXt2YXIgZT10LmNoaWxkcmVuLG49c2YoKDAsb2YudXNlU3RhdGUpKG5ldyBwZiksMSlbMF07cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChkZi5Qcm92aWRlcix7dmFsdWU6e3JhdGlvOm59fSxlKX1mdW5jdGlvbiB5Zigpe3ZhciB0PSgwLG9mLnVzZUNvbnRleHQpKGRmKTtpZighZGZ8fCF0KXRocm93IG5ldyBFcnJvcihcInVzZVJhdGlvIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBSYXRpb1Byb3ZpZGVyXCIpO3ZhciBlPXNmKCgwLG9mLnVzZVJlZHVjZXIpKChmdW5jdGlvbih0KXtyZXR1cm4gdCsxfSksMCksMilbMV0sbj10LnJhdGlvO3JldHVybigwLG9mLnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7cmV0dXJuIG4ub25VcGRhdGUoKGZ1bmN0aW9uKCl7ZSgpfSkpfSksW10pLHR9ZnVuY3Rpb24gdmYoKXtyZXR1cm4gdmY9T2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduLmJpbmQoKTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSx2Zi5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbWYodCl7dmFyIGU9dC5jaGlsZHJlbixuPXQuY2xhc3NOYW1lLHI9dC5wcm9wcyxvPXQucmVmLGk9eWYoKS5yYXRpbyxhPWkuZ2V0U3R5bGUoKTtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpyZihcImluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIixuKSxzdHlsZTp7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLG1pbldpZHRoOlwiXCIuY29uY2F0KGkuc3RhdGUubWluV2lkdGgsXCJweFwiKSxtaW5IZWlnaHQ6XCJcIi5jb25jYXQoaS5zdGF0ZS5taW5IZWlnaHQsXCJweFwiKX19LGFmKCkuY3JlYXRlRWxlbWVudChcImRpdlwiLHZmKHtzdHlsZTpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sYSkse3Bvc2l0aW9uOlwicmVsYXRpdmVcIixvdmVyZmxvdzpcImhpZGRlblwifSl9LHJ8fHt9LHtyZWY6b30pLGUpKX1mdW5jdGlvbiBnZih0KXtyZXR1cm4gZ2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sZ2YodCl9ZnVuY3Rpb24gYmYoKXsvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovYmY9ZnVuY3Rpb24oKXtyZXR1cm4gZX07dmFyIHQsZT17fSxuPU9iamVjdC5wcm90b3R5cGUscj1uLmhhc093blByb3BlcnR5LG89T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbih0LGUsbil7dFtlXT1uLnZhbHVlfSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYT1pLml0ZXJhdG9yfHxcIkBAaXRlcmF0b3JcIixzPWkuYXN5bmNJdGVyYXRvcnx8XCJAQGFzeW5jSXRlcmF0b3JcIix1PWkudG9TdHJpbmdUYWd8fFwiQEB0b1N0cmluZ1RhZ1wiO2Z1bmN0aW9uIGModCxlLG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksdFtlXX10cnl7Yyh7fSxcIlwiKX1jYXRjaCh0KXtjPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1ufX1mdW5jdGlvbiBsKHQsZSxuLHIpe3ZhciBpPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgbT9lOm0sYT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxzPW5ldyBqKHJ8fFtdKTtyZXR1cm4gbyhhLFwiX2ludm9rZVwiLHt2YWx1ZTpPKHQsbixzKX0pLGF9ZnVuY3Rpb24gZih0LGUsbil7dHJ5e3JldHVybnt0eXBlOlwibm9ybWFsXCIsYXJnOnQuY2FsbChlLG4pfX1jYXRjaCh0KXtyZXR1cm57dHlwZTpcInRocm93XCIsYXJnOnR9fX1lLndyYXA9bDt2YXIgcD1cInN1c3BlbmRlZFN0YXJ0XCIsZD1cInN1c3BlbmRlZFlpZWxkXCIsaD1cImV4ZWN1dGluZ1wiLHk9XCJjb21wbGV0ZWRcIix2PXt9O2Z1bmN0aW9uIG0oKXt9ZnVuY3Rpb24gZygpe31mdW5jdGlvbiBiKCl7fXZhciB3PXt9O2ModyxhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBfPU9iamVjdC5nZXRQcm90b3R5cGVPZixTPV8mJl8oXyhDKFtdKSkpO1MmJlMhPT1uJiZyLmNhbGwoUyxhKSYmKHc9Uyk7dmFyIGs9Yi5wcm90b3R5cGU9bS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3KTtmdW5jdGlvbiB4KHQpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Yyh0LGUsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX0pKX0pKX1mdW5jdGlvbiBBKHQsZSl7ZnVuY3Rpb24gbihvLGksYSxzKXt2YXIgdT1mKHRbb10sdCxpKTtpZihcInRocm93XCIhPT11LnR5cGUpe3ZhciBjPXUuYXJnLGw9Yy52YWx1ZTtyZXR1cm4gbCYmXCJvYmplY3RcIj09Z2YobCkmJnIuY2FsbChsLFwiX19hd2FpdFwiKT9lLnJlc29sdmUobC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih0KXtuKFwibmV4dFwiLHQsYSxzKX0pLChmdW5jdGlvbih0KXtuKFwidGhyb3dcIix0LGEscyl9KSk6ZS5yZXNvbHZlKGwpLnRoZW4oKGZ1bmN0aW9uKHQpe2MudmFsdWU9dCxhKGMpfSksKGZ1bmN0aW9uKHQpe3JldHVybiBuKFwidGhyb3dcIix0LGEscyl9KSl9cyh1LmFyZyl9dmFyIGk7byh0aGlzLFwiX2ludm9rZVwiLHt2YWx1ZTpmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIG8oKXtyZXR1cm4gbmV3IGUoKGZ1bmN0aW9uKGUsbyl7bih0LHIsZSxvKX0pKX1yZXR1cm4gaT1pP2kudGhlbihvLG8pOm8oKX19KX1mdW5jdGlvbiBPKGUsbixyKXt2YXIgbz1wO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1oKXRocm93IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtpZihvPT09eSl7aWYoXCJ0aHJvd1wiPT09aSl0aHJvdyBhO3JldHVybnt2YWx1ZTp0LGRvbmU6ITB9fWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgdT1UKHMscik7aWYodSl7aWYodT09PXYpY29udGludWU7cmV0dXJuIHV9fWlmKFwibmV4dFwiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZihcInRocm93XCI9PT1yLm1ldGhvZCl7aWYobz09PXApdGhyb3cgbz15LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2VcInJldHVyblwiPT09ci5tZXRob2QmJnIuYWJydXB0KFwicmV0dXJuXCIsci5hcmcpO289aDt2YXIgYz1mKGUsbixyKTtpZihcIm5vcm1hbFwiPT09Yy50eXBlKXtpZihvPXIuZG9uZT95OmQsYy5hcmc9PT12KWNvbnRpbnVlO3JldHVybnt2YWx1ZTpjLmFyZyxkb25lOnIuZG9uZX19XCJ0aHJvd1wiPT09Yy50eXBlJiYobz15LHIubWV0aG9kPVwidGhyb3dcIixyLmFyZz1jLmFyZyl9fX1mdW5jdGlvbiBUKGUsbil7dmFyIHI9bi5tZXRob2Qsbz1lLml0ZXJhdG9yW3JdO2lmKG89PT10KXJldHVybiBuLmRlbGVnYXRlPW51bGwsXCJ0aHJvd1wiPT09ciYmZS5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD1cInJldHVyblwiLG4uYXJnPXQsVChlLG4pLFwidGhyb3dcIj09PW4ubWV0aG9kKXx8XCJyZXR1cm5cIiE9PXImJihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiK3IrXCInIG1ldGhvZFwiKSksdjt2YXIgaT1mKG8sZS5pdGVyYXRvcixuLmFyZyk7aWYoXCJ0aHJvd1wiPT09aS50eXBlKXJldHVybiBuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHY7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW2UucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9ZS5uZXh0TG9jLFwicmV0dXJuXCIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPXQpLG4uZGVsZWdhdGU9bnVsbCx2KTphOihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLG4uZGVsZWdhdGU9bnVsbCx2KX1mdW5jdGlvbiBFKHQpe3ZhciBlPXt0cnlMb2M6dFswXX07MSBpbiB0JiYoZS5jYXRjaExvYz10WzFdKSwyIGluIHQmJihlLmZpbmFsbHlMb2M9dFsyXSxlLmFmdGVyTG9jPXRbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKGUpfWZ1bmN0aW9uIFAodCl7dmFyIGU9dC5jb21wbGV0aW9ufHx7fTtlLnR5cGU9XCJub3JtYWxcIixkZWxldGUgZS5hcmcsdC5jb21wbGV0aW9uPWV9ZnVuY3Rpb24gaih0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XCJyb290XCJ9XSx0LmZvckVhY2goRSx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBDKGUpe2lmKGV8fFwiXCI9PT1lKXt2YXIgbj1lW2FdO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG89LTEsaT1mdW5jdGlvbiBuKCl7Zm9yKDsrK288ZS5sZW5ndGg7KWlmKHIuY2FsbChlLG8pKXJldHVybiBuLnZhbHVlPWVbb10sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9dCxuLmRvbmU9ITAsbn07cmV0dXJuIGkubmV4dD1pfX10aHJvdyBuZXcgVHlwZUVycm9yKGdmKGUpK1wiIGlzIG5vdCBpdGVyYWJsZVwiKX1yZXR1cm4gZy5wcm90b3R5cGU9YixvKGssXCJjb25zdHJ1Y3RvclwiLHt2YWx1ZTpiLGNvbmZpZ3VyYWJsZTohMH0pLG8oYixcImNvbnN0cnVjdG9yXCIse3ZhbHVlOmcsY29uZmlndXJhYmxlOiEwfSksZy5kaXNwbGF5TmFtZT1jKGIsdSxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLGUuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbih0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNvbnN0cnVjdG9yO3JldHVybiEhZSYmKGU9PT1nfHxcIkdlbmVyYXRvckZ1bmN0aW9uXCI9PT0oZS5kaXNwbGF5TmFtZXx8ZS5uYW1lKSl9LGUubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGIpOih0Ll9fcHJvdG9fXz1iLGModCx1LFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoayksdH0sZS5hd3JhcD1mdW5jdGlvbih0KXtyZXR1cm57X19hd2FpdDp0fX0seChBLnByb3RvdHlwZSksYyhBLnByb3RvdHlwZSxzLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGUuQXN5bmNJdGVyYXRvcj1BLGUuYXN5bmM9ZnVuY3Rpb24odCxuLHIsbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgQShsKHQsbixyLG8pLGkpO3JldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24obik/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kb25lP3QudmFsdWU6YS5uZXh0KCl9KSl9LHgoayksYyhrLHUsXCJHZW5lcmF0b3JcIiksYyhrLGEsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksYyhrLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgR2VuZXJhdG9yXVwifSkpLGUua2V5cz1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QodCksbj1bXTtmb3IodmFyIHIgaW4gZSluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIHQoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5wb3AoKTtpZihyIGluIGUpcmV0dXJuIHQudmFsdWU9cix0LmRvbmU9ITEsdH1yZXR1cm4gdC5kb25lPSEwLHR9fSxlLnZhbHVlcz1DLGoucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpqLHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PXQsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLmFyZz10LHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKFApLCFlKWZvcih2YXIgbiBpbiB0aGlzKVwidFwiPT09bi5jaGFyQXQoMCkmJnIuY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgdD10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIG49dGhpcztmdW5jdGlvbiBvKHIsbyl7cmV0dXJuIHMudHlwZT1cInRocm93XCIscy5hcmc9ZSxuLm5leHQ9cixvJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9dCksISFvfWZvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBhPXRoaXMudHJ5RW50cmllc1tpXSxzPWEuY29tcGxldGlvbjtpZihcInJvb3RcIj09PWEudHJ5TG9jKXJldHVybiBvKFwiZW5kXCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciB1PXIuY2FsbChhLFwiY2F0Y2hMb2NcIiksYz1yLmNhbGwoYSxcImZpbmFsbHlMb2NcIik7aWYodSYmYyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIG8oYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gbyhhLmZpbmFsbHlMb2MpfWVsc2UgaWYodSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIG8oYS5jYXRjaExvYywhMCl9ZWxzZXtpZighYyl0aHJvdyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIG89dGhpcy50cnlFbnRyaWVzW25dO2lmKG8udHJ5TG9jPD10aGlzLnByZXYmJnIuY2FsbChvLFwiZmluYWxseUxvY1wiKSYmdGhpcy5wcmV2PG8uZmluYWxseUxvYyl7dmFyIGk9bzticmVha319aSYmKFwiYnJlYWtcIj09PXR8fFwiY29udGludWVcIj09PXQpJiZpLnRyeUxvYzw9ZSYmZTw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgYT1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPXQsYS5hcmc9ZSxpPyh0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLm5leHQ9aS5maW5hbGx5TG9jLHYpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVyblwiYnJlYWtcIj09PXQudHlwZXx8XCJjb250aW51ZVwiPT09dC50eXBlP3RoaXMubmV4dD10LmFyZzpcInJldHVyblwiPT09dC50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9dC5hcmcsdGhpcy5tZXRob2Q9XCJyZXR1cm5cIix0aGlzLm5leHQ9XCJlbmRcIik6XCJub3JtYWxcIj09PXQudHlwZSYmZSYmKHRoaXMubmV4dD1lKSx2fSxmaW5pc2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4uZmluYWxseUxvYz09PXQpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLFAobiksdn19LGNhdGNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLnRyeUxvYz09PXQpe3ZhciByPW4uY29tcGxldGlvbjtpZihcInRocm93XCI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO1Aobil9cmV0dXJuIG99fXRocm93IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6QyhlKSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSxcIm5leHRcIj09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dCksdn19LGV9ZnVuY3Rpb24gd2YodCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGtmKHQpfSh0KXx8ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9dFtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT10W1wiQEBpdGVyYXRvclwiXSlyZXR1cm4gQXJyYXkuZnJvbSh0KX0odCl8fFNmKHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIF9mKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe3ZhciBuPW51bGw9PXQ/bnVsbDpcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKG51bGwhPW4pe3ZhciByLG8saSxhLHM9W10sdT0hMCxjPSExO3RyeXtpZihpPShuPW4uY2FsbCh0KSkubmV4dCwwPT09ZSl7aWYoT2JqZWN0KG4pIT09bilyZXR1cm47dT0hMX1lbHNlIGZvcig7ISh1PShyPWkuY2FsbChuKSkuZG9uZSkmJihzLnB1c2goci52YWx1ZSkscy5sZW5ndGghPT1lKTt1PSEwKTt9Y2F0Y2godCl7Yz0hMCxvPXR9ZmluYWxseXt0cnl7aWYoIXUmJm51bGwhPW4ucmV0dXJuJiYoYT1uLnJldHVybigpLE9iamVjdChhKSE9PWEpKXJldHVybn1maW5hbGx5e2lmKGMpdGhyb3cgb319cmV0dXJuIHN9fSh0LGUpfHxTZih0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gU2YodCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4ga2YodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9rZih0LGUpOnZvaWQgMH19ZnVuY3Rpb24ga2YodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIHhmKHQpe3ZhciBlPWJmKCkubWFyayhNKSxuPXQuc2VudGVuY2Uscj10LmdhbWVTdGF0ZSxvPXQudXNlVHlwZUVmZmVjdCxpPXZvaWQgMD09PW98fG8sYT10Lm9uQ29tcGxldGVkLHM9dC5maW5pc2hlZCx1PXQuY291bnQsYz10LmNsYXNzTmFtZSxsPV9mKCgwLG9mLnVzZVN0YXRlKSghMSksMiksZj1sWzBdLHA9bFsxXSxkPSgwLG9mLnVzZU1lbW8pKChmdW5jdGlvbigpe3JldHVybiBuLmV2YWx1YXRlKEVsLmdldEN0eCh7Z2FtZVN0YXRlOnJ9KSl9KSxbXSksaD1yLmdhbWUseT1fZigoMCxvZi51c2VTdGF0ZSkoW10pLDIpLHY9eVswXSxtPXlbMV0sZz0oMCxvZi51c2VSZWYpKE0oZCkpLGI9KDAsb2YudXNlUmVmKShudWxsKSx3PSgwLG9mLnVzZVJlZikobnVsbCksXz1fZigoMCxvZi51c2VTdGF0ZSkoMCksMiksaz1fWzBdLHg9X1sxXSxBPV9mKCgwLG9mLnVzZVJlZHVjZXIpKChmdW5jdGlvbih0KXtyZXR1cm4gdCsxfSksMCksMilbMV0sTz1fZigoMCxvZi51c2VTdGF0ZSkobmV3IFNldCksMiksVD1PWzBdLEU9T1sxXSxQPV9mKCgwLG9mLnVzZVN0YXRlKSghMSksMiksaj1QWzBdLEM9UFsxXTtmdW5jdGlvbiBMKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTt3LmN1cnJlbnQmJihjbGVhclRpbWVvdXQody5jdXJyZW50KSx3LmN1cnJlbnQ9bnVsbCk7Zm9yKHZhciBlPSExOyFlOyl7dmFyIG49Zy5jdXJyZW50Lm5leHQoKSxvPW4uZG9uZSxpPW4udmFsdWU7aWYobylwKCEwKSxhJiYoci5sb2dnZXIuaW5mbyhcIlNheVwiLFwiQ29tcGxldGVkXCIsbyxpKSxhKCkpLGU9ITA7ZWxzZSBpZihOcy5pc1BhdXNlKGkpKXtpZih0KWNvbnRpbnVlO04oTnMuZnJvbShpKSksZT0hMH1lbHNlIEkoaSl9fWZ1bmN0aW9uIEkodCl7bSgoZnVuY3Rpb24oZSl7aWYoXCJcXG5cIiE9PXQmJlQuaGFzKHQpKXJldHVybiBlO0UoKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgU2V0KGUpLmFkZCh0KX0pKTt2YXIgbj1lW2UubGVuZ3RoLTFdO3JldHVybiBuJiZcIlxcblwiIT09biYmXCJcXG5cIiE9PXQmJm4udGFnPT09dC50YWc/W10uY29uY2F0KHdmKGUuc2xpY2UoMCwtMSkpLFt7dGV4dDpuLnRleHQrdC50ZXh0LGNvbmZpZzp0LmNvbmZpZyx0YWc6dC50YWcsdGFnMjp0LnRhZzJ9XSk6W10uY29uY2F0KHdmKGUpLFt0XSl9KSl9ZnVuY3Rpb24gTih0KXtyLmxvZ2dlci5pbmZvKFwiU2F5XCIsXCJQYXVzZWRcIix0KSx0LmNvbmZpZy5kdXJhdGlvbj9iLmN1cnJlbnQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtiLmN1cnJlbnQ9bnVsbCx4KChmdW5jdGlvbih0KXtyZXR1cm4gdCsxfSkpfSksdC5jb25maWcuZHVyYXRpb24pOkMoITApfWZ1bmN0aW9uIE0odCl7dmFyIG4scixvLGksYTtyZXR1cm4gYmYoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpuPXdmKHQpLHI9MDtjYXNlIDI6aWYoIShyPG4ubGVuZ3RoKSl7ZS5uZXh0PTI0O2JyZWFrfWlmKG89bltyXSwhTnMuaXNQYXVzZShvLnRleHQpKXtlLm5leHQ9ODticmVha31yZXR1cm4gZS5uZXh0PTcsTnMuZnJvbShvLnRleHQpO2Nhc2UgNzpyZXR1cm4gZS5hYnJ1cHQoXCJjb250aW51ZVwiLDIxKTtjYXNlIDg6aT0wO2Nhc2UgOTppZighKGk8by50ZXh0Lmxlbmd0aCkpe2UubmV4dD0yMTticmVha31pZihcIlxcblwiIT09KGE9by50ZXh0W2ldKSl7ZS5uZXh0PTE2O2JyZWFrfXJldHVybiBlLm5leHQ9MTQsXCJcXG5cIjtjYXNlIDE0OmUubmV4dD0xODticmVhaztjYXNlIDE2OnJldHVybiBlLm5leHQ9MTgse3RleHQ6YSxjb25maWc6by5jb25maWcsdGFnOnIsdGFnMjppfTtjYXNlIDE4OmkrKyxlLm5leHQ9OTticmVhaztjYXNlIDIxOnIrKyxlLm5leHQ9MjticmVhaztjYXNlIDI0OnJldHVybiBlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDI1OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlKX1yZXR1cm4oMCxvZi51c2VFZmZlY3QpKChmdW5jdGlvbigpe2lmKGl8fEwoITApLGIuY3VycmVudCYmcyYmIWYpcmV0dXJuIGNsZWFyVGltZW91dChiLmN1cnJlbnQpLGIuY3VycmVudD1udWxsLHZvaWQoYSYmKHIubG9nZ2VyLmluZm8oXCJTYXlcIixcIkNvbXBsZXRlZFwiLGIuY3VycmVudCxzLGYpLGEoKSkpO2lmKGZ8fHN8fGp8fGIuY3VycmVudClyLmxvZ2dlci5kZWJ1ZyhcIlNlbnRlbmNlLnRzeFwiLFwibG9ja2VkXCIsZixzLGopO2Vsc2V7dmFyIHQ9Zy5jdXJyZW50Lm5leHQoKSxlPXQuZG9uZSxuPXQudmFsdWU7aWYoZSlyZXR1cm4gcCghMCksdm9pZChhJiYoci5sb2dnZXIuaW5mbyhcIlNheVwiLFwiQ29tcGxldGVkXCIsZSxuKSxhKCkpKTtOcy5pc1BhdXNlKG4pP04oTnMuZnJvbShuKSk6KEkobiksQSgpLHcuY3VycmVudD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3goKGZ1bmN0aW9uKHQpe3JldHVybiB0KzF9KSl9KSxoLmNvbmZpZy5lbGVtZW50cy5zYXkudGV4dEludGVydmFsKSl9fSksW2sscyxqXSksKDAsb2YudXNlRWZmZWN0KSgoZnVuY3Rpb24oKXtpZih1JiYhYi5jdXJyZW50KXtpZihqKXJldHVybiBDKCExKSx2b2lkIHgoKGZ1bmN0aW9uKHQpe3JldHVybiB0KzF9KSk7TCgpLHgoKGZ1bmN0aW9uKHQpe3JldHVybiB0KzF9KSl9fSksW3VdKSxhZigpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOnJmKFwid2hpdGVzcGFjZS1wcmUtd3JhcFwiLGguY29uZmlnLmVsZW1lbnRTdHlsZXMuc2F5LnRleHRDb250YWluZXJDbGFzc05hbWUse1wiZm9udC1ib2xkXCI6bi5jb25maWcuYm9sZCxpdGFsaWM6bi5jb25maWcuaXRhbGljfSxjKSxzdHlsZTp7Zm9udEZhbWlseTpuLmNvbmZpZy5mb250RmFtaWx5fHxoLmNvbmZpZy5lbGVtZW50U3R5bGVzLnNheS5mb250RmFtaWx5LGZvbnRTaXplOm4uY29uZmlnLmZvbnRTaXplfHxoLmNvbmZpZy5lbGVtZW50U3R5bGVzLnNheS5mb250U2l6ZX19LHYubWFwKChmdW5jdGlvbih0LGUpe3JldHVyblwiXFxuXCI9PT10P2FmKCkuY3JlYXRlRWxlbWVudChcImJyXCIse2tleTplfSk6YWYoKS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtrZXk6ZSxzdHlsZTpPYmplY3QuYXNzaWduKHtjb2xvcjpTKHQuY29uZmlnLmNvbG9yfHxuLmNvbmZpZy5jb2xvcnx8RHMuZGVmYXVsdENvbG9yKSxmb250RmFtaWx5OnQuY29uZmlnLmZvbnRGYW1pbHksZm9udFNpemU6dC5jb25maWcuZm9udFNpemV9LGguY29uZmlnLmFwcC5kZWJ1Zz97Ym9yZGVyOlwiMXB4IGRhc2hlZCByZWRcIn06e30pLGNsYXNzTmFtZTpyZihoLmNvbmZpZy5lbGVtZW50U3R5bGVzLnNheS50ZXh0U3BhbkNsYXNzTmFtZSxcIndoaXRlc3BhY2UtcHJlIGlubGluZS1ibG9ja1wiLHtcImZvbnQtYm9sZFwiOnQuY29uZmlnLmJvbGQsaXRhbGljOnQuY29uZmlnLml0YWxpY30sdC5jb25maWcuY2xhc3NOYW1lKX0sdC5jb25maWcucnVieT9hZigpLmNyZWF0ZUVsZW1lbnQoXCJydWJ5XCIse2NsYXNzTmFtZTpcImFsaWduLWJvdHRvbSBpbmxpbmUtYmxvY2tcIn0sYWYoKS5jcmVhdGVFbGVtZW50KFwicnRcIix7Y2xhc3NOYW1lOlwiYmxvY2sgdGV4dC1jZW50ZXJcIn0sdC5jb25maWcucnVieSksdC50ZXh0KTp0LnRleHQpfSkpKX1mdW5jdGlvbiBBZih0LGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fSh0KXx8ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsPT10P251bGw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZihudWxsIT1uKXt2YXIgcixvLGksYSxzPVtdLHU9ITAsYz0hMTt0cnl7aWYoaT0obj1uLmNhbGwodCkpLm5leHQsMD09PWUpe2lmKE9iamVjdChuKSE9PW4pcmV0dXJuO3U9ITF9ZWxzZSBmb3IoOyEodT0ocj1pLmNhbGwobikpLmRvbmUpJiYocy5wdXNoKHIudmFsdWUpLHMubGVuZ3RoIT09ZSk7dT0hMCk7fWNhdGNoKHQpe2M9ITAsbz10fWZpbmFsbHl7dHJ5e2lmKCF1JiZudWxsIT1uLnJldHVybiYmKGE9bi5yZXR1cm4oKSxPYmplY3QoYSkhPT1hKSlyZXR1cm59ZmluYWxseXtpZihjKXRocm93IG99fXJldHVybiBzfX0odCxlKXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gT2YodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9PZih0LGUpOnZvaWQgMH19KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBPZih0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gVGYodCl7dmFyIGUsbj10LmFjdGlvbixyPXQub25DbGljayxvPXQudXNlVHlwZUVmZmVjdCxpPXZvaWQgMD09PW98fG8sYT10LmNsYXNzTmFtZSxzPXQuc3RhdGUsdT1uLnNlbnRlbmNlLGM9QWYoKDAsb2YudXNlU3RhdGUpKCExKSwyKSxsPWNbMF0sZj1jWzFdLHA9cy5nYW1lLGQ9QWYoKDAsb2YudXNlU3RhdGUpKDApLDIpLGg9ZFswXSx5PWRbMV07cmV0dXJuKDAsb2YudXNlRWZmZWN0KSgoZnVuY3Rpb24oKXtpZih3aW5kb3cpe3ZhciB0PWZ1bmN0aW9uKHQpe3AuY29uZmlnLmVsZW1lbnRzLnNheS5uZXh0S2V5LmluY2x1ZGVzKHQua2V5KSYmKGw/ciYmcigpOnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0KzF9KSkpfTtyZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHQpLGZ1bmN0aW9uKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHQpfX1jb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gYWRkIGV2ZW50IGxpc3RlbmVyLCB3aW5kb3cgaXMgbm90IGF2YWlsYWJsZVxcbmF0IFNheS50c3g6IG9uRWxlbWVudENsaWNrXCIpfSksW2xdKSwoMCxvZi51c2VFZmZlY3QpKChmdW5jdGlvbigpe3ZhciB0PXMuZXZlbnRzLm9uRXZlbnRzKFt7dHlwZTplZi5FdmVudFR5cGVzW1wiZXZlbnQ6c3RhdGUucGxheWVyLnNraXBcIl0sbGlzdGVuZXI6cy5ldmVudHMub24oZWYuRXZlbnRUeXBlc1tcImV2ZW50OnN0YXRlLnBsYXllci5za2lwXCJdLChmdW5jdGlvbigpe3MubG9nZ2VyLmxvZyhcIk5hcnJhTGVhZi1SZWFjdDogU2F5XCIsXCJTa2lwcGVkXCIpLGw/ciYmcigpOmYoITApfSkpfV0pO3JldHVybiBmdW5jdGlvbigpe3QuY2FuY2VsKCl9fSkpLGFmKCkuY3JlYXRlRWxlbWVudChtZix7Y2xhc3NOYW1lOlwiYWJzb2x1dGVcIn0sdS5zdGF0ZS5kaXNwbGF5JiZhZigpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOnJmKFwiYWJzb2x1dGUgYm90dG9tLTAgdy1bY2FsYygxMDAlLTQwcHgpXSBtaW4taC1bY2FsYygzMyUtNDBweCldIG0tNCBiZy13aGl0ZSBmbGV4IGZsZXgtY29sIGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlblwiLHAuY29uZmlnLmVsZW1lbnRTdHlsZXMuc2F5LmNvbnRhaW5lckNsYXNzTmFtZSxhKSxvbkNsaWNrOmZ1bmN0aW9uKCl7bD9yJiZyKCk6eSgoZnVuY3Rpb24odCl7cmV0dXJuIHQrMX0pKX19LGFmKCkuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6cmYoXCJyb3VuZGVkLWJyLW1kXCIscC5jb25maWcuZWxlbWVudFN0eWxlcy5zYXkubmFtZVRleHRDbGFzc05hbWUpfSxudWxsPT09KGU9dS5jb25maWcuY2hhcmFjdGVyKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5zdGF0ZS5uYW1lKSxhZigpLmNyZWF0ZUVsZW1lbnQoeGYse3NlbnRlbmNlOnUsZ2FtZVN0YXRlOnMsZmluaXNoZWQ6bCx1c2VUeXBlRWZmZWN0Omksb25Db21wbGV0ZWQ6ZnVuY3Rpb24oKXtmKCEwKX0sY291bnQ6aH0pLGFmKCkuY3JlYXRlRWxlbWVudChcImRpdlwiLG51bGwpKSl9ZnVuY3Rpb24gRWYodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbD09dD9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYobnVsbCE9bil7dmFyIHIsbyxpLGEscz1bXSx1PSEwLGM9ITE7dHJ5e2lmKGk9KG49bi5jYWxsKHQpKS5uZXh0LDA9PT1lKXtpZihPYmplY3QobikhPT1uKXJldHVybjt1PSExfWVsc2UgZm9yKDshKHU9KHI9aS5jYWxsKG4pKS5kb25lKSYmKHMucHVzaChyLnZhbHVlKSxzLmxlbmd0aCE9PWUpO3U9ITApO31jYXRjaCh0KXtjPSEwLG89dH1maW5hbGx5e3RyeXtpZighdSYmbnVsbCE9bi5yZXR1cm4mJihhPW4ucmV0dXJuKCksT2JqZWN0KGEpIT09YSkpcmV0dXJufWZpbmFsbHl7aWYoYyl0aHJvdyBvfX1yZXR1cm4gc319KHQsZSl8fGZ1bmN0aW9uKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIFBmKHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/UGYodCxlKTp2b2lkIDB9fSh0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gUGYodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfXZhciBqZj1hZigpLmNyZWF0ZUNvbnRleHQobnVsbCk7ZnVuY3Rpb24gQ2YodCl7dmFyIGU9dC5jaGlsZHJlbixuPXQuZ2FtZSxyPW5ldyBWZih7fSksbz1FZigoMCxvZi51c2VTdGF0ZSkobnx8ciksMiksaT1vWzBdLGE9b1sxXTtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KGpmLlByb3ZpZGVyLHt2YWx1ZTp7Z2FtZTppLHNldEdhbWU6YX19LGUpfWZ1bmN0aW9uIExmKCl7dmFyIHQ9KDAsb2YudXNlQ29udGV4dCkoamYpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcInVzZUdhbWUgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIEdhbWVQcm92aWRlclwiKTtyZXR1cm4gdH12YXIgSWYsTmY9e3NheTpUZixtZW51OmZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvbXB0LG49dC5jaG9pY2VzLHI9dC5hZnRlckNob29zZSxvPXQuc3RhdGUsaT1MZigpLmdhbWUsYT1pLmNvbmZpZy5lbGVtZW50cy5zYXkudXNlO3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoYWYoKS5GcmFnbWVudCxudWxsLGFmKCkuY3JlYXRlRWxlbWVudChtZix7Y2xhc3NOYW1lOlwiYWJzb2x1dGVcIn0sYWYoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImFic29sdXRlIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi13LWZ1bGwgdy1mdWxsIGgtZnVsbFwifSxlJiZhZigpLmNyZWF0ZUVsZW1lbnQoYSx7c3RhdGU6byxhY3Rpb246e3NlbnRlbmNlOmUsY2hhcmFjdGVyOm51bGx9LHVzZVR5cGVFZmZlY3Q6ITEsY2xhc3NOYW1lOlwiei0xMFwifSkpKSxhZigpLmNyZWF0ZUVsZW1lbnQobWYse2NsYXNzTmFtZTpcImFic29sdXRlXCJ9LGFmKCkuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6cmYoXCJhYnNvbHV0ZSBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4tdy1mdWxsIHctZnVsbCBoLWZ1bGxcIixpLmNvbmZpZy5lbGVtZW50U3R5bGVzLm1lbnUuY29udGFpbmVyQ2xhc3NOYW1lKX0sYWYoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInAtNCByb3VuZGVkLWxnIHctZnVsbCB6LTIwXCJ9LGFmKCkuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBtdC00IHctZnVsbFwifSxuLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIse2tleTplLGNsYXNzTmFtZTpyZihcImJnLXdoaXRlIHRleHQtYmxhY2sgcC0yIG10LTIgdy0xLzJcIixpLmNvbmZpZy5lbGVtZW50U3R5bGVzLm1lbnUuY2hvaWNlQnV0dG9uQ2xhc3NOYW1lKSxvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IodCl9KHQpfX0sYWYoKS5jcmVhdGVFbGVtZW50KHhmLHtzZW50ZW5jZTp0LnByb21wdCxnYW1lU3RhdGU6byx1c2VUeXBlRWZmZWN0OiExLGNsYXNzTmFtZTpyZihpLmNvbmZpZy5lbGVtZW50U3R5bGVzLm1lbnUuY2hvaWNlQnV0dG9uVGV4dENsYXNzTmFtZSl9KSl9KSkpKSkpKX19O2Z1bmN0aW9uIE1mKHQpe3JldHVybiBNZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxNZih0KX1mdW5jdGlvbiBSZih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gRmYodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsQmYoci5rZXkpLHIpfX1mdW5jdGlvbiBEZih0LGUsbil7cmV0dXJuIGUmJkZmKHQucHJvdG90eXBlLGUpLG4mJkZmKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fWZ1bmN0aW9uIEJmKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9TWYodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9TWYocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1NZihlKT9lOmUrXCJcIn0hZnVuY3Rpb24odCl7dC5nYW1lPVwiZ2FtZVwifShJZnx8KElmPXt9KSk7dmFyIFZmPWZ1bmN0aW9uKCl7cmV0dXJuIERmKChmdW5jdGlvbiB0KGUpe1JmKHRoaXMsdCksdGhpcy5saXZlR2FtZT1udWxsLHRoaXMuY29uZmlnPWIodC5EZWZhdWx0Q29uZmlnLGUpfSksW3trZXk6XCJ1c2VDb21wb25lbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCFPYmplY3Qua2V5cyhOZikuaW5jbHVkZXModCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBrZXkgXCIuY29uY2F0KHQpKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29tcG9uZW50IGZvciBrZXkgXCIuY29uY2F0KHQpKTtyZXR1cm4gdGhpcy5jb25maWcuZWxlbWVudHNbdF0udXNlPWUsdGhpc319LHtrZXk6XCJnZXRMaXZlR2FtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMubGl2ZUdhbWUpe3ZhciB0PXRoaXMuY3JlYXRlTGl2ZUdhbWUoKTtyZXR1cm4gdGhpcy5saXZlR2FtZT10LHR9cmV0dXJuIHRoaXMubGl2ZUdhbWV9fSx7a2V5OlwiY3JlYXRlTGl2ZUdhbWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgR2YodGhpcyl9fV0pfSgpO1ZmLmRlZmF1bHRTZXR0aW5ncz17dm9sdW1lOjF9LFZmLkNvbXBvbmVudFR5cGVzPXtzYXk6XCJzYXlcIixtZW51OlwibWVudVwifSxWZi5EZWZhdWx0Q29uZmlnPXtwbGF5ZXI6e2NvbnRlbnRDb250YWluZXJJZDpcIl9fbmFycmFsZWFmX2NvbnRlbnRcIixhc3BlY3RSYXRpbzoxNi85LG1pbldpZHRoOjgwMCxtaW5IZWlnaHQ6NDUwLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixza2lwS2V5OltcIkNvbnRyb2xcIl0sc2tpcEludGVydmFsOjEwMH0sZWxlbWVudHM6e3NheTp7bmV4dEtleTpbXCIgXCJdLHRleHRJbnRlcnZhbDo1MCx1c2U6TmYuc2F5fSxpbWc6e3Nsb3dMb2FkV2FybmluZzohMCxzbG93TG9hZFRocmVzaG9sZDoyZTMsYWxsb3dTa2lwVHJhbnNmb3JtOiEwLGFsbG93U2tpcFRyYW5zaXRpb246ITB9LG1lbnU6e3VzZTpOZi5tZW51fSxiYWNrZ3JvdW5kOnthbGxvd1NraXBUcmFuc2Zvcm06ITAsYWxsb3dTa2lwVHJhbnNpdGlvbjohMX0sdGV4dDp7YWxsb3dTa2lwVHJhbnNmb3JtOiEwLGFsbG93U2tpcFRyYW5zaXRpb246ITB9fSxlbGVtZW50U3R5bGVzOntzYXk6e2NvbnRhaW5lckNsYXNzTmFtZTpcIlwiLG5hbWVUZXh0Q2xhc3NOYW1lOlwiXCIsdGV4dENvbnRhaW5lckNsYXNzTmFtZTpcIlwiLHRleHRTcGFuQ2xhc3NOYW1lOlwiXCIscnVieUNsYXNzTmFtZTpcIlwifSxtZW51Ontjb250YWluZXJDbGFzc05hbWU6XCJcIixjaG9pY2VCdXR0b25DbGFzc05hbWU6XCJcIixjaG9pY2VCdXR0b25UZXh0Q2xhc3NOYW1lOlwiXCJ9fSxhcHA6e2RlYnVnOiExLGxvZ2dlcjp7bG9nOiExLGluZm86ITEsd2FybjohMCxlcnJvcjohMCxkZWJ1ZzohMSx0cmFjZTohMX19fSxWZi5HYW1lU2V0dGluZ3NOYW1lc3BhY2U9SWY7dmFyIEdmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtSZih0aGlzLHQpLHRoaXMuZ2FtZUxvY2s9bmV3IGosdGhpcy5jdXJyZW50U2F2ZWRHYW1lPW51bGwsdGhpcy5zdG9yeT1udWxsLHRoaXMubG9ja2VkQXdhaXRpbmc9bnVsbCx0aGlzLmdhbWVTdGF0ZT12b2lkIDAsdGhpcy5fbG9ja2VkQ291bnQ9MCx0aGlzLmN1cnJlbnRBY3Rpb249bnVsbCx0aGlzLl9uZXh0TG9jaz1uZXcgUCx0aGlzLmdhbWU9ZSx0aGlzLnN0b3JhYmxlPW5ldyBXbCx0aGlzLmluaXROYW1lc3BhY2VzKCl9cmV0dXJuIERmKHQsW3trZXk6XCJpbml0TmFtZXNwYWNlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RvcmFibGUuY2xlYXIoKS5hZGROYW1lc3BhY2UobmV3IHpsKHQuR2FtZVNwYWNlc0tleS5nYW1lLHQuRGVmYXVsdE5hbWVzcGFjZXMuZ2FtZSkpLHRoaXN9fSx7a2V5OlwiZ2V0U3RvcmFibGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0b3JhYmxlfX0se2tleTpcImxvYWRTdG9yeVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0b3J5PXQuY29uc3RydWN0U3RvcnkoKSx0aGlzfX0se2tleTpcInNlcmlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxuO2lmKCF0aGlzLmdhbWVTdGF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBnYW1lIHN0YXRlXCIpO3ZhciByPXRoaXMuZ2FtZVN0YXRlLG89dGhpcy5zdG9yeTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJObyBzdG9yeSBsb2FkZWRcIik7dmFyIGk9dGhpcy5zdG9yYWJsZS50b0RhdGEoKSxhPXIudG9EYXRhKCkscz0obnVsbD09PSh0PXRoaXMuZ2V0Q3VycmVudEFjdGlvbigpKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRJZCgpKXx8bnVsbCx1PW8uZ2V0QWxsRWxlbWVudFN0YXRlcygpO3JldHVybntuYW1lOihudWxsPT09KGU9dGhpcy5jdXJyZW50U2F2ZWRHYW1lKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5uYW1lKXx8XCJcIixtZXRhOntjcmVhdGVkOihudWxsPT09KG49dGhpcy5jdXJyZW50U2F2ZWRHYW1lKXx8dm9pZCAwPT09bj92b2lkIDA6bi5tZXRhLmNyZWF0ZWQpfHxEYXRlLm5vdygpLHVwZGF0ZWQ6RGF0ZS5ub3coKX0sZ2FtZTp7c3RvcmU6aSxzdGFnZTphLGN1cnJlbnRBY3Rpb246cyxlbGVtZW50U3RhdGVzOnV9fX19LHtrZXk6XCJkZXNlcmlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKCF0aGlzLmdhbWVTdGF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBnYW1lIHN0YXRlXCIpO3ZhciBuPXRoaXMuZ2FtZVN0YXRlLHI9dGhpcy5zdG9yeTtpZighcil0aHJvdyBuZXcgRXJyb3IoXCJObyBzdG9yeSBsb2FkZWRcIik7dGhpcy5yZXNldCh7Z2FtZVN0YXRlOm59KSxuLnN0YWdlLmZvcmNlVXBkYXRlKCk7dmFyIG89bmV3IE1hcCxpPW5ldyBNYXAsYT10LmdhbWUscz1hLnN0b3JlLHU9YS5zdGFnZSxjPWEuZWxlbWVudFN0YXRlcyxsPWEuY3VycmVudEFjdGlvbjtpZihyLmZvckVhY2hDaGlsZCgobnVsbD09PShlPXIuZW50cnlTY2VuZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuc2NlbmVSb290KXx8W10sKGZ1bmN0aW9uKHQpe28uc2V0KHQuZ2V0SWQoKSx0KSxpLnNldCh0LmNhbGxlZS5nZXRJZCgpLHQuY2FsbGVlKX0pKSx0aGlzLnN0b3JhYmxlLmxvYWQocyksYy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT10LmlkLHI9dC5kYXRhO24ubG9nZ2VyLmRlYnVnKFwicmVzdG9yZSBlbGVtZW50XCIsZSk7dmFyIG89aS5nZXQoZSk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiRWxlbWVudCBub3QgZm91bmQsIGlkOiBcIitlK1wiXFxuTmFycmFMZWFmIGNhbm5vdCBmaW5kIHRoZSBlbGVtZW50IHdpdGggdGhlIGlkIGZyb20gdGhlIHNhdmVkIGdhbWVcIik7by5yZXNldCgpLG8uZnJvbURhdGEocil9KSksdGhpcy5jdXJyZW50U2F2ZWRHYW1lPXQsbi5sb2FkRGF0YSh1LGkpLGwpe3ZhciBmPW8uZ2V0KGwpO2lmKCFmKXRocm93IG5ldyBFcnJvcihcIkFjdGlvbiBub3QgZm91bmQsIGlkOiBcIitsK1wiXFxuTmFycmFMZWFmIGNhbm5vdCBmaW5kIHRoZSBhY3Rpb24gd2l0aCB0aGUgaWQgZnJvbSB0aGUgc2F2ZWQgZ2FtZVwiKTt0aGlzLmN1cnJlbnRBY3Rpb249Zn1uLnN0YWdlLmZvcmNlVXBkYXRlKCksbi5zdGFnZS5uZXh0KCl9fSx7a2V5OlwibmV3R2FtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxuO2lmKCF0aGlzLmdhbWVTdGF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBnYW1lIHN0YXRlXCIpO3ZhciByPXRoaXMuZ2FtZVN0YXRlO3RoaXMucmVzZXQoe2dhbWVTdGF0ZTpyfSksdGhpcy5pbml0TmFtZXNwYWNlcygpO3ZhciBvPXRoaXMuZ2V0TmV3U2F2ZWRHYW1lKCk7by5uYW1lPVwiTmV3R2FtZS1cIitEYXRlLm5vdygpLHRoaXMuY3VycmVudFNhdmVkR2FtZT1vO3ZhciBpPW51bGw9PT0odD10aGlzLnN0b3J5KXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRBbGxFbGVtZW50TWFwKChudWxsPT09KG49bnVsbD09PShlPXRoaXMuc3RvcnkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmVudHJ5U2NlbmUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnNjZW5lUm9vdCl8fFtdKTtyZXR1cm4gaT9pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3IubG9nZ2VyLmRlYnVnKFwicmVzZXQgZWxlbWVudFwiLHQpLHQucmVzZXQoKX0pKTpyLmxvZ2dlci53YXJuKFwiTm8gZWxlbWVudHMgZm91bmRcIiksci5zdGFnZS5mb3JjZVVwZGF0ZSgpLHIuc3RhZ2UubmV4dCgpLHRoaXN9fSx7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuLHI9dC5nYW1lU3RhdGU7dGhpcy5sb2NrZWRBd2FpdGluZyYmdGhpcy5sb2NrZWRBd2FpdGluZy5hYm9ydCgpLHRoaXMuY3VycmVudEFjdGlvbj0obnVsbD09PShuPW51bGw9PT0oZT10aGlzLnN0b3J5KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5lbnRyeVNjZW5lKXx8dm9pZCAwPT09bj92b2lkIDA6bi5zY2VuZVJvb3QpfHxudWxsLHRoaXMubG9ja2VkQXdhaXRpbmc9bnVsbCx0aGlzLmN1cnJlbnRTYXZlZEdhbWU9bnVsbCxyLmZvcmNlUmVzZXQoKX19LHtrZXk6XCJnZXRDdXJyZW50QWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50QWN0aW9ufX0se2tleTpcInNldEN1cnJlbnRBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jdXJyZW50QWN0aW9uPXQsdGhpc319LHtrZXk6XCJuZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbjtpZih0aGlzLl9uZXh0TG9jay5pc0xvY2tlZCgpKXJldHVybiBudWxsO2lmKHRoaXMuX25leHRMb2NrLmxvY2soKSx0aGlzLmdhbWVMb2NrLmlzTG9ja2VkKCkpcmV0dXJuIHRoaXMuZ2FtZUxvY2s7aWYoIXRoaXMuc3RvcnkpdGhyb3cgbmV3IEVycm9yKFwiTm8gc3RvcnkgbG9hZGVkXCIpO2lmKHRoaXMubG9ja2VkQXdhaXRpbmcpe2lmKCF0aGlzLmxvY2tlZEF3YWl0aW5nLnNvbHZlZCl7aWYodGhpcy5fbG9ja2VkQ291bnQrKyx0aGlzLl9sb2NrZWRDb3VudD4xZTMpdGhyb3cgbmV3IEVycm9yKFwiTG9ja2VkIGF3YWl0aW5nXCIpO3JldHVybiB0aGlzLl9uZXh0TG9jay51bmxvY2soKSx0aGlzLmxvY2tlZEF3YWl0aW5nfXZhciByPXRoaXMubG9ja2VkQXdhaXRpbmcucmVzdWx0O3JldHVybiB0aGlzLmN1cnJlbnRBY3Rpb249KG51bGw9PT0oZT1udWxsPT1yP3ZvaWQgMDpyLm5vZGUpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmFjdGlvbil8fG51bGwsdC5sb2dnZXIuZGVidWcoXCJuZXh0IGFjdGlvblwiLHIpLHRoaXMubG9ja2VkQXdhaXRpbmc9bnVsbCx0aGlzLl9uZXh0TG9jay51bmxvY2soKSxyfHxudWxsfWlmKCF0aGlzLmN1cnJlbnRBY3Rpb24pcmV0dXJuIHQuZXZlbnRzLmVtaXQoZWYuRXZlbnRUeXBlc1tcImV2ZW50OnN0YXRlLmVuZFwiXSksdC5sb2dnZXIud2FybihcIkxpdmVHYW1lXCIsXCJObyBjdXJyZW50IGFjdGlvblwiKSx0aGlzLl9uZXh0TG9jay51bmxvY2soKSxudWxsO3ZhciBvPXRoaXMuY3VycmVudEFjdGlvbi5leGVjdXRlQWN0aW9uKHQpO3JldHVybiB3LmlzQXdhaXRhYmxlKG8pPyh0aGlzLmxvY2tlZEF3YWl0aW5nPW8sdGhpcy5fbmV4dExvY2sudW5sb2NrKCksbyk6KHQubG9nZ2VyLmRlYnVnKFwibmV4dCBhY3Rpb25cIixvKSx0aGlzLl9sb2NrZWRDb3VudD0wLHRoaXMuY3VycmVudEFjdGlvbj0obnVsbD09PShuPW8ubm9kZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uYWN0aW9uKXx8bnVsbCx0aGlzLl9uZXh0TG9jay51bmxvY2soKSxvKX19LHtrZXk6XCJhYm9ydEF3YWl0aW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtpZih0aGlzLmxvY2tlZEF3YWl0aW5nKXt2YXIgZT10aGlzLmxvY2tlZEF3YWl0aW5nLmFib3J0KCk7dGhpcy5jdXJyZW50QWN0aW9uPShudWxsPT09KHQ9bnVsbD09ZT92b2lkIDA6ZS5ub2RlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5hY3Rpb24pfHxudWxsLHRoaXMubG9ja2VkQXdhaXRpbmc9bnVsbH19fSx7a2V5OlwiZXhlY3V0ZUFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1lLmV4ZWN1dGVBY3Rpb24odCk7cmV0dXJuIHcuaXNBd2FpdGFibGUocik/cjoobnVsbD09PShuPW51bGw9PXI/dm9pZCAwOnIubm9kZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uYWN0aW9uKXx8bnVsbH19LHtrZXk6XCJzZXRHYW1lU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nYW1lU3RhdGU9dCx0aGlzfX0se2tleTpcImdldEdhbWVTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2FtZVN0YXRlfX0se2tleTpcImdldE5ld1NhdmVkR2FtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybntuYW1lOlwiXCIsbWV0YTp7Y3JlYXRlZDpEYXRlLm5vdygpLHVwZGF0ZWQ6RGF0ZS5ub3coKX0sZ2FtZTp7c3RvcmU6e30sc3RhZ2U6e3NjZW5lczpbXX0sZWxlbWVudFN0YXRlczpbXSxjdXJyZW50QWN0aW9uOihudWxsPT09KG49bnVsbD09PShlPW51bGw9PT0odD10aGlzLnN0b3J5KXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbnRyeVNjZW5lKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5zY2VuZVJvb3QpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmdldElkKCkpfHxudWxsfX19fV0pfSgpO0dmLkRlZmF1bHROYW1lc3BhY2VzPXtnYW1lOnt9fSxHZi5HYW1lU3BhY2VzS2V5PXtnYW1lOlwiZ2FtZVwifTt2YXIgVWY9byg3MiksSGY9by5uKFVmKSx6Zj1vKDgyNSksV2Y9by5uKHpmKSwkZj1vKDY1OSksWWY9by5uKCRmKSxxZj1vKDU2KSxYZj1vLm4ocWYpLEtmPW8oNTQwKSxaZj1vLm4oS2YpLFFmPW8oMTEzKSxKZj1vLm4oUWYpLHRwPW8oNTg3KSxlcD17fTtlcC5zdHlsZVRhZ1RyYW5zZm9ybT1KZigpLGVwLnNldEF0dHJpYnV0ZXM9WGYoKSxlcC5pbnNlcnQ9WWYoKS5iaW5kKG51bGwsXCJoZWFkXCIpLGVwLmRvbUFQST1XZigpLGVwLmluc2VydFN0eWxlRWxlbWVudD1aZigpO0hmKCkodHAuQSxlcCk7dHAuQSYmdHAuQS5sb2NhbHMmJnRwLkEubG9jYWxzO3ZhciBucD1vKDg0OCk7Y29uc3QgcnA9KDAsb2YuY3JlYXRlQ29udGV4dCkoe3N0cmljdDohMX0pO2Z1bmN0aW9uIG9wKHQpe2Zvcihjb25zdCBlIGluIHQpWWlbZV09ey4uLllpW2VdLC4uLnRbZV19fWZ1bmN0aW9uIGlwKHtjaGlsZHJlbjp0LGZlYXR1cmVzOmUsc3RyaWN0Om49ITF9KXtjb25zdFsscl09KDAsb2YudXNlU3RhdGUpKCFhcChlKSksbz0oMCxvZi51c2VSZWYpKHZvaWQgMCk7aWYoIWFwKGUpKXtjb25zdHtyZW5kZXJlcjp0LC4uLm59PWU7by5jdXJyZW50PXQsb3Aobil9cmV0dXJuKDAsb2YudXNlRWZmZWN0KSgoKCk9PnthcChlKSYmZSgpLnRoZW4oKCh7cmVuZGVyZXI6dCwuLi5lfSk9PntvcChlKSxvLmN1cnJlbnQ9dCxyKCEwKX0pKX0pLFtdKSwoMCxucC5qc3gpKHJwLlByb3ZpZGVyLHt2YWx1ZTp7cmVuZGVyZXI6by5jdXJyZW50LHN0cmljdDpufSxjaGlsZHJlbjp0fSl9ZnVuY3Rpb24gYXAodCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdH1mdW5jdGlvbiBzcCh0LGUpe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiExO2NvbnN0IG49ZS5sZW5ndGg7aWYobiE9PXQubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgcj0wO3I8bjtyKyspaWYoZVtyXSE9PXRbcl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gdXAodCxlLG49e30pe3ZhciByO2NvbnN0IG89QWkodCxlLFwiZXhpdFwiPT09bi50eXBlP251bGw9PT0ocj10LnByZXNlbmNlQ29udGV4dCl8fHZvaWQgMD09PXI/dm9pZCAwOnIuY3VzdG9tOnZvaWQgMCk7bGV0e3RyYW5zaXRpb246aT10LmdldERlZmF1bHRUcmFuc2l0aW9uKCl8fHt9fT1vfHx7fTtuLnRyYW5zaXRpb25PdmVycmlkZSYmKGk9bi50cmFuc2l0aW9uT3ZlcnJpZGUpO2NvbnN0IGE9bz8oKT0+UHJvbWlzZS5hbGwoTGkodCxvLG4pKTooKT0+UHJvbWlzZS5yZXNvbHZlKCkscz10LnZhcmlhbnRDaGlsZHJlbiYmdC52YXJpYW50Q2hpbGRyZW4uc2l6ZT8ocj0wKT0+e2NvbnN0e2RlbGF5Q2hpbGRyZW46bz0wLHN0YWdnZXJDaGlsZHJlbjphLHN0YWdnZXJEaXJlY3Rpb246c309aTtyZXR1cm4gZnVuY3Rpb24odCxlLG49MCxyPTAsbz0xLGkpe2NvbnN0IGE9W10scz0odC52YXJpYW50Q2hpbGRyZW4uc2l6ZS0xKSpyLHU9MT09PW8/KHQ9MCk9PnQqcjoodD0wKT0+cy10KnI7cmV0dXJuIEFycmF5LmZyb20odC52YXJpYW50Q2hpbGRyZW4pLnNvcnQoY3ApLmZvckVhY2goKCh0LHIpPT57dC5ub3RpZnkoXCJBbmltYXRpb25TdGFydFwiLGUpLGEucHVzaCh1cCh0LGUsey4uLmksZGVsYXk6bit1KHIpfSkudGhlbigoKCk9PnQubm90aWZ5KFwiQW5pbWF0aW9uQ29tcGxldGVcIixlKSkpKX0pKSxQcm9taXNlLmFsbChhKX0odCxlLG8rcixhLHMsbil9OigpPT5Qcm9taXNlLnJlc29sdmUoKSx7d2hlbjp1fT1pO2lmKHUpe2NvbnN0W3QsZV09XCJiZWZvcmVDaGlsZHJlblwiPT09dT9bYSxzXTpbcyxhXTtyZXR1cm4gdCgpLnRoZW4oKCgpPT5lKCkpKX1yZXR1cm4gUHJvbWlzZS5hbGwoW2EoKSxzKG4uZGVsYXkpXSl9ZnVuY3Rpb24gY3AodCxlKXtyZXR1cm4gdC5zb3J0Tm9kZVBvc2l0aW9uKGUpfWNvbnN0IGxwPUhpLmxlbmd0aDtmdW5jdGlvbiBmcCh0KXtpZighdClyZXR1cm47aWYoIXQuaXNDb250cm9sbGluZ1ZhcmlhbnRzKXtjb25zdCBlPXQucGFyZW50JiZmcCh0LnBhcmVudCl8fHt9O3JldHVybiB2b2lkIDAhPT10LnByb3BzLmluaXRpYWwmJihlLmluaXRpYWw9dC5wcm9wcy5pbml0aWFsKSxlfWNvbnN0IGU9e307Zm9yKGxldCBuPTA7bjxscDtuKyspe2NvbnN0IHI9SGlbbl0sbz10LnByb3BzW3JdOyhHaShvKXx8ITE9PT1vKSYmKGVbcl09byl9cmV0dXJuIGV9Y29uc3QgcHA9Wy4uLlVpXS5yZXZlcnNlKCksZHA9VWkubGVuZ3RoO2Z1bmN0aW9uIGhwKHQpe3JldHVybiBlPT5Qcm9taXNlLmFsbChlLm1hcCgoKHthbmltYXRpb246ZSxvcHRpb25zOm59KT0+ZnVuY3Rpb24odCxlLG49e30pe2xldCByO2lmKHQubm90aWZ5KFwiQW5pbWF0aW9uU3RhcnRcIixlKSxBcnJheS5pc0FycmF5KGUpKXtjb25zdCBvPWUubWFwKChlPT51cCh0LGUsbikpKTtyPVByb21pc2UuYWxsKG8pfWVsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcj11cCh0LGUsbik7ZWxzZXtjb25zdCBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/QWkodCxlLG4uY3VzdG9tKTplO3I9UHJvbWlzZS5hbGwoTGkodCxvLG4pKX1yZXR1cm4gci50aGVuKCgoKT0+e3Qubm90aWZ5KFwiQW5pbWF0aW9uQ29tcGxldGVcIixlKX0pKX0odCxlLG4pKSkpfWZ1bmN0aW9uIHlwKHQpe2xldCBlPWhwKHQpLG49Z3AoKSxyPSEwO2NvbnN0IG89ZT0+KG4scik9Pnt2YXIgbztjb25zdCBpPUFpKHQscixcImV4aXRcIj09PWU/bnVsbD09PShvPXQucHJlc2VuY2VDb250ZXh0KXx8dm9pZCAwPT09bz92b2lkIDA6by5jdXN0b206dm9pZCAwKTtpZihpKXtjb25zdHt0cmFuc2l0aW9uOnQsdHJhbnNpdGlvbkVuZDplLC4uLnJ9PWk7bj17Li4ubiwuLi5yLC4uLmV9fXJldHVybiBufTtmdW5jdGlvbiBpKGkpe2NvbnN0e3Byb3BzOmF9PXQscz1mcCh0LnBhcmVudCl8fHt9LHU9W10sYz1uZXcgU2V0O2xldCBsPXt9LGY9MS8wO2ZvcihsZXQgZT0wO2U8ZHA7ZSsrKXtjb25zdCBwPXBwW2VdLGQ9bltwXSxoPXZvaWQgMCE9PWFbcF0/YVtwXTpzW3BdLHk9R2koaCksdj1wPT09aT9kLmlzQWN0aXZlOm51bGw7ITE9PT12JiYoZj1lKTtsZXQgbT1oPT09c1twXSYmaCE9PWFbcF0mJnk7aWYobSYmciYmdC5tYW51YWxseUFuaW1hdGVPbk1vdW50JiYobT0hMSksZC5wcm90ZWN0ZWRLZXlzPXsuLi5sfSwhZC5pc0FjdGl2ZSYmbnVsbD09PXZ8fCFoJiYhZC5wcmV2UHJvcHx8VmkoaCl8fFwiYm9vbGVhblwiPT10eXBlb2YgaCljb250aW51ZTtjb25zdCBnPXZwKGQucHJldlByb3AsaCk7bGV0IGI9Z3x8cD09PWkmJmQuaXNBY3RpdmUmJiFtJiZ5fHxlPmYmJnksdz0hMTtjb25zdCBfPUFycmF5LmlzQXJyYXkoaCk/aDpbaF07bGV0IFM9Xy5yZWR1Y2UobyhwKSx7fSk7ITE9PT12JiYoUz17fSk7Y29uc3R7cHJldlJlc29sdmVkVmFsdWVzOms9e319PWQseD17Li4uaywuLi5TfSxBPWU9PntiPSEwLGMuaGFzKGUpJiYodz0hMCxjLmRlbGV0ZShlKSksZC5uZWVkc0FuaW1hdGluZ1tlXT0hMDtjb25zdCBuPXQuZ2V0VmFsdWUoZSk7biYmKG4ubGl2ZVN0eWxlPSExKX07Zm9yKGNvbnN0IHQgaW4geCl7Y29uc3QgZT1TW3RdLG49a1t0XTtpZihsLmhhc093blByb3BlcnR5KHQpKWNvbnRpbnVlO2xldCByPSExO3I9dmkoZSkmJnZpKG4pPyFzcChlLG4pOmUhPT1uLHI/bnVsbCE9ZT9BKHQpOmMuYWRkKHQpOnZvaWQgMCE9PWUmJmMuaGFzKHQpP0EodCk6ZC5wcm90ZWN0ZWRLZXlzW3RdPSEwfWQucHJldlByb3A9aCxkLnByZXZSZXNvbHZlZFZhbHVlcz1TLGQuaXNBY3RpdmUmJihsPXsuLi5sLC4uLlN9KSxyJiZ0LmJsb2NrSW5pdGlhbEFuaW1hdGlvbiYmKGI9ITEpO2ImJighKG0mJmcpfHx3KSYmdS5wdXNoKC4uLl8ubWFwKCh0PT4oe2FuaW1hdGlvbjp0LG9wdGlvbnM6e3R5cGU6cH19KSkpKX1pZihjLnNpemUpe2NvbnN0IGU9e307Yy5mb3JFYWNoKChuPT57Y29uc3Qgcj10LmdldEJhc2VUYXJnZXQobiksbz10LmdldFZhbHVlKG4pO28mJihvLmxpdmVTdHlsZT0hMCksZVtuXT1udWxsIT1yP3I6bnVsbH0pKSx1LnB1c2goe2FuaW1hdGlvbjplfSl9bGV0IHA9Qm9vbGVhbih1Lmxlbmd0aCk7cmV0dXJuIXJ8fCExIT09YS5pbml0aWFsJiZhLmluaXRpYWwhPT1hLmFuaW1hdGV8fHQubWFudWFsbHlBbmltYXRlT25Nb3VudHx8KHA9ITEpLHI9ITEscD9lKHUpOlByb21pc2UucmVzb2x2ZSgpfXJldHVybnthbmltYXRlQ2hhbmdlczppLHNldEFjdGl2ZTpmdW5jdGlvbihlLHIpe3ZhciBvO2lmKG5bZV0uaXNBY3RpdmU9PT1yKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtudWxsPT09KG89dC52YXJpYW50Q2hpbGRyZW4pfHx2b2lkIDA9PT1vfHxvLmZvckVhY2goKHQ9Pnt2YXIgbjtyZXR1cm4gbnVsbD09PShuPXQuYW5pbWF0aW9uU3RhdGUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnNldEFjdGl2ZShlLHIpfSkpLG5bZV0uaXNBY3RpdmU9cjtjb25zdCBhPWkoZSk7Zm9yKGNvbnN0IHQgaW4gbiluW3RdLnByb3RlY3RlZEtleXM9e307cmV0dXJuIGF9LHNldEFuaW1hdGVGdW5jdGlvbjpmdW5jdGlvbihuKXtlPW4odCl9LGdldFN0YXRlOigpPT5uLHJlc2V0OigpPT57bj1ncCgpLHI9ITB9fX1mdW5jdGlvbiB2cCh0LGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2UhPT10OiEhQXJyYXkuaXNBcnJheShlKSYmIXNwKGUsdCl9ZnVuY3Rpb24gbXAodD0hMSl7cmV0dXJue2lzQWN0aXZlOnQscHJvdGVjdGVkS2V5czp7fSxuZWVkc0FuaW1hdGluZzp7fSxwcmV2UmVzb2x2ZWRWYWx1ZXM6e319fWZ1bmN0aW9uIGdwKCl7cmV0dXJue2FuaW1hdGU6bXAoITApLHdoaWxlSW5WaWV3Om1wKCksd2hpbGVIb3ZlcjptcCgpLHdoaWxlVGFwOm1wKCksd2hpbGVEcmFnOm1wKCksd2hpbGVGb2N1czptcCgpLGV4aXQ6bXAoKX19Y2xhc3MgYnB7Y29uc3RydWN0b3IodCl7dGhpcy5pc01vdW50ZWQ9ITEsdGhpcy5ub2RlPXR9dXBkYXRlKCl7fX1sZXQgd3A9MDtjb25zdCBfcD17YW5pbWF0aW9uOntGZWF0dXJlOmNsYXNzIGV4dGVuZHMgYnB7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdC5hbmltYXRpb25TdGF0ZXx8KHQuYW5pbWF0aW9uU3RhdGU9eXAodCkpfXVwZGF0ZUFuaW1hdGlvbkNvbnRyb2xzU3Vic2NyaXB0aW9uKCl7Y29uc3R7YW5pbWF0ZTp0fT10aGlzLm5vZGUuZ2V0UHJvcHMoKTtWaSh0KSYmKHRoaXMudW5tb3VudENvbnRyb2xzPXQuc3Vic2NyaWJlKHRoaXMubm9kZSkpfW1vdW50KCl7dGhpcy51cGRhdGVBbmltYXRpb25Db250cm9sc1N1YnNjcmlwdGlvbigpfXVwZGF0ZSgpe2NvbnN0e2FuaW1hdGU6dH09dGhpcy5ub2RlLmdldFByb3BzKCkse2FuaW1hdGU6ZX09dGhpcy5ub2RlLnByZXZQcm9wc3x8e307dCE9PWUmJnRoaXMudXBkYXRlQW5pbWF0aW9uQ29udHJvbHNTdWJzY3JpcHRpb24oKX11bm1vdW50KCl7dmFyIHQ7dGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlLnJlc2V0KCksbnVsbD09PSh0PXRoaXMudW5tb3VudENvbnRyb2xzKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMpfX19LGV4aXQ6e0ZlYXR1cmU6Y2xhc3MgZXh0ZW5kcyBicHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5pZD13cCsrfXVwZGF0ZSgpe2lmKCF0aGlzLm5vZGUucHJlc2VuY2VDb250ZXh0KXJldHVybjtjb25zdHtpc1ByZXNlbnQ6dCxvbkV4aXRDb21wbGV0ZTplfT10aGlzLm5vZGUucHJlc2VuY2VDb250ZXh0LHtpc1ByZXNlbnQ6bn09dGhpcy5ub2RlLnByZXZQcmVzZW5jZUNvbnRleHR8fHt9O2lmKCF0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGV8fHQ9PT1uKXJldHVybjtjb25zdCByPXRoaXMubm9kZS5hbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoXCJleGl0XCIsIXQpO2UmJiF0JiZyLnRoZW4oKCgpPT5lKHRoaXMuaWQpKSl9bW91bnQoKXtjb25zdHtyZWdpc3Rlcjp0fT10aGlzLm5vZGUucHJlc2VuY2VDb250ZXh0fHx7fTt0JiYodGhpcy51bm1vdW50PXQodGhpcy5pZCkpfXVubW91bnQoKXt9fX19O2Z1bmN0aW9uIFNwKHQsZSxuLHI9e3Bhc3NpdmU6ITB9KXtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKGUsbixyKSwoKT0+dC5yZW1vdmVFdmVudExpc3RlbmVyKGUsbil9ZnVuY3Rpb24ga3AodCxlPVwicGFnZVwiKXtyZXR1cm57cG9pbnQ6e3g6dFtgJHtlfVhgXSx5OnRbYCR7ZX1ZYF19fX1jb25zdCB4cD10PT5lPT4odD0+XCJtb3VzZVwiPT09dC5wb2ludGVyVHlwZT9cIm51bWJlclwiIT10eXBlb2YgdC5idXR0b258fHQuYnV0dG9uPD0wOiExIT09dC5pc1ByaW1hcnkpKGUpJiZ0KGUsa3AoZSkpO2Z1bmN0aW9uIEFwKHQsZSxuLHIpe3JldHVybiBTcCh0LGUseHAobikscil9ZnVuY3Rpb24gT3AodCl7bGV0IGU9bnVsbDtyZXR1cm4oKT0+e2NvbnN0IG49KCk9PntlPW51bGx9O3JldHVybiBudWxsPT09ZSYmKGU9dCxuKX19Y29uc3QgVHA9T3AoXCJkcmFnSG9yaXpvbnRhbFwiKSxFcD1PcChcImRyYWdWZXJ0aWNhbFwiKTtmdW5jdGlvbiBQcCgpe2NvbnN0IHQ9ZnVuY3Rpb24odCl7bGV0IGU9ITE7aWYoXCJ5XCI9PT10KWU9RXAoKTtlbHNlIGlmKFwieFwiPT09dCllPVRwKCk7ZWxzZXtjb25zdCB0PVRwKCksbj1FcCgpO3QmJm4/ZT0oKT0+e3QoKSxuKCl9Oih0JiZ0KCksbiYmbigpKX1yZXR1cm4gZX0oITApO3JldHVybiF0fHwodCgpLCExKX1mdW5jdGlvbiBqcCh0LGUpe2NvbnN0IG49ZT9cInBvaW50ZXJlbnRlclwiOlwicG9pbnRlcmxlYXZlXCIscj1lP1wib25Ib3ZlclN0YXJ0XCI6XCJvbkhvdmVyRW5kXCI7cmV0dXJuIEFwKHQuY3VycmVudCxuLCgobixvKT0+e2lmKFwidG91Y2hcIj09PW4ucG9pbnRlclR5cGV8fFBwKCkpcmV0dXJuO2NvbnN0IGk9dC5nZXRQcm9wcygpO3QuYW5pbWF0aW9uU3RhdGUmJmkud2hpbGVIb3ZlciYmdC5hbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoXCJ3aGlsZUhvdmVyXCIsZSk7Y29uc3QgYT1pW3JdO2EmJkduLnBvc3RSZW5kZXIoKCgpPT5hKG4sbykpKX0pLHtwYXNzaXZlOiF0LmdldFByb3BzKClbcl19KX1jb25zdCBDcD0odCxlKT0+ISFlJiYodD09PWV8fENwKHQsZS5wYXJlbnRFbGVtZW50KSk7ZnVuY3Rpb24gTHAodCxlKXtpZighZSlyZXR1cm47Y29uc3Qgbj1uZXcgUG9pbnRlckV2ZW50KFwicG9pbnRlclwiK3QpO2UobixrcChuKSl9Y29uc3QgSXA9bmV3IFdlYWtNYXAsTnA9bmV3IFdlYWtNYXAsTXA9dD0+e2NvbnN0IGU9SXAuZ2V0KHQudGFyZ2V0KTtlJiZlKHQpfSxScD10PT57dC5mb3JFYWNoKE1wKX07ZnVuY3Rpb24gRnAodCxlLG4pe2NvbnN0IHI9ZnVuY3Rpb24oe3Jvb3Q6dCwuLi5lfSl7Y29uc3Qgbj10fHxkb2N1bWVudDtOcC5oYXMobil8fE5wLnNldChuLHt9KTtjb25zdCByPU5wLmdldChuKSxvPUpTT04uc3RyaW5naWZ5KGUpO3JldHVybiByW29dfHwocltvXT1uZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoUnAse3Jvb3Q6dCwuLi5lfSkpLHJbb119KGUpO3JldHVybiBJcC5zZXQodCxuKSxyLm9ic2VydmUodCksKCk9PntJcC5kZWxldGUodCksci51bm9ic2VydmUodCl9fWNvbnN0IERwPXtzb21lOjAsYWxsOjF9O2NvbnN0IEJwPXtpblZpZXc6e0ZlYXR1cmU6Y2xhc3MgZXh0ZW5kcyBicHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5oYXNFbnRlcmVkVmlldz0hMSx0aGlzLmlzSW5WaWV3PSExfXN0YXJ0T2JzZXJ2ZXIoKXt0aGlzLnVubW91bnQoKTtjb25zdHt2aWV3cG9ydDp0PXt9fT10aGlzLm5vZGUuZ2V0UHJvcHMoKSx7cm9vdDplLG1hcmdpbjpuLGFtb3VudDpyPVwic29tZVwiLG9uY2U6b309dCxpPXtyb290OmU/ZS5jdXJyZW50OnZvaWQgMCxyb290TWFyZ2luOm4sdGhyZXNob2xkOlwibnVtYmVyXCI9PXR5cGVvZiByP3I6RHBbcl19O3JldHVybiBGcCh0aGlzLm5vZGUuY3VycmVudCxpLCh0PT57Y29uc3R7aXNJbnRlcnNlY3Rpbmc6ZX09dDtpZih0aGlzLmlzSW5WaWV3PT09ZSlyZXR1cm47aWYodGhpcy5pc0luVmlldz1lLG8mJiFlJiZ0aGlzLmhhc0VudGVyZWRWaWV3KXJldHVybjtlJiYodGhpcy5oYXNFbnRlcmVkVmlldz0hMCksdGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlJiZ0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKFwid2hpbGVJblZpZXdcIixlKTtjb25zdHtvblZpZXdwb3J0RW50ZXI6bixvblZpZXdwb3J0TGVhdmU6cn09dGhpcy5ub2RlLmdldFByb3BzKCksaT1lP246cjtpJiZpKHQpfSkpfW1vdW50KCl7dGhpcy5zdGFydE9ic2VydmVyKCl9dXBkYXRlKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIEludGVyc2VjdGlvbk9ic2VydmVyKXJldHVybjtjb25zdHtwcm9wczp0LHByZXZQcm9wczplfT10aGlzLm5vZGU7W1wiYW1vdW50XCIsXCJtYXJnaW5cIixcInJvb3RcIl0uc29tZShmdW5jdGlvbih7dmlld3BvcnQ6dD17fX0se3ZpZXdwb3J0OmU9e319PXt9KXtyZXR1cm4gbj0+dFtuXSE9PWVbbl19KHQsZSkpJiZ0aGlzLnN0YXJ0T2JzZXJ2ZXIoKX11bm1vdW50KCl7fX19LHRhcDp7RmVhdHVyZTpjbGFzcyBleHRlbmRzIGJwe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnJlbW92ZVN0YXJ0TGlzdGVuZXJzPURlLHRoaXMucmVtb3ZlRW5kTGlzdGVuZXJzPURlLHRoaXMucmVtb3ZlQWNjZXNzaWJsZUxpc3RlbmVycz1EZSx0aGlzLnN0YXJ0UG9pbnRlclByZXNzPSh0LGUpPT57aWYodGhpcy5pc1ByZXNzaW5nKXJldHVybjt0aGlzLnJlbW92ZUVuZExpc3RlbmVycygpO2NvbnN0IG49dGhpcy5ub2RlLmdldFByb3BzKCkscj1BcCh3aW5kb3csXCJwb2ludGVydXBcIiwoKHQsZSk9PntpZighdGhpcy5jaGVja1ByZXNzRW5kKCkpcmV0dXJuO2NvbnN0e29uVGFwOm4sb25UYXBDYW5jZWw6cixnbG9iYWxUYXBUYXJnZXQ6b309dGhpcy5ub2RlLmdldFByb3BzKCksaT1vfHxDcCh0aGlzLm5vZGUuY3VycmVudCx0LnRhcmdldCk/bjpyO2kmJkduLnVwZGF0ZSgoKCk9PmkodCxlKSkpfSkse3Bhc3NpdmU6IShuLm9uVGFwfHxuLm9uUG9pbnRlclVwKX0pLG89QXAod2luZG93LFwicG9pbnRlcmNhbmNlbFwiLCgodCxlKT0+dGhpcy5jYW5jZWxQcmVzcyh0LGUpKSx7cGFzc2l2ZTohKG4ub25UYXBDYW5jZWx8fG4ub25Qb2ludGVyQ2FuY2VsKX0pO3RoaXMucmVtb3ZlRW5kTGlzdGVuZXJzPU1vKHIsbyksdGhpcy5zdGFydFByZXNzKHQsZSl9LHRoaXMuc3RhcnRBY2Nlc3NpYmxlUHJlc3M9KCk9Pntjb25zdCB0PVNwKHRoaXMubm9kZS5jdXJyZW50LFwia2V5ZG93blwiLCh0PT57aWYoXCJFbnRlclwiIT09dC5rZXl8fHRoaXMuaXNQcmVzc2luZylyZXR1cm47dGhpcy5yZW1vdmVFbmRMaXN0ZW5lcnMoKSx0aGlzLnJlbW92ZUVuZExpc3RlbmVycz1TcCh0aGlzLm5vZGUuY3VycmVudCxcImtleXVwXCIsKHQ9PntcIkVudGVyXCI9PT10LmtleSYmdGhpcy5jaGVja1ByZXNzRW5kKCkmJkxwKFwidXBcIiwoKHQsZSk9Pntjb25zdHtvblRhcDpufT10aGlzLm5vZGUuZ2V0UHJvcHMoKTtuJiZHbi5wb3N0UmVuZGVyKCgoKT0+bih0LGUpKSl9KSl9KSksTHAoXCJkb3duXCIsKCh0LGUpPT57dGhpcy5zdGFydFByZXNzKHQsZSl9KSl9KSksZT1TcCh0aGlzLm5vZGUuY3VycmVudCxcImJsdXJcIiwoKCk9Pnt0aGlzLmlzUHJlc3NpbmcmJkxwKFwiY2FuY2VsXCIsKCh0LGUpPT50aGlzLmNhbmNlbFByZXNzKHQsZSkpKX0pKTt0aGlzLnJlbW92ZUFjY2Vzc2libGVMaXN0ZW5lcnM9TW8odCxlKX19c3RhcnRQcmVzcyh0LGUpe3RoaXMuaXNQcmVzc2luZz0hMDtjb25zdHtvblRhcFN0YXJ0Om4sd2hpbGVUYXA6cn09dGhpcy5ub2RlLmdldFByb3BzKCk7ciYmdGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlJiZ0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKFwid2hpbGVUYXBcIiwhMCksbiYmR24ucG9zdFJlbmRlcigoKCk9Pm4odCxlKSkpfWNoZWNrUHJlc3NFbmQoKXt0aGlzLnJlbW92ZUVuZExpc3RlbmVycygpLHRoaXMuaXNQcmVzc2luZz0hMTtyZXR1cm4gdGhpcy5ub2RlLmdldFByb3BzKCkud2hpbGVUYXAmJnRoaXMubm9kZS5hbmltYXRpb25TdGF0ZSYmdGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShcIndoaWxlVGFwXCIsITEpLCFQcCgpfWNhbmNlbFByZXNzKHQsZSl7aWYoIXRoaXMuY2hlY2tQcmVzc0VuZCgpKXJldHVybjtjb25zdHtvblRhcENhbmNlbDpufT10aGlzLm5vZGUuZ2V0UHJvcHMoKTtuJiZHbi5wb3N0UmVuZGVyKCgoKT0+bih0LGUpKSl9bW91bnQoKXtjb25zdCB0PXRoaXMubm9kZS5nZXRQcm9wcygpLGU9QXAodC5nbG9iYWxUYXBUYXJnZXQ/d2luZG93OnRoaXMubm9kZS5jdXJyZW50LFwicG9pbnRlcmRvd25cIix0aGlzLnN0YXJ0UG9pbnRlclByZXNzLHtwYXNzaXZlOiEodC5vblRhcFN0YXJ0fHx0Lm9uUG9pbnRlclN0YXJ0KX0pLG49U3AodGhpcy5ub2RlLmN1cnJlbnQsXCJmb2N1c1wiLHRoaXMuc3RhcnRBY2Nlc3NpYmxlUHJlc3MpO3RoaXMucmVtb3ZlU3RhcnRMaXN0ZW5lcnM9TW8oZSxuKX11bm1vdW50KCl7dGhpcy5yZW1vdmVTdGFydExpc3RlbmVycygpLHRoaXMucmVtb3ZlRW5kTGlzdGVuZXJzKCksdGhpcy5yZW1vdmVBY2Nlc3NpYmxlTGlzdGVuZXJzKCl9fX0sZm9jdXM6e0ZlYXR1cmU6Y2xhc3MgZXh0ZW5kcyBicHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5pc0FjdGl2ZT0hMX1vbkZvY3VzKCl7bGV0IHQ9ITE7dHJ5e3Q9dGhpcy5ub2RlLmN1cnJlbnQubWF0Y2hlcyhcIjpmb2N1cy12aXNpYmxlXCIpfWNhdGNoKGUpe3Q9ITB9dCYmdGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlJiYodGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShcIndoaWxlRm9jdXNcIiwhMCksdGhpcy5pc0FjdGl2ZT0hMCl9b25CbHVyKCl7dGhpcy5pc0FjdGl2ZSYmdGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlJiYodGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShcIndoaWxlRm9jdXNcIiwhMSksdGhpcy5pc0FjdGl2ZT0hMSl9bW91bnQoKXt0aGlzLnVubW91bnQ9TW8oU3AodGhpcy5ub2RlLmN1cnJlbnQsXCJmb2N1c1wiLCgoKT0+dGhpcy5vbkZvY3VzKCkpKSxTcCh0aGlzLm5vZGUuY3VycmVudCxcImJsdXJcIiwoKCk9PnRoaXMub25CbHVyKCkpKSl9dW5tb3VudCgpe319fSxob3Zlcjp7RmVhdHVyZTpjbGFzcyBleHRlbmRzIGJwe21vdW50KCl7dGhpcy51bm1vdW50PU1vKGpwKHRoaXMubm9kZSwhMCksanAodGhpcy5ub2RlLCExKSl9dW5tb3VudCgpe319fX0sVnA9W1wiYW5pbWF0ZVwiLFwiY2lyY2xlXCIsXCJkZWZzXCIsXCJkZXNjXCIsXCJlbGxpcHNlXCIsXCJnXCIsXCJpbWFnZVwiLFwibGluZVwiLFwiZmlsdGVyXCIsXCJtYXJrZXJcIixcIm1hc2tcIixcIm1ldGFkYXRhXCIsXCJwYXRoXCIsXCJwYXR0ZXJuXCIsXCJwb2x5Z29uXCIsXCJwb2x5bGluZVwiLFwicmVjdFwiLFwic3RvcFwiLFwic3dpdGNoXCIsXCJzeW1ib2xcIixcInN2Z1wiLFwidGV4dFwiLFwidHNwYW5cIixcInVzZVwiLFwidmlld1wiXTtmdW5jdGlvbiBHcCh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmIXQuaW5jbHVkZXMoXCItXCIpJiYhIShWcC5pbmRleE9mKHQpPi0xfHwvW0EtWl0vdS50ZXN0KHQpKX1jb25zdCBVcD17cmVuZGVyZXI6KHQsZSk9PkdwKHQpP25ldyBmYShlKTpuZXcgZGEoZSx7YWxsb3dQcm9qZWN0aW9uOnQhPT1vZi5GcmFnbWVudH0pLC4uLl9wLC4uLkJwfTtmdW5jdGlvbiBIcCh0KXt2YXIgZT10LmNoaWxkcmVuO3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoaXAse2ZlYXR1cmVzOlVwLHN0cmljdDohMH0sZSl9ZnVuY3Rpb24genAodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbD09dD9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYobnVsbCE9bil7dmFyIHIsbyxpLGEscz1bXSx1PSEwLGM9ITE7dHJ5e2lmKGk9KG49bi5jYWxsKHQpKS5uZXh0LDA9PT1lKXtpZihPYmplY3QobikhPT1uKXJldHVybjt1PSExfWVsc2UgZm9yKDshKHU9KHI9aS5jYWxsKG4pKS5kb25lKSYmKHMucHVzaChyLnZhbHVlKSxzLmxlbmd0aCE9PWUpO3U9ITApO31jYXRjaCh0KXtjPSEwLG89dH1maW5hbGx5e3RyeXtpZighdSYmbnVsbCE9bi5yZXR1cm4mJihhPW4ucmV0dXJuKCksT2JqZWN0KGEpIT09YSkpcmV0dXJufWZpbmFsbHl7aWYoYyl0aHJvdyBvfX1yZXR1cm4gc319KHQsZSl8fGZ1bmN0aW9uKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIFdwKHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/V3AodCxlKTp2b2lkIDB9fSh0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gV3AodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uICRwKHQpe3ZhciBlPXQuY2hpbGRyZW4sbj10LmNsYXNzTmFtZSxyPXpwKCgwLG9mLnVzZVN0YXRlKSh7fSksMiksbz1yWzBdLGk9clsxXSxhPXlmKCkucmF0aW8scz1MZigpLmdhbWUsdT16cCgoMCxvZi51c2VSZWR1Y2VyKSgoZnVuY3Rpb24odCl7cmV0dXJuIHQrMX0pLDApLDIpWzFdLGM9cy5jb25maWcucGxheWVyLm1pbldpZHRoLGw9cy5jb25maWcucGxheWVyLm1pbkhlaWdodDtyZXR1cm4oMCxvZi51c2VFZmZlY3QpKChmdW5jdGlvbigpe3ZhciB0LGU9ZnVuY3Rpb24oKXtpZihhLmlzTG9ja2VkKCkpY29uc29sZS53YXJuKFwiUmF0aW8gaXMgbG9ja2VkLCBza2lwcGluZyB1cGRhdGVcIik7ZWxzZXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChzLmNvbmZpZy5wbGF5ZXIuY29udGVudENvbnRhaW5lcklkKTtpZih0KXt2YXIgZSxuLHI9dC5jbGllbnRXaWR0aCxvPXQuY2xpZW50SGVpZ2h0LGY9cy5jb25maWcucGxheWVyLmFzcGVjdFJhdGlvO3Ivbz5mPyhlPW8qZixuPW8pOihlPXIsbj1yL2YpLGU8YyYmKGU9YyksbjxsJiYobj1sKSxpKHt3aWR0aDpcIlwiLmNvbmNhdChlLFwicHhcIiksaGVpZ2h0OlwiXCIuY29uY2F0KG4sXCJweFwiKSxtYXJnaW46XCJhdXRvXCIscG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIjBcIixib3R0b206XCIwXCIsbGVmdDpcIjBcIixyaWdodDpcIjBcIixkaXNwbGF5OlwiZmxleFwiLGFsaWduSXRlbXM6XCJjZW50ZXJcIixqdXN0aWZ5Q29udGVudDpcImNlbnRlclwifSksYS51cGRhdGUoZSxuKSxhLnVwZGF0ZU1pbihjLGwpLHUoKX19fTthLnNldFVwZGF0ZShlKTt2YXIgbj1mdW5jdGlvbigpe2UoKSxjbGVhclRpbWVvdXQodCksYS5wYXVzZSgpLHQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXthLnJlc3VtZSgpfSksMTAwKX07cmV0dXJuIGUoKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLG4pLGZ1bmN0aW9uKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixuKSxjbGVhclRpbWVvdXQodCl9fSksW2FdKSxhZigpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7aWQ6cy5jb25maWcucGxheWVyLmNvbnRlbnRDb250YWluZXJJZCxzdHlsZTp7cG9zaXRpb246XCJyZWxhdGl2ZVwiLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixvdmVyZmxvdzpcImhpZGRlblwifX0sYWYoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpyZihuKSxzdHlsZTpvfSxlKSl9ZnVuY3Rpb24gWXAodCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFByb3h5KXJldHVybiB0O2NvbnN0IGU9bmV3IE1hcDtyZXR1cm4gbmV3IFByb3h5KCgoLi4uZSk9PnQoLi4uZSkpLHtnZXQ6KG4scik9PlwiY3JlYXRlXCI9PT1yP3Q6KGUuaGFzKHIpfHxlLnNldChyLHQocikpLGUuZ2V0KHIpKX0pfWNvbnN0IHFwPSgwLG9mLmNyZWF0ZUNvbnRleHQpKHt0cmFuc2Zvcm1QYWdlUG9pbnQ6dD0+dCxpc1N0YXRpYzohMSxyZWR1Y2VkTW90aW9uOlwibmV2ZXJcIn0pLFhwPSgwLG9mLmNyZWF0ZUNvbnRleHQpKHt9KSxLcD0oMCxvZi5jcmVhdGVDb250ZXh0KShudWxsKSxacD1GaT9vZi51c2VMYXlvdXRFZmZlY3Q6b2YudXNlRWZmZWN0LHtzY2hlZHVsZTpRcCxjYW5jZWw6SnB9PVZuKHF1ZXVlTWljcm90YXNrLCExKTtmdW5jdGlvbiB0ZCh0KXtyZXR1cm4gdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiY3VycmVudFwiKX1jb25zdCBlZD0oMCxvZi5jcmVhdGVDb250ZXh0KSh7fSk7ZnVuY3Rpb24gbmQodCxlLG4scixvKXt2YXIgaSxhO2NvbnN0e3Zpc3VhbEVsZW1lbnQ6c309KDAsb2YudXNlQ29udGV4dCkoWHApLHU9KDAsb2YudXNlQ29udGV4dCkocnApLGM9KDAsb2YudXNlQ29udGV4dCkoS3ApLGw9KDAsb2YudXNlQ29udGV4dCkocXApLnJlZHVjZWRNb3Rpb24sZj0oMCxvZi51c2VSZWYpKCk7cj1yfHx1LnJlbmRlcmVyLCFmLmN1cnJlbnQmJnImJihmLmN1cnJlbnQ9cih0LHt2aXN1YWxTdGF0ZTplLHBhcmVudDpzLHByb3BzOm4scHJlc2VuY2VDb250ZXh0OmMsYmxvY2tJbml0aWFsQW5pbWF0aW9uOiEhYyYmITE9PT1jLmluaXRpYWwscmVkdWNlZE1vdGlvbkNvbmZpZzpsfSkpO2NvbnN0IHA9Zi5jdXJyZW50LGQ9KDAsb2YudXNlQ29udGV4dCkoZWQpOyFwfHxwLnByb2plY3Rpb258fCFvfHxcImh0bWxcIiE9PXAudHlwZSYmXCJzdmdcIiE9PXAudHlwZXx8ZnVuY3Rpb24odCxlLG4scil7Y29uc3R7bGF5b3V0SWQ6byxsYXlvdXQ6aSxkcmFnOmEsZHJhZ0NvbnN0cmFpbnRzOnMsbGF5b3V0U2Nyb2xsOnUsbGF5b3V0Um9vdDpjfT1lO3QucHJvamVjdGlvbj1uZXcgbih0LmxhdGVzdFZhbHVlcyxlW1wiZGF0YS1mcmFtZXItcG9ydGFsLWlkXCJdP3ZvaWQgMDpyZCh0LnBhcmVudCkpLHQucHJvamVjdGlvbi5zZXRPcHRpb25zKHtsYXlvdXRJZDpvLGxheW91dDppLGFsd2F5c01lYXN1cmVMYXlvdXQ6Qm9vbGVhbihhKXx8cyYmdGQocyksdmlzdWFsRWxlbWVudDp0LGFuaW1hdGlvblR5cGU6XCJzdHJpbmdcIj09dHlwZW9mIGk/aTpcImJvdGhcIixpbml0aWFsUHJvbW90aW9uQ29uZmlnOnIsbGF5b3V0U2Nyb2xsOnUsbGF5b3V0Um9vdDpjfSl9KGYuY3VycmVudCxuLG8sZCksKDAsb2YudXNlSW5zZXJ0aW9uRWZmZWN0KSgoKCk9PntwJiZwLnVwZGF0ZShuLGMpfSkpO2NvbnN0IGg9bltFaV0seT0oMCxvZi51c2VSZWYpKEJvb2xlYW4oaCkmJiEobnVsbD09PShpPXdpbmRvdy5Nb3Rpb25IYW5kb2ZmSXNDb21wbGV0ZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh3aW5kb3csaCkpJiYobnVsbD09PShhPXdpbmRvdy5Nb3Rpb25IYXNPcHRpbWlzZWRBbmltYXRpb24pfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmNhbGwod2luZG93LGgpKSk7cmV0dXJuIFpwKCgoKT0+e3AmJih3aW5kb3cuTW90aW9uSXNNb3VudGVkPSEwLHAudXBkYXRlRmVhdHVyZXMoKSxRcC5yZW5kZXIocC5yZW5kZXIpLHkuY3VycmVudCYmcC5hbmltYXRpb25TdGF0ZSYmcC5hbmltYXRpb25TdGF0ZS5hbmltYXRlQ2hhbmdlcygpKX0pKSwoMCxvZi51c2VFZmZlY3QpKCgoKT0+e3AmJigheS5jdXJyZW50JiZwLmFuaW1hdGlvblN0YXRlJiZwLmFuaW1hdGlvblN0YXRlLmFuaW1hdGVDaGFuZ2VzKCkseS5jdXJyZW50JiYocXVldWVNaWNyb3Rhc2soKCgpPT57dmFyIHQ7bnVsbD09PSh0PXdpbmRvdy5Nb3Rpb25IYW5kb2ZmTWFya0FzQ29tcGxldGUpfHx2b2lkIDA9PT10fHx0LmNhbGwod2luZG93LGgpfSkpLHkuY3VycmVudD0hMSkpfSkpLHB9ZnVuY3Rpb24gcmQodCl7aWYodClyZXR1cm4hMSE9PXQub3B0aW9ucy5hbGxvd1Byb2plY3Rpb24/dC5wcm9qZWN0aW9uOnJkKHQucGFyZW50KX1mdW5jdGlvbiBvZCh0LGUsbil7cmV0dXJuKDAsb2YudXNlQ2FsbGJhY2spKChyPT57ciYmdC5tb3VudCYmdC5tb3VudChyKSxlJiYocj9lLm1vdW50KHIpOmUudW5tb3VudCgpKSxuJiYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uKHIpOnRkKG4pJiYobi5jdXJyZW50PXIpKX0pLFtlXSl9ZnVuY3Rpb24gaWQodCl7Y29uc3R7aW5pdGlhbDplLGFuaW1hdGU6bn09ZnVuY3Rpb24odCxlKXtpZih6aSh0KSl7Y29uc3R7aW5pdGlhbDplLGFuaW1hdGU6bn09dDtyZXR1cm57aW5pdGlhbDohMT09PWV8fEdpKGUpP2U6dm9pZCAwLGFuaW1hdGU6R2kobik/bjp2b2lkIDB9fXJldHVybiExIT09dC5pbmhlcml0P2U6e319KHQsKDAsb2YudXNlQ29udGV4dCkoWHApKTtyZXR1cm4oMCxvZi51c2VNZW1vKSgoKCk9Pih7aW5pdGlhbDplLGFuaW1hdGU6bn0pKSxbYWQoZSksYWQobildKX1mdW5jdGlvbiBhZCh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90LmpvaW4oXCIgXCIpOnR9Y29uc3Qgc2Q9KDAsb2YuY3JlYXRlQ29udGV4dCkoe30pLHVkPVN5bWJvbC5mb3IoXCJtb3Rpb25Db21wb25lbnRTeW1ib2xcIik7ZnVuY3Rpb24gY2Qoe3ByZWxvYWRlZEZlYXR1cmVzOnQsY3JlYXRlVmlzdWFsRWxlbWVudDplLHVzZVJlbmRlcjpuLHVzZVZpc3VhbFN0YXRlOnIsQ29tcG9uZW50Om99KXt0JiZvcCh0KTtjb25zdCBpPSgwLG9mLmZvcndhcmRSZWYpKChmdW5jdGlvbih0LGkpe2xldCBhO2NvbnN0IHM9ey4uLigwLG9mLnVzZUNvbnRleHQpKHFwKSwuLi50LGxheW91dElkOmxkKHQpfSx7aXNTdGF0aWM6dX09cyxjPWlkKHQpLGw9cih0LHUpO2lmKCF1JiZGaSl7IWZ1bmN0aW9uKCl7KDAsb2YudXNlQ29udGV4dCkocnApLnN0cmljdDswfSgpO2NvbnN0IHQ9ZnVuY3Rpb24odCl7Y29uc3R7ZHJhZzplLGxheW91dDpufT1ZaTtpZighZSYmIW4pcmV0dXJue307Y29uc3Qgcj17Li4uZSwuLi5ufTtyZXR1cm57TWVhc3VyZUxheW91dDoobnVsbD09ZT92b2lkIDA6ZS5pc0VuYWJsZWQodCkpfHwobnVsbD09bj92b2lkIDA6bi5pc0VuYWJsZWQodCkpP3IuTWVhc3VyZUxheW91dDp2b2lkIDAsUHJvamVjdGlvbk5vZGU6ci5Qcm9qZWN0aW9uTm9kZX19KHMpO2E9dC5NZWFzdXJlTGF5b3V0LGMudmlzdWFsRWxlbWVudD1uZChvLGwscyxlLHQuUHJvamVjdGlvbk5vZGUpfXJldHVybigwLG5wLmpzeHMpKFhwLlByb3ZpZGVyLHt2YWx1ZTpjLGNoaWxkcmVuOlthJiZjLnZpc3VhbEVsZW1lbnQ/KDAsbnAuanN4KShhLHt2aXN1YWxFbGVtZW50OmMudmlzdWFsRWxlbWVudCwuLi5zfSk6bnVsbCxuKG8sdCxvZChsLGMudmlzdWFsRWxlbWVudCxpKSxsLHUsYy52aXN1YWxFbGVtZW50KV19KX0pKTtyZXR1cm4gaVt1ZF09byxpfWZ1bmN0aW9uIGxkKHtsYXlvdXRJZDp0fSl7Y29uc3QgZT0oMCxvZi51c2VDb250ZXh0KShzZCkuaWQ7cmV0dXJuIGUmJnZvaWQgMCE9PXQ/ZStcIi1cIit0OnR9ZnVuY3Rpb24gZmQodCl7Y29uc3QgZT11bih0KT90LmdldCgpOnQ7cmV0dXJuIG1pKGUpP2UudG9WYWx1ZSgpOmV9ZnVuY3Rpb24gcGQodCl7cmV0dXJuIEVuLmhhcyh0KT9cInRyYW5zZm9ybVwiOmVpLmhhcyh0KT9UaSh0KTp2b2lkIDB9Y29uc3QgZGQ9dD0+KGUsbik9Pntjb25zdCByPSgwLG9mLnVzZUNvbnRleHQpKFhwKSxvPSgwLG9mLnVzZUNvbnRleHQpKEtwKSxpPSgpPT5mdW5jdGlvbih7YXBwbHlXaWxsQ2hhbmdlOnQ9ITEsc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzOmUsY3JlYXRlUmVuZGVyU3RhdGU6bixvbk1vdW50OnJ9LG8saSxhLHMpe2NvbnN0IHU9e2xhdGVzdFZhbHVlczp5ZChvLGksYSwhcyYmdCxlKSxyZW5kZXJTdGF0ZTpuKCl9O3JldHVybiByJiYodS5tb3VudD10PT5yKG8sdCx1KSksdX0odCxlLHIsbyxuKTtyZXR1cm4gbj9pKCk6ZnVuY3Rpb24odCl7Y29uc3QgZT0oMCxvZi51c2VSZWYpKG51bGwpO3JldHVybiBudWxsPT09ZS5jdXJyZW50JiYoZS5jdXJyZW50PXQoKSksZS5jdXJyZW50fShpKX07ZnVuY3Rpb24gaGQodCxlLG4pe2NvbnN0IHI9QXJyYXkuaXNBcnJheShlKT9lOltlXTtmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKyl7Y29uc3Qgbz14aSh0LHJbZV0pO2lmKG8pe2NvbnN0e3RyYW5zaXRpb25FbmQ6dCx0cmFuc2l0aW9uOmUsLi4ucn09bztuKHIsdCl9fX1mdW5jdGlvbiB5ZCh0LGUsbixyLG8pe3ZhciBpO2NvbnN0IGE9e30scz1uZXcgU2V0LHU9ciYmdm9pZCAwPT09KG51bGw9PT0oaT10LnN0eWxlKXx8dm9pZCAwPT09aT92b2lkIDA6aS53aWxsQ2hhbmdlKSxjPW8odCx7fSk7Zm9yKGNvbnN0IHQgaW4gYylhW3RdPWZkKGNbdF0pO2xldHtpbml0aWFsOmwsYW5pbWF0ZTpmfT10O2NvbnN0IHA9emkodCksZD1XaSh0KTtlJiZkJiYhcCYmITEhPT10LmluaGVyaXQmJih2b2lkIDA9PT1sJiYobD1lLmluaXRpYWwpLHZvaWQgMD09PWYmJihmPWUuYW5pbWF0ZSkpO2xldCBoPSEhbiYmITE9PT1uLmluaXRpYWw7aD1ofHwhMT09PWw7Y29uc3QgeT1oP2Y6bDtyZXR1cm4geSYmXCJib29sZWFuXCIhPXR5cGVvZiB5JiYhVmkoeSkmJmhkKHQseSwoKHQsZSk9Pntmb3IoY29uc3QgZSBpbiB0KXtsZXQgbj10W2VdO2lmKEFycmF5LmlzQXJyYXkobikpe249bltoP24ubGVuZ3RoLTE6MF19bnVsbCE9PW4mJihhW2VdPW4pfWZvcihjb25zdCB0IGluIGUpYVt0XT1lW3RdfSkpLHUmJihmJiYhMSE9PWwmJiFWaShmKSYmaGQodCxmLCh0PT57Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3QgdD1wZChlKTt0JiZzLmFkZCh0KX19KSkscy5zaXplJiYoYS53aWxsQ2hhbmdlPUFycmF5LmZyb20ocykuam9pbihcIixcIikpKSxhfWNvbnN0IHZkPSgpPT4oe3N0eWxlOnt9LHRyYW5zZm9ybTp7fSx0cmFuc2Zvcm1PcmlnaW46e30sdmFyczp7fX0pLG1kPSgpPT4oey4uLnZkKCksYXR0cnM6e319KSxnZD17dXNlVmlzdWFsU3RhdGU6ZGQoe3NjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wczpSaSxjcmVhdGVSZW5kZXJTdGF0ZTptZCxvbk1vdW50Oih0LGUse3JlbmRlclN0YXRlOm4sbGF0ZXN0VmFsdWVzOnJ9KT0+e0duLnJlYWQoKCgpPT57dHJ5e24uZGltZW5zaW9ucz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmdldEJCb3g/ZS5nZXRCQm94KCk6ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1jYXRjaCh0KXtuLmRpbWVuc2lvbnM9e3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH19fSkpLEduLnJlbmRlcigoKCk9PnthYShuLHIsbGEoZS50YWdOYW1lKSx0LnRyYW5zZm9ybVRlbXBsYXRlKSxjYShlLG4pfSkpfX0pfSxiZD17dXNlVmlzdWFsU3RhdGU6ZGQoe2FwcGx5V2lsbENoYW5nZTohMCxzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHM6TWksY3JlYXRlUmVuZGVyU3RhdGU6dmR9KX07ZnVuY3Rpb24gd2QodCxlLG4pe2Zvcihjb25zdCByIGluIGUpdW4oZVtyXSl8fE5pKHIsbil8fCh0W3JdPWVbcl0pfWZ1bmN0aW9uIF9kKHQsZSl7Y29uc3Qgbj17fTtyZXR1cm4gd2Qobix0LnN0eWxlfHx7fSx0KSxPYmplY3QuYXNzaWduKG4sZnVuY3Rpb24oe3RyYW5zZm9ybVRlbXBsYXRlOnR9LGUpe3JldHVybigwLG9mLnVzZU1lbW8pKCgoKT0+e2NvbnN0IG49dmQoKTtyZXR1cm4gbmEobixlLHQpLE9iamVjdC5hc3NpZ24oe30sbi52YXJzLG4uc3R5bGUpfSksW2VdKX0odCxlKSksbn1mdW5jdGlvbiBTZCh0LGUpe2NvbnN0IG49e30scj1fZCh0LGUpO3JldHVybiB0LmRyYWcmJiExIT09dC5kcmFnTGlzdGVuZXImJihuLmRyYWdnYWJsZT0hMSxyLnVzZXJTZWxlY3Q9ci5XZWJraXRVc2VyU2VsZWN0PXIuV2Via2l0VG91Y2hDYWxsb3V0PVwibm9uZVwiLHIudG91Y2hBY3Rpb249ITA9PT10LmRyYWc/XCJub25lXCI6XCJwYW4tXCIrKFwieFwiPT09dC5kcmFnP1wieVwiOlwieFwiKSksdm9pZCAwPT09dC50YWJJbmRleCYmKHQub25UYXB8fHQub25UYXBTdGFydHx8dC53aGlsZVRhcCkmJihuLnRhYkluZGV4PTApLG4uc3R5bGU9cixufWNvbnN0IGtkPW5ldyBTZXQoW1wiYW5pbWF0ZVwiLFwiZXhpdFwiLFwidmFyaWFudHNcIixcImluaXRpYWxcIixcInN0eWxlXCIsXCJ2YWx1ZXNcIixcInZhcmlhbnRzXCIsXCJ0cmFuc2l0aW9uXCIsXCJ0cmFuc2Zvcm1UZW1wbGF0ZVwiLFwiY3VzdG9tXCIsXCJpbmhlcml0XCIsXCJvbkJlZm9yZUxheW91dE1lYXN1cmVcIixcIm9uQW5pbWF0aW9uU3RhcnRcIixcIm9uQW5pbWF0aW9uQ29tcGxldGVcIixcIm9uVXBkYXRlXCIsXCJvbkRyYWdTdGFydFwiLFwib25EcmFnXCIsXCJvbkRyYWdFbmRcIixcIm9uTWVhc3VyZURyYWdDb25zdHJhaW50c1wiLFwib25EaXJlY3Rpb25Mb2NrXCIsXCJvbkRyYWdUcmFuc2l0aW9uRW5kXCIsXCJfZHJhZ1hcIixcIl9kcmFnWVwiLFwib25Ib3ZlclN0YXJ0XCIsXCJvbkhvdmVyRW5kXCIsXCJvblZpZXdwb3J0RW50ZXJcIixcIm9uVmlld3BvcnRMZWF2ZVwiLFwiZ2xvYmFsVGFwVGFyZ2V0XCIsXCJpZ25vcmVTdHJpY3RcIixcInZpZXdwb3J0XCJdKTtmdW5jdGlvbiB4ZCh0KXtyZXR1cm4gdC5zdGFydHNXaXRoKFwid2hpbGVcIil8fHQuc3RhcnRzV2l0aChcImRyYWdcIikmJlwiZHJhZ2dhYmxlXCIhPT10fHx0LnN0YXJ0c1dpdGgoXCJsYXlvdXRcIil8fHQuc3RhcnRzV2l0aChcIm9uVGFwXCIpfHx0LnN0YXJ0c1dpdGgoXCJvblBhblwiKXx8dC5zdGFydHNXaXRoKFwib25MYXlvdXRcIil8fGtkLmhhcyh0KX1sZXQgQWQ9dD0+IXhkKHQpO3RyeXsoT2Q9cmVxdWlyZShcIkBlbW90aW9uL2lzLXByb3AtdmFsaWRcIikuZGVmYXVsdCkmJihBZD10PT50LnN0YXJ0c1dpdGgoXCJvblwiKT8heGQodCk6T2QodCkpfWNhdGNoKHp0KXt9dmFyIE9kO2Z1bmN0aW9uIFRkKHQsZSxuLHIpe2NvbnN0IG89KDAsb2YudXNlTWVtbykoKCgpPT57Y29uc3Qgbj1tZCgpO3JldHVybiBhYShuLGUsbGEociksdC50cmFuc2Zvcm1UZW1wbGF0ZSksey4uLm4uYXR0cnMsc3R5bGU6ey4uLm4uc3R5bGV9fX0pLFtlXSk7aWYodC5zdHlsZSl7Y29uc3QgZT17fTt3ZChlLHQuc3R5bGUsdCksby5zdHlsZT17Li4uZSwuLi5vLnN0eWxlfX1yZXR1cm4gb31mdW5jdGlvbiBFZCh0PSExKXtyZXR1cm4oZSxuLHIse2xhdGVzdFZhbHVlczpvfSxpKT0+e2NvbnN0IGE9KEdwKGUpP1RkOlNkKShuLG8saSxlKSxzPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPXt9O2Zvcihjb25zdCBvIGluIHQpXCJ2YWx1ZXNcIj09PW8mJlwib2JqZWN0XCI9PXR5cGVvZiB0LnZhbHVlc3x8KEFkKG8pfHwhMD09PW4mJnhkKG8pfHwhZSYmIXhkKG8pfHx0LmRyYWdnYWJsZSYmby5zdGFydHNXaXRoKFwib25EcmFnXCIpKSYmKHJbb109dFtvXSk7cmV0dXJuIHJ9KG4sXCJzdHJpbmdcIj09dHlwZW9mIGUsdCksdT1lIT09b2YuRnJhZ21lbnQ/ey4uLnMsLi4uYSxyZWY6cn06e30se2NoaWxkcmVuOmN9PW4sbD0oMCxvZi51c2VNZW1vKSgoKCk9PnVuKGMpP2MuZ2V0KCk6YyksW2NdKTtyZXR1cm4oMCxvZi5jcmVhdGVFbGVtZW50KShlLHsuLi51LGNoaWxkcmVuOmx9KX19ZnVuY3Rpb24gUGQodCxlKXtyZXR1cm4gZnVuY3Rpb24obix7Zm9yd2FyZE1vdGlvblByb3BzOnJ9PXtmb3J3YXJkTW90aW9uUHJvcHM6ITF9KXtyZXR1cm4gY2Qoey4uLkdwKG4pP2dkOmJkLHByZWxvYWRlZEZlYXR1cmVzOnQsdXNlUmVuZGVyOkVkKHIpLGNyZWF0ZVZpc3VhbEVsZW1lbnQ6ZSxDb21wb25lbnQ6bn0pfX1jb25zdCBqZD1ZcChQZCgpKTtmdW5jdGlvbiBDZCh0KXtyZXR1cm4gQ2Q9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sQ2QodCl9ZnVuY3Rpb24gTGQoKXsvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovTGQ9ZnVuY3Rpb24oKXtyZXR1cm4gZX07dmFyIHQsZT17fSxuPU9iamVjdC5wcm90b3R5cGUscj1uLmhhc093blByb3BlcnR5LG89T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbih0LGUsbil7dFtlXT1uLnZhbHVlfSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYT1pLml0ZXJhdG9yfHxcIkBAaXRlcmF0b3JcIixzPWkuYXN5bmNJdGVyYXRvcnx8XCJAQGFzeW5jSXRlcmF0b3JcIix1PWkudG9TdHJpbmdUYWd8fFwiQEB0b1N0cmluZ1RhZ1wiO2Z1bmN0aW9uIGModCxlLG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksdFtlXX10cnl7Yyh7fSxcIlwiKX1jYXRjaCh0KXtjPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1ufX1mdW5jdGlvbiBsKHQsZSxuLHIpe3ZhciBpPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgbT9lOm0sYT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxzPW5ldyBqKHJ8fFtdKTtyZXR1cm4gbyhhLFwiX2ludm9rZVwiLHt2YWx1ZTpPKHQsbixzKX0pLGF9ZnVuY3Rpb24gZih0LGUsbil7dHJ5e3JldHVybnt0eXBlOlwibm9ybWFsXCIsYXJnOnQuY2FsbChlLG4pfX1jYXRjaCh0KXtyZXR1cm57dHlwZTpcInRocm93XCIsYXJnOnR9fX1lLndyYXA9bDt2YXIgcD1cInN1c3BlbmRlZFN0YXJ0XCIsZD1cInN1c3BlbmRlZFlpZWxkXCIsaD1cImV4ZWN1dGluZ1wiLHk9XCJjb21wbGV0ZWRcIix2PXt9O2Z1bmN0aW9uIG0oKXt9ZnVuY3Rpb24gZygpe31mdW5jdGlvbiBiKCl7fXZhciB3PXt9O2ModyxhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBfPU9iamVjdC5nZXRQcm90b3R5cGVPZixTPV8mJl8oXyhDKFtdKSkpO1MmJlMhPT1uJiZyLmNhbGwoUyxhKSYmKHc9Uyk7dmFyIGs9Yi5wcm90b3R5cGU9bS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3KTtmdW5jdGlvbiB4KHQpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Yyh0LGUsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX0pKX0pKX1mdW5jdGlvbiBBKHQsZSl7ZnVuY3Rpb24gbihvLGksYSxzKXt2YXIgdT1mKHRbb10sdCxpKTtpZihcInRocm93XCIhPT11LnR5cGUpe3ZhciBjPXUuYXJnLGw9Yy52YWx1ZTtyZXR1cm4gbCYmXCJvYmplY3RcIj09Q2QobCkmJnIuY2FsbChsLFwiX19hd2FpdFwiKT9lLnJlc29sdmUobC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih0KXtuKFwibmV4dFwiLHQsYSxzKX0pLChmdW5jdGlvbih0KXtuKFwidGhyb3dcIix0LGEscyl9KSk6ZS5yZXNvbHZlKGwpLnRoZW4oKGZ1bmN0aW9uKHQpe2MudmFsdWU9dCxhKGMpfSksKGZ1bmN0aW9uKHQpe3JldHVybiBuKFwidGhyb3dcIix0LGEscyl9KSl9cyh1LmFyZyl9dmFyIGk7byh0aGlzLFwiX2ludm9rZVwiLHt2YWx1ZTpmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIG8oKXtyZXR1cm4gbmV3IGUoKGZ1bmN0aW9uKGUsbyl7bih0LHIsZSxvKX0pKX1yZXR1cm4gaT1pP2kudGhlbihvLG8pOm8oKX19KX1mdW5jdGlvbiBPKGUsbixyKXt2YXIgbz1wO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1oKXRocm93IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtpZihvPT09eSl7aWYoXCJ0aHJvd1wiPT09aSl0aHJvdyBhO3JldHVybnt2YWx1ZTp0LGRvbmU6ITB9fWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgdT1UKHMscik7aWYodSl7aWYodT09PXYpY29udGludWU7cmV0dXJuIHV9fWlmKFwibmV4dFwiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZihcInRocm93XCI9PT1yLm1ldGhvZCl7aWYobz09PXApdGhyb3cgbz15LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2VcInJldHVyblwiPT09ci5tZXRob2QmJnIuYWJydXB0KFwicmV0dXJuXCIsci5hcmcpO289aDt2YXIgYz1mKGUsbixyKTtpZihcIm5vcm1hbFwiPT09Yy50eXBlKXtpZihvPXIuZG9uZT95OmQsYy5hcmc9PT12KWNvbnRpbnVlO3JldHVybnt2YWx1ZTpjLmFyZyxkb25lOnIuZG9uZX19XCJ0aHJvd1wiPT09Yy50eXBlJiYobz15LHIubWV0aG9kPVwidGhyb3dcIixyLmFyZz1jLmFyZyl9fX1mdW5jdGlvbiBUKGUsbil7dmFyIHI9bi5tZXRob2Qsbz1lLml0ZXJhdG9yW3JdO2lmKG89PT10KXJldHVybiBuLmRlbGVnYXRlPW51bGwsXCJ0aHJvd1wiPT09ciYmZS5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD1cInJldHVyblwiLG4uYXJnPXQsVChlLG4pLFwidGhyb3dcIj09PW4ubWV0aG9kKXx8XCJyZXR1cm5cIiE9PXImJihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiK3IrXCInIG1ldGhvZFwiKSksdjt2YXIgaT1mKG8sZS5pdGVyYXRvcixuLmFyZyk7aWYoXCJ0aHJvd1wiPT09aS50eXBlKXJldHVybiBuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHY7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW2UucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9ZS5uZXh0TG9jLFwicmV0dXJuXCIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPXQpLG4uZGVsZWdhdGU9bnVsbCx2KTphOihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLG4uZGVsZWdhdGU9bnVsbCx2KX1mdW5jdGlvbiBFKHQpe3ZhciBlPXt0cnlMb2M6dFswXX07MSBpbiB0JiYoZS5jYXRjaExvYz10WzFdKSwyIGluIHQmJihlLmZpbmFsbHlMb2M9dFsyXSxlLmFmdGVyTG9jPXRbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKGUpfWZ1bmN0aW9uIFAodCl7dmFyIGU9dC5jb21wbGV0aW9ufHx7fTtlLnR5cGU9XCJub3JtYWxcIixkZWxldGUgZS5hcmcsdC5jb21wbGV0aW9uPWV9ZnVuY3Rpb24gaih0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XCJyb290XCJ9XSx0LmZvckVhY2goRSx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBDKGUpe2lmKGV8fFwiXCI9PT1lKXt2YXIgbj1lW2FdO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG89LTEsaT1mdW5jdGlvbiBuKCl7Zm9yKDsrK288ZS5sZW5ndGg7KWlmKHIuY2FsbChlLG8pKXJldHVybiBuLnZhbHVlPWVbb10sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9dCxuLmRvbmU9ITAsbn07cmV0dXJuIGkubmV4dD1pfX10aHJvdyBuZXcgVHlwZUVycm9yKENkKGUpK1wiIGlzIG5vdCBpdGVyYWJsZVwiKX1yZXR1cm4gZy5wcm90b3R5cGU9YixvKGssXCJjb25zdHJ1Y3RvclwiLHt2YWx1ZTpiLGNvbmZpZ3VyYWJsZTohMH0pLG8oYixcImNvbnN0cnVjdG9yXCIse3ZhbHVlOmcsY29uZmlndXJhYmxlOiEwfSksZy5kaXNwbGF5TmFtZT1jKGIsdSxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLGUuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbih0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNvbnN0cnVjdG9yO3JldHVybiEhZSYmKGU9PT1nfHxcIkdlbmVyYXRvckZ1bmN0aW9uXCI9PT0oZS5kaXNwbGF5TmFtZXx8ZS5uYW1lKSl9LGUubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGIpOih0Ll9fcHJvdG9fXz1iLGModCx1LFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoayksdH0sZS5hd3JhcD1mdW5jdGlvbih0KXtyZXR1cm57X19hd2FpdDp0fX0seChBLnByb3RvdHlwZSksYyhBLnByb3RvdHlwZSxzLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGUuQXN5bmNJdGVyYXRvcj1BLGUuYXN5bmM9ZnVuY3Rpb24odCxuLHIsbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgQShsKHQsbixyLG8pLGkpO3JldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24obik/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kb25lP3QudmFsdWU6YS5uZXh0KCl9KSl9LHgoayksYyhrLHUsXCJHZW5lcmF0b3JcIiksYyhrLGEsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksYyhrLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgR2VuZXJhdG9yXVwifSkpLGUua2V5cz1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QodCksbj1bXTtmb3IodmFyIHIgaW4gZSluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIHQoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5wb3AoKTtpZihyIGluIGUpcmV0dXJuIHQudmFsdWU9cix0LmRvbmU9ITEsdH1yZXR1cm4gdC5kb25lPSEwLHR9fSxlLnZhbHVlcz1DLGoucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpqLHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PXQsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLmFyZz10LHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKFApLCFlKWZvcih2YXIgbiBpbiB0aGlzKVwidFwiPT09bi5jaGFyQXQoMCkmJnIuY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgdD10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIG49dGhpcztmdW5jdGlvbiBvKHIsbyl7cmV0dXJuIHMudHlwZT1cInRocm93XCIscy5hcmc9ZSxuLm5leHQ9cixvJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9dCksISFvfWZvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBhPXRoaXMudHJ5RW50cmllc1tpXSxzPWEuY29tcGxldGlvbjtpZihcInJvb3RcIj09PWEudHJ5TG9jKXJldHVybiBvKFwiZW5kXCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciB1PXIuY2FsbChhLFwiY2F0Y2hMb2NcIiksYz1yLmNhbGwoYSxcImZpbmFsbHlMb2NcIik7aWYodSYmYyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIG8oYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gbyhhLmZpbmFsbHlMb2MpfWVsc2UgaWYodSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIG8oYS5jYXRjaExvYywhMCl9ZWxzZXtpZighYyl0aHJvdyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIG89dGhpcy50cnlFbnRyaWVzW25dO2lmKG8udHJ5TG9jPD10aGlzLnByZXYmJnIuY2FsbChvLFwiZmluYWxseUxvY1wiKSYmdGhpcy5wcmV2PG8uZmluYWxseUxvYyl7dmFyIGk9bzticmVha319aSYmKFwiYnJlYWtcIj09PXR8fFwiY29udGludWVcIj09PXQpJiZpLnRyeUxvYzw9ZSYmZTw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgYT1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPXQsYS5hcmc9ZSxpPyh0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLm5leHQ9aS5maW5hbGx5TG9jLHYpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVyblwiYnJlYWtcIj09PXQudHlwZXx8XCJjb250aW51ZVwiPT09dC50eXBlP3RoaXMubmV4dD10LmFyZzpcInJldHVyblwiPT09dC50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9dC5hcmcsdGhpcy5tZXRob2Q9XCJyZXR1cm5cIix0aGlzLm5leHQ9XCJlbmRcIik6XCJub3JtYWxcIj09PXQudHlwZSYmZSYmKHRoaXMubmV4dD1lKSx2fSxmaW5pc2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4uZmluYWxseUxvYz09PXQpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLFAobiksdn19LGNhdGNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLnRyeUxvYz09PXQpe3ZhciByPW4uY29tcGxldGlvbjtpZihcInRocm93XCI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO1Aobil9cmV0dXJuIG99fXRocm93IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6QyhlKSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSxcIm5leHRcIj09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dCksdn19LGV9ZnVuY3Rpb24gSWQodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbD09dD9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYobnVsbCE9bil7dmFyIHIsbyxpLGEscz1bXSx1PSEwLGM9ITE7dHJ5e2lmKGk9KG49bi5jYWxsKHQpKS5uZXh0LDA9PT1lKXtpZihPYmplY3QobikhPT1uKXJldHVybjt1PSExfWVsc2UgZm9yKDshKHU9KHI9aS5jYWxsKG4pKS5kb25lKSYmKHMucHVzaChyLnZhbHVlKSxzLmxlbmd0aCE9PWUpO3U9ITApO31jYXRjaCh0KXtjPSEwLG89dH1maW5hbGx5e3RyeXtpZighdSYmbnVsbCE9bi5yZXR1cm4mJihhPW4ucmV0dXJuKCksT2JqZWN0KGEpIT09YSkpcmV0dXJufWZpbmFsbHl7aWYoYyl0aHJvdyBvfX1yZXR1cm4gc319KHQsZSl8fGZ1bmN0aW9uKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIE5kKHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/TmQodCxlKTp2b2lkIDB9fSh0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gTmQodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfXZhciBNZD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiBhKHQpe3RyeXt1KHIubmV4dCh0KSl9Y2F0Y2godCl7aSh0KX19ZnVuY3Rpb24gcyh0KXt0cnl7dShyLnRocm93KHQpKX1jYXRjaCh0KXtpKHQpfX1mdW5jdGlvbiB1KHQpe3ZhciBlO3QuZG9uZT9vKHQudmFsdWUpOihlPXQudmFsdWUsZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbigoZnVuY3Rpb24odCl7dChlKX0pKSkudGhlbihhLHMpfXUoKHI9ci5hcHBseSh0LGV8fFtdKSkubmV4dCgpKX0pKX07ZnVuY3Rpb24gUmQodCl7dmFyIGU9dGhpcyxuPXQuc3RhdGUscj10LmRpc3BsYXlhYmxlLG89dC5jaGlsZCxpPXIuZWxlbWVudCxhPXIuc3RhdGUscz12b2lkIDA9PT1hP2k6YSx1PSgwLG9mLnVzZVJlZikobnVsbCksYz1JZCgoMCxvZi51c2VTdGF0ZSkobnVsbCksMiksbD1jWzBdLGY9Y1sxXSxwPUlkKCgwLG9mLnVzZVN0YXRlKShbXSksMilbMV0sZD1JZCgoMCxvZi51c2VTdGF0ZSkobnVsbCksMiksaD1kWzBdLHk9ZFsxXSx2PUlkKCgwLG9mLnVzZVN0YXRlKSh7fSksMiksbT12WzBdLGc9dlsxXTtmdW5jdGlvbiB3KHQpe2lmKGgmJmguZ2V0Q29udHJvbCgpJiYobi5sb2dnZXIud2FybihcIkRpc3BsYXlhYmxlIEFuaW1hdGlvblwiLFwicHJvY2Vzc2luZyB0cmFuc2Zvcm0gbm90IGNvbXBsZXRlZFwiKSxoLmdldENvbnRyb2woKS5jb21wbGV0ZSgpLGguc2V0Q29udHJvbChudWxsKSksIXUuY3VycmVudCl0aHJvdyBuZXcgRXJyb3IoXCJzY29wZSBub3QgcmVhZHlcIik7dCBpbnN0YW5jZW9mIExhP09iamVjdC5hc3NpZ24odS5jdXJyZW50LnN0eWxlLHQucHJvcFRvQ1NTKG4scy5zdGF0ZSxyLnRyYW5zZm9ybU92ZXJ3cml0ZXMpKTpPYmplY3QuYXNzaWduKHUuY3VycmVudC5zdHlsZSx0KX1mdW5jdGlvbiBfKHQpe3JldHVybiBmKHQpLHQ/bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3ZhciByPXQuZXZlbnRzLm9uRXZlbnRzKFt7dHlwZTprYy51cGRhdGUsbGlzdGVuZXI6dC5ldmVudHMub24oa2MudXBkYXRlLChmdW5jdGlvbih0KXtwKHQpfSkpfSx7dHlwZTprYy5lbmQsbGlzdGVuZXI6dC5ldmVudHMub24oa2MuZW5kLChmdW5jdGlvbigpe2YobnVsbCksbi5sb2dnZXIuZGVidWcoXCJzY2VuZSBiYWNrZ3JvdW5kIHRyYW5zaXRpb24gZW5kXCIsdCl9KSl9LHt0eXBlOmtjLnN0YXJ0LGxpc3RlbmVyOnQuZXZlbnRzLm9uKGtjLnN0YXJ0LChmdW5jdGlvbigpe24ubG9nZ2VyLmRlYnVnKFwic2NlbmUgYmFja2dyb3VuZCB0cmFuc2l0aW9uIHN0YXJ0XCIsdCl9KSl9XSk7dC5zdGFydCgoZnVuY3Rpb24oKXtyLmNhbmNlbCgpLGUoKX0pKX0pKToobi5sb2dnZXIud2FybihcInRyYW5zaXRpb24gbm90IHNldFwiKSxQcm9taXNlLnJlc29sdmUoKSl9ZnVuY3Rpb24gUyh0KXtyZXR1cm4gTWQodGhpcyx2b2lkIDAsdm9pZCAwLExkKCkubWFyaygoZnVuY3Rpb24gZSgpe3JldHVybiBMZCgpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiB3KHQucHJvcFRvQ1NTKG4scy5zdGF0ZSxyLnRyYW5zZm9ybU92ZXJ3cml0ZXMpKSx5KHQpLGUubmV4dD00LHQuYW5pbWF0ZSh7c2NvcGU6dSx0YXJnZXQ6cyxvdmVyd3JpdGVzOnIudHJhbnNmb3JtT3ZlcndyaXRlc30sbiwoZnVuY3Rpb24oZSl7cy5zdGF0ZT1iKHMuc3RhdGUsZSksZyh7c3R5bGU6dC5wcm9wVG9DU1MobixzLnN0YXRlLHIudHJhbnNmb3JtT3ZlcndyaXRlcyl9KSx5KG51bGwpfSkpO2Nhc2UgNDpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpfXJldHVybigwLG9mLnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7dmFyIHQ9XCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zaXRpb25cIixvPVwiZXZlbnQ6ZGlzcGxheWFibGUuYXBwbHlUcmFuc2Zvcm1cIixhPVwiZXZlbnQ6ZGlzcGxheWFibGUuaW5pdFwiLGM9aS5ldmVudHMub25FdmVudHMoW3t0eXBlOnQsbGlzdGVuZXI6aS5ldmVudHMub24odCxfKX0se3R5cGU6byxsaXN0ZW5lcjppLmV2ZW50cy5vbihvLFMpfSx7dHlwZTphLGxpc3RlbmVyOmkuZXZlbnRzLm9uKGEsKGZ1bmN0aW9uKCl7cmV0dXJuIE1kKGUsdm9pZCAwLHZvaWQgMCxMZCgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZTtyZXR1cm4gTGQoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gZT1pLnRvRGlzcGxheWFibGVUcmFuc2Zvcm0oKSxuLmxvZ2dlci5kZWJ1ZyhcImluaXQgdHJhbnNmb3JtXCIsZSksdC5uZXh0PTQsZS5hbmltYXRlKHtzY29wZTp1LHRhcmdldDpzLG92ZXJ3cml0ZXM6ci50cmFuc2Zvcm1PdmVyd3JpdGVzfSxuLChmdW5jdGlvbih0KXtzLnN0YXRlPWIocy5zdGF0ZSx0KX0pKTtjYXNlIDQ6Y2FzZVwiZW5kXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKX0pKX1dKTtyZXR1cm4gZnVuY3Rpb24oKXtjLmNhbmNlbCgpfX0pLFtdKSwoMCxvZi51c2VFZmZlY3QpKChmdW5jdGlvbigpe2lmKCF1LmN1cnJlbnQpdGhyb3cgbmV3IEVycm9yKFwiU2NvcGUgbm90IHJlYWR5LiBVc2luZyBlbGVtZW50OiBcIi5jb25jYXQoaS5jb25zdHJ1Y3Rvci5uYW1lKSk7dyhzLnN0YXRlKX0pLFtdKSwoMCxvZi51c2VFZmZlY3QpKChmdW5jdGlvbigpe3ZhciB0PW4uZXZlbnRzLm9uRXZlbnRzKFt7dHlwZTplZi5FdmVudFR5cGVzW1wiZXZlbnQ6c3RhdGUucGxheWVyLnNraXBcIl0sbGlzdGVuZXI6bi5ldmVudHMub24oZWYuRXZlbnRUeXBlc1tcImV2ZW50OnN0YXRlLnBsYXllci5za2lwXCJdLChmdW5jdGlvbigpe3Iuc2tpcFRyYW5zZm9ybSYmaCYmaC5nZXRDb250cm9sKCkmJihoLmdldENvbnRyb2woKS5jb21wbGV0ZSgpLGguc2V0Q29udHJvbChudWxsKSxuLmxvZ2dlci5kZWJ1ZyhcInRyYW5zZm9ybSBza2lwXCIpKSxyLnNraXBUcmFuc2l0aW9uJiZsJiZsLmNvbnRyb2xsZXImJihsLmNvbnRyb2xsZXIuY29tcGxldGUoKSxmKG51bGwpLG4ubG9nZ2VyLmRlYnVnKFwidHJhbnNpdGlvbiBza2lwXCIpKX0pKX1dKTtyZXR1cm4gZnVuY3Rpb24oKXt0LmNhbmNlbCgpfX0pLFtsLGhdKSxhZigpLmNyZWF0ZUVsZW1lbnQoYWYoKS5GcmFnbWVudCxudWxsLG8oe3RyYW5zZm9ybVJlZjp1LHRyYW5zaXRpb246bCx0cmFuc2Zvcm06aCx0cmFuc2Zvcm1Qcm9wczptLHN0YXRlOm59KSl9ZnVuY3Rpb24gRmQodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbD09dD9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYobnVsbCE9bil7dmFyIHIsbyxpLGEscz1bXSx1PSEwLGM9ITE7dHJ5e2lmKGk9KG49bi5jYWxsKHQpKS5uZXh0LDA9PT1lKXtpZihPYmplY3QobikhPT1uKXJldHVybjt1PSExfWVsc2UgZm9yKDshKHU9KHI9aS5jYWxsKG4pKS5kb25lKSYmKHMucHVzaChyLnZhbHVlKSxzLmxlbmd0aCE9PWUpO3U9ITApO31jYXRjaCh0KXtjPSEwLG89dH1maW5hbGx5e3RyeXtpZighdSYmbnVsbCE9bi5yZXR1cm4mJihhPW4ucmV0dXJuKCksT2JqZWN0KGEpIT09YSkpcmV0dXJufWZpbmFsbHl7aWYoYyl0aHJvdyBvfX1yZXR1cm4gc319KHQsZSl8fGZ1bmN0aW9uKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIERkKHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/RGQodCxlKTp2b2lkIDB9fSh0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gRGQodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIEJkKCl7cmV0dXJuIEJkPU9iamVjdC5hc3NpZ24/T2JqZWN0LmFzc2lnbi5iaW5kKCk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKSh7fSkuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH0sQmQuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIFZkKHQpe3ZhciBlPXQuc2NlbmUsbj10LnByb3BzLHI9dC5zdGF0ZTtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KFJkLHtkaXNwbGF5YWJsZTp7ZWxlbWVudDplLHNraXBUcmFuc2Zvcm06ci5nYW1lLmNvbmZpZy5lbGVtZW50cy5iYWNrZ3JvdW5kLmFsbG93U2tpcFRyYW5zZm9ybSxza2lwVHJhbnNpdGlvbjpyLmdhbWUuY29uZmlnLmVsZW1lbnRzLmJhY2tncm91bmQuYWxsb3dTa2lwVHJhbnNpdGlvbn0sY2hpbGQ6ZnVuY3Rpb24odCl7cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChHZCxCZCh7fSx0LHtzY2VuZTplLHByb3BzOm59KSl9LHN0YXRlOnJ9KX1mdW5jdGlvbiBHZCh0KXt2YXIgZT10LnRyYW5zZm9ybVJlZixuPXQudHJhbnNmb3JtUHJvcHMscj10LnRyYW5zaXRpb24sbz10LnN0YXRlLGk9dC5zY2VuZSxhPXQucHJvcHMscz15ZigpLnJhdGlvLHU9RmQoYWYoKS51c2VTdGF0ZSghMSksMiksYz11WzBdLGw9dVsxXTtmdW5jdGlvbiBmKCl7Y3x8KGwoITApLGkuZXZlbnRzLmVtaXQobGwuRXZlbnRUeXBlc1tcImV2ZW50OnNjZW5lLmltYWdlTG9hZGVkXCJdKSxvLmxvZ2dlci5kZWJ1ZyhcIkJhY2tncm91bmRUcmFuc2l0aW9uXCIsXCJJbWFnZSBsb2FkZWRcIixpKSl9dmFyIHAsZD1cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBUUFBQUMxSEF3Q0FBQUFDMGxFUVZSNDJtUDgvd2NBQWdBQjlzV0ZYVGtBQUFBQVNVVk9SSzVDWUlJPVwiLGg9e3NyYzpkLHN0eWxlOk9iamVjdC5hc3NpZ24oe30sby5nYW1lLmNvbmZpZy5hcHAuZGVidWc/e2JvcmRlcjpcIjFweCBzb2xpZCByZWRcIn06e30pfTtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsbnVsbCxhZigpLmNyZWF0ZUVsZW1lbnQoamQuZGl2LEJkKHtsYXlvdXQ6ITAscmVmOmUsY2xhc3NOYW1lOlwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1jb3ZlciBiZy1jZW50ZXIgb3ZlcmZsb3ctaGlkZGVuXCJ9LGIoe3N0eWxlOk9iamVjdC5hc3NpZ24oe30scy5nZXRTdHlsZSgpKX0sbikpLHI/ci50b0VsZW1lbnRQcm9wcygpLm1hcCgoZnVuY3Rpb24odCxlKXt2YXIgbj1iKGgsYSx0KTtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KFwiaW1nXCIsQmQoe2FsdDpuLmFsdH0sbix7b25Mb2FkOmYsc3JjOm4uc3JjP24uc3JjOmQsY2xhc3NOYW1lOlwiYWJzb2x1dGVcIixrZXk6ZX0pKX0pKToocD1iKGgsYSksYWYoKS5jcmVhdGVFbGVtZW50KFwiaW1nXCIsQmQoe2tleTpcImxhc3RcIixhbHQ6cC5hbHR9LHAse29uTG9hZDpmLHNyYzpwLnNyY3x8ZCxjbGFzc05hbWU6XCJhYnNvbHV0ZVwifSkpKSkpfWZ1bmN0aW9uIFVkKHQpe3JldHVybiBVZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxVZCh0KX1mdW5jdGlvbiBIZCgpey8qISByZWdlbmVyYXRvci1ydW50aW1lIC0tIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLiAtLSBsaWNlbnNlIChNSVQpOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL0xJQ0VOU0UgKi9IZD1mdW5jdGlvbigpe3JldHVybiBlfTt2YXIgdCxlPXt9LG49T2JqZWN0LnByb3RvdHlwZSxyPW4uaGFzT3duUHJvcGVydHksbz1PYmplY3QuZGVmaW5lUHJvcGVydHl8fGZ1bmN0aW9uKHQsZSxuKXt0W2VdPW4udmFsdWV9LGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxhPWkuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLHM9aS5hc3luY0l0ZXJhdG9yfHxcIkBAYXN5bmNJdGVyYXRvclwiLHU9aS50b1N0cmluZ1RhZ3x8XCJAQHRvU3RyaW5nVGFnXCI7ZnVuY3Rpb24gYyh0LGUsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSx0W2VdfXRyeXtjKHt9LFwiXCIpfWNhdGNoKHQpe2M9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW59fWZ1bmN0aW9uIGwodCxlLG4scil7dmFyIGk9ZSYmZS5wcm90b3R5cGUgaW5zdGFuY2VvZiBtP2U6bSxhPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLHM9bmV3IGoocnx8W10pO3JldHVybiBvKGEsXCJfaW52b2tlXCIse3ZhbHVlOk8odCxuLHMpfSksYX1mdW5jdGlvbiBmKHQsZSxuKXt0cnl7cmV0dXJue3R5cGU6XCJub3JtYWxcIixhcmc6dC5jYWxsKGUsbil9fWNhdGNoKHQpe3JldHVybnt0eXBlOlwidGhyb3dcIixhcmc6dH19fWUud3JhcD1sO3ZhciBwPVwic3VzcGVuZGVkU3RhcnRcIixkPVwic3VzcGVuZGVkWWllbGRcIixoPVwiZXhlY3V0aW5nXCIseT1cImNvbXBsZXRlZFwiLHY9e307ZnVuY3Rpb24gbSgpe31mdW5jdGlvbiBnKCl7fWZ1bmN0aW9uIGIoKXt9dmFyIHc9e307Yyh3LGEsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIF89T2JqZWN0LmdldFByb3RvdHlwZU9mLFM9XyYmXyhfKEMoW10pKSk7UyYmUyE9PW4mJnIuY2FsbChTLGEpJiYodz1TKTt2YXIgaz1iLnByb3RvdHlwZT1tLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpO2Z1bmN0aW9uIHgodCl7W1wibmV4dFwiLFwidGhyb3dcIixcInJldHVyblwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtjKHQsZSwoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ludm9rZShlLHQpfSkpfSkpfWZ1bmN0aW9uIEEodCxlKXtmdW5jdGlvbiBuKG8saSxhLHMpe3ZhciB1PWYodFtvXSx0LGkpO2lmKFwidGhyb3dcIiE9PXUudHlwZSl7dmFyIGM9dS5hcmcsbD1jLnZhbHVlO3JldHVybiBsJiZcIm9iamVjdFwiPT1VZChsKSYmci5jYWxsKGwsXCJfX2F3YWl0XCIpP2UucmVzb2x2ZShsLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKHQpe24oXCJuZXh0XCIsdCxhLHMpfSksKGZ1bmN0aW9uKHQpe24oXCJ0aHJvd1wiLHQsYSxzKX0pKTplLnJlc29sdmUobCkudGhlbigoZnVuY3Rpb24odCl7Yy52YWx1ZT10LGEoYyl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIG4oXCJ0aHJvd1wiLHQsYSxzKX0pKX1zKHUuYXJnKX12YXIgaTtvKHRoaXMsXCJfaW52b2tlXCIse3ZhbHVlOmZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gbygpe3JldHVybiBuZXcgZSgoZnVuY3Rpb24oZSxvKXtuKHQscixlLG8pfSkpfXJldHVybiBpPWk/aS50aGVuKG8sbyk6bygpfX0pfWZ1bmN0aW9uIE8oZSxuLHIpe3ZhciBvPXA7cmV0dXJuIGZ1bmN0aW9uKGksYSl7aWYobz09PWgpdGhyb3cgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2lmKG89PT15KXtpZihcInRocm93XCI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgcz1yLmRlbGVnYXRlO2lmKHMpe3ZhciB1PVQocyxyKTtpZih1KXtpZih1PT09diljb250aW51ZTtyZXR1cm4gdX19aWYoXCJuZXh0XCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKFwidGhyb3dcIj09PXIubWV0aG9kKXtpZihvPT09cCl0aHJvdyBvPXksci5hcmc7ci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZyl9ZWxzZVwicmV0dXJuXCI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoXCJyZXR1cm5cIixyLmFyZyk7bz1oO3ZhciBjPWYoZSxuLHIpO2lmKFwibm9ybWFsXCI9PT1jLnR5cGUpe2lmKG89ci5kb25lP3k6ZCxjLmFyZz09PXYpY29udGludWU7cmV0dXJue3ZhbHVlOmMuYXJnLGRvbmU6ci5kb25lfX1cInRocm93XCI9PT1jLnR5cGUmJihvPXksci5tZXRob2Q9XCJ0aHJvd1wiLHIuYXJnPWMuYXJnKX19fWZ1bmN0aW9uIFQoZSxuKXt2YXIgcj1uLm1ldGhvZCxvPWUuaXRlcmF0b3Jbcl07aWYobz09PXQpcmV0dXJuIG4uZGVsZWdhdGU9bnVsbCxcInRocm93XCI9PT1yJiZlLml0ZXJhdG9yLnJldHVybiYmKG4ubWV0aG9kPVwicmV0dXJuXCIsbi5hcmc9dCxUKGUsbiksXCJ0aHJvd1wiPT09bi5tZXRob2QpfHxcInJldHVyblwiIT09ciYmKG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIrcitcIicgbWV0aG9kXCIpKSx2O3ZhciBpPWYobyxlLml0ZXJhdG9yLG4uYXJnKTtpZihcInRocm93XCI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1pLmFyZyxuLmRlbGVnYXRlPW51bGwsdjt2YXIgYT1pLmFyZztyZXR1cm4gYT9hLmRvbmU/KG5bZS5yZXN1bHROYW1lXT1hLnZhbHVlLG4ubmV4dD1lLm5leHRMb2MsXCJyZXR1cm5cIiE9PW4ubWV0aG9kJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9dCksbi5kZWxlZ2F0ZT1udWxsLHYpOmE6KG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksbi5kZWxlZ2F0ZT1udWxsLHYpfWZ1bmN0aW9uIEUodCl7dmFyIGU9e3RyeUxvYzp0WzBdfTsxIGluIHQmJihlLmNhdGNoTG9jPXRbMV0pLDIgaW4gdCYmKGUuZmluYWxseUxvYz10WzJdLGUuYWZ0ZXJMb2M9dFszXSksdGhpcy50cnlFbnRyaWVzLnB1c2goZSl9ZnVuY3Rpb24gUCh0KXt2YXIgZT10LmNvbXBsZXRpb258fHt9O2UudHlwZT1cIm5vcm1hbFwiLGRlbGV0ZSBlLmFyZyx0LmNvbXBsZXRpb249ZX1mdW5jdGlvbiBqKHQpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzpcInJvb3RcIn1dLHQuZm9yRWFjaChFLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIEMoZSl7aWYoZXx8XCJcIj09PWUpe3ZhciBuPWVbYV07aWYobilyZXR1cm4gbi5jYWxsKGUpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUubmV4dClyZXR1cm4gZTtpZighaXNOYU4oZS5sZW5ndGgpKXt2YXIgbz0tMSxpPWZ1bmN0aW9uIG4oKXtmb3IoOysrbzxlLmxlbmd0aDspaWYoci5jYWxsKGUsbykpcmV0dXJuIG4udmFsdWU9ZVtvXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT10LG4uZG9uZT0hMCxufTtyZXR1cm4gaS5uZXh0PWl9fXRocm93IG5ldyBUeXBlRXJyb3IoVWQoZSkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpfXJldHVybiBnLnByb3RvdHlwZT1iLG8oayxcImNvbnN0cnVjdG9yXCIse3ZhbHVlOmIsY29uZmlndXJhYmxlOiEwfSksbyhiLFwiY29uc3RydWN0b3JcIix7dmFsdWU6Zyxjb25maWd1cmFibGU6ITB9KSxnLmRpc3BsYXlOYW1lPWMoYix1LFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksZS5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFlJiYoZT09PWd8fFwiR2VuZXJhdG9yRnVuY3Rpb25cIj09PShlLmRpc3BsYXlOYW1lfHxlLm5hbWUpKX0sZS5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsYik6KHQuX19wcm90b19fPWIsYyh0LHUsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrKSx0fSxlLmF3cmFwPWZ1bmN0aW9uKHQpe3JldHVybntfX2F3YWl0OnR9fSx4KEEucHJvdG90eXBlKSxjKEEucHJvdG90eXBlLHMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksZS5Bc3luY0l0ZXJhdG9yPUEsZS5hc3luYz1mdW5jdGlvbih0LG4scixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBBKGwodCxuLHIsbyksaSk7cmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRvbmU/dC52YWx1ZTphLm5leHQoKX0pKX0seChrKSxjKGssdSxcIkdlbmVyYXRvclwiKSxjKGssYSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxjKGssXCJ0b1N0cmluZ1wiLChmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBHZW5lcmF0b3JdXCJ9KSksZS5rZXlzPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdCh0KSxuPVtdO2Zvcih2YXIgciBpbiBlKW4ucHVzaChyKTtyZXR1cm4gbi5yZXZlcnNlKCksZnVuY3Rpb24gdCgpe2Zvcig7bi5sZW5ndGg7KXt2YXIgcj1uLnBvcCgpO2lmKHIgaW4gZSlyZXR1cm4gdC52YWx1ZT1yLHQuZG9uZT0hMSx0fXJldHVybiB0LmRvbmU9ITAsdH19LGUudmFsdWVzPUMsai5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmoscmVzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9dCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goUCksIWUpZm9yKHZhciBuIGluIHRoaXMpXCJ0XCI9PT1uLmNoYXJBdCgwKSYmci5jYWxsKHRoaXMsbikmJiFpc05hTigrbi5zbGljZSgxKSkmJih0aGlzW25dPXQpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciB0PXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLmRvbmUpdGhyb3cgZTt2YXIgbj10aGlzO2Z1bmN0aW9uIG8ocixvKXtyZXR1cm4gcy50eXBlPVwidGhyb3dcIixzLmFyZz1lLG4ubmV4dD1yLG8mJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz10KSwhIW99Zm9yKHZhciBpPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtpPj0wOy0taSl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW2ldLHM9YS5jb21wbGV0aW9uO2lmKFwicm9vdFwiPT09YS50cnlMb2MpcmV0dXJuIG8oXCJlbmRcIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIHU9ci5jYWxsKGEsXCJjYXRjaExvY1wiKSxjPXIuY2FsbChhLFwiZmluYWxseUxvY1wiKTtpZih1JiZjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9ZWxzZSBpZih1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCFjKXRocm93IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gbyhhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgbz10aGlzLnRyeUVudHJpZXNbbl07aWYoby50cnlMb2M8PXRoaXMucHJldiYmci5jYWxsKG8sXCJmaW5hbGx5TG9jXCIpJiZ0aGlzLnByZXY8by5maW5hbGx5TG9jKXt2YXIgaT1vO2JyZWFrfX1pJiYoXCJicmVha1wiPT09dHx8XCJjb250aW51ZVwiPT09dCkmJmkudHJ5TG9jPD1lJiZlPD1pLmZpbmFsbHlMb2MmJihpPW51bGwpO3ZhciBhPWk/aS5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9dCxhLmFyZz1lLGk/KHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMubmV4dD1pLmZpbmFsbHlMb2Msdik6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24odCxlKXtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuXCJicmVha1wiPT09dC50eXBlfHxcImNvbnRpbnVlXCI9PT10LnR5cGU/dGhpcy5uZXh0PXQuYXJnOlwicmV0dXJuXCI9PT10LnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz10LmFyZyx0aGlzLm1ldGhvZD1cInJldHVyblwiLHRoaXMubmV4dD1cImVuZFwiKTpcIm5vcm1hbFwiPT09dC50eXBlJiZlJiYodGhpcy5uZXh0PWUpLHZ9LGZpbmlzaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi5maW5hbGx5TG9jPT09dClyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksUChuKSx2fX0sY2F0Y2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4udHJ5TG9jPT09dCl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXIudHlwZSl7dmFyIG89ci5hcmc7UChuKX1yZXR1cm4gb319dGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpDKGUpLHJlc3VsdE5hbWU6bixuZXh0TG9jOnJ9LFwibmV4dFwiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz10KSx2fX0sZX1mdW5jdGlvbiB6ZCh0LGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fSh0KXx8ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsPT10P251bGw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZihudWxsIT1uKXt2YXIgcixvLGksYSxzPVtdLHU9ITAsYz0hMTt0cnl7aWYoaT0obj1uLmNhbGwodCkpLm5leHQsMD09PWUpe2lmKE9iamVjdChuKSE9PW4pcmV0dXJuO3U9ITF9ZWxzZSBmb3IoOyEodT0ocj1pLmNhbGwobikpLmRvbmUpJiYocy5wdXNoKHIudmFsdWUpLHMubGVuZ3RoIT09ZSk7dT0hMCk7fWNhdGNoKHQpe2M9ITAsbz10fWZpbmFsbHl7dHJ5e2lmKCF1JiZudWxsIT1uLnJldHVybiYmKGE9bi5yZXR1cm4oKSxPYmplY3QoYSkhPT1hKSlyZXR1cm59ZmluYWxseXtpZihjKXRocm93IG99fXJldHVybiBzfX0odCxlKXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gV2QodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9XZCh0LGUpOnZvaWQgMH19KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBXZCh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9dmFyICRkPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihvLGkpe2Z1bmN0aW9uIGEodCl7dHJ5e3Uoci5uZXh0KHQpKX1jYXRjaCh0KXtpKHQpfX1mdW5jdGlvbiBzKHQpe3RyeXt1KHIudGhyb3codCkpfWNhdGNoKHQpe2kodCl9fWZ1bmN0aW9uIHUodCl7dmFyIGU7dC5kb25lP28odC52YWx1ZSk6KGU9dC52YWx1ZSxlIGluc3RhbmNlb2Ygbj9lOm5ldyBuKChmdW5jdGlvbih0KXt0KGUpfSkpKS50aGVuKGEscyl9dSgocj1yLmFwcGx5KHQsZXx8W10pKS5uZXh0KCkpfSkpfTtmdW5jdGlvbiBZZCh0KXt2YXIgZT10LnNjZW5lLG49dC5zdGF0ZSxyPXQuY2hpbGRyZW4sbz10LmNsYXNzTmFtZSxpPXlmKCkucmF0aW8sYT16ZCgoMCxvZi51c2VTdGF0ZSkoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuc3RhdGUuYmFja2dyb3VuZE11c2ljfSkpLDIpLHM9YVswXSx1PWFbMV07cmV0dXJuKDAsb2YudXNlRWZmZWN0KSgoZnVuY3Rpb24oKXt2YXIgdD1be3R5cGU6XCJldmVudDpzY2VuZS5zZXRCYWNrZ3JvdW5kTXVzaWNcIixsaXN0ZW5lcjplLmV2ZW50cy5vbihsbC5FdmVudFR5cGVzW1wiZXZlbnQ6c2NlbmUuc2V0QmFja2dyb3VuZE11c2ljXCJdLChmdW5jdGlvbih0LGUpeyhmdW5jdGlvbih0LGUpe3JldHVybiAkZCh0aGlzLHZvaWQgMCx2b2lkIDAsSGQoKS5tYXJrKChmdW5jdGlvbiByKCl7dmFyIG8saTtyZXR1cm4gSGQoKS53cmFwKChmdW5jdGlvbihyKXtmb3IoOzspc3dpdGNoKHIucHJldj1yLm5leHQpe2Nhc2UgMDpyZXR1cm4gbz1zLGk9dCxyLm5leHQ9NCxuLnRyYW5zaXRpb25Tb3VuZChvLGksZSk7Y2FzZSA0OmlmKGkpe3IubmV4dD02O2JyZWFrfXJldHVybiByLmFicnVwdChcInJldHVyblwiKTtjYXNlIDY6dShpKTtjYXNlIDc6Y2FzZVwiZW5kXCI6cmV0dXJuIHIuc3RvcCgpfX0pLHIpfSkpKX0pKHQsZSkudGhlbigpfSkpfSx7dHlwZTpcImV2ZW50OnNjZW5lLnByZVVubW91bnRcIixsaXN0ZW5lcjplLmV2ZW50cy5vbihsbC5FdmVudFR5cGVzW1wiZXZlbnQ6c2NlbmUucHJlVW5tb3VudFwiXSwoZnVuY3Rpb24oKXtzJiZmdW5jdGlvbih0LGUpe3JldHVybiAkZCh0aGlzLHZvaWQgMCx2b2lkIDAsSGQoKS5tYXJrKChmdW5jdGlvbiByKCl7cmV0dXJuIEhkKCkud3JhcCgoZnVuY3Rpb24ocil7Zm9yKDs7KXN3aXRjaChyLnByZXY9ci5uZXh0KXtjYXNlIDA6cmV0dXJuIHIubmV4dD0yLG4uZmFkZVNvdW5kKHQsMCxlKTtjYXNlIDI6bi5zdG9wU291bmQodCk7Y2FzZSAzOmNhc2VcImVuZFwiOnJldHVybiByLnN0b3AoKX19KSxyKX0pKSl9KHMsZS5zdGF0ZS5iYWNrZ3JvdW5kTXVzaWNGYWRlKS50aGVuKCl9KSl9XTtyZXR1cm4gZnVuY3Rpb24oKXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPXQudHlwZSxyPXQubGlzdGVuZXI7ZS5ldmVudHMub2ZmKG4scil9KSl9fSksW10pLCgwLG9mLnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZXZlbnRzLmVtaXQobGwuRXZlbnRUeXBlc1tcImV2ZW50OnNjZW5lLm1vdW50XCJdKSxmdW5jdGlvbigpe2UuZXZlbnRzLmVtaXQobGwuRXZlbnRUeXBlc1tcImV2ZW50OnNjZW5lLnVubW91bnRcIl0pfX0pLFtdKSxhZigpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOm99LGFmKCkuY3JlYXRlRWxlbWVudChWZCx7c2NlbmU6ZSxwcm9wczp7d2lkdGg6aS5zdGF0ZS53aWR0aCxoZWlnaHQ6aS5zdGF0ZS5oZWlnaHQsc3JjOmJzLmlzSW1hZ2VTcmMoZS5zdGF0ZS5iYWNrZ3JvdW5kKT9icy5zcmNUb1N0cmluZyhlLnN0YXRlLmJhY2tncm91bmQpOnZvaWQgMCxzdHlsZTp7YmFja2dyb3VuZENvbG9yOmJzLmlzSW1hZ2VDb2xvcihlLnN0YXRlLmJhY2tncm91bmQpP2JzLnRvSGV4KGUuc3RhdGUuYmFja2dyb3VuZCk6dm9pZCAwfX0sc3RhdGU6bn0pLHIpfWZ1bmN0aW9uIHFkKCl7cmV0dXJuIHFkPU9iamVjdC5hc3NpZ24/T2JqZWN0LmFzc2lnbi5iaW5kKCk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKSh7fSkuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH0scWQuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIFhkKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe3ZhciBuPW51bGw9PXQ/bnVsbDpcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKG51bGwhPW4pe3ZhciByLG8saSxhLHM9W10sdT0hMCxjPSExO3RyeXtpZihpPShuPW4uY2FsbCh0KSkubmV4dCwwPT09ZSl7aWYoT2JqZWN0KG4pIT09bilyZXR1cm47dT0hMX1lbHNlIGZvcig7ISh1PShyPWkuY2FsbChuKSkuZG9uZSkmJihzLnB1c2goci52YWx1ZSkscy5sZW5ndGghPT1lKTt1PSEwKTt9Y2F0Y2godCl7Yz0hMCxvPXR9ZmluYWxseXt0cnl7aWYoIXUmJm51bGwhPW4ucmV0dXJuJiYoYT1uLnJldHVybigpLE9iamVjdChhKSE9PWEpKXJldHVybn1maW5hbGx5e2lmKGMpdGhyb3cgb319cmV0dXJuIHN9fSh0LGUpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBLZCh0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP0tkKHQsZSk6dm9pZCAwfX0odCxlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIEtkKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBaZCh0KXt2YXIgZT10LmltYWdlLG49dC5zdGF0ZSxyPVhkKCgwLG9mLnVzZVN0YXRlKSgwKSwyKSxvPXJbMF0saT1yWzFdLGE9TGYoKS5nYW1lOygwLG9mLnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7aShwZXJmb3JtYW5jZS5ub3coKSl9KSxbXSk7dmFyIHM9ZnVuY3Rpb24oKXt2YXIgdD1wZXJmb3JtYW5jZS5ub3coKS1vLGU9YS5jb25maWcuZWxlbWVudHMuaW1nLnNsb3dMb2FkVGhyZXNob2xkO3Q+ZSYmYS5jb25maWcuZWxlbWVudHMuaW1nLnNsb3dMb2FkV2FybmluZyYmbi5sb2dnZXIud2FybihcIk5hcnJhTGVhZi1SZWFjdFwiLFwiSW1hZ2UgdG9vayBcIi5jb25jYXQodCxcIm1zIHRvIGxvYWQsIHdoaWNoIGV4Y2VlZHMgdGhlIHRocmVzaG9sZCBvZiBcIikuY29uY2F0KGUsXCJtcy4gXCIpK1wiQ29uc2lkZXIgZW5hYmxlIGNhY2hlIGZvciB0aGUgaW1hZ2UsIHNvIFByZWxvYWRlciBjYW4gcHJlbG9hZCBpdCBiZWZvcmUgaXQncyB1c2VkLiBUbyBkaXNhYmxlIHRoaXMgd2FybmluZywgc2V0IGBlbGVtZW50cy5pbWcuc2xvd0xvYWRXYXJuaW5nYCB0byBmYWxzZSBpbiB0aGUgZ2FtZSBjb25maWcuXCIpfTtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KFJkLHtkaXNwbGF5YWJsZTp7ZWxlbWVudDplLHNraXBUcmFuc2l0aW9uOm4uZ2FtZS5jb25maWcuZWxlbWVudHMuaW1nLmFsbG93U2tpcFRyYW5zaXRpb24sc2tpcFRyYW5zZm9ybTpuLmdhbWUuY29uZmlnLmVsZW1lbnRzLmltZy5hbGxvd1NraXBUcmFuc2Zvcm19LGNoaWxkOmZ1bmN0aW9uKHQpe3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoUWQscWQoe30sdCx7aW1hZ2U6ZSxoYW5kbGVMb2FkOnN9KSl9LHN0YXRlOm59KX1mdW5jdGlvbiBRZCh0KXt2YXIgZT10LnRyYW5zaXRpb24sbj10LnRyYW5zZm9ybVByb3BzLHI9dC50cmFuc2Zvcm1SZWYsbz10LnN0YXRlLGk9dC5pbWFnZSxhPXQuaGFuZGxlTG9hZCxzPXtzcmM6YnMuc3RhdGljSW1hZ2VEYXRhVG9TcmMoaS5zdGF0ZS5zcmMpLHN0eWxlOk9iamVjdC5hc3NpZ24oe30sby5nYW1lLmNvbmZpZy5hcHAuZGVidWc/e2JvcmRlcjpcIjFweCBzb2xpZCByZWRcIn06e30pfTtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcIlwifSxhZigpLmNyZWF0ZUVsZW1lbnQoamQuZGl2LHFkKHtsYXlvdXQ6ITAscmVmOnIsY2xhc3NOYW1lOlwiYWJzb2x1dGVcIn0sYih7c3R5bGU6e29wYWNpdHk6MH19LG4pKSxlP2FmKCkuY3JlYXRlRWxlbWVudChhZigpLkZyYWdtZW50LG51bGwsZS50b0VsZW1lbnRQcm9wcygpLm1hcCgoZnVuY3Rpb24odCxlLG4pe3ZhciByPWIocyx0LHtzdHlsZTp7dHJhbnNmb3JtOlwidHJhbnNsYXRlKC01MCUsIC01MCUpXCJ9fSk7cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChqZC5pbWcscWQoe2NsYXNzTmFtZTpcImFic29sdXRlXCIsa2V5OmU9PT1uLmxlbmd0aC0xP1wibGFzdFwiOmUsYWx0OnIuYWx0fSxyLHtvbkxvYWQ6YSxsYXlvdXQ6ITB9KSl9KSkpOmFmKCkuY3JlYXRlRWxlbWVudChqZC5pbWcscWQoe2FsdDpcImltYWdlXCIsa2V5OlwibGFzdFwifSxiKHMse3N0eWxlOnt0cmFuc2Zvcm06XCJ0cmFuc2xhdGUoLTUwJSwgNTAlKVwifX0pLHtvbkxvYWQ6YSxsYXlvdXQ6ITB9KSksKGkuZXZlbnRzLmVtaXQocWEuRXZlbnRUeXBlc1tcImV2ZW50OmltYWdlLmZsdXNoXCJdKSxudWxsKSkpfWZ1bmN0aW9uIEpkKHQpe3JldHVybiBKZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxKZCh0KX1mdW5jdGlvbiB0aCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlaChyLmtleSkscil9fWZ1bmN0aW9uIGVoKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9SmQodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9SmQocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1KZChlKT9lOmUrXCJcIn12YXIgbmg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLnByZWxvYWRlZD1bXSx0aGlzLmV2ZW50cz1uZXcga31yZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZ0aCh0LnByb3RvdHlwZSxlKSxuJiZ0aCh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0odCxbe2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhhcyh0aGlzLmdldFNyYyhlKSl8fCh0aGlzLnByZWxvYWRlZC5wdXNoKGUpLHRoaXMuZXZlbnRzLmVtaXQodC5FdmVudFR5cGVzW1wiZXZlbnQ6cHJlbG9hZGVkLmFkZFwiXSxlKSx0aGlzLmV2ZW50cy5lbWl0KHQuRXZlbnRUeXBlc1tcImV2ZW50OnByZWxvYWRlZC5jaGFuZ2VcIl0pKSx0aGlzfX0se2tleTpcImdldFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMucHJlbG9hZGVkLmZpbmQoKGZ1bmN0aW9uKG4pe3JldHVybiBlLmdldFNyYyhuKT09PXR9KSl9fSx7a2V5OlwiaGFzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90LmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gZS5oYXModCl9KSk6dGhpcy5wcmVsb2FkZWQuc29tZSgoZnVuY3Rpb24obil7cmV0dXJuIGUuZ2V0U3JjKG4pPT09dH0pKX19LHtrZXk6XCJyZW1vdmVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj10aGlzO2lmKEFycmF5LmlzQXJyYXkoZSkpe3ZhciByPWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbi5nZXRTcmModCl9KSk7cmV0dXJuIHRoaXMucHJlbG9hZGVkPXRoaXMucHJlbG9hZGVkLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIXIuaW5jbHVkZXMobi5nZXRTcmModCkpfSkpLHRoaXN9dmFyIG89dGhpcy5nZXRTcmMoZSk7cmV0dXJuIHRoaXMucHJlbG9hZGVkPXRoaXMucHJlbG9hZGVkLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIG4uZ2V0U3JjKHQpIT09b30pKSx0aGlzLmV2ZW50cy5lbWl0KHQuRXZlbnRUeXBlc1tcImV2ZW50OnByZWxvYWRlZC5yZW1vdmVcIl0sZSksdGhpcy5ldmVudHMuZW1pdCh0LkV2ZW50VHlwZXNbXCJldmVudDpwcmVsb2FkZWQuY2hhbmdlXCJdKSx0aGlzfX0se2tleTpcImNsZWFyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmVsb2FkZWQ9W10sdGhpc319LHtrZXk6XCJnZXRTcmNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90OlwiaW1hZ2VcIj09PXQudHlwZT9icy5zcmNUb1N0cmluZyh0LnNyYy5zdGF0ZS5zcmMpOlwidmlkZW9cIj09PXQudHlwZT90LnNyYzpcImF1ZGlvXCI9PT10LnR5cGU/dC5zcmMuZ2V0U3JjKCk6XCJcIn19XSl9KCk7ZnVuY3Rpb24gcmgodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbD09dD9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYobnVsbCE9bil7dmFyIHIsbyxpLGEscz1bXSx1PSEwLGM9ITE7dHJ5e2lmKGk9KG49bi5jYWxsKHQpKS5uZXh0LDA9PT1lKXtpZihPYmplY3QobikhPT1uKXJldHVybjt1PSExfWVsc2UgZm9yKDshKHU9KHI9aS5jYWxsKG4pKS5kb25lKSYmKHMucHVzaChyLnZhbHVlKSxzLmxlbmd0aCE9PWUpO3U9ITApO31jYXRjaCh0KXtjPSEwLG89dH1maW5hbGx5e3RyeXtpZighdSYmbnVsbCE9bi5yZXR1cm4mJihhPW4ucmV0dXJuKCksT2JqZWN0KGEpIT09YSkpcmV0dXJufWZpbmFsbHl7aWYoYyl0aHJvdyBvfX1yZXR1cm4gc319KHQsZSl8fGZ1bmN0aW9uKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIG9oKHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/b2godCxlKTp2b2lkIDB9fSh0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gb2godCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfW5oLkV2ZW50VHlwZXM9e1wiZXZlbnQ6cHJlbG9hZGVkLmFkZFwiOlwiZXZlbnQ6cHJlbG9hZGVkLmFkZFwiLFwiZXZlbnQ6cHJlbG9hZGVkLnJlbW92ZVwiOlwiZXZlbnQ6cHJlbG9hZGVkLnJlbW92ZVwiLFwiZXZlbnQ6cHJlbG9hZGVkLmNoYW5nZVwiOlwiZXZlbnQ6cHJlbG9hZGVkLmNoYW5nZVwiLFwiZXZlbnQ6cHJlbG9hZGVkLm1vdW50XCI6XCJldmVudDpwcmVsb2FkZWQubW91bnRcIixcImV2ZW50OnByZWxvYWRlZC5yZWFkeVwiOlwiZXZlbnQ6cHJlbG9hZGVkLnJlYWR5XCJ9O3ZhciBpaD0oMCxvZi5jcmVhdGVDb250ZXh0KShudWxsKTtmdW5jdGlvbiBhaCh0KXt2YXIgZT10LmNoaWxkcmVuLG49cmgoKDAsb2YudXNlU3RhdGUpKG5ldyBuaCksMSlbMF07cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChhZigpLkZyYWdtZW50LG51bGwsYWYoKS5jcmVhdGVFbGVtZW50KGloLlByb3ZpZGVyLHt2YWx1ZTp7cHJlbG9hZGVkOm59fSxlKSl9ZnVuY3Rpb24gc2goKXtpZighaWgpdGhyb3cgbmV3IEVycm9yKFwidXNlUHJlbG9hZGVkIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBQcmVsb2FkZWRQcm92aWRlclwiKTtyZXR1cm4oMCxvZi51c2VDb250ZXh0KShpaCl9ZnVuY3Rpb24gdWgodCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGNoKHQpfSh0KXx8ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9dFtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT10W1wiQEBpdGVyYXRvclwiXSlyZXR1cm4gQXJyYXkuZnJvbSh0KX0odCl8fGZ1bmN0aW9uKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIGNoKHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/Y2godCxlKTp2b2lkIDB9fSh0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBjaCh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gbGgodCl7dmFyIGU9dC5zdGF0ZSxuPXNoKCkucHJlbG9hZGVkLHI9ZS5nZXRMYXN0U2NlbmUoKTtyZXR1cm4oMCxvZi51c2VFZmZlY3QpKChmdW5jdGlvbigpe3ZhciB0LHI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7dmFyIG89bnVsbD09PSh0PWUuZ2V0TGFzdFNjZW5lKCkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNyY01hbmFnZXIsaT0obnVsbD09PShyPWUuZ2V0TGFzdFNjZW5lKCkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnNyY01hbmFnZXIuZnV0dXJlKXx8W10sYT1bXS5jb25jYXQodWgobz9vLnNyYzpbXSksdWgoaS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNyY30pKS5mbGF0KDIpKSkscz17aW1hZ2U6bmV3IFNldCxhdWRpbzpuZXcgU2V0LHZpZGVvOm5ldyBTZXR9O2EuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC50eXBlPT09cGMuU3JjVHlwZXMuaW1hZ2U/cy5pbWFnZS5hZGQodC5zcmMpOnQudHlwZT09PXBjLlNyY1R5cGVzLmF1ZGlvP3MuYXVkaW8uYWRkKHQuc3JjKTp0LnR5cGU9PT1wYy5TcmNUeXBlcy52aWRlbyYmcy52aWRlby5hZGQodC5zcmMpfSkpLGUubG9nZ2VyLmRlYnVnKFwiUHJlbG9hZGluZ1wiLHMsaSksbi5wcmVsb2FkZWQ9bi5wcmVsb2FkZWQuZmlsdGVyKChmdW5jdGlvbih0KXtpZih0LnR5cGU9PT1wYy5TcmNUeXBlcy5hdWRpbyl7dmFyIGU9c1t0LnR5cGVdLmhhcyh0LnNyYyk7cmV0dXJuIGV8fChlPUFycmF5LmZyb20oc1t0LnR5cGVdKS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gbi5nZXRTcmModCk9PT1uLmdldFNyYyhlLmNvbmZpZy5zcmMpfSkpKSxlfWlmKHQudHlwZT09PXBjLlNyY1R5cGVzLmltYWdlKXJldHVybiBzW3QudHlwZV0uaGFzKHQuc3JjKTt2YXIgcj1uLmdldFNyYyh0KTtyZXR1cm4gc1t0LnR5cGVdLmhhcyhyKX0pKTt2YXIgdT1bXTtyZXR1cm4gcy5pbWFnZS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1uZXcgSW1hZ2U7ci5zcmM9YnMuc3JjVG9TdHJpbmcodC5zdGF0ZS5zcmMpLHIub25sb2FkPWZ1bmN0aW9uKCl7ZS5sb2dnZXIuZGVidWcoXCJJbWFnZSBsb2FkZWRcIix0LnN0YXRlLnNyYyl9LHUucHVzaChyKSxuLmFkZCh7dHlwZTpcImltYWdlXCIsc3JjOnR9KX0pKSxQcm9taXNlLmFsbChbXSkudGhlbigoZnVuY3Rpb24oKXtlLmxvZ2dlci5sb2coXCJQcmVsb2FkZWRcIixcIlByZWxvYWRlZCBcIi5jb25jYXQocy5pbWFnZS5zaXplLFwiIGltYWdlc1wiKSksbi5ldmVudHMuZW1pdChuaC5FdmVudFR5cGVzW1wiZXZlbnQ6cHJlbG9hZGVkLnJlYWR5XCJdKSxlLmV2ZW50cy5lbWl0KGVmLkV2ZW50VHlwZXNbXCJldmVudDpzdGF0ZS5wcmVsb2FkLmxvYWRlZFwiXSl9KSkscy5hdWRpby5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmdldFBsYXlpbmcoKXx8dC5zZXRQbGF5aW5nKG5ldyhlLmdldEhvd2woKSkoe3NyYzp0LmNvbmZpZy5zcmMsbG9vcDp0LmNvbmZpZy5sb29wLHZvbHVtZTp0LmNvbmZpZy52b2x1bWUsYXV0b3BsYXk6ITEscHJlbG9hZDohMH0pKX0pKSxuLmV2ZW50cy5lbWl0KG5oLkV2ZW50VHlwZXNbXCJldmVudDpwcmVsb2FkZWQubW91bnRcIl0pLGZ1bmN0aW9uKCl7dS5mb3JFYWNoKChmdW5jdGlvbih0KXt0Lm9ubG9hZD1udWxsfSkpLGUuZXZlbnRzLmVtaXQoZWYuRXZlbnRUeXBlc1tcImV2ZW50OnN0YXRlLnByZWxvYWQudW5tb3VudFwiXSksZS5sb2dnZXIuZGVidWcoXCJQcmVsb2FkIHVubW91bnRlZFwiKX19Y29uc29sZS53YXJuKFwiV2luZG93IGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudFwiKX0pLFtyXSksbnVsbH1mdW5jdGlvbiBmaCh0KXt2YXIgZT10LnN0YXRlLG49TGYoKS5nYW1lO3JldHVybigwLG9mLnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7aWYod2luZG93KXt2YXIgdCxyLG8saT0odD1mdW5jdGlvbih0KXtuLmNvbmZpZy5wbGF5ZXIuc2tpcEtleS5pbmNsdWRlcyh0LmtleSkmJmUuZXZlbnRzLmVtaXQoZWYuRXZlbnRUeXBlc1tcImV2ZW50OnN0YXRlLnBsYXllci5za2lwXCJdKX0scj1uLmNvbmZpZy5wbGF5ZXIuc2tpcEludGVydmFsLG89MCxmdW5jdGlvbigpe3ZhciBlPURhdGUubm93KCk7aWYoIShlLW88cikpcmV0dXJuIG89ZSx0LmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfSk7cmV0dXJuIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGkpLGZ1bmN0aW9uKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsaSl9fWUubG9nZ2VyLndhcm4oXCJOYXJyYUxlYWYtUmVhY3Q6IEFubm91bmNlclwiLFwiQ2Fubm90IGxpc3RlbiB0byB3aW5kb3cgZXZlbnRzXCIpfSksW10pLGFmKCkuY3JlYXRlRWxlbWVudChhZigpLkZyYWdtZW50LG51bGwpfXZhciBwaD1vKDMzKTtmdW5jdGlvbiBkaCgpe3JldHVybiBkaD1PYmplY3QuYXNzaWduP09iamVjdC5hc3NpZ24uYmluZCgpOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbikoe30pLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9LGRoLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBoaCh0KXt2YXIgZT10LnN0YXRlLG49dC50ZXh0LHI9e3NjYWxlOmZ1bmN0aW9uKHQpe3JldHVybnt3aWR0aDpcImZpdC1jb250ZW50XCJ9fSx0cmFuc2Zvcm06ZnVuY3Rpb24odCl7cmV0dXJue3RyYW5zZm9ybTpMYS5wcm9wVG9DU1NUcmFuc2Zvcm0oZSx0LFtcImxlZnRcIj09PW4uY29uZmlnLmFsaWduWD9cIjAlXCI6XCJyaWdodFwiPT09bi5jb25maWcuYWxpZ25YP1wiLTEwMCVcIjp2b2lkIDAsXCJ0b3BcIj09PW4uY29uZmlnLmFsaWduWT9cIjEwMCVcIjpcImJvdHRvbVwiPT09bi5jb25maWcuYWxpZ25ZP1wiMCVcIjp2b2lkIDBdKX19fTtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KFJkLHtkaXNwbGF5YWJsZTp7ZWxlbWVudDpuLHNraXBUcmFuc2Zvcm06ZS5nYW1lLmNvbmZpZy5lbGVtZW50cy50ZXh0LmFsbG93U2tpcFRyYW5zZm9ybSxza2lwVHJhbnNpdGlvbjplLmdhbWUuY29uZmlnLmVsZW1lbnRzLnRleHQuYWxsb3dTa2lwVHJhbnNpdGlvbix0cmFuc2Zvcm1PdmVyd3JpdGVzOnJ9LGNoaWxkOmZ1bmN0aW9uKHQpe3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoeWgsZGgoe30sdCx7dGV4dDpufSkpfSxzdGF0ZTplfSl9ZnVuY3Rpb24geWgodCl7dmFyIGU9dC50cmFuc2Zvcm1SZWYsbj10LnRyYW5zZm9ybVByb3BzLHI9dC50cmFuc2l0aW9uLG89dC5zdGF0ZSxpPXQudGV4dCxhPXtzdHlsZTpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe3dpZHRoOlwiZml0LWNvbnRlbnRcIn0sby5nYW1lLmNvbmZpZy5hcHAuZGVidWc/e2JvcmRlcjpcIjFweCBzb2xpZCByZWRcIn06e30pLHt3aGl0ZVNwYWNlOlwibm93cmFwXCJ9KX0scz1yZihpLmNvbmZpZy5jbGFzc05hbWUpO3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQobWYse2NsYXNzTmFtZTpcImFic29sdXRlIG92ZXJmbG93LWhpZGRlbiBwb2ludGVyLWV2ZW50cy1ub25lXCJ9LGFmKCkuY3JlYXRlRWxlbWVudChqZC5kaXYsZGgoe2xheW91dDohMCxyZWY6ZSxjbGFzc05hbWU6XCJhYnNvbHV0ZVwifSxiKHtzdHlsZTp7b3BhY2l0eTowfX0sbix7c3R5bGU6e3dpZHRoOlwiZml0LWNvbnRlbnRcIn19KSkscj9yLnRvRWxlbWVudFByb3BzKCkubWFwKChmdW5jdGlvbih0LGUpe3ZhciByPWIoYSxuLHQpO3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoamQuc3BhbixkaCh7a2V5OmUsbGF5b3V0OiEwfSxyLHtjbGFzc05hbWU6c30pLGFmKCkuY3JlYXRlRWxlbWVudChcInNwYW5cIixudWxsLGkuc3RhdGUudGV4dCkpfSkpOmFmKCkuY3JlYXRlRWxlbWVudChqZC5kaXYsZGgoe2tleTpcImxhc3RcIn0sYihhLHtzdHlsZTp7d2lkdGg6XCJmaXQtY29udGVudFwifX0pLHtsYXlvdXQ6ITB9KSxhZigpLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpzfSxpLnN0YXRlLnRleHQpKSkpfWZ1bmN0aW9uIHZoKHQpe3ZhciBlPXQuc3RhdGUsbj10LmRpc3BsYXlhYmxlO3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoYWYoKS5GcmFnbWVudCxudWxsLG4ubWFwKChmdW5jdGlvbih0KXt2YXIgbjtpZih0IGluc3RhbmNlb2YgUWMpcmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChoaCx7c3RhdGU6ZSx0ZXh0OnQsa2V5OlwidGV4dC1cIit0LmdldElkKCl9KTt0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBkaXNwbGF5YWJsZSB0eXBlOiBcIisoKG51bGw9PT0obj1udWxsPT10P3ZvaWQgMDp0LmNvbnN0cnVjdG9yKXx8dm9pZCAwPT09bj92b2lkIDA6bi5uYW1lKXx8dCkpfSkpKX1mdW5jdGlvbiBtaCh0LGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fSh0KXx8ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsPT10P251bGw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZihudWxsIT1uKXt2YXIgcixvLGksYSxzPVtdLHU9ITAsYz0hMTt0cnl7aWYoaT0obj1uLmNhbGwodCkpLm5leHQsMD09PWUpe2lmKE9iamVjdChuKSE9PW4pcmV0dXJuO3U9ITF9ZWxzZSBmb3IoOyEodT0ocj1pLmNhbGwobikpLmRvbmUpJiYocy5wdXNoKHIudmFsdWUpLHMubGVuZ3RoIT09ZSk7dT0hMCk7fWNhdGNoKHQpe2M9ITAsbz10fWZpbmFsbHl7dHJ5e2lmKCF1JiZudWxsIT1uLnJldHVybiYmKGE9bi5yZXR1cm4oKSxPYmplY3QoYSkhPT1hKSlyZXR1cm59ZmluYWxseXtpZihjKXRocm93IG99fXJldHVybiBzfX0odCxlKXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gZ2godCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9naCh0LGUpOnZvaWQgMH19KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBnaCh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gYmgodCxlKXtyZXR1cm4gdC5oYW5kbGUoZSl9ZnVuY3Rpb24gd2godCl7dmFyIGU9dC5zdG9yeSxuPXQud2lkdGgscj10LmhlaWdodCxvPXQuY2xhc3NOYW1lLGk9dC5vblJlYWR5LGE9dC5vbkVuZCxzPW1oKCgwLG9mLnVzZVJlZHVjZXIpKChmdW5jdGlvbih0KXtyZXR1cm4gdCsxfSksMCksMilbMV0sdT1MZigpLmdhbWUsYz1taCgoMCxvZi51c2VSZWR1Y2VyKShiaCxuZXcgZWYodSx7dXBkYXRlOnMsZm9yY2VVcGRhdGU6ZnVuY3Rpb24oKXtsLmxvZ2dlci53YXJuKFwiUGxheWVyXCIsXCJmb3JjZSB1cGRhdGVcIiksKDAscGguZmx1c2hTeW5jKSgoZnVuY3Rpb24oKXtzKCl9KSl9LG5leHQ6aCxkaXNwYXRjaDpmdW5jdGlvbih0KXtyZXR1cm4gZih0KX19KSksMiksbD1jWzBdLGY9Y1sxXSxwPXUuY29uZmlnLmVsZW1lbnRzLnNheS51c2UsZD11LmNvbmZpZy5lbGVtZW50cy5tZW51LnVzZTtmdW5jdGlvbiBoKCl7Zm9yKHZhciB0PSExOyF0Oyl7dmFyIGU9dS5nZXRMaXZlR2FtZSgpLm5leHQobCk7aWYoIWUpYnJlYWs7aWYody5pc0F3YWl0YWJsZShlKSl7dD0hMDticmVha31pZihlIGluc3RhbmNlb2Ygail7ZS5uZXh0VW5sb2NrKCkudGhlbigoZnVuY3Rpb24oKXtoKCl9KSksdD0hMDticmVha31mKGUpfWwuc3RhZ2UudXBkYXRlKCl9KDAsb2YudXNlRWZmZWN0KSgoZnVuY3Rpb24oKXtyZXR1cm4gdS5nZXRMaXZlR2FtZSgpLnNldEdhbWVTdGF0ZShsKS5sb2FkU3RvcnkoZSksZnVuY3Rpb24oKXt1LmdldExpdmVHYW1lKCkuc2V0R2FtZVN0YXRlKHZvaWQgMCl9fSksW3VdKSwoMCxvZi51c2VFZmZlY3QpKChmdW5jdGlvbigpe3ZhciB0PSExLGU9UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt0PSEwLGkmJmkoe2dhbWU6dSxnYW1lU3RhdGU6bCxsaXZlR2FtZTp1LmdldExpdmVHYW1lKCksc3RvcmFibGU6dS5nZXRMaXZlR2FtZSgpLmdldFN0b3JhYmxlKCl9KTt2YXIgZT1sLmdldExhc3RTY2VuZSgpLG49W107ZT9uLnB1c2goe3R5cGU6XCJldmVudDpzY2VuZS5tb3VudFwiLGxpc3RlbmVyOmUuZXZlbnRzLm9uY2UoXCJldmVudDpzY2VuZS5tb3VudFwiLChmdW5jdGlvbigpe2wuc3RhZ2UubmV4dCgpfSkpfSk6bC5zdGFnZS5uZXh0KCk7dmFyIHI9bC5ldmVudHMub25FdmVudHMoW3t0eXBlOmVmLkV2ZW50VHlwZXNbXCJldmVudDpzdGF0ZS5lbmRcIl0sbGlzdGVuZXI6ZnVuY3Rpb24oKXthJiZhKHtnYW1lOnUsZ2FtZVN0YXRlOmwsbGl2ZUdhbWU6dS5nZXRMaXZlR2FtZSgpLHN0b3JhYmxlOnUuZ2V0TGl2ZUdhbWUoKS5nZXRTdG9yYWJsZSgpfSl9fV0pLG89bC5ldmVudHMub25FdmVudHMoW3t0eXBlOmVmLkV2ZW50VHlwZXNbXCJldmVudDpzdGF0ZS5wbGF5ZXIuc2tpcFwiXSxsaXN0ZW5lcjpmdW5jdGlvbigpe3UuZ2V0TGl2ZUdhbWUoKS5hYm9ydEF3YWl0aW5nKCksaCgpfX1dKTtyZXR1cm4gbC5zdGFnZS51cGRhdGUoKSxmdW5jdGlvbigpe2UmJm4uZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5ldmVudHMub2ZmKHQudHlwZSx0Lmxpc3RlbmVyKX0pKSxyLmNhbmNlbCgpLG8uY2FuY2VsKCl9fSkpO3JldHVybiBmdW5jdGlvbigpe3QmJmUudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQoKX0pKX19KSxbXSksbC5ldmVudHMuZW1pdChlZi5FdmVudFR5cGVzW1wiZXZlbnQ6c3RhdGUucGxheWVyLmZsdXNoXCJdKTt2YXIgeT1ufHx1LmNvbmZpZy5wbGF5ZXIud2lkdGgsdj1yfHx1LmNvbmZpZy5wbGF5ZXIuaGVpZ2h0O3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoSHAsbnVsbCxhZigpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7c3R5bGU6e3dpZHRoOlwibnVtYmVyXCI9PXR5cGVvZiB5P1wiXCIuY29uY2F0KHksXCJweFwiKTp5LGhlaWdodDpcIm51bWJlclwiPT10eXBlb2Ygdj9cIlwiLmNvbmNhdCh2LFwicHhcIik6dn0sY2xhc3NOYW1lOnJmKG8sXCJfX25hcnJhbGVhZl9jb250ZW50LXBsYXllclwiKX0sYWYoKS5jcmVhdGVFbGVtZW50KCRwLHtjbGFzc05hbWU6cmYoXCJmbGV4LWdyb3cgb3ZlcmZsb3ctYXV0b1wiKX0sYWYoKS5jcmVhdGVFbGVtZW50KG1mLHtjbGFzc05hbWU6XCJyZWxhdGl2ZVwifSxhZigpLmNyZWF0ZUVsZW1lbnQobGgse3N0YXRlOmx9KSxhZigpLmNyZWF0ZUVsZW1lbnQoX2gse29uTG9hZGVkOmZ1bmN0aW9uKCl7bC5zdGFnZS51cGRhdGUoKSxlJiZoKCl9LHN0YXRlOmx9LGFmKCkuY3JlYXRlRWxlbWVudChmaCx7c3RhdGU6bH0pLGwuZ2V0U2NlbmVFbGVtZW50cygpLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9dC5zY2VuZSxuPXQuZWxlO3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoWWQse2tleTpcInNjZW5lLVwiK2UuZ2V0SWQoKSxzdGF0ZTpsLHNjZW5lOmV9LG4uaW1hZ2VzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChaZCx7a2V5OlwiaW1hZ2UtXCIrdC5nZXRJZCgpLGltYWdlOnQsc3RhdGU6bH0pfSkpLGFmKCkuY3JlYXRlRWxlbWVudCh2aCx7c3RhdGU6bCxkaXNwbGF5YWJsZTpuLmRpc3BsYXlhYmxlfSksbi50ZXh0cy5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYWN0aW9uLG49dC5vbkNsaWNrO3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQocCx7c3RhdGU6bCxrZXk6XCJzYXktXCIrZS5pZCxhY3Rpb246ZSxvbkNsaWNrOmZ1bmN0aW9uKCl7bigpLGgoKX19KX0pKSxuLm1lbnVzLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2tleTpcIm1lbnUtXCIrZX0sYWYoKS5jcmVhdGVFbGVtZW50KGQse3N0YXRlOmwscHJvbXB0OnQuYWN0aW9uLnByb21wdCxjaG9pY2VzOnQuYWN0aW9uLmNob2ljZXMsYWZ0ZXJDaG9vc2U6ZnVuY3Rpb24oZSl7dC5vbkNsaWNrKGUpLGgoKX19KSl9KSkpfSkpKSkpKSl9ZnVuY3Rpb24gX2godCl7dmFyIGU9dC5jaGlsZHJlbixuPXQub25Mb2FkZWQscj10LnN0YXRlLG89c2goKS5wcmVsb2FkZWQsaT1taCgoMCxvZi51c2VTdGF0ZSkoITEpLDIpLGE9aVswXSxzPWlbMV07cmV0dXJuKDAsb2YudXNlRWZmZWN0KSgoZnVuY3Rpb24oKXt2YXIgdD1vLmV2ZW50cy5vbihuaC5FdmVudFR5cGVzW1wiZXZlbnQ6cHJlbG9hZGVkLnJlYWR5XCJdLChmdW5jdGlvbigpe3MoITApLG4oKX0pKSxlPXIuZXZlbnRzLm9uKGVmLkV2ZW50VHlwZXNbXCJldmVudDpzdGF0ZS5wcmVsb2FkLnVubW91bnRcIl0sKGZ1bmN0aW9uKCl7cyghMSl9KSk7cmV0dXJuIGZ1bmN0aW9uKCl7by5ldmVudHMub2ZmKG5oLkV2ZW50VHlwZXNbXCJldmVudDpwcmVsb2FkZWQucmVhZHlcIl0sdCksci5ldmVudHMub2ZmKGVmLkV2ZW50VHlwZXNbXCJldmVudDpzdGF0ZS5wcmVsb2FkLnVubW91bnRcIl0sZSl9fSksW2FdKSxhZigpLmNyZWF0ZUVsZW1lbnQoYWYoKS5GcmFnbWVudCxudWxsLGE/ZTpudWxsKX1mdW5jdGlvbiBTaCh0KXt2YXIgZT10LmNoaWxkcmVuLG49dC5nYW1lO3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoYWYoKS5GcmFnbWVudCxudWxsLGFmKCkuY3JlYXRlRWxlbWVudChoZixudWxsLGFmKCkuY3JlYXRlRWxlbWVudChDZix7Z2FtZTpufSxhZigpLmNyZWF0ZUVsZW1lbnQoYWgsbnVsbCxlKSkpKX1mdW5jdGlvbiBraCh0KXtyZXR1cm4ga2g9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sa2godCl9ZnVuY3Rpb24geGgodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsQWgoci5rZXkpLHIpfX1mdW5jdGlvbiBBaCh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPWtoKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPWtoKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09a2goZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gT2godCxlLG4pe3JldHVybiBlPUVoKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PWtoKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LFRoKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxFaCh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBUaCgpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKFRoPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBFaCh0KXtyZXR1cm4gRWg9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LEVoKHQpfWZ1bmN0aW9uIFBoKHQsZSl7cmV0dXJuIFBoPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sUGgodCxlKX12YXIgamg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjFlMyxyPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksKHQ9T2godGhpcyxlKSkuc3RhdGU9e29wYWNpdHk6MX0sdC5kdXJhdGlvbj1uLHQuZWFzaW5nPXIsdH1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmUGgodCxlKX0oZSx0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJnhoKHQucHJvdG90eXBlLGUpLG4mJnhoKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShlLFt7a2V5Olwic2V0U3JjXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3JjPXQsdGhpc319LHtrZXk6XCJzdGFydFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7dGhpcy5zdGF0ZS5vcGFjaXR5PWUuRnJhbWVzWzBdLHRoaXMucmVxdWVzdEFuaW1hdGlvbih7c3RhcnQ6ZS5GcmFtZXNbMF0sZW5kOmUuRnJhbWVzWzFdLGR1cmF0aW9uOnRoaXMuZHVyYXRpb259LHtvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7dCYmdCgpLG4uc3RhdGUub3BhY2l0eT1lLkZyYW1lc1sxXX0sb25VcGRhdGU6ZnVuY3Rpb24odCl7bi5zdGF0ZS5vcGFjaXR5PXR9fSx7ZWFzZTp0aGlzLmVhc2luZ30pfX0se2tleTpcInRvRWxlbWVudFByb3BzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5be3N0eWxlOntvcGFjaXR5OjF9fSx7c3R5bGU6e29wYWNpdHk6dGhpcy5zdGF0ZS5vcGFjaXR5LGJhY2tncm91bmRDb2xvcjpicy5pc0ltYWdlQ29sb3IodGhpcy5zcmMpP1ModGhpcy5zcmMpOlwiXCJ9LHNyYzpicy5pc0ltYWdlU3JjKHRoaXMuc3JjKT9icy5zcmNUb1N0cmluZyh0aGlzLnNyYyk6XCJcIn1dfX0se2tleTpcImNvcHlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLmR1cmF0aW9uLHRoaXMuZWFzaW5nKS5zZXRTcmModGhpcy5zcmMpfX1dKX0oTWMpO2Z1bmN0aW9uIENoKHQpe3JldHVybiBDaD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxDaCh0KX1mdW5jdGlvbiBMaCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxJaChyLmtleSkscil9fWZ1bmN0aW9uIEloKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9Q2godCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9Q2gocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1DaChlKT9lOmUrXCJcIn1mdW5jdGlvbiBOaCh0LGUsbil7cmV0dXJuIGU9UmgoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09Q2goZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsTWgoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLFJoKHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIE1oKCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oTWg9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIFJoKHQpe3JldHVybiBSaD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sUmgodCl9ZnVuY3Rpb24gRmgodCxlKXtyZXR1cm4gRmg9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxGaCh0LGUpfWpoLkZyYW1lcz1bMCwxXTt2YXIgRGg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LG4pe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjFlMyxpPWFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106dm9pZCAwO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksKHI9TmgodGhpcyxlKSkuc3RhdGU9e29wYWNpdHk6MCx0cmFuc2Zvcm06XCJcIn0sci5kdXJhdGlvbj1vLHIuZGlyZWN0aW9uPXQsci5vZmZzZXQ9bixyLmVhc2luZz1pLHIuX19zdGFjaz14KCkscn1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmRmgodCxlKX0oZSx0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJkxoKHQucHJvdG90eXBlLGUpLG4mJkxoKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShlLFt7a2V5Olwic2V0U3JjXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3JjPXQsdGhpc319LHtrZXk6XCJzdGFydFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXRoaXMuc3JjKXRocm93IG5ldyBFcnJvcihcInNyYyBpcyByZXF1aXJlZCwgYnV0IG5vdCBwcm92aWRlZFxcbmF0OlxcblwiK3RoaXMuX19zdGFjayk7dGhpcy5zdGF0ZS5vcGFjaXR5PTAsdGhpcy5zdGF0ZS50cmFuc2Zvcm09dGhpcy5nZXRJbml0aWFsVHJhbnNmb3JtKCksdGhpcy5yZXF1ZXN0QW5pbWF0aW9uKHtzdGFydDowLGVuZDoxLGR1cmF0aW9uOnRoaXMuZHVyYXRpb259LHtvbkNvbXBsZXRlOnQsb25VcGRhdGU6ZnVuY3Rpb24odCl7ZS5zdGF0ZS5vcGFjaXR5PXQsZS5zdGF0ZS50cmFuc2Zvcm09ZS5nZXRUcmFuc2Zvcm0odCl9fSx7ZWFzZTp0aGlzLmVhc2luZ30pfX0se2tleTpcInRvRWxlbWVudFByb3BzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5be3N0eWxlOntvcGFjaXR5OjF9fSx7c3R5bGU6e29wYWNpdHk6dGhpcy5zdGF0ZS5vcGFjaXR5LHRyYW5zZm9ybTp0aGlzLnN0YXRlLnRyYW5zZm9ybSxiYWNrZ3JvdW5kQ29sb3I6YnMuaXNJbWFnZUNvbG9yKHRoaXMuc3JjKT9TKHRoaXMuc3JjKTpcIlwifSxzcmM6YnMuaXNJbWFnZVNyYyh0aGlzLnNyYyk/YnMuc3JjVG9TdHJpbmcodGhpcy5zcmMpOlwiXCJ9XX19LHtrZXk6XCJjb3B5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodGhpcy5kaXJlY3Rpb24sdGhpcy5vZmZzZXQsdGhpcy5kdXJhdGlvbix0aGlzLmVhc2luZykuc2V0U3JjKHRoaXMuc3JjKX19LHtrZXk6XCJnZXRJbml0aWFsVHJhbnNmb3JtXCIsdmFsdWU6ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5kaXJlY3Rpb24pe2Nhc2VcImxlZnRcIjpyZXR1cm5cInRyYW5zbGF0ZVgoLVwiLmNvbmNhdCh0aGlzLm9mZnNldCxcInB4KVwiKTtjYXNlXCJyaWdodFwiOnJldHVyblwidHJhbnNsYXRlWChcIi5jb25jYXQodGhpcy5vZmZzZXQsXCJweClcIik7Y2FzZVwidG9wXCI6cmV0dXJuXCJ0cmFuc2xhdGVZKC1cIi5jb25jYXQodGhpcy5vZmZzZXQsXCJweClcIik7Y2FzZVwiYm90dG9tXCI6cmV0dXJuXCJ0cmFuc2xhdGVZKFwiLmNvbmNhdCh0aGlzLm9mZnNldCxcInB4KVwiKTtkZWZhdWx0OnJldHVyblwiXCJ9fX0se2tleTpcImdldFRyYW5zZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3N3aXRjaCh0aGlzLmRpcmVjdGlvbil7Y2FzZVwibGVmdFwiOnJldHVyblwidHJhbnNsYXRlWChcIi5jb25jYXQoKDEtdCkqLXRoaXMub2Zmc2V0LFwicHgpXCIpO2Nhc2VcInJpZ2h0XCI6cmV0dXJuXCJ0cmFuc2xhdGVYKFwiLmNvbmNhdCgoMS10KSp0aGlzLm9mZnNldCxcInB4KVwiKTtjYXNlXCJ0b3BcIjpyZXR1cm5cInRyYW5zbGF0ZVkoXCIuY29uY2F0KCgxLXQpKi10aGlzLm9mZnNldCxcInB4KVwiKTtjYXNlXCJib3R0b21cIjpyZXR1cm5cInRyYW5zbGF0ZVkoXCIuY29uY2F0KCgxLXQpKnRoaXMub2Zmc2V0LFwicHgpXCIpO2RlZmF1bHQ6cmV0dXJuXCJcIn19fV0pfShNYyk7ZnVuY3Rpb24gQmgodCl7cmV0dXJuIEJoPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEJoKHQpfWZ1bmN0aW9uIFZoKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LEdoKHIua2V5KSxyKX19ZnVuY3Rpb24gR2godCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1CaCh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1CaChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PUJoKGUpP2U6ZStcIlwifWZ1bmN0aW9uIFVoKHQsZSxuKXtyZXR1cm4gZT16aChlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1CaChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxIaCgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10semgodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gSGgoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihIaD1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gemgodCl7cmV0dXJuIHpoPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSx6aCh0KX1mdW5jdGlvbiBXaCh0LGUpe3JldHVybiBXaD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFdoKHQsZSl9dmFyICRoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToxZTMscj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLCh0PVVoKHRoaXMsZSkpLnN0YXRlPXtvcGFjaXR5OjB9LHQuZHVyYXRpb249bix0LmVhc2luZz1yLHR9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJldoKHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZWaCh0LnByb3RvdHlwZSxlKSxuJiZWaCh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcInNldFNyY1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNyYz10LHRoaXN9fSx7a2V5Olwic3RhcnRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10aGlzO3RoaXMuc3RhdGUub3BhY2l0eT1lLkZyYW1lc1swXSx0aGlzLnJlcXVlc3RBbmltYXRpb24oe3N0YXJ0OmUuRnJhbWVzWzBdLGVuZDplLkZyYW1lc1sxXSxkdXJhdGlvbjp0aGlzLmR1cmF0aW9ufSx7b25Db21wbGV0ZTpmdW5jdGlvbigpe24uc3RhdGUub3BhY2l0eT1lLkZyYW1lc1sxXSx0JiZ0KCl9LG9uVXBkYXRlOmZ1bmN0aW9uKHQpe24uc3RhdGUub3BhY2l0eT10fX0se2Vhc2U6dGhpcy5lYXNpbmd9KX19LHtrZXk6XCJ0b0VsZW1lbnRQcm9wc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuW3tzdHlsZTp7b3BhY2l0eTp0aGlzLnN0YXRlLm9wYWNpdHl9fSx7c3R5bGU6e29wYWNpdHk6MS10aGlzLnN0YXRlLm9wYWNpdHksYmFja2dyb3VuZENvbG9yOmJzLmlzSW1hZ2VDb2xvcih0aGlzLnNyYyk/Uyh0aGlzLnNyYyk6XCJcIn0sc3JjOmJzLmlzSW1hZ2VTcmModGhpcy5zcmMpP2JzLnNyY1RvU3RyaW5nKHRoaXMuc3JjKTpcIlwifV19fSx7a2V5OlwiY29weVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMuZHVyYXRpb24sdGhpcy5lYXNpbmcpLnNldFNyYyh0aGlzLnNyYyl9fV0pfShNYyk7JGguRnJhbWVzPVsxLDBdfSkoKSxpfSkoKSkpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/narraleaf-react/dist/main.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js":
/*!***********************************************************!*\
  !*** ./node_modules/next/dist/build/polyfills/process.js ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar _global_process, _global_process1;\nmodule.exports = ((_global_process = __webpack_require__.g.process) == null ? void 0 : _global_process.env) && typeof ((_global_process1 = __webpack_require__.g.process) == null ? void 0 : _global_process1.env) === \"object\" ? __webpack_require__.g.process : __webpack_require__(/*! next/dist/compiled/process */ \"(app-pages-browser)/./node_modules/next/dist/compiled/process/browser.js\");\n\n//# sourceMappingURL=process.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvcG9seWZpbGxzL3Byb2Nlc3MuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLHFDQUFxQyxxQkFBTSxpRkFBaUYscUJBQU0sa0VBQWtFLHFCQUFNLFdBQVcsbUJBQU8sQ0FBQyw0R0FBNEI7O0FBRXpQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvcG9seWZpbGxzL3Byb2Nlc3MuanM/M2JjMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfZ2xvYmFsX3Byb2Nlc3MsIF9nbG9iYWxfcHJvY2VzczE7XG5tb2R1bGUuZXhwb3J0cyA9ICgoX2dsb2JhbF9wcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3MpID09IG51bGwgPyB2b2lkIDAgOiBfZ2xvYmFsX3Byb2Nlc3MuZW52KSAmJiB0eXBlb2YgKChfZ2xvYmFsX3Byb2Nlc3MxID0gZ2xvYmFsLnByb2Nlc3MpID09IG51bGwgPyB2b2lkIDAgOiBfZ2xvYmFsX3Byb2Nlc3MxLmVudikgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwucHJvY2VzcyA6IHJlcXVpcmUoXCJuZXh0L2Rpc3QvY29tcGlsZWQvcHJvY2Vzc1wiKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvY2Vzcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/process/browser.js":
/*!************************************************************!*\
  !*** ./node_modules/next/dist/compiled/process/browser.js ***!
  \************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var __dirname = \"/\";\n(function(){var e={229:function(e){var t=e.exports={};var r;var n;function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}(function(){try{if(typeof setTimeout===\"function\"){r=setTimeout}else{r=defaultSetTimout}}catch(e){r=defaultSetTimout}try{if(typeof clearTimeout===\"function\"){n=clearTimeout}else{n=defaultClearTimeout}}catch(e){n=defaultClearTimeout}})();function runTimeout(e){if(r===setTimeout){return setTimeout(e,0)}if((r===defaultSetTimout||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout){return clearTimeout(e)}if((n===defaultClearTimeout||!n)&&clearTimeout){n=clearTimeout;return clearTimeout(e)}try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}var i=[];var o=false;var u;var a=-1;function cleanUpNextTick(){if(!o||!u){return}o=false;if(u.length){i=u.concat(i)}else{a=-1}if(i.length){drainQueue()}}function drainQueue(){if(o){return}var e=runTimeout(cleanUpNextTick);o=true;var t=i.length;while(t){u=i;i=[];while(++a<t){if(u){u[a].run()}}a=-1;t=i.length}u=null;o=false;runClearTimeout(e)}t.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}i.push(new Item(e,t));if(i.length===1&&!o){runTimeout(drainQueue)}};function Item(e,t){this.fun=e;this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};t.title=\"browser\";t.browser=true;t.env={};t.argv=[];t.version=\"\";t.versions={};function noop(){}t.on=noop;t.addListener=noop;t.once=noop;t.off=noop;t.removeListener=noop;t.removeAllListeners=noop;t.emit=noop;t.prependListener=noop;t.prependOnceListener=noop;t.listeners=function(e){return[]};t.binding=function(e){throw new Error(\"process.binding is not supported\")};t.cwd=function(){return\"/\"};t.chdir=function(e){throw new Error(\"process.chdir is not supported\")};t.umask=function(){return 0}}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var i=t[r]={exports:{}};var o=true;try{e[r](i,i.exports,__nccwpck_require__);o=false}finally{if(o)delete t[r]}return i.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var r=__nccwpck_require__(229);module.exports=r})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcHJvY2Vzcy9icm93c2VyLmpzIiwibWFwcGluZ3MiOiI7QUFBQSxZQUFZLE9BQU8sZ0JBQWdCLG1CQUFtQixNQUFNLE1BQU0sNEJBQTRCLG1EQUFtRCwrQkFBK0IscURBQXFELFlBQVksSUFBSSxtQ0FBbUMsYUFBYSxLQUFLLG9CQUFvQixTQUFTLG1CQUFtQixJQUFJLHFDQUFxQyxlQUFlLEtBQUssdUJBQXVCLFNBQVMsdUJBQXVCLElBQUksdUJBQXVCLG1CQUFtQix1QkFBdUIsMkNBQTJDLGFBQWEsdUJBQXVCLElBQUksY0FBYyxTQUFTLElBQUksd0JBQXdCLFNBQVMsMEJBQTBCLDRCQUE0QixxQkFBcUIsdUJBQXVCLGdEQUFnRCxlQUFlLHVCQUF1QixJQUFJLFlBQVksU0FBUyxJQUFJLHNCQUFzQixTQUFTLHdCQUF3QixTQUFTLFlBQVksTUFBTSxTQUFTLDJCQUEyQixXQUFXLE9BQU8sUUFBUSxhQUFhLGNBQWMsS0FBSyxLQUFLLGFBQWEsY0FBYyxzQkFBc0IsTUFBTSxPQUFPLGtDQUFrQyxPQUFPLGVBQWUsU0FBUyxJQUFJLEtBQUssYUFBYSxNQUFNLFlBQVksS0FBSyxXQUFXLE9BQU8sUUFBUSxtQkFBbUIsdUJBQXVCLG9DQUFvQyx1QkFBdUIsWUFBWSxtQkFBbUIsS0FBSyxxQkFBcUIsc0JBQXNCLHFCQUFxQix5QkFBeUIsbUJBQW1CLFdBQVcsYUFBYSw4QkFBOEIsaUNBQWlDLGtCQUFrQixlQUFlLFNBQVMsVUFBVSxhQUFhLGNBQWMsaUJBQWlCLFVBQVUsbUJBQW1CLFlBQVksV0FBVyxzQkFBc0IsMEJBQTBCLFlBQVksdUJBQXVCLDJCQUEyQix3QkFBd0IsVUFBVSxzQkFBc0IscURBQXFELGlCQUFpQixXQUFXLG9CQUFvQixtREFBbUQsbUJBQW1CLFlBQVksU0FBUyxnQ0FBZ0MsV0FBVyxrQkFBa0IsaUJBQWlCLFlBQVksWUFBWSxXQUFXLElBQUksc0NBQXNDLFFBQVEsUUFBUSxpQkFBaUIsaUJBQWlCLG1FQUFtRSxTQUFTLEtBQUssK0JBQStCLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3Byb2Nlc3MvYnJvd3Nlci5qcz80OTBkIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe3ZhciBlPXsyMjk6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5leHBvcnRzPXt9O3ZhciByO3ZhciBuO2Z1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9KGZ1bmN0aW9uKCl7dHJ5e2lmKHR5cGVvZiBzZXRUaW1lb3V0PT09XCJmdW5jdGlvblwiKXtyPXNldFRpbWVvdXR9ZWxzZXtyPWRlZmF1bHRTZXRUaW1vdXR9fWNhdGNoKGUpe3I9ZGVmYXVsdFNldFRpbW91dH10cnl7aWYodHlwZW9mIGNsZWFyVGltZW91dD09PVwiZnVuY3Rpb25cIil7bj1jbGVhclRpbWVvdXR9ZWxzZXtuPWRlZmF1bHRDbGVhclRpbWVvdXR9fWNhdGNoKGUpe249ZGVmYXVsdENsZWFyVGltZW91dH19KSgpO2Z1bmN0aW9uIHJ1blRpbWVvdXQoZSl7aWYocj09PXNldFRpbWVvdXQpe3JldHVybiBzZXRUaW1lb3V0KGUsMCl9aWYoKHI9PT1kZWZhdWx0U2V0VGltb3V0fHwhcikmJnNldFRpbWVvdXQpe3I9c2V0VGltZW91dDtyZXR1cm4gc2V0VGltZW91dChlLDApfXRyeXtyZXR1cm4gcihlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gci5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gci5jYWxsKHRoaXMsZSwwKX19fWZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChlKXtpZihuPT09Y2xlYXJUaW1lb3V0KXtyZXR1cm4gY2xlYXJUaW1lb3V0KGUpfWlmKChuPT09ZGVmYXVsdENsZWFyVGltZW91dHx8IW4pJiZjbGVhclRpbWVvdXQpe249Y2xlYXJUaW1lb3V0O3JldHVybiBjbGVhclRpbWVvdXQoZSl9dHJ5e3JldHVybiBuKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gbi5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIG4uY2FsbCh0aGlzLGUpfX19dmFyIGk9W107dmFyIG89ZmFsc2U7dmFyIHU7dmFyIGE9LTE7ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCl7aWYoIW98fCF1KXtyZXR1cm59bz1mYWxzZTtpZih1Lmxlbmd0aCl7aT11LmNvbmNhdChpKX1lbHNle2E9LTF9aWYoaS5sZW5ndGgpe2RyYWluUXVldWUoKX19ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpe2lmKG8pe3JldHVybn12YXIgZT1ydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7bz10cnVlO3ZhciB0PWkubGVuZ3RoO3doaWxlKHQpe3U9aTtpPVtdO3doaWxlKCsrYTx0KXtpZih1KXt1W2FdLnJ1bigpfX1hPS0xO3Q9aS5sZW5ndGh9dT1udWxsO289ZmFsc2U7cnVuQ2xlYXJUaW1lb3V0KGUpfXQubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt0W3ItMV09YXJndW1lbnRzW3JdfX1pLnB1c2gobmV3IEl0ZW0oZSx0KSk7aWYoaS5sZW5ndGg9PT0xJiYhbyl7cnVuVGltZW91dChkcmFpblF1ZXVlKX19O2Z1bmN0aW9uIEl0ZW0oZSx0KXt0aGlzLmZ1bj1lO3RoaXMuYXJyYXk9dH1JdGVtLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfTt0LnRpdGxlPVwiYnJvd3NlclwiO3QuYnJvd3Nlcj10cnVlO3QuZW52PXt9O3QuYXJndj1bXTt0LnZlcnNpb249XCJcIjt0LnZlcnNpb25zPXt9O2Z1bmN0aW9uIG5vb3AoKXt9dC5vbj1ub29wO3QuYWRkTGlzdGVuZXI9bm9vcDt0Lm9uY2U9bm9vcDt0Lm9mZj1ub29wO3QucmVtb3ZlTGlzdGVuZXI9bm9vcDt0LnJlbW92ZUFsbExpc3RlbmVycz1ub29wO3QuZW1pdD1ub29wO3QucHJlcGVuZExpc3RlbmVyPW5vb3A7dC5wcmVwZW5kT25jZUxpc3RlbmVyPW5vb3A7dC5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119O3QuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX07dC5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn07dC5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9O3QudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19fTt2YXIgdD17fTtmdW5jdGlvbiBfX25jY3dwY2tfcmVxdWlyZV9fKHIpe3ZhciBuPXRbcl07aWYobiE9PXVuZGVmaW5lZCl7cmV0dXJuIG4uZXhwb3J0c312YXIgaT10W3JdPXtleHBvcnRzOnt9fTt2YXIgbz10cnVlO3RyeXtlW3JdKGksaS5leHBvcnRzLF9fbmNjd3Bja19yZXF1aXJlX18pO289ZmFsc2V9ZmluYWxseXtpZihvKWRlbGV0ZSB0W3JdfXJldHVybiBpLmV4cG9ydHN9aWYodHlwZW9mIF9fbmNjd3Bja19yZXF1aXJlX18hPT1cInVuZGVmaW5lZFwiKV9fbmNjd3Bja19yZXF1aXJlX18uYWI9X19kaXJuYW1lK1wiL1wiO3ZhciByPV9fbmNjd3Bja19yZXF1aXJlX18oMjI5KTttb2R1bGUuZXhwb3J0cz1yfSkoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/process/browser.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/GameScene.tsx":
/*!**********************************!*\
  !*** ./components/GameScene.tsx ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ GameScene; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _engine_EngineStage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./engine/EngineStage */ \"(app-pages-browser)/./components/engine/EngineStage.tsx\");\n/* harmony import */ var _InventoryShop__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./InventoryShop */ \"(app-pages-browser)/./components/InventoryShop.tsx\");\n/* harmony import */ var _lib_emotion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/emotion */ \"(app-pages-browser)/./lib/emotion.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction GameScene() {\n    _s();\n    const [bgUrl, setBgUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [spriteUrl, setSpriteUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [avatarUrl, setAvatarUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [dialogue, setDialogue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [affection, setAffection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [coins, setCoins] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(100);\n    const [inventory, setInventory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [shopOpen, setShopOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [sprites, setSprites] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [backgrounds, setBackgrounds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [avatars, setAvatars] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const wrapperRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [stageSize, setStageSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 1280,\n        height: 720\n    });\n    //  \n    // \n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const s = window.localStorage.getItem(\"game_state\");\n            if (s) {\n                const j = JSON.parse(s);\n                if (typeof j.coins === \"number\") setCoins(j.coins);\n                if (j.inventory && typeof j.inventory === \"object\") setInventory(j.inventory);\n                if (typeof j.affection === \"number\") setAffection(j.affection);\n            }\n        } catch (e) {}\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const payload = JSON.stringify({\n                coins,\n                inventory,\n                affection\n            });\n            window.localStorage.setItem(\"game_state\", payload);\n        } catch (e) {}\n    }, [\n        coins,\n        inventory,\n        affection\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            try {\n                const [bgRes, spRes, avRes] = await Promise.all([\n                    fetch(\"/api/assets?type=bg\"),\n                    fetch(\"/api/assets?type=sprites\"),\n                    fetch(\"/api/assets?type=avatars\")\n                ]);\n                const bgJson = await bgRes.json();\n                const spJson = await spRes.json();\n                const avJson = await avRes.json();\n                const bgList = bgJson.files || [];\n                const spList = spJson.files || [];\n                const avList = avJson.files || [];\n                setBackgrounds(bgList);\n                setSprites(spList);\n                setAvatars(avList);\n                if (!bgUrl && bgList.length) setBgUrl(bgList[0].url);\n                if (!spriteUrl && spList.length) setSpriteUrl(spList[0].url);\n                if (!avatarUrl && avList.length) setAvatarUrl(avList[0].url);\n            } catch (e) {\n            // ignore\n            }\n        })();\n        //  / \n        const updateStage = ()=>{\n            const wrap = wrapperRef.current;\n            var _wrap_clientWidth;\n            const w = (_wrap_clientWidth = wrap === null || wrap === void 0 ? void 0 : wrap.clientWidth) !== null && _wrap_clientWidth !== void 0 ? _wrap_clientWidth : window.innerWidth;\n            var _wrap_clientHeight;\n            const h = (_wrap_clientHeight = wrap === null || wrap === void 0 ? void 0 : wrap.clientHeight) !== null && _wrap_clientHeight !== void 0 ? _wrap_clientHeight : window.innerHeight;\n            setStageSize({\n                width: w,\n                height: h\n            });\n        };\n        updateStage();\n        window.addEventListener(\"resize\", updateStage);\n        return ()=>window.removeEventListener(\"resize\", updateStage);\n    }, []);\n    // \n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!spriteUrl || avatars.length === 0 || sprites.length === 0) return;\n        const current = sprites.find((s)=>s.url === spriteUrl);\n        const charId = current === null || current === void 0 ? void 0 : current.char;\n        if (!charId) return;\n        const found = avatars.find((a)=>{\n            var _a_name;\n            return a.url.includes(\"/avatars/\".concat(charId)) || ((_a_name = a.name) !== null && _a_name !== void 0 ? _a_name : \"\").toLowerCase().includes(charId.toLowerCase());\n        });\n        if (found) setAvatarUrl(found.url);\n    }, [\n        spriteUrl,\n        avatars,\n        sprites\n    ]);\n    async function sendMessage() {\n        setDialogue(\"\");\n        // \n        try {\n            const hint = (0,_lib_emotion__WEBPACK_IMPORTED_MODULE_4__.inferEmotion)(input, affection);\n            if (hint && sprites.length > 0) {\n                const cur = sprites.find((s)=>s.url === spriteUrl);\n                let candidate = sprites.find((s)=>{\n                    var _s_emotion;\n                    return ((_s_emotion = s.emotion) === null || _s_emotion === void 0 ? void 0 : _s_emotion.toLowerCase()) === hint && s.char && (cur === null || cur === void 0 ? void 0 : cur.char) && s.char === cur.char;\n                });\n                if (!candidate) candidate = sprites.find((s)=>{\n                    var _s_emotion;\n                    return ((_s_emotion = s.emotion) === null || _s_emotion === void 0 ? void 0 : _s_emotion.toLowerCase()) === hint;\n                });\n                if (candidate) setSpriteUrl(candidate.url);\n            }\n        } catch (e) {}\n        const res = await fetch(\"/api/ai\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                message: input,\n                freechat: true\n            })\n        });\n        if (!res.ok || !res.body) return;\n        const reader = res.body.getReader();\n        const decoder = new TextDecoder();\n        let buffer = \"\";\n        while(true){\n            const { value, done } = await reader.read();\n            if (done) break;\n            buffer += decoder.decode(value, {\n                stream: true\n            });\n            const parts = buffer.split(\"\\n\\n\");\n            buffer = parts.pop() || \"\";\n            for (const part of parts){\n                if (!part.startsWith(\"data:\")) continue;\n                const payload = part.replace(/^data:\\s*/, \"\");\n                try {\n                    const msg = JSON.parse(payload);\n                    if (msg.type === \"token\") setDialogue((d)=>d + msg.data);\n                    if (msg.type === \"meta\") {\n                        // meta\n                        const meta = JSON.parse(msg.data);\n                        if (typeof meta.affectionDelta === \"number\") {\n                            setAffection((a)=>Math.max(0, Math.min(100, a + meta.affectionDelta)));\n                        }\n                        if (meta.emotion && typeof meta.emotion === \"string\") {\n                            const current = sprites.find((s)=>s.url === spriteUrl);\n                            const targetEmotion = String(meta.emotion).toLowerCase();\n                            let candidate = sprites.find((s)=>{\n                                var _s_emotion;\n                                return ((_s_emotion = s.emotion) === null || _s_emotion === void 0 ? void 0 : _s_emotion.toLowerCase()) === targetEmotion && s.char && (current === null || current === void 0 ? void 0 : current.char) && s.char === current.char;\n                            });\n                            if (!candidate) candidate = sprites.find((s)=>{\n                                var _s_emotion;\n                                return ((_s_emotion = s.emotion) === null || _s_emotion === void 0 ? void 0 : _s_emotion.toLowerCase()) === targetEmotion;\n                            });\n                            if (candidate) setSpriteUrl(candidate.url);\n                        }\n                    }\n                } catch (e) {}\n            }\n        }\n        setInput(\"\");\n    }\n    function onUseItem(it) {\n        if (typeof it.affectionDelta === \"number\") {\n            setAffection((a)=>Math.max(0, Math.min(100, a + it.affectionDelta)));\n        }\n        if (it.emotion) {\n            const target = it.emotion.toLowerCase();\n            const cur = sprites.find((s)=>s.url === spriteUrl);\n            let candidate = sprites.find((s)=>{\n                var _s_emotion;\n                return ((_s_emotion = s.emotion) === null || _s_emotion === void 0 ? void 0 : _s_emotion.toLowerCase()) === target && s.char && (cur === null || cur === void 0 ? void 0 : cur.char) && s.char === cur.char;\n            });\n            if (!candidate) candidate = sprites.find((s)=>{\n                var _s_emotion;\n                return ((_s_emotion = s.emotion) === null || _s_emotion === void 0 ? void 0 : _s_emotion.toLowerCase()) === target;\n            });\n            if (candidate) setSpriteUrl(candidate.url);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: wrapperRef,\n        className: \"relative w-full h-[100dvh] flex items-center justify-center\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 -z-10 bg-center bg-cover pixelated\",\n                style: {\n                    backgroundImage: bgUrl ? \"url(\".concat(bgUrl, \")\") : undefined\n                }\n            }, void 0, false, {\n                fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                lineNumber: 172,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 -z-10 bg-black/10 sm:bg-black/20\"\n            }, void 0, false, {\n                fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                lineNumber: 177,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_engine_EngineStage__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        bgUrl: bgUrl,\n                        spriteUrl: spriteUrl,\n                        //  15% 60%  45% \n                        offsetPx: Math.round(stageSize.height * 0.45)\n                    }, void 0, false, {\n                        fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                        lineNumber: 180,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-2 left-2 sm:top-3 sm:left-3 flex items-center gap-3\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-12 w-12 sm:h-14 sm:w-14 rounded-full bg-white/10 overflow-hidden border border-white/20\",\n                            children: avatarUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: avatarUrl,\n                                alt: \"avatar\",\n                                className: \"h-full w-full object-cover\"\n                            }, void 0, false, {\n                                fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                                lineNumber: 191,\n                                columnNumber: 15\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"h-full w-full bg-gradient-to-br from-white/10 to-white/5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                                lineNumber: 193,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                            lineNumber: 189,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                        lineNumber: 188,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-2 right-2 sm:top-3 sm:right-3 flex flex-col items-end gap-2 sm:gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-32 sm:w-48\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-[11px] sm:text-xs mb-1 text-white/80\",\n                                        children: \"\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                                        lineNumber: 200,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"h-2 w-full bg-white/10 overflow-hidden\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"h-full bg-pink-500\",\n                                            style: {\n                                                width: \"\".concat(affection, \"%\")\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                                            lineNumber: 202,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                                        lineNumber: 201,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                                lineNumber: 199,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2 text-xs sm:text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"px-2 py-1 border bg-white/10\",\n                                        children: [\n                                            \"\\uD83E\\uDE99 \",\n                                            coins\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                                        lineNumber: 206,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"px-2 py-1 border bg-white/10 hover:bg-white/20\",\n                                        onClick: ()=>setShopOpen(true),\n                                        children: \"/\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                                        lineNumber: 207,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                                lineNumber: 205,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                        lineNumber: 198,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-0 left-0 right-0 p-3 sm:p-4\",\n                        style: {\n                            paddingBottom: \"max(env(safe-area-inset-bottom, 0px), 1rem)\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded-none border border-dialogue-border bg-dialogue-bg backdrop-blur px-3 py-2 sm:px-4 sm:py-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mb-1 sm:mb-2 text-xs sm:text-sm text-white/70\",\n                                    children: \" \"\n                                }, void 0, false, {\n                                    fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                                    lineNumber: 217,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-h-[56px] sm:min-h-[64px] text-base sm:text-lg leading-relaxed text-shadow typewriter\",\n                                    children: dialogue\n                                }, void 0, false, {\n                                    fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                                    lineNumber: 218,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-2 sm:mt-3 flex gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            value: input,\n                                            onChange: (e)=>setInput(e.target.value),\n                                            onKeyDown: (e)=>{\n                                                if (e.key === \"Enter\") sendMessage();\n                                            },\n                                            placeholder: \"\",\n                                            className: \"flex-1 rounded bg-white/10 px-2 py-2 sm:px-3 outline-none placeholder:text-white/40 text-sm sm:text-base\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                                            lineNumber: 220,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: sendMessage,\n                                            className: \"rounded bg-white/15 px-3 py-2 hover:bg-white/25 text-sm sm:text-base\",\n                                            children: \"\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                                            lineNumber: 227,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                                    lineNumber: 219,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                            lineNumber: 216,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                        lineNumber: 212,\n                        columnNumber: 9\n                    }, this),\n                    shopOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_InventoryShop__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        coins: coins,\n                        inventory: inventory,\n                        onClose: ()=>setShopOpen(false),\n                        onCoinsChange: setCoins,\n                        onInventoryChange: setInventory,\n                        onUseItem: onUseItem\n                    }, void 0, false, {\n                        fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                        lineNumber: 233,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n                lineNumber: 179,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/yume/Desktop/1/components/GameScene.tsx\",\n        lineNumber: 170,\n        columnNumber: 5\n    }, this);\n}\n_s(GameScene, \"gB7FVgWQ+j8FfB4lCFQsHL9d50o=\");\n_c = GameScene;\nvar _c;\n$RefreshReg$(_c, \"GameScene\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvR2FtZVNjZW5lLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFDbUQ7QUFDTDtBQUNZO0FBQ2Q7QUFJN0IsU0FBU007O0lBQ3RCLE1BQU0sQ0FBQ0MsT0FBT0MsU0FBUyxHQUFHTiwrQ0FBUUEsQ0FBUztJQUMzQyxNQUFNLENBQUNPLFdBQVdDLGFBQWEsR0FBR1IsK0NBQVFBLENBQVM7SUFDbkQsTUFBTSxDQUFDUyxXQUFXQyxhQUFhLEdBQUdWLCtDQUFRQSxDQUFTO0lBQ25ELE1BQU0sQ0FBQ1csVUFBVUMsWUFBWSxHQUFHWiwrQ0FBUUEsQ0FBUztJQUNqRCxNQUFNLENBQUNhLE9BQU9DLFNBQVMsR0FBR2QsK0NBQVFBLENBQVM7SUFDM0MsTUFBTSxDQUFDZSxXQUFXQyxhQUFhLEdBQUdoQiwrQ0FBUUEsQ0FBUztJQUNuRCxNQUFNLENBQUNpQixPQUFPQyxTQUFTLEdBQUdsQiwrQ0FBUUEsQ0FBUztJQUMzQyxNQUFNLENBQUNtQixXQUFXQyxhQUFhLEdBQUdwQiwrQ0FBUUEsQ0FBeUIsQ0FBQztJQUNwRSxNQUFNLENBQUNxQixVQUFVQyxZQUFZLEdBQUd0QiwrQ0FBUUEsQ0FBVTtJQUVsRCxNQUFNLENBQUN1QixTQUFTQyxXQUFXLEdBQUd4QiwrQ0FBUUEsQ0FBMEQsRUFBRTtJQUNsRyxNQUFNLENBQUN5QixhQUFhQyxlQUFlLEdBQUcxQiwrQ0FBUUEsQ0FBd0MsRUFBRTtJQUN4RixNQUFNLENBQUMyQixTQUFTQyxXQUFXLEdBQUc1QiwrQ0FBUUEsQ0FBd0MsRUFBRTtJQUVoRixNQUFNNkIsYUFBYTlCLDZDQUFNQSxDQUFpQjtJQUMxQyxNQUFNLENBQUMrQixXQUFXQyxhQUFhLEdBQUcvQiwrQ0FBUUEsQ0FBb0M7UUFBRWdDLE9BQU87UUFBTUMsUUFBUTtJQUFJO0lBRXpHLG1CQUFtQjtJQUVuQixrQkFBa0I7SUFDbEJuQyxnREFBU0EsQ0FBQztRQUNSLElBQUk7WUFDRixNQUFNb0MsSUFBSUMs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bUJBQW1CMUg7d0JBQ25CbUcsV0FBV0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU12QjtHQTVPd0JuSDtLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0dhbWVTY2VuZS50c3g/Yjc2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgRW5naW5lU3RhZ2UgZnJvbSAnLi9lbmdpbmUvRW5naW5lU3RhZ2UnXG5pbXBvcnQgSW52ZW50b3J5U2hvcCwgeyB0eXBlIEl0ZW0gfSBmcm9tICcuL0ludmVudG9yeVNob3AnXG5pbXBvcnQgeyBpbmZlckVtb3Rpb24gfSBmcm9tICdAL2xpYi9lbW90aW9uJ1xuXG50eXBlIE1lc3NhZ2VDaHVuayA9IHsgdHlwZTogJ3Rva2VuJyB8ICdkb25lJyB8ICdtZXRhJzsgZGF0YTogc3RyaW5nIH1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2FtZVNjZW5lKCkge1xuICBjb25zdCBbYmdVcmwsIHNldEJnVXJsXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpXG4gIGNvbnN0IFtzcHJpdGVVcmwsIHNldFNwcml0ZVVybF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKVxuICBjb25zdCBbYXZhdGFyVXJsLCBzZXRBdmF0YXJVcmxdID0gdXNlU3RhdGU8c3RyaW5nPignJylcbiAgY29uc3QgW2RpYWxvZ3VlLCBzZXREaWFsb2d1ZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCfkvaDlpb3vvIzmiJHmmK/mtYvor5Xop5LoibLjgIInKVxuICBjb25zdCBbaW5wdXQsIHNldElucHV0XSA9IHVzZVN0YXRlPHN0cmluZz4oJycpXG4gIGNvbnN0IFthZmZlY3Rpb24sIHNldEFmZmVjdGlvbl0gPSB1c2VTdGF0ZTxudW1iZXI+KDApXG4gIGNvbnN0IFtjb2lucywgc2V0Q29pbnNdID0gdXNlU3RhdGU8bnVtYmVyPigxMDApXG4gIGNvbnN0IFtpbnZlbnRvcnksIHNldEludmVudG9yeV0gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBudW1iZXI+Pih7fSlcbiAgY29uc3QgW3Nob3BPcGVuLCBzZXRTaG9wT3Blbl0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSlcblxuICBjb25zdCBbc3ByaXRlcywgc2V0U3ByaXRlc10gPSB1c2VTdGF0ZTxBcnJheTx7IHVybDogc3RyaW5nOyBjaGFyPzogc3RyaW5nOyBlbW90aW9uPzogc3RyaW5nIH0+PihbXSlcbiAgY29uc3QgW2JhY2tncm91bmRzLCBzZXRCYWNrZ3JvdW5kc10gPSB1c2VTdGF0ZTxBcnJheTx7IHVybDogc3RyaW5nOyBuYW1lPzogc3RyaW5nIH0+PihbXSlcbiAgY29uc3QgW2F2YXRhcnMsIHNldEF2YXRhcnNdID0gdXNlU3RhdGU8QXJyYXk8eyB1cmw6IHN0cmluZzsgbmFtZT86IHN0cmluZyB9Pj4oW10pXG5cbiAgY29uc3Qgd3JhcHBlclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcbiAgY29uc3QgW3N0YWdlU2l6ZSwgc2V0U3RhZ2VTaXplXSA9IHVzZVN0YXRlPHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfT4oeyB3aWR0aDogMTI4MCwgaGVpZ2h0OiA3MjAgfSlcblxuICAvLyDlkI3lrZflsZXnpLrlt7Llm7rlrprkuLrvvJrmnbHlmInlvKXnnJ8g5b6h5aWIXG5cbiAgLy8g5pys5Zyw5oyB5LmF5YyW77ya6YeR5biB44CB6IOM5YyF44CB5aW95oSf5bqmXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dhbWVfc3RhdGUnKVxuICAgICAgaWYgKHMpIHtcbiAgICAgICAgY29uc3QgaiA9IEpTT04ucGFyc2UocylcbiAgICAgICAgaWYgKHR5cGVvZiBqLmNvaW5zID09PSAnbnVtYmVyJykgc2V0Q29pbnMoai5jb2lucylcbiAgICAgICAgaWYgKGouaW52ZW50b3J5ICYmIHR5cGVvZiBqLmludmVudG9yeSA9PT0gJ29iamVjdCcpIHNldEludmVudG9yeShqLmludmVudG9yeSlcbiAgICAgICAgaWYgKHR5cGVvZiBqLmFmZmVjdGlvbiA9PT0gJ251bWJlcicpIHNldEFmZmVjdGlvbihqLmFmZmVjdGlvbilcbiAgICAgIH1cbiAgICB9IGNhdGNoIHt9XG4gIH0sIFtdKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkoeyBjb2lucywgaW52ZW50b3J5LCBhZmZlY3Rpb24gfSlcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ2FtZV9zdGF0ZScsIHBheWxvYWQpXG4gICAgfSBjYXRjaCB7fVxuICB9LCBbY29pbnMsIGludmVudG9yeSwgYWZmZWN0aW9uXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIOWQr+WKqOaXtuWKoOi9veacrOWcsOS4iuS8oOeahOi1hOa6kFxuICAgIDsoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgW2JnUmVzLCBzcFJlcywgYXZSZXNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIGZldGNoKCcvYXBpL2Fzc2V0cz90eXBlPWJnJyksXG4gICAgICAgICAgZmV0Y2goJy9hcGkvYXNzZXRzP3R5cGU9c3ByaXRlcycpLFxuICAgICAgICAgIGZldGNoKCcvYXBpL2Fzc2V0cz90eXBlPWF2YXRhcnMnKSxcbiAgICAgICAgXSlcbiAgICAgICAgY29uc3QgYmdKc29uID0gYXdhaXQgYmdSZXMuanNvbigpXG4gICAgICAgIGNvbnN0IHNwSnNvbiA9IGF3YWl0IHNwUmVzLmpzb24oKVxuICAgICAgICBjb25zdCBhdkpzb24gPSBhd2FpdCBhdlJlcy5qc29uKClcbiAgICAgICAgY29uc3QgYmdMaXN0OiBBcnJheTx7IHVybDogc3RyaW5nOyBuYW1lPzogc3RyaW5nIH0+ID0gYmdKc29uLmZpbGVzIHx8IFtdXG4gICAgICAgIGNvbnN0IHNwTGlzdDogQXJyYXk8eyB1cmw6IHN0cmluZzsgY2hhcj86IHN0cmluZzsgZW1vdGlvbj86IHN0cmluZyB9PiA9IHNwSnNvbi5maWxlcyB8fCBbXVxuICAgICAgICBjb25zdCBhdkxpc3Q6IEFycmF5PHsgdXJsOiBzdHJpbmc7IG5hbWU/OiBzdHJpbmcgfT4gPSBhdkpzb24uZmlsZXMgfHwgW11cbiAgICAgICAgc2V0QmFja2dyb3VuZHMoYmdMaXN0KVxuICAgICAgICBzZXRTcHJpdGVzKHNwTGlzdClcbiAgICAgICAgc2V0QXZhdGFycyhhdkxpc3QpXG5cbiAgICAgICAgaWYgKCFiZ1VybCAmJiBiZ0xpc3QubGVuZ3RoKSBzZXRCZ1VybChiZ0xpc3RbMF0udXJsKVxuICAgICAgICBpZiAoIXNwcml0ZVVybCAmJiBzcExpc3QubGVuZ3RoKSBzZXRTcHJpdGVVcmwoc3BMaXN0WzBdLnVybClcbiAgICAgICAgaWYgKCFhdmF0YXJVcmwgJiYgYXZMaXN0Lmxlbmd0aCkgc2V0QXZhdGFyVXJsKGF2TGlzdFswXS51cmwpXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlnbm9yZVxuICAgICAgfVxuICAgIH0pKClcblxuICAgIC8vIOiuoeeul+iInuWPsOWwuuWvuO+8iOaUueS4uuWNoOa7oeeItuWuueWZqCAvIOWFqOWxj++8iVxuICAgIGNvbnN0IHVwZGF0ZVN0YWdlID0gKCkgPT4ge1xuICAgICAgY29uc3Qgd3JhcCA9IHdyYXBwZXJSZWYuY3VycmVudFxuICAgICAgY29uc3QgdyA9IHdyYXA/LmNsaWVudFdpZHRoID8/IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgICBjb25zdCBoID0gd3JhcD8uY2xpZW50SGVpZ2h0ID8/IHdpbmRvdy5pbm5lckhlaWdodFxuICAgICAgc2V0U3RhZ2VTaXplKHsgd2lkdGg6IHcsIGhlaWdodDogaCB9KVxuICAgIH1cbiAgICB1cGRhdGVTdGFnZSgpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZVN0YWdlKVxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlU3RhZ2UpXG4gIH0sIFtdKVxuXG4gIC8vIOW9k+eri+e7mOWIh+aNouaXtu+8jOWwneivleWMuemFjeWQjOinkuiJsueahOWktOWDj1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc3ByaXRlVXJsIHx8IGF2YXRhcnMubGVuZ3RoID09PSAwIHx8IHNwcml0ZXMubGVuZ3RoID09PSAwKSByZXR1cm5cbiAgICBjb25zdCBjdXJyZW50ID0gc3ByaXRlcy5maW5kKChzKSA9PiBzLnVybCA9PT0gc3ByaXRlVXJsKVxuICAgIGNvbnN0IGNoYXJJZCA9IGN1cnJlbnQ/LmNoYXJcbiAgICBpZiAoIWNoYXJJZCkgcmV0dXJuXG4gICAgY29uc3QgZm91bmQgPSBhdmF0YXJzLmZpbmQoKGEpID0+IGEudXJsLmluY2x1ZGVzKGAvYXZhdGFycy8ke2NoYXJJZH1gKSB8fCAoYS5uYW1lID8/ICcnKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGNoYXJJZC50b0xvd2VyQ2FzZSgpKSlcbiAgICBpZiAoZm91bmQpIHNldEF2YXRhclVybChmb3VuZC51cmwpXG4gIH0sIFtzcHJpdGVVcmwsIGF2YXRhcnMsIHNwcml0ZXNdKVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKCkge1xuICAgIHNldERpYWxvZ3VlKCcnKVxuICAgIC8vIOeugOWNleWFs+mUruivjeaOqOaWreaDhee7quW5tuWwneivleWIh+aNoueri+e7mFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBoaW50ID0gaW5mZXJFbW90aW9uKGlucHV0LCBhZmZlY3Rpb24pXG4gICAgICBpZiAoaGludCAmJiBzcHJpdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgY3VyID0gc3ByaXRlcy5maW5kKChzKSA9PiBzLnVybCA9PT0gc3ByaXRlVXJsKVxuICAgICAgICBsZXQgY2FuZGlkYXRlID0gc3ByaXRlcy5maW5kKFxuICAgICAgICAgIChzKSA9PiBzLmVtb3Rpb24/LnRvTG93ZXJDYXNlKCkgPT09IGhpbnQgJiYgcy5jaGFyICYmIGN1cj8uY2hhciAmJiBzLmNoYXIgPT09IGN1ci5jaGFyLFxuICAgICAgICApXG4gICAgICAgIGlmICghY2FuZGlkYXRlKSBjYW5kaWRhdGUgPSBzcHJpdGVzLmZpbmQoKHMpID0+IHMuZW1vdGlvbj8udG9Mb3dlckNhc2UoKSA9PT0gaGludClcbiAgICAgICAgaWYgKGNhbmRpZGF0ZSkgc2V0U3ByaXRlVXJsKGNhbmRpZGF0ZS51cmwpXG4gICAgICB9XG4gICAgfSBjYXRjaCB7fVxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL2FpJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZTogaW5wdXQsIGZyZWVjaGF0OiB0cnVlIH0pLFxuICAgIH0pXG4gICAgaWYgKCFyZXMub2sgfHwgIXJlcy5ib2R5KSByZXR1cm5cbiAgICBjb25zdCByZWFkZXIgPSByZXMuYm9keS5nZXRSZWFkZXIoKVxuICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKVxuICAgIGxldCBidWZmZXIgPSAnJ1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpXG4gICAgICBpZiAoZG9uZSkgYnJlYWtcbiAgICAgIGJ1ZmZlciArPSBkZWNvZGVyLmRlY29kZSh2YWx1ZSwgeyBzdHJlYW06IHRydWUgfSlcbiAgICAgIGNvbnN0IHBhcnRzID0gYnVmZmVyLnNwbGl0KCdcXG5cXG4nKVxuICAgICAgYnVmZmVyID0gcGFydHMucG9wKCkgfHwgJydcbiAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xuICAgICAgICBpZiAoIXBhcnQuc3RhcnRzV2l0aCgnZGF0YTonKSkgY29udGludWVcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHBhcnQucmVwbGFjZSgvXmRhdGE6XFxzKi8sICcnKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IG1zZzogTWVzc2FnZUNodW5rID0gSlNPTi5wYXJzZShwYXlsb2FkKVxuICAgICAgICAgIGlmIChtc2cudHlwZSA9PT0gJ3Rva2VuJykgc2V0RGlhbG9ndWUoKGQpID0+IGQgKyBtc2cuZGF0YSlcbiAgICAgICAgICBpZiAobXNnLnR5cGUgPT09ICdtZXRhJykge1xuICAgICAgICAgICAgLy8g566A5Y2V56S65L6L77yabWV0YemHjOWPr+iDveWMheWQq+aDhee7quaIluWlveaEn+W6pua1ruWKqFxuICAgICAgICAgICAgY29uc3QgbWV0YSA9IEpTT04ucGFyc2UobXNnLmRhdGEpXG4gICAgICAgICAgICBpZiAodHlwZW9mIG1ldGEuYWZmZWN0aW9uRGVsdGEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgIHNldEFmZmVjdGlvbigoYSkgPT4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBhICsgbWV0YS5hZmZlY3Rpb25EZWx0YSkpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1ldGEuZW1vdGlvbiAmJiB0eXBlb2YgbWV0YS5lbW90aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gc3ByaXRlcy5maW5kKChzKSA9PiBzLnVybCA9PT0gc3ByaXRlVXJsKVxuICAgICAgICAgICAgICBjb25zdCB0YXJnZXRFbW90aW9uID0gU3RyaW5nKG1ldGEuZW1vdGlvbikudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICBsZXQgY2FuZGlkYXRlID0gc3ByaXRlcy5maW5kKFxuICAgICAgICAgICAgICAgIChzKSA9PiBzLmVtb3Rpb24/LnRvTG93ZXJDYXNlKCkgPT09IHRhcmdldEVtb3Rpb24gJiYgcy5jaGFyICYmIGN1cnJlbnQ/LmNoYXIgJiYgcy5jaGFyID09PSBjdXJyZW50LmNoYXIsXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgaWYgKCFjYW5kaWRhdGUpIGNhbmRpZGF0ZSA9IHNwcml0ZXMuZmluZCgocykgPT4gcy5lbW90aW9uPy50b0xvd2VyQ2FzZSgpID09PSB0YXJnZXRFbW90aW9uKVxuICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlKSBzZXRTcHJpdGVVcmwoY2FuZGlkYXRlLnVybClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICB9XG4gICAgc2V0SW5wdXQoJycpXG4gIH1cblxuICBmdW5jdGlvbiBvblVzZUl0ZW0oaXQ6IEl0ZW0pIHtcbiAgICBpZiAodHlwZW9mIGl0LmFmZmVjdGlvbkRlbHRhID09PSAnbnVtYmVyJykge1xuICAgICAgc2V0QWZmZWN0aW9uKChhKSA9PiBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIGEgKyBpdC5hZmZlY3Rpb25EZWx0YSEpKSlcbiAgICB9XG4gICAgaWYgKGl0LmVtb3Rpb24pIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGl0LmVtb3Rpb24udG9Mb3dlckNhc2UoKVxuICAgICAgY29uc3QgY3VyID0gc3ByaXRlcy5maW5kKChzKSA9PiBzLnVybCA9PT0gc3ByaXRlVXJsKVxuICAgICAgbGV0IGNhbmRpZGF0ZSA9IHNwcml0ZXMuZmluZChcbiAgICAgICAgKHMpID0+IHMuZW1vdGlvbj8udG9Mb3dlckNhc2UoKSA9PT0gdGFyZ2V0ICYmIHMuY2hhciAmJiBjdXI/LmNoYXIgJiYgcy5jaGFyID09PSBjdXIuY2hhcixcbiAgICAgIClcbiAgICAgIGlmICghY2FuZGlkYXRlKSBjYW5kaWRhdGUgPSBzcHJpdGVzLmZpbmQoKHMpID0+IHMuZW1vdGlvbj8udG9Mb3dlckNhc2UoKSA9PT0gdGFyZ2V0KVxuICAgICAgaWYgKGNhbmRpZGF0ZSkgc2V0U3ByaXRlVXJsKGNhbmRpZGF0ZS51cmwpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHJlZj17d3JhcHBlclJlZn0gY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIGgtWzEwMGR2aF0gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgIHsvKiDlhajlsY/pk7rmu6HnmoTog4zmma/vvIjpmo/nqpflj6PnvKnmlL7opobnm5bvvIkqL31cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCAtei0xMCBiZy1jZW50ZXIgYmctY292ZXIgcGl4ZWxhdGVkXCJcbiAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBiZ1VybCA/IGB1cmwoJHtiZ1VybH0pYCA6IHVuZGVmaW5lZCB9fVxuICAgICAgLz5cbiAgICAgIHsvKiDog4zmma/lj6DliqDkuIDlsYLovbvlvq7pga7nvanku6Xmj5DljYfmlofmnKzlj6/or7vmgKfvvIjmm7TmtYXvvIzpgb/lhY3nnIvotbfmnaXlg4/pu5HovrnvvIkgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgLXotMTAgYmctYmxhY2svMTAgc206YmctYmxhY2svMjBcIiAvPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgIDxFbmdpbmVTdGFnZVxuICAgICAgICAgIGJnVXJsPXtiZ1VybH1cbiAgICAgICAgICBzcHJpdGVVcmw9e3Nwcml0ZVVybH1cbiAgICAgICAgICAvLyDnq4vnu5jkuIrnp7sgMTUl77yI5Y2z55u45a+55LmL5YmNIDYwJSDkuIvnp7vvvIzosIPmlbTkuLogNDUlIOS4i+enu++8iVxuICAgICAgICAgIG9mZnNldFB4PXtNYXRoLnJvdW5kKHN0YWdlU2l6ZS5oZWlnaHQgKiAwLjQ1KX1cbiAgICAgICAgLz5cblxuICAgICAgICB7LyogSFVEIC0g5bem5L6n5aS05YOPICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIGxlZnQtMiBzbTp0b3AtMyBzbTpsZWZ0LTMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMTIgdy0xMiBzbTpoLTE0IHNtOnctMTQgcm91bmRlZC1mdWxsIGJnLXdoaXRlLzEwIG92ZXJmbG93LWhpZGRlbiBib3JkZXIgYm9yZGVyLXdoaXRlLzIwXCI+XG4gICAgICAgICAgICB7YXZhdGFyVXJsID8gKFxuICAgICAgICAgICAgICA8aW1nIHNyYz17YXZhdGFyVXJsfSBhbHQ9XCJhdmF0YXJcIiBjbGFzc05hbWU9XCJoLWZ1bGwgdy1mdWxsIG9iamVjdC1jb3ZlclwiIC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCB3LWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS13aGl0ZS8xMCB0by13aGl0ZS81XCIgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7LyogSFVEIC0g5Y+z5L6n77ya5aW95oSf5bqmICsg5ZWG5Z+OL+iDjOWMhS/ph5HluIEgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtMiBzbTp0b3AtMyBzbTpyaWdodC0zIGZsZXggZmxleC1jb2wgaXRlbXMtZW5kIGdhcC0yIHNtOmdhcC0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTMyIHNtOnctNDhcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gc206dGV4dC14cyBtYi0xIHRleHQtd2hpdGUvODBcIj7lpb3mhJ/luqY8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0yIHctZnVsbCBiZy13aGl0ZS8xMCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgYmctcGluay01MDBcIiBzdHlsZT17eyB3aWR0aDogYCR7YWZmZWN0aW9ufSVgIH19IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQteHMgc206dGV4dC1zbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC0yIHB5LTEgYm9yZGVyIGJnLXdoaXRlLzEwXCI+8J+qmSB7Y29pbnN9PC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInB4LTIgcHktMSBib3JkZXIgYmctd2hpdGUvMTAgaG92ZXI6Ymctd2hpdGUvMjBcIiBvbkNsaWNrPXsoKSA9PiBzZXRTaG9wT3Blbih0cnVlKX0+6IOM5YyFL+WVhuWfjjwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7Lyog5a+56K+d5qGGICovfVxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAgbGVmdC0wIHJpZ2h0LTAgcC0zIHNtOnAtNFwiXG4gICAgICAgICAgc3R5bGU9e3sgcGFkZGluZ0JvdHRvbTogJ21heChlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSwgMHB4KSwgMXJlbSknIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtbm9uZSBib3JkZXIgYm9yZGVyLWRpYWxvZ3VlLWJvcmRlciBiZy1kaWFsb2d1ZS1iZyBiYWNrZHJvcC1ibHVyIHB4LTMgcHktMiBzbTpweC00IHNtOnB5LTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMSBzbTptYi0yIHRleHQteHMgc206dGV4dC1zbSB0ZXh0LXdoaXRlLzcwXCI+5p2x5ZiJ5byl55yfIOW+oeWliDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1bNTZweF0gc206bWluLWgtWzY0cHhdIHRleHQtYmFzZSBzbTp0ZXh0LWxnIGxlYWRpbmctcmVsYXhlZCB0ZXh0LXNoYWRvdyB0eXBld3JpdGVyXCI+e2RpYWxvZ3VlfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHNtOm10LTMgZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB2YWx1ZT17aW5wdXR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnB1dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4geyBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHNlbmRNZXNzYWdlKCkgfX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIui+k+WFpeW5tuaMieWbnui9puS4juinkuiJsuWvueivnVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHJvdW5kZWQgYmctd2hpdGUvMTAgcHgtMiBweS0yIHNtOnB4LTMgb3V0bGluZS1ub25lIHBsYWNlaG9sZGVyOnRleHQtd2hpdGUvNDAgdGV4dC1zbSBzbTp0ZXh0LWJhc2VcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3NlbmRNZXNzYWdlfSBjbGFzc05hbWU9XCJyb3VuZGVkIGJnLXdoaXRlLzE1IHB4LTMgcHktMiBob3ZlcjpiZy13aGl0ZS8yNSB0ZXh0LXNtIHNtOnRleHQtYmFzZVwiPuWPkemAgTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHtzaG9wT3BlbiAmJiAoXG4gICAgICAgICAgPEludmVudG9yeVNob3BcbiAgICAgICAgICAgIGNvaW5zPXtjb2luc31cbiAgICAgICAgICAgIGludmVudG9yeT17aW52ZW50b3J5fVxuICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvcE9wZW4oZmFsc2UpfVxuICAgICAgICAgICAgb25Db2luc0NoYW5nZT17c2V0Q29pbnN9XG4gICAgICAgICAgICBvbkludmVudG9yeUNoYW5nZT17c2V0SW52ZW50b3J5fVxuICAgICAgICAgICAgb25Vc2VJdGVtPXtvblVzZUl0ZW19XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJFbmdpbmVTdGFnZSIsIkludmVudG9yeVNob3AiLCJpbmZlckVtb3Rpb24iLCJHYW1lU2NlbmUiLCJiZ1VybCIsInNldEJnVXJsIiwic3ByaXRlVXJsIiwic2V0U3ByaXRlVXJsIiwiYXZhdGFyVXJsIiwic2V0QXZhdGFyVXJsIiwiZGlhbG9ndWUiLCJzZXREaWFsb2d1ZSIsImlucHV0Iiwic2V0SW5wdXQiLCJhZmZlY3Rpb24iLCJzZXRBZmZlY3Rpb24iLCJjb2lucyIsInNldENvaW5zIiwiaW52ZW50b3J5Iiwic2V0SW52ZW50b3J5Iiwic2hvcE9wZW4iLCJzZXRTaG9wT3BlbiIsInNwcml0ZXMiLCJzZXRTcHJpdGVzIiwiYmFja2dyb3VuZHMiLCJzZXRCYWNrZ3JvdW5kcyIsImF2YXRhcnMiLCJzZXRBdmF0YXJzIiwid3JhcHBlclJlZiIsInN0YWdlU2l6ZSIsInNldFN0YWdlU2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwicyIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJqIiwiSlNPTiIsInBhcnNlIiwicGF5bG9hZCIsInN0cmluZ2lmeSIsInNldEl0ZW0iLCJiZ1JlcyIsInNwUmVzIiwiYXZSZXMiLCJQcm9taXNlIiwiYWxsIiwiZmV0Y2giLCJiZ0pzb24iLCJqc29uIiwic3BKc29uIiwiYXZKc29uIiwiYmdMaXN0IiwiZmlsZXMiLCJzcExpc3QiLCJhdkxpc3QiLCJsZW5ndGgiLCJ1cmwiLCJlIiwidXBkYXRlU3RhZ2UiLCJ3cmFwIiwiY3VycmVudCIsInciLCJjbGllbnRXaWR0aCIsImlubmVyV2lkdGgiLCJoIiwiY2xpZW50SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImZpbmQiLCJjaGFySWQiLCJjaGFyIiwiZm91bmQiLCJhIiwiaW5jbHVkZXMiLCJuYW1lIiwidG9Mb3dlckNhc2UiLCJzZW5kTWVzc2FnZSIsImhpbnQiLCJjdXIiLCJjYW5kaWRhdGUiLCJlbW90aW9uIiwicmVzIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJtZXNzYWdlIiwiZnJlZWNoYXQiLCJvayIsInJlYWRlciIsImdldFJlYWRlciIsImRlY29kZXIiLCJUZXh0RGVjb2RlciIsImJ1ZmZlciIsInZhbHVlIiwiZG9uZSIsInJlYWQiLCJkZWNvZGUiLCJzdHJlYW0iLCJwYXJ0cyIsInNwbGl0IiwicG9wIiwicGFydCIsInN0YXJ0c1dpdGgiLCJyZXBsYWNlIiwibXNnIiwidHlwZSIsImQiLCJkYXRhIiwibWV0YSIsImFmZmVjdGlvbkRlbHRhIiwiTWF0aCIsIm1heCIsIm1pbiIsInRhcmdldEVtb3Rpb24iLCJTdHJpbmciLCJvblVzZUl0ZW0iLCJpdCIsInRhcmdldCIsImRpdiIsInJlZiIsImNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwidW5kZWZpbmVkIiwib2Zmc2V0UHgiLCJyb3VuZCIsImltZyIsInNyYyIsImFsdCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJwYWRkaW5nQm90dG9tIiwib25DaGFuZ2UiLCJvbktleURvd24iLCJrZXkiLCJwbGFjZWhvbGRlciIsIm9uQ2xvc2UiLCJvbkNvaW5zQ2hhbmdlIiwib25JbnZlbnRvcnlDaGFuZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/GameScene.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/InventoryShop.tsx":
/*!**************************************!*\
  !*** ./components/InventoryShop.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ InventoryShop; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ui_PixelPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui/PixelPanel */ \"(app-pages-browser)/./components/ui/PixelPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nconst shopCatalog = [\n    {\n        id: \"gift_flowers\",\n        name: \"\",\n        price: 20,\n        affectionDelta: 5,\n        emotion: \"happy\"\n    },\n    {\n        id: \"gift_tea\",\n        name: \"\",\n        price: 15,\n        affectionDelta: 3,\n        emotion: \"shy\"\n    },\n    {\n        id: \"gift_cookie\",\n        name: \"\",\n        price: 10,\n        affectionDelta: 2\n    },\n    {\n        id: \"gift_music\",\n        name: \"\",\n        price: 30,\n        affectionDelta: 6\n    }\n];\nfunction InventoryShop(param) {\n    let { coins, inventory, onClose, onCoinsChange, onInventoryChange, onUseItem } = param;\n    _s();\n    var _s1 = $RefreshSig$();\n    const [tab, setTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"shop\");\n    const invList = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return shopCatalog.map((it)=>({\n                ...it,\n                count: inventory[it.id] || 0\n            })).filter((it)=>it.count > 0);\n    }, [\n        inventory\n    ]);\n    function buy(item) {\n        if (coins < item.price) return;\n        const nextCoins = coins - item.price;\n        const nextInv = {\n            ...inventory,\n            [item.id]: (inventory[item.id] || 0) + 1\n        };\n        onCoinsChange(nextCoins);\n        onInventoryChange(nextInv);\n    }\n    function useItem(item) {\n        const count = inventory[item.id] || 0;\n        if (count <= 0) return;\n        const nextInv = {\n            ...inventory,\n            [item.id]: Math.max(0, count - 1)\n        };\n        onInventoryChange(nextInv);\n        onUseItem(item);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"absolute inset-0 z-20 flex items-center justify-center\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 bg-black/60\",\n                onClick: onClose\n            }, void 0, false, {\n                fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                lineNumber: 57,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_PixelPanel__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                className: \"relative z-10 w-[92%] max-w-[720px] p-3 sm:p-4 [image-rendering:pixelated]\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between mb-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-2 text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"px-3 py-1 border \".concat(tab === \"shop\" ? \"bg-white/15\" : \"bg-transparent\", \" hover:bg-white/10\"),\n                                        onClick: ()=>setTab(\"shop\"),\n                                        children: \"\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                        lineNumber: 61,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"px-3 py-1 border \".concat(tab === \"inventory\" ? \"bg-white/15\" : \"bg-transparent\", \" hover:bg-white/10\"),\n                                        onClick: ()=>setTab(\"inventory\"),\n                                        children: \"\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                        lineNumber: 65,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                lineNumber: 60,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm\",\n                                children: [\n                                    \"\\uD83E\\uDE99 \",\n                                    coins\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                lineNumber: 70,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 9\n                    }, this),\n                    tab === \"shop\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 sm:grid-cols-3 gap-3\",\n                        children: shopCatalog.map((it)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_PixelPanel__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                className: \"p-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-base mb-1\",\n                                        children: it.name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                        lineNumber: 77,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-white/70 mb-2\",\n                                        children: it.desc || \"\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                        lineNumber: 78,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm\",\n                                                children: [\n                                                    \"\\uD83E\\uDE99 \",\n                                                    it.price\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                                lineNumber: 80,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"px-2 py-1 text-sm border \".concat(coins >= it.price ? \"hover:bg-white/10\" : \"opacity-50 cursor-not-allowed\"),\n                                                onClick: ()=>buy(it),\n                                                disabled: coins < it.price,\n                                                children: \"\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                                lineNumber: 81,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                        lineNumber: 79,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, it.id, true, {\n                                fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                lineNumber: 76,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                        lineNumber: 74,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 sm:grid-cols-3 gap-3\",\n                        children: [\n                            invList.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"col-span-full text-center text-white/60 py-8\",\n                                children: \"\"\n                            }, void 0, false, {\n                                fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                lineNumber: 93,\n                                columnNumber: 15\n                            }, this),\n                            invList.map((it)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_PixelPanel__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    className: \"p-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-base mb-1\",\n                                            children: [\n                                                it.name,\n                                                \" \\xd7\",\n                                                inventory[it.id] || 0\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                            lineNumber: 97,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs text-white/70 mb-2\",\n                                            children: it.desc || \"\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                            lineNumber: 98,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-right\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"px-2 py-1 text-sm border hover:bg-white/10\",\n                                                onClick: _s1(()=>{\n                                                    _s1();\n                                                    return useItem(it);\n                                                }, \"V76djdvZ5YECSG1Rw+djQRghpxI=\", false, function() {\n                                                    return [\n                                                        useItem\n                                                    ];\n                                                }),\n                                                children: \"\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                                lineNumber: 100,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                            lineNumber: 99,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, it.id, true, {\n                                    fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                                    lineNumber: 96,\n                                    columnNumber: 15\n                                }, this))\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                        lineNumber: 91,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 text-right\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"px-3 py-1 text-sm border hover:bg-white/10\",\n                            onClick: onClose,\n                            children: \"\"\n                        }, void 0, false, {\n                            fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                            lineNumber: 108,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                        lineNumber: 107,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n                lineNumber: 58,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/yume/Desktop/1/components/InventoryShop.tsx\",\n        lineNumber: 56,\n        columnNumber: 5\n    }, this);\n}\n_s(InventoryShop, \"pakwF5yI0nVDlqhKbEXlxJPT+Gg=\");\n_c = InventoryShop;\nvar _c;\n$RefreshReg$(_c, \"InventoryShop\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvSW52ZW50b3J5U2hvcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUN5QztBQUNEO0FBcUJ4QyxNQUFNRyxjQUFzQjtJQUMxQjtRQUFFQyxJQUFJO1FBQWdCQyxNQUFNO1FBQVFDLE9BQU87UUFBSUMsZ0JBQWdCO1FBQUdDLFNBQVM7SUFBUTtJQUNuRjtRQUFFSixJQUFJO1FBQVlDLE1BQU07UUFBUUMsT0FBTztRQUFJQyxnQkFBZ0I7UUFBR0MsU0FBUztJQUFNO0lBQzdFO1FBQUVKLElBQUk7UUFBZUMsTUFBTTtRQUFRQyxPQUFPO1FBQUlDLGdCQUFnQjtJQUFFO0lBQ2hFO1FBQUVILElBQUk7UUFBY0MsTUFBTTtRQUFTQyxPQUFPO1FBQUlDLGdCQUFnQjtJQUFFO0NBQ2pFO0FBRWMsU0FBU0UsY0FBYyxLQUFpRjtRQUFqRixFQUFFQyxLQUFLLEVBQUVDLFNBQVMsRUFBRUMsT0FBTyxFQUFFQyxhQUFhLEVBQUVDLGlCQUFpQixFQUFFQyxTQUFTLEVBQVMsR0FBakY7OztJQUNwQyxNQUFNLENBQUNDLEtBQUtDLE9BQU8sR0FBR2hCLCtDQUFRQSxDQUF1QjtJQUNyRCxNQUFNaUIsVUFBVWxCLDhDQUFPQSxDQUFTO1FBQzlCLE9BQU9HLFlBQ0pnQixHQUFHLENBQUMsQ0FBQ0MsS0FBUTtnQkFBRSxHQUFHQSxFQUFFO2dCQUFFQyxPQUFPVixTQUFTLENBQUNTLEdBQUdoQixFQUFFLENBQUMsSUFBSTtZQUFFLElBQ25Ea0IsTUFBTSxDQUFDLENBQUNGLEtBQU8sR0FBWUMsS0FBSyxHQUFHO0lBQ3hDLEdBQUc7UUFBQ1Y7S0FBVTtJQUVkLFNBQVNZLElBQUlDLElBQVU7UUFDckIsSUFBSWQsUUFBUWMsS0FBS2xCLEtBQUssRUFBRTtRQUN4QixNQUFNbUIsWUFBWWYsUUFBUWMsS0FBS2xCLEtBQUs7UUFDcEMsTUFBTW9CLFVBQVU7WUFBRSxHQUFHZixTQUFTO1lBQUUsQ0FBQ2EsS0FBS3BCLEVBQUUsQ0FB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YnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9JbnZlbnRvcnlTaG9wLnRzeD9lYjc3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5pbXBvcnQgeyB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFBpeGVsUGFuZWwgZnJvbSAnLi91aS9QaXhlbFBhbmVsJ1xuXG5leHBvcnQgdHlwZSBJdGVtID0ge1xuICBpZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBkZXNjPzogc3RyaW5nXG4gIHByaWNlOiBudW1iZXJcbiAgaWNvbj86IHN0cmluZ1xuICBhZmZlY3Rpb25EZWx0YT86IG51bWJlclxuICBlbW90aW9uPzogc3RyaW5nXG59XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGNvaW5zOiBudW1iZXJcbiAgaW52ZW50b3J5OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWRcbiAgb25Db2luc0NoYW5nZTogKG5leHQ6IG51bWJlcikgPT4gdm9pZFxuICBvbkludmVudG9yeUNoYW5nZTogKG5leHQ6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4pID0+IHZvaWRcbiAgb25Vc2VJdGVtOiAoaXRlbTogSXRlbSkgPT4gdm9pZFxufVxuXG5jb25zdCBzaG9wQ2F0YWxvZzogSXRlbVtdID0gW1xuICB7IGlkOiAnZ2lmdF9mbG93ZXJzJywgbmFtZTogJ+WDj+e0oOiKseadnycsIHByaWNlOiAyMCwgYWZmZWN0aW9uRGVsdGE6IDUsIGVtb3Rpb246ICdoYXBweScgfSxcbiAgeyBpZDogJ2dpZnRfdGVhJywgbmFtZTogJ+aKueiMtuaLv+mTgScsIHByaWNlOiAxNSwgYWZmZWN0aW9uRGVsdGE6IDMsIGVtb3Rpb246ICdzaHknIH0sXG4gIHsgaWQ6ICdnaWZ0X2Nvb2tpZScsIG5hbWU6ICfmm7LlpYfppbzlubInLCBwcmljZTogMTAsIGFmZmVjdGlvbkRlbHRhOiAyIH0sXG4gIHsgaWQ6ICdnaWZ0X211c2ljJywgbmFtZTogJ+ejgeW4pumaj+i6q+WQrCcsIHByaWNlOiAzMCwgYWZmZWN0aW9uRGVsdGE6IDYgfSxcbl1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSW52ZW50b3J5U2hvcCh7IGNvaW5zLCBpbnZlbnRvcnksIG9uQ2xvc2UsIG9uQ29pbnNDaGFuZ2UsIG9uSW52ZW50b3J5Q2hhbmdlLCBvblVzZUl0ZW0gfTogUHJvcHMpIHtcbiAgY29uc3QgW3RhYiwgc2V0VGFiXSA9IHVzZVN0YXRlPCdpbnZlbnRvcnknIHwgJ3Nob3AnPignc2hvcCcpXG4gIGNvbnN0IGludkxpc3QgPSB1c2VNZW1vPEl0ZW1bXT4oKCkgPT4ge1xuICAgIHJldHVybiBzaG9wQ2F0YWxvZ1xuICAgICAgLm1hcCgoaXQpID0+ICh7IC4uLml0LCBjb3VudDogaW52ZW50b3J5W2l0LmlkXSB8fCAwIH0pKVxuICAgICAgLmZpbHRlcigoaXQpID0+IChpdCBhcyBhbnkpLmNvdW50ID4gMClcbiAgfSwgW2ludmVudG9yeV0pXG5cbiAgZnVuY3Rpb24gYnV5KGl0ZW06IEl0ZW0pIHtcbiAgICBpZiAoY29pbnMgPCBpdGVtLnByaWNlKSByZXR1cm5cbiAgICBjb25zdCBuZXh0Q29pbnMgPSBjb2lucyAtIGl0ZW0ucHJpY2VcbiAgICBjb25zdCBuZXh0SW52ID0geyAuLi5pbnZlbnRvcnksIFtpdGVtLmlkXTogKGludmVudG9yeVtpdGVtLmlkXSB8fCAwKSArIDEgfVxuICAgIG9uQ29pbnNDaGFuZ2UobmV4dENvaW5zKVxuICAgIG9uSW52ZW50b3J5Q2hhbmdlKG5leHRJbnYpXG4gIH1cblxuICBmdW5jdGlvbiB1c2VJdGVtKGl0ZW06IEl0ZW0pIHtcbiAgICBjb25zdCBjb3VudCA9IGludmVudG9yeVtpdGVtLmlkXSB8fCAwXG4gICAgaWYgKGNvdW50IDw9IDApIHJldHVyblxuICAgIGNvbnN0IG5leHRJbnYgPSB7IC4uLmludmVudG9yeSwgW2l0ZW0uaWRdOiBNYXRoLm1heCgwLCBjb3VudCAtIDEpIH1cbiAgICBvbkludmVudG9yeUNoYW5nZShuZXh0SW52KVxuICAgIG9uVXNlSXRlbShpdGVtKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgei0yMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLWJsYWNrLzYwXCIgb25DbGljaz17b25DbG9zZX0gLz5cbiAgICAgIDxQaXhlbFBhbmVsIGNsYXNzTmFtZT1cInJlbGF0aXZlIHotMTAgdy1bOTIlXSBtYXgtdy1bNzIwcHhdIHAtMyBzbTpwLTQgW2ltYWdlLXJlbmRlcmluZzpwaXhlbGF0ZWRdXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC0zIHB5LTEgYm9yZGVyICR7dGFiID09PSAnc2hvcCcgPyAnYmctd2hpdGUvMTUnIDogJ2JnLXRyYW5zcGFyZW50J30gaG92ZXI6Ymctd2hpdGUvMTBgfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRUYWIoJ3Nob3AnKX1cbiAgICAgICAgICAgID7llYbln448L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMyBweS0xIGJvcmRlciAke3RhYiA9PT0gJ2ludmVudG9yeScgPyAnYmctd2hpdGUvMTUnIDogJ2JnLXRyYW5zcGFyZW50J30gaG92ZXI6Ymctd2hpdGUvMTBgfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRUYWIoJ2ludmVudG9yeScpfVxuICAgICAgICAgICAgPuiDjOWMhTwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbVwiPvCfqpkge2NvaW5zfTwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7dGFiID09PSAnc2hvcCcgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIHNtOmdyaWQtY29scy0zIGdhcC0zXCI+XG4gICAgICAgICAgICB7c2hvcENhdGFsb2cubWFwKChpdCkgPT4gKFxuICAgICAgICAgICAgICA8UGl4ZWxQYW5lbCBrZXk9e2l0LmlkfSBjbGFzc05hbWU9XCJwLTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBtYi0xXCI+e2l0Lm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtd2hpdGUvNzAgbWItMlwiPntpdC5kZXNjIHx8ICflg4/ntKDpo47pgZPlhbcnfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc21cIj7wn6qZIHtpdC5wcmljZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMiBweS0xIHRleHQtc20gYm9yZGVyICR7Y29pbnMgPj0gaXQucHJpY2UgPyAnaG92ZXI6Ymctd2hpdGUvMTAnIDogJ29wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkJ31gfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBidXkoaXQpfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17Y29pbnMgPCBpdC5wcmljZX1cbiAgICAgICAgICAgICAgICAgID7otK3kubA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9QaXhlbFBhbmVsPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIHNtOmdyaWQtY29scy0zIGdhcC0zXCI+XG4gICAgICAgICAgICB7aW52TGlzdC5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zcGFuLWZ1bGwgdGV4dC1jZW50ZXIgdGV4dC13aGl0ZS82MCBweS04XCI+6IOM5YyF56m656m65aaC5LmfPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge2ludkxpc3QubWFwKChpdCkgPT4gKFxuICAgICAgICAgICAgICA8UGl4ZWxQYW5lbCBrZXk9e2l0LmlkfSBjbGFzc05hbWU9XCJwLTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBtYi0xXCI+e2l0Lm5hbWV9IMOXeyhpbnZlbnRvcnlbaXQuaWRdIHx8IDApfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXdoaXRlLzcwIG1iLTJcIj57aXQuZGVzYyB8fCAn5YOP57Sg6aOO6YGT5YW3J308L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwicHgtMiBweS0xIHRleHQtc20gYm9yZGVyIGhvdmVyOmJnLXdoaXRlLzEwXCIgb25DbGljaz17KCkgPT4gdXNlSXRlbShpdCl9PuS9v+eUqDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L1BpeGVsUGFuZWw+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgdGV4dC1yaWdodFwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwicHgtMyBweS0xIHRleHQtc20gYm9yZGVyIGhvdmVyOmJnLXdoaXRlLzEwXCIgb25DbGljaz17b25DbG9zZX0+5YWz6ZetPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9QaXhlbFBhbmVsPlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsidXNlTWVtbyIsInVzZVN0YXRlIiwiUGl4ZWxQYW5lbCIsInNob3BDYXRhbG9nIiwiaWQiLCJuYW1lIiwicHJpY2UiLCJhZmZlY3Rpb25EZWx0YSIsImVtb3Rpb24iLCJJbnZlbnRvcnlTaG9wIiwiY29pbnMiLCJpbnZlbnRvcnkiLCJvbkNsb3NlIiwib25Db2luc0NoYW5nZSIsIm9uSW52ZW50b3J5Q2hhbmdlIiwib25Vc2VJdGVtIiwidGFiIiwic2V0VGFiIiwiaW52TGlzdCIsIm1hcCIsIml0IiwiY291bnQiLCJmaWx0ZXIiLCJidXkiLCJpdGVtIiwibmV4dENvaW5zIiwibmV4dEludiIsInVzZUl0ZW0iLCJNYXRoIiwibWF4IiwiZGl2IiwiY2xhc3NOYW1lIiwib25DbGljayIsImJ1dHRvbiIsImRlc2MiLCJkaXNhYmxlZCIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/InventoryShop.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/engine/EngineStage.tsx":
/*!*******************************************!*\
  !*** ./components/engine/EngineStage.tsx ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ EngineStage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\nfunction BasicStage(param) {\n    let { bgUrl, spriteUrl, offsetPx = 0 } = param;\n    _s();\n    //  NarraLeaf \n    const { scale, yoff } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        let sv;\n        let yv;\n        if (true) {\n            try {\n                const url = new URL(window.location.href);\n                const qpS = url.searchParams.get(\"scale\");\n                var _url_searchParams_get;\n                const qpY = (_url_searchParams_get = url.searchParams.get(\"yoff\")) !== null && _url_searchParams_get !== void 0 ? _url_searchParams_get : url.searchParams.get(\"yoffset\");\n                if (qpS) sv = Number(qpS);\n                if (qpY) yv = Number(qpY);\n            } catch (e) {}\n            const g = globalThis;\n            if (typeof g.__SPRITE_SCALE === \"number\") sv = g.__SPRITE_SCALE;\n            if (typeof g.__SPRITE_YOFF === \"number\") yv = g.__SPRITE_YOFF;\n            const lsS = window.localStorage.getItem(\"sprite_scale\");\n            const lsY = window.localStorage.getItem(\"sprite_yoffset\");\n            if (sv === undefined && lsS) sv = Number(lsS);\n            if (yv === undefined && lsY) yv = Number(lsY);\n        }\n        var _process_env_NEXT_PUBLIC_SPRITE_SCALE;\n        if (sv === undefined) sv = Number((_process_env_NEXT_PUBLIC_SPRITE_SCALE = process.env.NEXT_PUBLIC_SPRITE_SCALE) !== null && _process_env_NEXT_PUBLIC_SPRITE_SCALE !== void 0 ? _process_env_NEXT_PUBLIC_SPRITE_SCALE : \"1.8\");\n        var _process_env_NEXT_PUBLIC_SPRITE_YOFFSET;\n        if (yv === undefined) yv = Number((_process_env_NEXT_PUBLIC_SPRITE_YOFFSET = process.env.NEXT_PUBLIC_SPRITE_YOFFSET) !== null && _process_env_NEXT_PUBLIC_SPRITE_YOFFSET !== void 0 ? _process_env_NEXT_PUBLIC_SPRITE_YOFFSET : \"0\");\n        if (!Number.isFinite(sv) || sv <= 0) sv = 1.8;\n        if (!Number.isFinite(yv)) yv = 0;\n        return {\n            scale: sv,\n            yoff: yv\n        };\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute inset-0 pointer-events-none\",\n            children: spriteUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                src: spriteUrl,\n                alt: \"sprite\",\n                className: \"absolute bottom-0 left-1/2 h-[70%] drop-shadow-[0_10px_40px_rgba(0,0,0,0.6)] pixelated\",\n                style: {\n                    //  10%  offsetPx  10%\n                    transform: \"translateX(-50%) translateY(\".concat(yoff + offsetPx, \"px) scale(\").concat(scale * 1.1, \")\"),\n                    transformOrigin: \"bottom center\"\n                }\n            }, void 0, false, {\n                fileName: \"/Users/yume/Desktop/1/components/engine/EngineStage.tsx\",\n                lineNumber: 44,\n                columnNumber: 11\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/yume/Desktop/1/components/engine/EngineStage.tsx\",\n            lineNumber: 42,\n            columnNumber: 7\n        }, this)\n    }, void 0, false);\n}\n_s(BasicStage, \"NQdHPXHlaOX1iHLdNMd75AfFmts=\");\n_c = BasicStage;\n// NarraLeaf  narraleaf-react@0.1.0 React 18\nfunction NarraLeafStage(param) {\n    let { bgUrl, spriteUrl, offsetPx = 0 } = param;\n    _s1();\n    //  import  SSR \n    const NL = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        // eslint-disable-next-line @typescript-eslint/no-var-requires\n        const mod = __webpack_require__(/*! narraleaf-react */ \"(app-pages-browser)/./node_modules/narraleaf-react/dist/main.js\");\n        return mod;\n    }, []);\n    const gameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const storyRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sceneRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const spriteRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const ctxRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const spriteCreatedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // NEXT_PUBLIC_SPRITE_SCALE\n    const debugScale = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        let v;\n        if (true) {\n            try {\n                const url = new URL(window.location.href);\n                const qp = url.searchParams.get(\"scale\");\n                if (qp) v = Number(qp);\n            } catch (e) {}\n            const gv = globalThis.__SPRITE_SCALE;\n            if (typeof gv === \"number\") v = gv;\n            const ls = window.localStorage.getItem(\"sprite_scale\");\n            if (!v && ls) v = Number(ls);\n        }\n        if (v === undefined) {\n            var _process_env_NEXT_PUBLIC_SPRITE_SCALE;\n            const raw = (_process_env_NEXT_PUBLIC_SPRITE_SCALE = process.env.NEXT_PUBLIC_SPRITE_SCALE) !== null && _process_env_NEXT_PUBLIC_SPRITE_SCALE !== void 0 ? _process_env_NEXT_PUBLIC_SPRITE_SCALE : \"1.8\";\n            v = Number(raw);\n        }\n        return Number.isFinite(v) && v > 0 ? v : 1.8;\n    }, []);\n    // NEXT_PUBLIC_SPRITE_YOFFSET\n    const debugYOffset = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        let v;\n        if (true) {\n            try {\n                const url = new URL(window.location.href);\n                var _url_searchParams_get;\n                const qp = (_url_searchParams_get = url.searchParams.get(\"yoff\")) !== null && _url_searchParams_get !== void 0 ? _url_searchParams_get : url.searchParams.get(\"yoffset\");\n                if (qp) v = Number(qp);\n            } catch (e) {}\n            const gv = globalThis.__SPRITE_YOFF;\n            if (typeof gv === \"number\") v = gv;\n            const ls = window.localStorage.getItem(\"sprite_yoffset\");\n            if (v === undefined && ls) v = Number(ls);\n        }\n        var _process_env_NEXT_PUBLIC_SPRITE_YOFFSET;\n        if (v === undefined) v = Number((_process_env_NEXT_PUBLIC_SPRITE_YOFFSET = process.env.NEXT_PUBLIC_SPRITE_YOFFSET) !== null && _process_env_NEXT_PUBLIC_SPRITE_YOFFSET !== void 0 ? _process_env_NEXT_PUBLIC_SPRITE_YOFFSET : \"0\");\n        return Number.isFinite(v) ? v : 0;\n    }, []);\n    //  Game/Story/Scene/Image\n    if (!gameRef.current) {\n        gameRef.current = new NL.Game({});\n        const scene = new NL.Scene(\"main\", {});\n        const story = new NL.Story(\"story\", {});\n        story.entry(scene);\n        storyRef.current = story;\n        sceneRef.current = scene;\n        spriteRef.current = new NL.Image(\"sprite\", {\n            src: spriteUrl || \"\",\n            display: !!spriteUrl\n        });\n    }\n    //  NarraLeaf\n    //  NarraLeaf \n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const sprite = spriteRef.current;\n        if (!sprite) return;\n        if (spriteUrl) {\n            try {\n                sprite.setSrc(spriteUrl);\n            } catch (e) {}\n            // \n            try {\n                const totalY = (debugYOffset || 0) + (offsetPx || 0);\n                sprite.applyTransform(new NL.Transform({\n                    transform: {\n                        scale: debugScale * 1.1\n                    },\n                    position: new NL.Align({\n                        xalign: 0.5,\n                        yalign: 1,\n                        yoffset: totalY\n                    })\n                }, {\n                    duration: 0\n                }));\n            } catch (e) {}\n        }\n    }, [\n        spriteUrl,\n        debugScale,\n        debugYOffset\n    ]);\n    const onReady = (ctx)=>{\n        ctxRef.current = ctx;\n        const scene = sceneRef.current;\n        const sprite = spriteRef.current;\n        if (scene && sprite && !spriteCreatedRef.current) {\n            try {\n                ctx.gameState.createImage(sprite, scene);\n                spriteCreatedRef.current = true;\n                // \n                try {\n                    const totalY = (debugYOffset || 0) + (offsetPx || 0);\n                    sprite.show(new NL.Transform({\n                        transform: {\n                            scale: debugScale * 1.1\n                        },\n                        position: new NL.Align({\n                            xalign: 0.5,\n                            yalign: 1,\n                            yoffset: totalY\n                        })\n                    }, {\n                        duration: 0\n                    }));\n                } catch (e) {}\n            } catch (e) {}\n        }\n        //  setSpriteScale(1.2) \n        try {\n            globalThis.setSpriteScale = (next)=>{\n                try {\n                    if (typeof next !== \"number\" || !Number.isFinite(next) || next <= 0) return;\n                    window.localStorage.setItem(\"sprite_scale\", String(next));\n                    const s = spriteRef.current;\n                    if (s) s.applyTransform(new NL.Transform({\n                        transform: {\n                            scale: next\n                        }\n                    }, {\n                        duration: 0\n                    }));\n                } catch (e) {}\n            };\n            globalThis.setSpriteYOffset = (next)=>{\n                try {\n                    if (typeof next !== \"number\" || !Number.isFinite(next)) return;\n                    window.localStorage.setItem(\"sprite_yoffset\", String(next));\n                    const s = spriteRef.current;\n                    if (s) s.applyTransform(new NL.Transform({\n                        position: new NL.Align({\n                            xalign: 0.5,\n                            yalign: 1,\n                            yoffset: next\n                        })\n                    }, {\n                        duration: 0\n                    }));\n                } catch (e) {}\n            };\n        } catch (e) {}\n    };\n    // \n    const Player = NL.Player;\n    const GameProviders = NL.GameProviders;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"absolute inset-0\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(GameProviders, {\n            game: gameRef.current,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Player, {\n                story: storyRef.current,\n                width: \"100%\",\n                height: \"100%\",\n                onReady: onReady,\n                className: \"w-full h-full\"\n            }, void 0, false, {\n                fileName: \"/Users/yume/Desktop/1/components/engine/EngineStage.tsx\",\n                lineNumber: 200,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/yume/Desktop/1/components/engine/EngineStage.tsx\",\n            lineNumber: 199,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/yume/Desktop/1/components/engine/EngineStage.tsx\",\n        lineNumber: 198,\n        columnNumber: 5\n    }, this);\n}\n_s1(NarraLeafStage, \"UGb/E3mmlRBe+vEAFqcabwWhso0=\");\n_c1 = NarraLeafStage;\nfunction EngineStage(props) {\n    if (process.env.NEXT_PUBLIC_USE_NARRALEAF === \"true\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NarraLeafStage, {\n            ...props\n        }, void 0, false, {\n            fileName: \"/Users/yume/Desktop/1/components/engine/EngineStage.tsx\",\n            lineNumber: 214,\n            columnNumber: 12\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BasicStage, {\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/yume/Desktop/1/components/engine/EngineStage.tsx\",\n        lineNumber: 216,\n        columnNumber: 10\n    }, this);\n}\n_c2 = EngineStage;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"BasicStage\");\n$RefreshReg$(_c1, \"NarraLeafStage\");\n$RefreshReg$(_c2, \"EngineStage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvZW5naW5lL0VuZ2luZVN0YWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ2tEO0FBU2xELFNBQVNHLFdBQVcsS0FBeUM7UUFBekMsRUFBRUMsS0FBSyxFQUFFQyxTQUFTLEVBQUVDLFdBQVcsQ0FBQyxFQUFTLEdBQXpDOztJQUNsQixzQ0FBc0M7SUFDdEMsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRSxHQUFHUCw4Q0FBT0EsQ0FBQztRQUM5QixJQUFJUTtRQUNKLElBQUlDO1FBQ0osSUFBSSxJQUFrQixFQUFhO1lBQ2pDLElBQUk7Z0JBQ0YsTUFBTUMsTUFBTSxJQUFJQyxJQUFJQyxPQUFPQyxRQUFRLENBQUNDLElBQUk7Z0JBQ3hDLE1BQU1DLE1BQU1MLElBQUlNLFlBQVksQ0FBQ0MsR0FBRyxDQUFDO29CQUNyQlA7Z0JBQVosTUFBTVEsTUFBTVIsQ0FBQUEsd0JBQUFBLElBQUlNLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLHFCQUFyQlAsbUNBQUFBLHdCQUFnQ0EsSUFBSU0sWUFBWSxDQUFDQyxHQUFHLENBQUM7Z0JBQ2pFLElBQUlGLEtBQUtQLEtBQUtXLE9BQU9KO2dCQUNyQixJQUFJRyxLQUFLVCxLQUFLVSxPQUFPRDtZQUN2QixFQUFFLFVBQU0sQ0FBQztZQUNULE1BQU1FLElBQUlDO1lBQ1YsSUFBSSxPQUFPRCxFQUFFRSxjQUFjLEtBQUssVUFBVWQsS0FBS1ksRUFBRUUsY0FBYztZQUMvRCxJQUFJLE9BQU9GLEVBQUVHLGFBQWEsS0FBSyxVQUFVZCxLQUFLVyxFQUFFRyxhQUFhO1lBQzdELE1BQU1DLE1BQU1aLE9BQU9hLFlBQVksQ0FBQ0MsT0FBTyxDQUFDO1lBQ3hDLE1BQU1DLE1BQU1mLE9BQU9hLFlBQVksQ0FBQ0MsT0FBTyxDQUFDO1lBQ3hDLElBQUlsQixPQUFPb0IsYUFBYUosS0FBS2hCLEtBQUtXLE9BQU9LO1lBQ3pDLElBQUlmLE9BQU9tQixhQUFhRCxLQUFLbEIs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WDtJQUVBLHVCQUF1QjtJQUN2QixNQUFNWSxTQUFTL0MsR0FBRytDLE1BQU07SUFDeEIsTUFBTUMsZ0JBQWdCaEQsR0FBR2dELGFBQWE7SUFFdEMscUJBQ0UsOERBQUN6RDtRQUFJQyxXQUFVO2tCQUNiLDRFQUFDd0Q7WUFBY0MsTUFBTTlDLFFBQVFhLE9BQU87c0JBQ2xDLDRFQUFDK0I7Z0JBQ0MzQixPQUFPaEIsU0FBU1ksT0FBTztnQkFDdkJrQyxPQUFNO2dCQUNOQyxRQUFPO2dCQUNQZixTQUFTQTtnQkFDVDVDLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLcEI7SUFySlNPO01BQUFBO0FBdUpNLFNBQVNxRCxZQUFZQyxLQUFZO0lBQzlDLElBQUluRSxPQUFPQSxDQUFDQyxHQUFHLENBQUNtRSx5QkFBeUIsS0FBSyxRQUFRO1FBQ3BELHFCQUFPLDhEQUFDdkQ7WUFBZ0IsR0FBR3NELEtBQUs7Ozs7OztJQUNsQztJQUNBLHFCQUFPLDhEQUFDOUY7UUFBWSxHQUFHOEYsS0FBSzs7Ozs7O0FBQzlCO01BTHdCRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL2VuZ2luZS9FbmdpbmVTdGFnZS50c3g/NDgzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcblxudHlwZSBQcm9wcyA9IHtcbiAgYmdVcmw/OiBzdHJpbmdcbiAgc3ByaXRlVXJsPzogc3RyaW5nXG4gIC8vIOeUseeItue6p+S8oOWFpeeahOWDj+e0oOWBj+enu++8iOebuOWvueS6juiInuWPsOmrmOW6pueahOaNoueul++8ie+8jOato+WAvOWQkeS4i1xuICBvZmZzZXRQeD86IG51bWJlclxufVxuXG5mdW5jdGlvbiBCYXNpY1N0YWdlKHsgYmdVcmwsIHNwcml0ZVVybCwgb2Zmc2V0UHggPSAwIH06IFByb3BzKSB7XG4gIC8vIOS4jiBOYXJyYUxlYWYg5qih5byP5LiA6Ie055qE6LCD6K+V5Y+C5pWw77ya562J5q+U57yp5pS+5LiO5Z6C55u05YGP56e777yI5YOP57Sg77yJXG4gIGNvbnN0IHsgc2NhbGUsIHlvZmYgfSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCBzdjogbnVtYmVyIHwgdW5kZWZpbmVkXG4gICAgbGV0IHl2OiBudW1iZXIgfCB1bmRlZmluZWRcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpXG4gICAgICAgIGNvbnN0IHFwUyA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdzY2FsZScpXG4gICAgICAgIGNvbnN0IHFwWSA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCd5b2ZmJykgPz8gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3lvZmZzZXQnKVxuICAgICAgICBpZiAocXBTKSBzdiA9IE51bWJlcihxcFMpXG4gICAgICAgIGlmIChxcFkpIHl2ID0gTnVtYmVyKHFwWSlcbiAgICAgIH0gY2F0Y2gge31cbiAgICAgIGNvbnN0IGcgPSBnbG9iYWxUaGlzIGFzIGFueVxuICAgICAgaWYgKHR5cGVvZiBnLl9fU1BSSVRFX1NDQUxFID09PSAnbnVtYmVyJykgc3YgPSBnLl9fU1BSSVRFX1NDQUxFXG4gICAgICBpZiAodHlwZW9mIGcuX19TUFJJVEVfWU9GRiA9PT0gJ251bWJlcicpIHl2ID0gZy5fX1NQUklURV9ZT0ZGXG4gICAgICBjb25zdCBsc1MgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nwcml0ZV9zY2FsZScpXG4gICAgICBjb25zdCBsc1kgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nwcml0ZV95b2Zmc2V0JylcbiAgICAgIGlmIChzdiA9PT0gdW5kZWZpbmVkICYmIGxzUykgc3YgPSBOdW1iZXIobHNTKVxuICAgICAgaWYgKHl2ID09PSB1bmRlZmluZWQgJiYgbHNZKSB5diA9IE51bWJlcihsc1kpXG4gICAgfVxuICAgIGlmIChzdiA9PT0gdW5kZWZpbmVkKSBzdiA9IE51bWJlcihwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TUFJJVEVfU0NBTEUgPz8gJzEuOCcpXG4gICAgaWYgKHl2ID09PSB1bmRlZmluZWQpIHl2ID0gTnVtYmVyKHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NQUklURV9ZT0ZGU0VUID8/ICcwJylcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShzdikgfHwgc3YgPD0gMCkgc3YgPSAxLjhcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh5dikpIHl2ID0gMFxuICAgIHJldHVybiB7IHNjYWxlOiBzdiBhcyBudW1iZXIsIHlvZmY6IHl2IGFzIG51bWJlciB9XG4gIH0sIFtdKVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHsvKiDku4XmuLLmn5Pnq4vnu5jvvIzog4zmma/nlLHlpJblsYLlhajlsY/lsYLnu5/kuIDlpITnkIbvvIzpgb/lhY3libLoo4IgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcG9pbnRlci1ldmVudHMtbm9uZVwiPlxuICAgICAgICB7c3ByaXRlVXJsICYmIChcbiAgICAgICAgICA8aW1nXG4gICAgICAgICAgICBzcmM9e3Nwcml0ZVVybH1cbiAgICAgICAgICAgIGFsdD1cInNwcml0ZVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTEvMiBoLVs3MCVdIGRyb3Atc2hhZG93LVswXzEwcHhfNDBweF9yZ2JhKDAsMCwwLDAuNildIHBpeGVsYXRlZFwiXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAvLyDnq4vnu5jkuIvnp7sgMTAlIOW3sueUseeItue6pyBvZmZzZXRQeCDkvKDlhaXvvJvov5nph4zpop3lpJblsIbnvKnmlL7mlL7lpKcgMTAlXG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgkeyh5b2ZmICsgb2Zmc2V0UHgpfXB4KSBzY2FsZSgke3NjYWxlICogMS4xfSlgLFxuICAgICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICdib3R0b20gY2VudGVyJyxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApXG59XG5cbi8vIE5hcnJhTGVhZiDmuLLmn5PlsYLvvIjln7rkuo4gbmFycmFsZWFmLXJlYWN0QDAuMS4w77yM5YW85a65IFJlYWN0IDE477yJXG5mdW5jdGlvbiBOYXJyYUxlYWZTdGFnZSh7IGJnVXJsLCBzcHJpdGVVcmwsIG9mZnNldFB4ID0gMCB9OiBQcm9wcykge1xuICAvLyDliqjmgIEgaW1wb3J0IOS7pemBv+WFjSBTU1Ig5Y+K5YyF5L2T5Zyo5pyq5byA5ZCv5pe26L295YWlXG4gIGNvbnN0IE5MID0gdXNlTWVtbygoKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXNcbiAgICBjb25zdCBtb2QgPSByZXF1aXJlKCduYXJyYWxlYWYtcmVhY3QnKSBhcyBhbnlcbiAgICByZXR1cm4gbW9kXG4gIH0sIFtdKVxuXG4gIGNvbnN0IGdhbWVSZWYgPSB1c2VSZWY8YW55PihudWxsKVxuICBjb25zdCBzdG9yeVJlZiA9IHVzZVJlZjxhbnk+KG51bGwpXG4gIGNvbnN0IHNjZW5lUmVmID0gdXNlUmVmPGFueT4obnVsbClcbiAgY29uc3Qgc3ByaXRlUmVmID0gdXNlUmVmPGFueT4obnVsbClcbiAgY29uc3QgY3R4UmVmID0gdXNlUmVmPHsgZ2FtZTogYW55OyBnYW1lU3RhdGU6IGFueTsgbGl2ZUdhbWU6IGFueSB9IHwgbnVsbD4obnVsbClcbiAgY29uc3Qgc3ByaXRlQ3JlYXRlZFJlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSlcblxuICAvLyDosIPor5XvvJrlhajlsYDnrYnmr5TnvKnmlL7nq4vnu5jvvIhORVhUX1BVQkxJQ19TUFJJVEVfU0NBTEXvvIlcbiAgY29uc3QgZGVidWdTY2FsZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCB2OiBudW1iZXIgfCB1bmRlZmluZWRcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpXG4gICAgICAgIGNvbnN0IHFwID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3NjYWxlJylcbiAgICAgICAgaWYgKHFwKSB2ID0gTnVtYmVyKHFwKVxuICAgICAgfSBjYXRjaCB7fVxuICAgICAgY29uc3QgZ3YgPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLl9fU1BSSVRFX1NDQUxFXG4gICAgICBpZiAodHlwZW9mIGd2ID09PSAnbnVtYmVyJykgdiA9IGd2XG4gICAgICBjb25zdCBscyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3ByaXRlX3NjYWxlJylcbiAgICAgIGlmICghdiAmJiBscykgdiA9IE51bWJlcihscylcbiAgICB9XG4gICAgaWYgKHYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgcmF3ID0gKHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NQUklURV9TQ0FMRSA/PyAnMS44JykgYXMgc3RyaW5nXG4gICAgICB2ID0gTnVtYmVyKHJhdylcbiAgICB9XG4gICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZSh2KSAmJiAodiBhcyBudW1iZXIpID4gMCA/ICh2IGFzIG51bWJlcikgOiAxLjhcbiAgfSwgW10pXG5cbiAgLy8g6LCD6K+V77ya5Z6C55u05YGP56e777yI5YOP57Sg77yM6LSf5pWw5LiK56e777yJ77yMTkVYVF9QVUJMSUNfU1BSSVRFX1lPRkZTRVRcbiAgY29uc3QgZGVidWdZT2Zmc2V0ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IHY6IG51bWJlciB8IHVuZGVmaW5lZFxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZilcbiAgICAgICAgY29uc3QgcXAgPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgneW9mZicpID8/IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCd5b2Zmc2V0JylcbiAgICAgICAgaWYgKHFwKSB2ID0gTnVtYmVyKHFwKVxuICAgICAgfSBjYXRjaCB7fVxuICAgICAgY29uc3QgZ3YgPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLl9fU1BSSVRFX1lPRkZcbiAgICAgIGlmICh0eXBlb2YgZ3YgPT09ICdudW1iZXInKSB2ID0gZ3ZcbiAgICAgIGNvbnN0IGxzID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzcHJpdGVfeW9mZnNldCcpXG4gICAgICBpZiAodiA9PT0gdW5kZWZpbmVkICYmIGxzKSB2ID0gTnVtYmVyKGxzKVxuICAgIH1cbiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB2ID0gTnVtYmVyKHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NQUklURV9ZT0ZGU0VUID8/ICcwJylcbiAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKHYpID8gKHYgYXMgbnVtYmVyKSA6IDBcbiAgfSwgW10pXG5cbiAgLy8g5Yid5aeL5YyWIEdhbWUvU3RvcnkvU2NlbmUvSW1hZ2VcbiAgaWYgKCFnYW1lUmVmLmN1cnJlbnQpIHtcbiAgICBnYW1lUmVmLmN1cnJlbnQgPSBuZXcgTkwuR2FtZSh7fSlcbiAgICBjb25zdCBzY2VuZSA9IG5ldyBOTC5TY2VuZSgnbWFpbicsIHt9KVxuICAgIGNvbnN0IHN0b3J5ID0gbmV3IE5MLlN0b3J5KCdzdG9yeScsIHt9KVxuICAgIHN0b3J5LmVudHJ5KHNjZW5lKVxuICAgIHN0b3J5UmVmLmN1cnJlbnQgPSBzdG9yeVxuICAgIHNjZW5lUmVmLmN1cnJlbnQgPSBzY2VuZVxuICAgIHNwcml0ZVJlZi5jdXJyZW50ID0gbmV3IE5MLkltYWdlKCdzcHJpdGUnLCB7IHNyYzogc3ByaXRlVXJsIHx8ICcnLCBkaXNwbGF5OiAhIXNwcml0ZVVybCB9KVxuICB9XG5cbiAgLy8g6IOM5pmv5LiO56uL57uY5Y+Y5pu05pe277yM5ZCM5q2l5YiwIE5hcnJhTGVhZlxuICAvLyDkuI3lnKggTmFycmFMZWFmIOWGhemDqOiuvue9ruiDjOaZr++8jOS9v+eUqOWkluWxguWFqOWxj+iDjOaZr++8jOmBv+WFjeiInuWPsOS4juWkluWxguS4jeS4gOiHtOWvvOiHtOWJsuijglxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3ByaXRlID0gc3ByaXRlUmVmLmN1cnJlbnRcbiAgICBpZiAoIXNwcml0ZSkgcmV0dXJuXG4gICAgaWYgKHNwcml0ZVVybCkge1xuICAgICAgdHJ5IHsgc3ByaXRlLnNldFNyYyhzcHJpdGVVcmwpIH0gY2F0Y2gge31cbiAgICAgIC8vIOW6lOeUqOetieavlOe8qeaUvuS4juW6lemDqOWvuem9kO+8iOiwg+ivle+8iVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdG90YWxZID0gKGRlYnVnWU9mZnNldCB8fCAwKSArIChvZmZzZXRQeCB8fCAwKVxuICAgICAgICBzcHJpdGUuYXBwbHlUcmFuc2Zvcm0oXG4gICAgICAgICAgbmV3IE5MLlRyYW5zZm9ybShcbiAgICAgICAgICAgIHsgdHJhbnNmb3JtOiB7IHNjYWxlOiBkZWJ1Z1NjYWxlICogMS4xIH0sIHBvc2l0aW9uOiBuZXcgTkwuQWxpZ24oeyB4YWxpZ246IDAuNSwgeWFsaWduOiAxLCB5b2Zmc2V0OiB0b3RhbFkgfSkgfSxcbiAgICAgICAgICAgIHsgZHVyYXRpb246IDAgfSxcbiAgICAgICAgICApLFxuICAgICAgICApXG4gICAgICB9IGNhdGNoIHt9XG4gICAgfVxuICB9LCBbc3ByaXRlVXJsLCBkZWJ1Z1NjYWxlLCBkZWJ1Z1lPZmZzZXRdKVxuXG4gIGNvbnN0IG9uUmVhZHkgPSAoY3R4OiBhbnkpID0+IHtcbiAgICBjdHhSZWYuY3VycmVudCA9IGN0eFxuICAgIGNvbnN0IHNjZW5lID0gc2NlbmVSZWYuY3VycmVudFxuICAgIGNvbnN0IHNwcml0ZSA9IHNwcml0ZVJlZi5jdXJyZW50XG4gICAgaWYgKHNjZW5lICYmIHNwcml0ZSAmJiAhc3ByaXRlQ3JlYXRlZFJlZi5jdXJyZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICBjdHguZ2FtZVN0YXRlLmNyZWF0ZUltYWdlKHNwcml0ZSwgc2NlbmUpXG4gICAgICAgIHNwcml0ZUNyZWF0ZWRSZWYuY3VycmVudCA9IHRydWVcbiAgICAgICAgLy8g6aaW5qyh6L295YWl5pe25oyJ54Wn5q+U5L6L57yp5pS+5bm25LuO5bqV6YOo5byA5aeL5a+56b2Q77yI6LCD6K+V77yJXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdG90YWxZID0gKGRlYnVnWU9mZnNldCB8fCAwKSArIChvZmZzZXRQeCB8fCAwKVxuICAgICAgICAgIHNwcml0ZS5zaG93KFxuICAgICAgICAgICAgbmV3IE5MLlRyYW5zZm9ybShcbiAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IHsgc2NhbGU6IGRlYnVnU2NhbGUgKiAxLjEgfSwgcG9zaXRpb246IG5ldyBOTC5BbGlnbih7IHhhbGlnbjogMC41LCB5YWxpZ246IDEsIHlvZmZzZXQ6IHRvdGFsWSB9KSB9LFxuICAgICAgICAgICAgICB7IGR1cmF0aW9uOiAwIH0sXG4gICAgICAgICAgICApLFxuICAgICAgICAgIClcbiAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgfSBjYXRjaCB7fVxuICAgIH1cbiAgICAvLyDmj5DkvpvlhajlsYDosIPor5Xmlrnms5XvvJrlnKjmjqfliLblj7DosIPnlKggc2V0U3ByaXRlU2NhbGUoMS4yKSDliqjmgIHnvKnmlL7lubborrDlv4ZcbiAgICB0cnkge1xuICAgICAgOyhnbG9iYWxUaGlzIGFzIGFueSkuc2V0U3ByaXRlU2NhbGUgPSAobmV4dDogbnVtYmVyKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBuZXh0ICE9PSAnbnVtYmVyJyB8fCAhTnVtYmVyLmlzRmluaXRlKG5leHQpIHx8IG5leHQgPD0gMCkgcmV0dXJuXG4gICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzcHJpdGVfc2NhbGUnLCBTdHJpbmcobmV4dCkpXG4gICAgICAgICAgY29uc3QgcyA9IHNwcml0ZVJlZi5jdXJyZW50XG4gICAgICAgICAgaWYgKHMpIHMuYXBwbHlUcmFuc2Zvcm0obmV3IE5MLlRyYW5zZm9ybSh7IHRyYW5zZm9ybTogeyBzY2FsZTogbmV4dCB9IH0sIHsgZHVyYXRpb246IDAgfSkpXG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICAgIDsoZ2xvYmFsVGhpcyBhcyBhbnkpLnNldFNwcml0ZVlPZmZzZXQgPSAobmV4dDogbnVtYmVyKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBuZXh0ICE9PSAnbnVtYmVyJyB8fCAhTnVtYmVyLmlzRmluaXRlKG5leHQpKSByZXR1cm5cbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Nwcml0ZV95b2Zmc2V0JywgU3RyaW5nKG5leHQpKVxuICAgICAgICAgIGNvbnN0IHMgPSBzcHJpdGVSZWYuY3VycmVudFxuICAgICAgICAgIGlmIChzKSBzLmFwcGx5VHJhbnNmb3JtKFxuICAgICAgICAgICAgbmV3IE5MLlRyYW5zZm9ybShcbiAgICAgICAgICAgICAgeyBwb3NpdGlvbjogbmV3IE5MLkFsaWduKHsgeGFsaWduOiAwLjUsIHlhbGlnbjogMSwgeW9mZnNldDogbmV4dCB9KSB9LFxuICAgICAgICAgICAgICB7IGR1cmF0aW9uOiAwIH0sXG4gICAgICAgICAgICApLFxuICAgICAgICAgIClcbiAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgfVxuICAgIH0gY2F0Y2gge31cbiAgfVxuXG4gIC8vIOWuueWZqOWuvemrmOeUseWkluWxgueItuWuueWZqOaOp+WItu+8jOi/memHjOWhq+a7oeeItuWuueWZqFxuICBjb25zdCBQbGF5ZXIgPSBOTC5QbGF5ZXIgYXMgYW55XG4gIGNvbnN0IEdhbWVQcm92aWRlcnMgPSBOTC5HYW1lUHJvdmlkZXJzIGFzIGFueVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wXCI+XG4gICAgICA8R2FtZVByb3ZpZGVycyBnYW1lPXtnYW1lUmVmLmN1cnJlbnR9PlxuICAgICAgICA8UGxheWVyXG4gICAgICAgICAgc3Rvcnk9e3N0b3J5UmVmLmN1cnJlbnR9XG4gICAgICAgICAgd2lkdGg9XCIxMDAlXCJcbiAgICAgICAgICBoZWlnaHQ9XCIxMDAlXCJcbiAgICAgICAgICBvblJlYWR5PXtvblJlYWR5fVxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGxcIlxuICAgICAgICAvPlxuICAgICAgPC9HYW1lUHJvdmlkZXJzPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVuZ2luZVN0YWdlKHByb3BzOiBQcm9wcykge1xuICBpZiAocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVVNFX05BUlJBTEVBRiA9PT0gJ3RydWUnKSB7XG4gICAgcmV0dXJuIDxOYXJyYUxlYWZTdGFnZSB7Li4ucHJvcHN9IC8+XG4gIH1cbiAgcmV0dXJuIDxCYXNpY1N0YWdlIHsuLi5wcm9wc30gLz5cbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwiQmFzaWNTdGFnZSIsImJnVXJsIiwic3ByaXRlVXJsIiwib2Zmc2V0UHgiLCJzY2FsZSIsInlvZmYiLCJzdiIsInl2IiwidXJsIiwiVVJMIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwicXBTIiwic2VhcmNoUGFyYW1zIiwiZ2V0IiwicXBZIiwiTnVtYmVyIiwiZyIsImdsb2JhbFRoaXMiLCJfX1NQUklURV9TQ0FMRSIsIl9fU1BSSVRFX1lPRkYiLCJsc1MiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibHNZIiwidW5kZWZpbmVkIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NQUklURV9TQ0FMRSIsIk5FWFRfUFVCTElDX1NQUklURV9ZT0ZGU0VUIiwiaXNGaW5pdGUiLCJkaXYiLCJjbGFzc05hbWUiLCJpbWciLCJzcmMiLCJhbHQiLCJzdHlsZSIsInRyYW5zZm9ybSIsInRyYW5zZm9ybU9yaWdpbiIsIk5hcnJhTGVhZlN0YWdlIiwiTkwiLCJtb2QiLCJyZXF1aXJlIiwiZ2FtZVJlZiIsInN0b3J5UmVmIiwic2NlbmVSZWYiLCJzcHJpdGVSZWYiLCJjdHhSZWYiLCJzcHJpdGVDcmVhdGVkUmVmIiwiZGVidWdTY2FsZSIsInYiLCJxcCIsImd2IiwibHMiLCJyYXciLCJkZWJ1Z1lPZmZzZXQiLCJjdXJyZW50IiwiR2FtZSIsInNjZW5lIiwiU2NlbmUiLCJzdG9yeSIsIlN0b3J5IiwiZW50cnkiLCJJbWFnZSIsImRpc3BsYXkiLCJzcHJpdGUiLCJzZXRTcmMiLCJ0b3RhbFkiLCJhcHBseVRyYW5zZm9ybSIsIlRyYW5zZm9ybSIsInBvc2l0aW9uIiwiQWxpZ24iLCJ4YWxpZ24iLCJ5YWxpZ24iLCJ5b2Zmc2V0IiwiZHVyYXRpb24iLCJvblJlYWR5IiwiY3R4IiwiZ2FtZVN0YXRlIiwiY3JlYXRlSW1hZ2UiLCJzaG93Iiwic2V0U3ByaXRlU2NhbGUiLCJuZXh0Iiwic2V0SXRlbSIsIlN0cmluZyIsInMiLCJzZXRTcHJpdGVZT2Zmc2V0IiwiUGxheWVyIiwiR2FtZVByb3ZpZGVycyIsImdhbWUiLCJ3aWR0aCIsImhlaWdodCIsIkVuZ2luZVN0YWdlIiwicHJvcHMiLCJORVhUX1BVQkxJQ19VU0VfTkFSUkFMRUFGIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/engine/EngineStage.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ui/PixelPanel.tsx":
/*!**************************************!*\
  !*** ./components/ui/PixelPanel.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PixelPanel; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nfunction PixelPanel(param) {\n    let { className, children } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: [\n            // Pixel-style panel: hard edges, 1px border, subtle inner shadow\n            \"rounded-none border border-white/25 bg-[rgba(18,18,26,0.85)] shadow-[inset_0_0_0_1px_rgba(255,255,255,0.06)]\",\n            \"backdrop-blur\",\n            className || \"\"\n        ].join(\" \"),\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/yume/Desktop/1/components/ui/PixelPanel.tsx\",\n        lineNumber: 10,\n        columnNumber: 5\n    }, this);\n}\n_c = PixelPanel;\nvar _c;\n$RefreshReg$(_c, \"PixelPanel\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdWkvUGl4ZWxQYW5lbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBT2UsU0FBU0EsV0FBVyxLQUF3QztRQUF4QyxFQUFFQyxTQUFTLEVBQUVDLFFBQVEsRUFBbUIsR0FBeEM7SUFDakMscUJBQ0UsOERBQUNDO1FBQ0NGLFdBQ0U7WUFDRSxpRUFBaUU7WUFDakU7WUFDQTtZQUNBQSxhQUFhO1NBQ2QsQ0FBQ0csSUFBSSxDQUFDO2tCQUdSRjs7Ozs7O0FBR1A7S0Fmd0JGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvdWkvUGl4ZWxQYW5lbC50c3g/YjNlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuaW1wb3J0IHsgUHJvcHNXaXRoQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCdcblxudHlwZSBQaXhlbFBhbmVsUHJvcHMgPSBQcm9wc1dpdGhDaGlsZHJlbjx7XG4gIGNsYXNzTmFtZT86IHN0cmluZ1xufT5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGl4ZWxQYW5lbCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4gfTogUGl4ZWxQYW5lbFByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgW1xuICAgICAgICAgIC8vIFBpeGVsLXN0eWxlIHBhbmVsOiBoYXJkIGVkZ2VzLCAxcHggYm9yZGVyLCBzdWJ0bGUgaW5uZXIgc2hhZG93XG4gICAgICAgICAgJ3JvdW5kZWQtbm9uZSBib3JkZXIgYm9yZGVyLXdoaXRlLzI1IGJnLVtyZ2JhKDE4LDE4LDI2LDAuODUpXSBzaGFkb3ctW2luc2V0XzBfMF8wXzFweF9yZ2JhKDI1NSwyNTUsMjU1LDAuMDYpXScsXG4gICAgICAgICAgJ2JhY2tkcm9wLWJsdXInLFxuICAgICAgICAgIGNsYXNzTmFtZSB8fCAnJyxcbiAgICAgICAgXS5qb2luKCcgJylcbiAgICAgIH1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9kaXY+XG4gIClcbn1cblxuIl0sIm5hbWVzIjpbIlBpeGVsUGFuZWwiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiIsImRpdiIsImpvaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ui/PixelPanel.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/emotion.ts":
/*!************************!*\
  !*** ./lib/emotion.ts ***!
  \************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   inferEmotion: function() { return /* binding */ inferEmotion; }\n/* harmony export */ });\n// Very simple, keyword-driven emotion inference for zh text\n// Returns one of: 'happy' | 'angry' | 'sad' | 'shy' | 'neutral'\nconst dict = [\n    {\n        keys: /(|||||||||)/i,\n        emo: \"happy\"\n    },\n    {\n        keys: /(|||||||)/i,\n        emo: \"angry\"\n    },\n    {\n        keys: /(|||||)/i,\n        emo: \"sad\"\n    },\n    {\n        keys: /(|||||)/i,\n        emo: \"shy\"\n    }\n];\nfunction inferEmotion(text, affection) {\n    const t = (text || \"\").trim();\n    if (!t) {\n        if (affection >= 70) return \"happy\";\n        if (affection <= 20) return \"angry\";\n        return \"neutral\";\n    }\n    for (const rule of dict){\n        if (rule.keys.test(t)) return rule.emo;\n    }\n    // fallback by affection threshold\n    if (affection >= 80) return \"happy\";\n    if (affection <= 15) return \"angry\";\n    return \"neutral\";\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9lbW90aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSw0REFBNEQ7QUFDNUQsZ0VBQWdFO0FBR2hFLE1BQU1BLE9BQThDO0lBQ2xEO1FBQUVDLE1BQU07UUFBbUNDLEtBQUs7SUFBUTtJQUN4RDtRQUFFRCxNQUFNO1FBQTRCQyxLQUFLO0lBQVE7SUFDakQ7UUFBRUQsTUFBTTtRQUF1QkMsS0FBSztJQUFNO0lBQzFDO1FBQUVELE1BQU07UUFBd0JDLEtBQUs7SUFBTTtDQUM1QztBQUVNLFNBQVNDLGFBQWFDLElBQVksRUFBRUMsU0FBaUI7SUFDMUQsTUFBTUMsSUFBSSxDQUFDRixRQUFRLEVBQUMsRUFBR0csSUFBSTtJQUMzQixJQUFJLENBQUNELEdBQUc7UUFDTixJQUFJRCxhQUFhLElBQUksT0FBTztRQUM1QixJQUFJQSxhQUFhLElBQUksT0FBTztRQUM1QixPQUFPO0lBQ1Q7SUFDQSxLQUFLLE1BQU1HLFFBQVFSLEtBQU07UUFDdkIsSUFBSVEsS0FBS1AsSUFBSSxDQUFDUSxJQUFJLENBQUNILElBQUksT0FBT0UsS0FBS04sR0FBRztJQUN4QztJQUNBLGtDQUFrQztJQUNsQyxJQUFJRyxhQUFhLElBQUksT0FBTztJQUM1QixJQUFJQSxhQUFhLElBQUksT0FBTztJQUM1QixPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL2Vtb3Rpb24udHM/MDI1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWZXJ5IHNpbXBsZSwga2V5d29yZC1kcml2ZW4gZW1vdGlvbiBpbmZlcmVuY2UgZm9yIHpoIHRleHRcbi8vIFJldHVybnMgb25lIG9mOiAnaGFwcHknIHwgJ2FuZ3J5JyB8ICdzYWQnIHwgJ3NoeScgfCAnbmV1dHJhbCdcbmV4cG9ydCB0eXBlIEVtb3Rpb24gPSAnaGFwcHknIHwgJ2FuZ3J5JyB8ICdzYWQnIHwgJ3NoeScgfCAnbmV1dHJhbCdcblxuY29uc3QgZGljdDogQXJyYXk8eyBrZXlzOiBSZWdFeHA7IGVtbzogRW1vdGlvbiB9PiA9IFtcbiAgeyBrZXlzOiAvKOW8gOW/g3zpq5jlhbR85Zac5qyifOeIseS9oHzlpKrmo5J85aW96IC2fOiAtnzluIV85Y+v54ixfOWWnOasouS9oCkvaSwgZW1vOiAnaGFwcHknIH0sXG4gIHsga2V5czogLyjnlJ/msJR85oSk5oCSfOawlOatu3zmgJJ86K6o5Y6MfOWIq+i1sHzmu5p86Zet5Zi0KS9pLCBlbW86ICdhbmdyeScgfSxcbiAgeyBrZXlzOiAvKOmavui/h3zkvKTlv4N85aeU5bGIfOaCsuS8pHzmtYHms6p85ZOtKS9pLCBlbW86ICdzYWQnIH0sXG4gIHsga2V5czogLyjlrrPnvp58576efOiEuOe6onzlsLTlsKx85LiN6KaB55yLfOWXr+KApikvaSwgZW1vOiAnc2h5JyB9LFxuXVxuXG5leHBvcnQgZnVuY3Rpb24gaW5mZXJFbW90aW9uKHRleHQ6IHN0cmluZywgYWZmZWN0aW9uOiBudW1iZXIpOiBFbW90aW9uIHtcbiAgY29uc3QgdCA9ICh0ZXh0IHx8ICcnKS50cmltKClcbiAgaWYgKCF0KSB7XG4gICAgaWYgKGFmZmVjdGlvbiA+PSA3MCkgcmV0dXJuICdoYXBweSdcbiAgICBpZiAoYWZmZWN0aW9uIDw9IDIwKSByZXR1cm4gJ2FuZ3J5J1xuICAgIHJldHVybiAnbmV1dHJhbCdcbiAgfVxuICBmb3IgKGNvbnN0IHJ1bGUgb2YgZGljdCkge1xuICAgIGlmIChydWxlLmtleXMudGVzdCh0KSkgcmV0dXJuIHJ1bGUuZW1vXG4gIH1cbiAgLy8gZmFsbGJhY2sgYnkgYWZmZWN0aW9uIHRocmVzaG9sZFxuICBpZiAoYWZmZWN0aW9uID49IDgwKSByZXR1cm4gJ2hhcHB5J1xuICBpZiAoYWZmZWN0aW9uIDw9IDE1KSByZXR1cm4gJ2FuZ3J5J1xuICByZXR1cm4gJ25ldXRyYWwnXG59XG5cbiJdLCJuYW1lcyI6WyJkaWN0Iiwia2V5cyIsImVtbyIsImluZmVyRW1vdGlvbiIsInRleHQiLCJhZmZlY3Rpb24iLCJ0IiwidHJpbSIsInJ1bGUiLCJ0ZXN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/emotion.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js ***!
  \**********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* __next_internal_client_entry_do_not_use__  cjs */ \nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"BailoutToCSR\", ({\n    enumerable: true,\n    get: function() {\n        return BailoutToCSR;\n    }\n}));\nconst _bailouttocsr = __webpack_require__(/*! ./bailout-to-csr */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/bailout-to-csr.js\");\nfunction BailoutToCSR(param) {\n    let { reason, children } = param;\n    if (typeof window === \"undefined\") {\n        throw new _bailouttocsr.BailoutToCSRError(reason);\n    }\n    return children;\n} //# sourceMappingURL=dynamic-bailout-to-csr.js.map\n_c = BailoutToCSR;\nvar _c;\n$RefreshReg$(_c, \"BailoutToCSR\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2hhcmVkL2xpYi9sYXp5LWR5bmFtaWMvZHluYW1pYy1iYWlsb3V0LXRvLWNzci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBY08sTUFBQUEsZ0JBQXNCQyxtQkFBQUEsQ0FBdUM7U0FBdkNDLGFBQVVDLEtBQVE7SUFDN0MsSUFBSSxFQUFBQyxNQUFPQyxFQUFBQSxRQUFXLEtBQUFDO1FBQ3BCLE9BQU1ELFdBQUlFLGFBQUFBO1FBQ1osVUFBQVAsY0FBQU8saUJBQUEsQ0FBQUg7SUFFQTtJQUNGLE9BQUFEOztLQU42QkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uLy4uLy4uLy4uL3NyYy9zaGFyZWQvbGliL2xhenktZHluYW1pYy9keW5hbWljLWJhaWxvdXQtdG8tY3NyLnRzeD80ZmY0Il0sIm5hbWVzIjpbIl9iYWlsb3V0dG9jc3IiLCJyZXF1aXJlIiwiQmFpbG91dFRvQ1NSIiwiY2hpbGRyZW4iLCJyZWFzb24iLCJ3aW5kb3ciLCJwYXJhbSIsIkJhaWxvdXRUb0NTUkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/preload-css.js":
/*!***********************************************************************!*\
  !*** ./node_modules/next/dist/shared/lib/lazy-dynamic/preload-css.js ***!
  \***********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* __next_internal_client_entry_do_not_use__  cjs */ \nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"PreloadCss\", ({\n    enumerable: true,\n    get: function() {\n        return PreloadCss;\n    }\n}));\nconst _jsxruntime = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\nconst _requestasyncstorageexternal = __webpack_require__(/*! ../../../client/components/request-async-storage.external */ \"(shared)/./node_modules/next/dist/client/components/request-async-storage.external.js\");\nfunction PreloadCss(param) {\n    let { moduleIds } = param;\n    // Early return in client compilation and only load requestStore on server side\n    if (typeof window !== \"undefined\") {\n        return null;\n    }\n    const requestStore = (0, _requestasyncstorageexternal.getExpectedRequestStore)(\"next/dynamic css\");\n    const allFiles = [];\n    // Search the current dynamic call unique key id in react loadable manifest,\n    // and find the corresponding CSS files to preload\n    if (requestStore.reactLoadableManifest && moduleIds) {\n        const manifest = requestStore.reactLoadableManifest;\n        for (const key of moduleIds){\n            if (!manifest[key]) continue;\n            const cssFiles = manifest[key].files.filter((file)=>file.endsWith(\".css\"));\n            allFiles.push(...cssFiles);\n        }\n    }\n    if (allFiles.length === 0) {\n        return null;\n    }\n    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_jsxruntime.Fragment, {\n        children: allFiles.map((file)=>{\n            return /*#__PURE__*/ (0, _jsxruntime.jsx)(\"link\", {\n                // @ts-ignore\n                precedence: \"dynamic\",\n                rel: \"stylesheet\",\n                href: requestStore.assetPrefix + \"/_next/\" + encodeURI(file),\n                as: \"style\"\n            }, file);\n        })\n    });\n} //# sourceMappingURL=preload-css.js.map\n_c = PreloadCss;\nvar _c;\n$RefreshReg$(_c, \"PreloadCss\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2hhcmVkL2xpYi9sYXp5LWR5bmFtaWMvcHJlbG9hZC1jc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFJTyxNQUFBQSwrQkFBc0VDLG1CQUFBQSxDQUFBO1NBQWxEQyxXQUFXQyxLQUFYO0lBQ3pCLE1BQUFDLFNBQUEsS0FBQUQ7SUFDQSwrRUFBbUM7UUFDakMsT0FBT0UsV0FBQTtRQUNUO0lBRUE7SUFDQSxNQUFNQyxlQUFhLElBQUFOLDZCQUFBTyx1QkFBQTtJQUVuQixNQUFBRCxXQUFBO0lBQ0EsNEVBQWtEO0lBQ2xELGtEQUEwQ0Y7UUFDeENJLGFBQU1DLHFCQUF3QkMsSUFBQUEsV0FBQUE7UUFDOUIsTUFBS0QsV0FBTUUsYUFBa0JELHFCQUFBO2FBQzNCLE1BQUtELE9BQVNFLFVBQU07WUFDcEIsS0FBQUYsUUFBTUcsQ0FBQUEsSUFBV0gsRUFBQUE7WUFHakJILE1BQUFBLFdBQWlCTSxRQUFBQSxDQUFBQSxJQUFBQSxDQUFBQSxLQUFBQSxDQUFBQSxNQUFBQSxDQUFBQSxDQUFBQSxPQUFBQSxLQUFBQSxRQUFBQSxDQUFBQTtZQUNuQk4sU0FBQU8sSUFBQSxJQUFBRDtRQUNGO0lBRUE7UUFDRU4sU0FBT1EsTUFBQTtRQUNUO0lBRUE7V0FFS1IsV0FBQUEsR0FBQUEsQ0FBQUEsR0FBU1MsWUFBS0MsR0FBQUEsRUFBQUEsWUFBQUEsUUFBQUEsRUFBQUE7a0JBQ2JWLFNBQUFTLEdBQUEsRUFBQUM7bUJBR2lCLGtCQUFBQyxZQUFBQyxHQUFBO2dCQUNiQyxhQUFZO2dCQUNaQyxZQUFJO2dCQUNKQyxLQUFBQTtnQkFDQUMsTUFBR2QsYUFBQWUsV0FBQSxlQUFBQyxVQUFBUjtnQkFMRUEsSUFBQUE7WUFRWCxHQUFBQTs7SUFHTjs7S0ExQzJCZCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vLi4vLi4vc3JjL3NoYXJlZC9saWIvbGF6eS1keW5hbWljL3ByZWxvYWQtY3NzLnRzeD9kZTVjIl0sIm5hbWVzIjpbIl9yZXF1ZXN0YXN5bmNzdG9yYWdlZXh0ZXJuYWwiLCJyZXF1aXJlIiwiUHJlbG9hZENzcyIsInBhcmFtIiwibW9kdWxlSWRzIiwid2luZG93IiwiYWxsRmlsZXMiLCJnZXRFeHBlY3RlZFJlcXVlc3RTdG9yZSIsInJlcXVlc3RTdG9yZSIsIm1hbmlmZXN0IiwicmVhY3RMb2FkYWJsZU1hbmlmZXN0Iiwia2V5IiwiY3NzRmlsZXMiLCJwdXNoIiwibGVuZ3RoIiwibWFwIiwiZmlsZSIsIl9qc3hydW50aW1lIiwianN4IiwicHJlY2VkZW5jZSIsInJlbCIsImhyZWYiLCJhcyIsImFzc2V0UHJlZml4IiwiZW5jb2RlVVJJIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/shared/lib/lazy-dynamic/preload-css.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nvar React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider'); // TODO: Delete with enableRenderableContext\n\nvar REACT_CONSUMER_TYPE = Symbol.for('react.consumer');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar REACT_CACHE_TYPE = Symbol.for('react.cache');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\nvar enableRenderableContext = false;\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false;\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n}\n\nvar REACT_CLIENT_REFERENCE$2 = Symbol.for('react.client.reference'); // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  if (typeof type === 'function') {\n    if (type.$$typeof === REACT_CLIENT_REFERENCE$2) {\n      // TODO: Create a convention for naming client references with debug info.\n      return null;\n    }\n\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n    case REACT_CACHE_TYPE:\n      {\n        return 'Cache';\n      }\n\n  }\n\n  if (typeof type === 'object') {\n    {\n      if (typeof type.tag === 'number') {\n        error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n      }\n    }\n\n    switch (type.$$typeof) {\n      case REACT_PROVIDER_TYPE:\n        {\n          var provider = type;\n          return getContextName(provider._context) + '.Provider';\n        }\n\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n\n        {\n          return getContextName(context) + '.Consumer';\n        }\n\n      case REACT_CONSUMER_TYPE:\n        {\n          return null;\n        }\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n    }\n  }\n\n  return null;\n}\n\n// $FlowFixMe[method-unbinding]\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar assign = Object.assign;\n\n/*\n * The `'' + value` pattern (used in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object'; // $FlowFixMe[incompatible-return]\n\n    return type;\n  }\n} // $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar REACT_CLIENT_REFERENCE$1 = Symbol.for('react.client.reference');\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || enableRenderableContext  || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_CLIENT_REFERENCE$1 || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n/**\n * Leverages native browser/VM stack frames to get proper details (e.g.\n * filename, line + col number) for a single component in a component stack. We\n * do this by:\n *   (1) throwing and catching an error in the function - this will be our\n *       control error.\n *   (2) calling the component which will eventually throw an error that we'll\n *       catch - this will be our sample error.\n *   (3) diffing the control and sample error stacks to find the stack frame\n *       which represents our component.\n */\n\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe[incompatible-type] It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n  /**\n   * Finding a common stack frame between sample and control errors can be\n   * tricky given the different types and levels of stack trace truncation from\n   * different JS VMs. So instead we'll attempt to control what that common\n   * frame should be through this object method:\n   * Having both the sample and control errors be in the function under the\n   * `DescribeNativeComponentFrameRoot` property, + setting the `name` and\n   * `displayName` properties of the function ensures that a stack\n   * frame exists that has the method name `DescribeNativeComponentFrameRoot` in\n   * it for both control and sample stacks.\n   */\n\n\n  var RunInRootFrame = {\n    DetermineComponentFrameRoot: function () {\n      var control;\n\n      try {\n        // This should throw.\n        if (construct) {\n          // Something should be setting the props in the constructor.\n          var Fake = function () {\n            throw Error();\n          }; // $FlowFixMe[prop-missing]\n\n\n          Object.defineProperty(Fake.prototype, 'props', {\n            set: function () {\n              // We use a throwing setter instead of frozen or non-writable props\n              // because that won't throw in a non-strict mode function.\n              throw Error();\n            }\n          });\n\n          if (typeof Reflect === 'object' && Reflect.construct) {\n            // We construct a different control for this case to include any extra\n            // frames added by the construct call.\n            try {\n              Reflect.construct(Fake, []);\n            } catch (x) {\n              control = x;\n            }\n\n            Reflect.construct(fn, [], Fake);\n          } else {\n            try {\n              Fake.call();\n            } catch (x) {\n              control = x;\n            } // $FlowFixMe[prop-missing] found when upgrading Flow\n\n\n            fn.call(Fake.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (x) {\n            control = x;\n          } // TODO(luna): This will currently only throw if the function component\n          // tries to access React/ReactDOM/props. We should probably make this throw\n          // in simple components too\n\n\n          var maybePromise = fn(); // If the function component returns a promise, it's likely an async\n          // component, which we don't yet support. Attach a noop catch handler to\n          // silence the error.\n          // TODO: Implement component stacks for async client components?\n\n          if (maybePromise && typeof maybePromise.catch === 'function') {\n            maybePromise.catch(function () {});\n          }\n        }\n      } catch (sample) {\n        // This is inlined manually because closure doesn't do it for us.\n        if (sample && control && typeof sample.stack === 'string') {\n          return [sample.stack, control.stack];\n        }\n      }\n\n      return [null, null];\n    }\n  }; // $FlowFixMe[prop-missing]\n\n  RunInRootFrame.DetermineComponentFrameRoot.displayName = 'DetermineComponentFrameRoot';\n  var namePropDescriptor = Object.getOwnPropertyDescriptor(RunInRootFrame.DetermineComponentFrameRoot, 'name'); // Before ES6, the `name` property was not configurable.\n\n  if (namePropDescriptor && namePropDescriptor.configurable) {\n    // V8 utilizes a function's `name` property when generating a stack trace.\n    Object.defineProperty(RunInRootFrame.DetermineComponentFrameRoot, // Configurable properties can be updated even if its writable descriptor\n    // is set to `false`.\n    // $FlowFixMe[cannot-write]\n    'name', {\n      value: 'DetermineComponentFrameRoot'\n    });\n  }\n\n  try {\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n        sampleStack = _RunInRootFrame$Deter[0],\n        controlStack = _RunInRootFrame$Deter[1];\n\n    if (sampleStack && controlStack) {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sampleStack.split('\\n');\n      var controlLines = controlStack.split('\\n');\n      var s = 0;\n      var c = 0;\n\n      while (s < sampleLines.length && !sampleLines[s].includes('DetermineComponentFrameRoot')) {\n        s++;\n      }\n\n      while (c < controlLines.length && !controlLines[c].includes('DetermineComponentFrameRoot')) {\n        c++;\n      } // We couldn't find our intentionally injected common root frame, attempt\n      // to find another common root frame by search from the bottom of the\n      // control stack...\n\n\n      if (s === sampleLines.length || c === controlLines.length) {\n        s = sampleLines.length - 1;\n        c = controlLines.length - 1;\n\n        while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n          // We expect at least one stack frame to be shared.\n          // Typically this will be the root most one. However, stack frames may be\n          // cut off due to maximum stack limits. In this case, one maybe cut off\n          // earlier than the other. We assume that the sample is longer or the same\n          // and there for cut off earlier. So we should find the root most frame in\n          // the sample somewhere in the control.\n          c--;\n        }\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                if (true) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\nvar REACT_CLIENT_REFERENCE = Symbol.for('react.client.reference');\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    {\n      var warnAboutAccessingRef = function () {\n        if (!specialPropRefWarningShown) {\n          specialPropRefWarningShown = true;\n\n          error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n        }\n      };\n\n      warnAboutAccessingRef.isReactWarning = true;\n      Object.defineProperty(props, 'ref', {\n        get: warnAboutAccessingRef,\n        configurable: true\n      });\n    }\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nfunction ReactElement(type, key, _ref, self, source, owner, props) {\n  var ref;\n\n  {\n    ref = _ref;\n  }\n\n  var element;\n\n  {\n    // In prod, `ref` is a regular property. It will be removed in a\n    // future release.\n    element = {\n      // This tag allows us to uniquely identify this as a React Element\n      $$typeof: REACT_ELEMENT_TYPE,\n      // Built-in properties that belong on the element\n      type: type,\n      key: key,\n      ref: ref,\n      props: props,\n      // Record the component responsible for creating this element.\n      _owner: owner\n    };\n  }\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // debugInfo contains Server Component debug information.\n\n    Object.defineProperty(element, '_debugInfo', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: null\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n}\nvar didWarnAboutKeySpread = {};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV$1(type, config, maybeKey, isStaticChildren, source, self) {\n  {\n    if (!isValidElementType(type)) {\n      // This is an invalid element type.\n      //\n      // We warn in this case but don't throw. We expect the element creation to\n      // succeed and there will likely be errors in render.\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    } else {\n      // This is a valid element type.\n      // Skip key warning if the type isn't valid since our key validation logic\n      // doesn't expect a non-string/function type and can throw confusing\n      // errors. We don't want exception behavior to differ between dev and\n      // prod. (Rendering will throw with a helpful message and as soon as the\n      // type is fixed, the key warnings will appear.)\n      var children = config.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    } // Warn about key spread regardless of whether the type is valid.\n\n\n    if (hasOwnProperty.call(config, 'key')) {\n      var componentName = getComponentNameFromType(type);\n      var keys = Object.keys(config).filter(function (k) {\n        return k !== 'key';\n      });\n      var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';\n\n      if (!didWarnAboutKeySpread[componentName + beforeExample]) {\n        var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';\n\n        error('A props object containing a \"key\" prop is being spread into JSX:\\n' + '  let props = %s;\\n' + '  <%s {...props} />\\n' + 'React keys must be passed directly to JSX without using spread:\\n' + '  let props = %s;\\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);\n\n        didWarnAboutKeySpread[componentName + beforeExample] = true;\n      }\n    }\n\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      {\n        ref = config.ref;\n      }\n\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && // Skip over reserved prop names\n      propName !== 'key' && (propName !== 'ref')) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    var element = ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    }\n\n    return element;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object' || !node) {\n      return;\n    }\n\n    if (node.$$typeof === REACT_CLIENT_REFERENCE) ; else if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nvar ownerHasKeyUseWarning = {};\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement(null);\n  }\n}\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = getComponentNameFromType(parentType);\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  // TODO: Move this to render phase instead of at element creation.\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement(null);\n    }\n  }\n}\n\nvar jsxDEV = jsxDEV$1 ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsxDEV = jsxDEV;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxJQUFxQztBQUN6QztBQUNBOztBQUVBLFlBQVksbUJBQU8sQ0FBQyxzR0FBMEI7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxlQUFlO0FBQ2hIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQSxLQUFLLEdBQUc7O0FBRVIsa0RBQWtEO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLDRCQUE0QjtBQUM1QjtBQUNBLHFDQUFxQzs7QUFFckMsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBOztBQUVBLHFFQUFxRTs7QUFFckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHOztBQUVsRztBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLGVBQWU7QUFDMUIsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtB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QUFXLGNBQWM7QUFDekI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixpQkFBaUI7QUFDckM7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQjtBQUNoQixjQUFjO0FBQ2QsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcz9kMTU4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZShcIm5leHQvZGlzdC9jb21waWxlZC9yZWFjdFwiKTtcblxuLy8gQVRURU5USU9OXG4vLyBXaGVuIGFkZGluZyBuZXcgc3ltYm9scyB0byB0aGlzIGZpbGUsXG4vLyBQbGVhc2UgY29uc2lkZXIgYWxzbyBhZGRpbmcgdG8gJ3JlYWN0LWRldnRvb2xzLXNoYXJlZC9zcmMvYmFja2VuZC9SZWFjdFN5bWJvbHMnXG4vLyBUaGUgU3ltYm9sIHVzZWQgdG8gdGFnIHRoZSBSZWFjdEVsZW1lbnQtbGlrZSB0eXBlcy5cbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50Jyk7XG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wb3J0YWwnKTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZnJhZ21lbnQnKTtcbnZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3RyaWN0X21vZGUnKTtcbnZhciBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvZmlsZXInKTtcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvdmlkZXInKTsgLy8gVE9ETzogRGVsZXRlIHdpdGggZW5hYmxlUmVuZGVyYWJsZUNvbnRleHRcblxudmFyIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jb25zdW1lcicpO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKTtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0Jyk7XG52YXIgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubWVtbycpO1xudmFyIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKTtcbnZhciBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm9mZnNjcmVlbicpO1xudmFyIFJFQUNUX0NBQ0hFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jYWNoZScpO1xudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcblxuICBpZiAodHlwZW9mIG1heWJlSXRlcmF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvcjtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSBSZWFjdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcblxuZnVuY3Rpb24gZXJyb3IoZm9ybWF0KSB7XG4gIHtcbiAgICB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcoJ2Vycm9yJywgZm9ybWF0LCBhcmdzKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGxldmVsLCBmb3JtYXQsIGFyZ3MpIHtcbiAgLy8gV2hlbiBjaGFuZ2luZyB0aGlzIGxvZ2ljLCB5b3UgbWlnaHQgd2FudCB0byBhbHNvXG4gIC8vIHVwZGF0ZSBjb25zb2xlV2l0aFN0YWNrRGV2Lnd3dy5qcyBhcyB3ZWxsLlxuICB7XG4gICAgdmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICAgIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuXG4gICAgaWYgKHN0YWNrICE9PSAnJykge1xuICAgICAgZm9ybWF0ICs9ICclcyc7XG4gICAgICBhcmdzID0gYXJncy5jb25jYXQoW3N0YWNrXSk7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cblxuXG4gICAgdmFyIGFyZ3NXaXRoRm9ybWF0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBTdHJpbmcoaXRlbSk7XG4gICAgfSk7IC8vIENhcmVmdWw6IFJOIGN1cnJlbnRseSBkZXBlbmRzIG9uIHRoaXMgcHJlZml4XG5cbiAgICBhcmdzV2l0aEZvcm1hdC51bnNoaWZ0KCdXYXJuaW5nOiAnICsgZm9ybWF0KTsgLy8gV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2Ugc3ByZWFkIChvciAuYXBwbHkpIGRpcmVjdGx5IGJlY2F1c2UgaXRcbiAgICAvLyBicmVha3MgSUU5OiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEzNjEwXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZ1xuXG4gICAgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZVtsZXZlbF0sIGNvbnNvbGUsIGFyZ3NXaXRoRm9ybWF0KTtcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgZW5hYmxlU2NvcGVBUEkgPSBmYWxzZTsgLy8gRXhwZXJpbWVudGFsIENyZWF0ZSBFdmVudCBIYW5kbGUgQVBJLlxudmFyIGVuYWJsZUNhY2hlRWxlbWVudCA9IGZhbHNlO1xudmFyIGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nID0gZmFsc2U7IC8vIE5vIGtub3duIGJ1Z3MsIGJ1dCBuZWVkcyBwZXJmb3JtYW5jZSB0ZXN0aW5nXG5cbnZhciBlbmFibGVMZWdhY3lIaWRkZW4gPSBmYWxzZTsgLy8gRW5hYmxlcyB1bnN0YWJsZV9hdm9pZFRoaXNGYWxsYmFjayBmZWF0dXJlIGluIEZpYmVyXG52YXIgZW5hYmxlUmVuZGVyYWJsZUNvbnRleHQgPSBmYWxzZTtcbi8vIHN0dWZmLiBJbnRlbmRlZCB0byBlbmFibGUgUmVhY3QgY29yZSBtZW1iZXJzIHRvIG1vcmUgZWFzaWx5IGRlYnVnIHNjaGVkdWxpbmdcbi8vIGlzc3VlcyBpbiBERVYgYnVpbGRzLlxuXG52YXIgZW5hYmxlRGVidWdUcmFjaW5nID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGdldFdyYXBwZWROYW1lKG91dGVyVHlwZSwgaW5uZXJUeXBlLCB3cmFwcGVyTmFtZSkge1xuICB2YXIgZGlzcGxheU5hbWUgPSBvdXRlclR5cGUuZGlzcGxheU5hbWU7XG5cbiAgaWYgKGRpc3BsYXlOYW1lKSB7XG4gICAgcmV0dXJuIGRpc3BsYXlOYW1lO1xuICB9XG5cbiAgdmFyIGZ1bmN0aW9uTmFtZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCAnJztcbiAgcmV0dXJuIGZ1bmN0aW9uTmFtZSAhPT0gJycgPyB3cmFwcGVyTmFtZSArIFwiKFwiICsgZnVuY3Rpb25OYW1lICsgXCIpXCIgOiB3cmFwcGVyTmFtZTtcbn0gLy8gS2VlcCBpbiBzeW5jIHdpdGggcmVhY3QtcmVjb25jaWxlci9nZXRDb21wb25lbnROYW1lRnJvbUZpYmVyXG5cblxuZnVuY3Rpb24gZ2V0Q29udGV4dE5hbWUodHlwZSkge1xuICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCAnQ29udGV4dCc7XG59XG5cbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDIgPSBTeW1ib2wuZm9yKCdyZWFjdC5jbGllbnQucmVmZXJlbmNlJyk7IC8vIE5vdGUgdGhhdCB0aGUgcmVjb25jaWxlciBwYWNrYWdlIHNob3VsZCBnZW5lcmFsbHkgcHJlZmVyIHRvIHVzZSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKCkgaW5zdGVhZC5cblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgIC8vIEhvc3Qgcm9vdCwgdGV4dCBub2RlIG9yIGp1c3QgaW52YWxpZCB0eXBlLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMikge1xuICAgICAgLy8gVE9ETzogQ3JlYXRlIGEgY29udmVudGlvbiBmb3IgbmFtaW5nIGNsaWVudCByZWZlcmVuY2VzIHdpdGggZGVidWcgaW5mby5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgcmV0dXJuICdGcmFnbWVudCc7XG5cbiAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgcmV0dXJuICdQb3J0YWwnO1xuXG4gICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgcmV0dXJuICdQcm9maWxlcic7XG5cbiAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICByZXR1cm4gJ1N0cmljdE1vZGUnO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuICdTdXNwZW5zZSc7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgIHJldHVybiAnU3VzcGVuc2VMaXN0JztcblxuICAgIGNhc2UgUkVBQ1RfQ0FDSEVfVFlQRTpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuICdDYWNoZSc7XG4gICAgICB9XG5cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICB7XG4gICAgICBpZiAodHlwZW9mIHR5cGUudGFnID09PSAnbnVtYmVyJykge1xuICAgICAgICBlcnJvcignUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuICcgKyAnVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHByb3ZpZGVyID0gdHlwZTtcbiAgICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUocHJvdmlkZXIuX2NvbnRleHQpICsgJy5Qcm92aWRlcic7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgIHZhciBjb250ZXh0ID0gdHlwZTtcblxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIGdldENvbnRleHROYW1lKGNvbnRleHQpICsgJy5Db25zdW1lcic7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZE5hbWUodHlwZSwgdHlwZS5yZW5kZXIsICdGb3J3YXJkUmVmJyk7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICB2YXIgb3V0ZXJOYW1lID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsO1xuXG4gICAgICAgIGlmIChvdXRlck5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gb3V0ZXJOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdNZW1vJztcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGluaXQocGF5bG9hZCkpO1xuICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblxuLypcbiAqIFRoZSBgJycgKyB2YWx1ZWAgcGF0dGVybiAodXNlZCBpbiBwZXJmLXNlbnNpdGl2ZSBjb2RlKSB0aHJvd3MgZm9yIFN5bWJvbFxuICogYW5kIFRlbXBvcmFsLiogdHlwZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yMjA2NC5cbiAqXG4gKiBUaGUgZnVuY3Rpb25zIGluIHRoaXMgbW9kdWxlIHdpbGwgdGhyb3cgYW4gZWFzaWVyLXRvLXVuZGVyc3RhbmQsXG4gKiBlYXNpZXItdG8tZGVidWcgZXhjZXB0aW9uIHdpdGggYSBjbGVhciBlcnJvcnMgbWVzc2FnZSBtZXNzYWdlIGV4cGxhaW5pbmcgdGhlXG4gKiBwcm9ibGVtLiAoSW5zdGVhZCBvZiBhIGNvbmZ1c2luZyBleGNlcHRpb24gdGhyb3duIGluc2lkZSB0aGUgaW1wbGVtZW50YXRpb25cbiAqIG9mIHRoZSBgdmFsdWVgIG9iamVjdCkuXG4gKi9cbi8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl0gb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5mdW5jdGlvbiB0eXBlTmFtZSh2YWx1ZSkge1xuICB7XG4gICAgLy8gdG9TdHJpbmdUYWcgaXMgbmVlZGVkIGZvciBuYW1lc3BhY2VkIHR5cGVzIGxpa2UgVGVtcG9yYWwuSW5zdGFudFxuICAgIHZhciBoYXNUb1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLnRvU3RyaW5nVGFnO1xuICAgIHZhciB0eXBlID0gaGFzVG9TdHJpbmdUYWcgJiYgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSB8fCB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnOyAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dXG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxufSAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dIG9ubHkgY2FsbGVkIGluIERFViwgc28gdm9pZCByZXR1cm4gaXMgbm90IHBvc3NpYmxlLlxuXG5cbmZ1bmN0aW9uIHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSB7XG4gIHtcbiAgICB0cnkge1xuICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIC8vIElmIHlvdSBlbmRlZCB1cCBoZXJlIGJ5IGZvbGxvd2luZyBhbiBleGNlcHRpb24gY2FsbCBzdGFjaywgaGVyZSdzIHdoYXQnc1xuICAvLyBoYXBwZW5lZDogeW91IHN1cHBsaWVkIGFuIG9iamVjdCBvciBzeW1ib2wgdmFsdWUgdG8gUmVhY3QgKGFzIGEgcHJvcCwga2V5LFxuICAvLyBET00gYXR0cmlidXRlLCBDU1MgcHJvcGVydHksIHN0cmluZyByZWYsIGV0Yy4pIGFuZCB3aGVuIFJlYWN0IHRyaWVkIHRvXG4gIC8vIGNvZXJjZSBpdCB0byBhIHN0cmluZyB1c2luZyBgJycgKyB2YWx1ZWAsIGFuIGV4Y2VwdGlvbiB3YXMgdGhyb3duLlxuICAvL1xuICAvLyBUaGUgbW9zdCBjb21tb24gdHlwZXMgdGhhdCB3aWxsIGNhdXNlIHRoaXMgZXhjZXB0aW9uIGFyZSBgU3ltYm9sYCBpbnN0YW5jZXNcbiAgLy8gYW5kIFRlbXBvcmFsIG9iamVjdHMgbGlrZSBgVGVtcG9yYWwuSW5zdGFudGAuIEJ1dCBhbnkgb2JqZWN0IHRoYXQgaGFzIGFcbiAgLy8gYHZhbHVlT2ZgIG9yIGBbU3ltYm9sLnRvUHJpbWl0aXZlXWAgbWV0aG9kIHRoYXQgdGhyb3dzIHdpbGwgYWxzbyBjYXVzZSB0aGlzXG4gIC8vIGV4Y2VwdGlvbi4gKExpYnJhcnkgYXV0aG9ycyBkbyB0aGlzIHRvIHByZXZlbnQgdXNlcnMgZnJvbSB1c2luZyBidWlsdC1pblxuICAvLyBudW1lcmljIG9wZXJhdG9ycyBsaWtlIGArYCBvciBjb21wYXJpc29uIG9wZXJhdG9ycyBsaWtlIGA+PWAgYmVjYXVzZSBjdXN0b21cbiAgLy8gbWV0aG9kcyBhcmUgbmVlZGVkIHRvIHBlcmZvcm0gYWNjdXJhdGUgYXJpdGhtZXRpYyBvciBjb21wYXJpc29uLilcbiAgLy9cbiAgLy8gVG8gZml4IHRoZSBwcm9ibGVtLCBjb2VyY2UgdGhpcyBvYmplY3Qgb3Igc3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nIGJlZm9yZVxuICAvLyBwYXNzaW5nIGl0IHRvIFJlYWN0LiBUaGUgbW9zdCByZWxpYWJsZSB3YXkgaXMgdXN1YWxseSBgU3RyaW5nKHZhbHVlKWAuXG4gIC8vXG4gIC8vIFRvIGZpbmQgd2hpY2ggdmFsdWUgaXMgdGhyb3dpbmcsIGNoZWNrIHRoZSBicm93c2VyIG9yIGRlYnVnZ2VyIGNvbnNvbGUuXG4gIC8vIEJlZm9yZSB0aGlzIGV4Y2VwdGlvbiB3YXMgdGhyb3duLCB0aGVyZSBzaG91bGQgYmUgYGNvbnNvbGUuZXJyb3JgIG91dHB1dFxuICAvLyB0aGF0IHNob3dzIHRoZSB0eXBlIChTeW1ib2wsIFRlbXBvcmFsLlBsYWluRGF0ZSwgZXRjLikgdGhhdCBjYXVzZWQgdGhlXG4gIC8vIHByb2JsZW0gYW5kIGhvdyB0aGF0IHR5cGUgd2FzIHVzZWQ6IGtleSwgYXRycmlidXRlLCBpbnB1dCB2YWx1ZSBwcm9wLCBldGMuXG4gIC8vIEluIG1vc3QgY2FzZXMsIHRoaXMgY29uc29sZSBvdXRwdXQgYWxzbyBzaG93cyB0aGUgY29tcG9uZW50IGFuZCBpdHNcbiAgLy8gYW5jZXN0b3IgY29tcG9uZW50cyB3aGVyZSB0aGUgZXhjZXB0aW9uIGhhcHBlbmVkLlxuICAvL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cbiAgcmV0dXJuICcnICsgdmFsdWU7XG59XG5mdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIHtcbiAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKSB7XG4gICAgICBlcnJvcignVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLicgKyAnIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLicsIHR5cGVOYW1lKHZhbHVlKSk7XG5cbiAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpOyAvLyB0aHJvdyAodG8gaGVscCBjYWxsZXJzIGZpbmQgdHJvdWJsZXNob290aW5nIGNvbW1lbnRzKVxuICAgIH1cbiAgfVxufVxuXG52YXIgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5vdGU6IHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIChlLmcuIGlmIGl0J3MgYSBwb2x5ZmlsbCkuXG5cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8IGVuYWJsZURlYnVnVHJhY2luZyAgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCBlbmFibGVMZWdhY3lIaWRkZW4gIHx8IHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8IGVuYWJsZVNjb3BlQVBJICB8fCBlbmFibGVDYWNoZUVsZW1lbnQgIHx8IGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgZW5hYmxlUmVuZGVyYWJsZUNvbnRleHQgIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxuICAgIC8vIHR5cGVzIHN1cHBvcnRlZCBieSBhbnkgRmxpZ2h0IGNvbmZpZ3VyYXRpb24gYW55d2hlcmUgc2luY2VcbiAgICAvLyB3ZSBkb24ndCBrbm93IHdoaWNoIEZsaWdodCBidWlsZCB0aGlzIHdpbGwgZW5kIHVwIGJlaW5nIHVzZWRcbiAgICAvLyB3aXRoLlxuICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSB8fCB0eXBlLmdldE1vZHVsZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxuXG5mdW5jdGlvbiBpc0FycmF5KGEpIHtcbiAgcmV0dXJuIGlzQXJyYXlJbXBsKGEpO1xufVxuXG4vLyBIZWxwZXJzIHRvIHBhdGNoIGNvbnNvbGUubG9ncyB0byBhdm9pZCBsb2dnaW5nIGR1cmluZyBzaWRlLWVmZmVjdCBmcmVlXG4vLyByZXBsYXlpbmcgb24gcmVuZGVyIGZ1bmN0aW9uLiBUaGlzIGN1cnJlbnRseSBvbmx5IHBhdGNoZXMgdGhlIG9iamVjdFxuLy8gbGF6aWx5IHdoaWNoIHdvbid0IGNvdmVyIGlmIHRoZSBsb2cgZnVuY3Rpb24gd2FzIGV4dHJhY3RlZCBlYWdlcmx5LlxuLy8gV2UgY291bGQgYWxzbyBlYWdlcmx5IHBhdGNoIHRoZSBtZXRob2QuXG52YXIgZGlzYWJsZWREZXB0aCA9IDA7XG52YXIgcHJldkxvZztcbnZhciBwcmV2SW5mbztcbnZhciBwcmV2V2FybjtcbnZhciBwcmV2RXJyb3I7XG52YXIgcHJldkdyb3VwO1xudmFyIHByZXZHcm91cENvbGxhcHNlZDtcbnZhciBwcmV2R3JvdXBFbmQ7XG5cbmZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cblxuZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gdHJ1ZTtcbmZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICB7XG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTkwOTlcblxuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH07IC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXSBGbG93IHRoaW5rcyBjb25zb2xlIGlzIGltbXV0YWJsZS5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGRpc2FibGVkRGVwdGgrKztcbiAgfVxufVxuZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICB7XG4gICAgZGlzYWJsZWREZXB0aC0tO1xuXG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lW2Nhbm5vdC13cml0ZV0gRmxvdyB0aGlua3MgY29uc29sZSBpcyBpbW11dGFibGUuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZMb2dcbiAgICAgICAgfSksXG4gICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkluZm9cbiAgICAgICAgfSksXG4gICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldldhcm5cbiAgICAgICAgfSksXG4gICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZFcnJvclxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBDb2xsYXBzZWRcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cEVuZFxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGlmIChkaXNhYmxlZERlcHRoIDwgMCkge1xuICAgICAgZXJyb3IoJ2Rpc2FibGVkRGVwdGggZmVsbCBiZWxvdyB6ZXJvLiAnICsgJ1RoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudERpc3BhdGNoZXI7XG52YXIgcHJlZml4O1xuZnVuY3Rpb24gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSwgb3duZXJGbikge1xuICB7XG4gICAgaWYgKHByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBWTSBzcGVjaWZpYyBwcmVmaXggdXNlZCBieSBlYWNoIGxpbmUuXG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICBwcmVmaXggPSBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbiAgICAgIH1cbiAgICB9IC8vIFdlIHVzZSB0aGUgcHJlZml4IHRvIGVuc3VyZSBvdXIgc3RhY2tzIGxpbmUgdXAgd2l0aCBuYXRpdmUgc3RhY2sgZnJhbWVzLlxuXG5cbiAgICByZXR1cm4gJ1xcbicgKyBwcmVmaXggKyBuYW1lO1xuICB9XG59XG52YXIgcmVlbnRyeSA9IGZhbHNlO1xudmFyIGNvbXBvbmVudEZyYW1lQ2FjaGU7XG5cbntcbiAgdmFyIFBvc3NpYmx5V2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gV2Vha01hcCA6IE1hcDtcbiAgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbn1cbi8qKlxuICogTGV2ZXJhZ2VzIG5hdGl2ZSBicm93c2VyL1ZNIHN0YWNrIGZyYW1lcyB0byBnZXQgcHJvcGVyIGRldGFpbHMgKGUuZy5cbiAqIGZpbGVuYW1lLCBsaW5lICsgY29sIG51bWJlcikgZm9yIGEgc2luZ2xlIGNvbXBvbmVudCBpbiBhIGNvbXBvbmVudCBzdGFjay4gV2VcbiAqIGRvIHRoaXMgYnk6XG4gKiAgICgxKSB0aHJvd2luZyBhbmQgY2F0Y2hpbmcgYW4gZXJyb3IgaW4gdGhlIGZ1bmN0aW9uIC0gdGhpcyB3aWxsIGJlIG91clxuICogICAgICAgY29udHJvbCBlcnJvci5cbiAqICAgKDIpIGNhbGxpbmcgdGhlIGNvbXBvbmVudCB3aGljaCB3aWxsIGV2ZW50dWFsbHkgdGhyb3cgYW4gZXJyb3IgdGhhdCB3ZSdsbFxuICogICAgICAgY2F0Y2ggLSB0aGlzIHdpbGwgYmUgb3VyIHNhbXBsZSBlcnJvci5cbiAqICAgKDMpIGRpZmZpbmcgdGhlIGNvbnRyb2wgYW5kIHNhbXBsZSBlcnJvciBzdGFja3MgdG8gZmluZCB0aGUgc3RhY2sgZnJhbWVcbiAqICAgICAgIHdoaWNoIHJlcHJlc2VudHMgb3VyIGNvbXBvbmVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAvLyBJZiBzb21ldGhpbmcgYXNrZWQgZm9yIGEgc3RhY2sgaW5zaWRlIGEgZmFrZSByZW5kZXIsIGl0IHNob3VsZCBnZXQgaWdub3JlZC5cbiAgaWYgKCFmbiB8fCByZWVudHJ5KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAge1xuICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcblxuICAgIGlmIChmcmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuICB9XG5cbiAgcmVlbnRyeSA9IHRydWU7XG4gIHZhciBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIEl0IGRvZXMgYWNjZXB0IHVuZGVmaW5lZC5cblxuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcbiAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlcjtcblxuICB7XG4gICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50OyAvLyBTZXQgdGhlIGRpc3BhdGNoZXIgaW4gREVWIGJlY2F1c2UgdGhpcyBtaWdodCBiZSBjYWxsIGluIHRoZSByZW5kZXIgZnVuY3Rpb25cbiAgICAvLyBmb3Igd2FybmluZ3MuXG5cbiAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQgPSBudWxsO1xuICAgIGRpc2FibGVMb2dzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRpbmcgYSBjb21tb24gc3RhY2sgZnJhbWUgYmV0d2VlbiBzYW1wbGUgYW5kIGNvbnRyb2wgZXJyb3JzIGNhbiBiZVxuICAgKiB0cmlja3kgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcyBhbmQgbGV2ZWxzIG9mIHN0YWNrIHRyYWNlIHRydW5jYXRpb24gZnJvbVxuICAgKiBkaWZmZXJlbnQgSlMgVk1zLiBTbyBpbnN0ZWFkIHdlJ2xsIGF0dGVtcHQgdG8gY29udHJvbCB3aGF0IHRoYXQgY29tbW9uXG4gICAqIGZyYW1lIHNob3VsZCBiZSB0aHJvdWdoIHRoaXMgb2JqZWN0IG1ldGhvZDpcbiAgICogSGF2aW5nIGJvdGggdGhlIHNhbXBsZSBhbmQgY29udHJvbCBlcnJvcnMgYmUgaW4gdGhlIGZ1bmN0aW9uIHVuZGVyIHRoZVxuICAgKiBgRGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZVJvb3RgIHByb3BlcnR5LCArIHNldHRpbmcgdGhlIGBuYW1lYCBhbmRcbiAgICogYGRpc3BsYXlOYW1lYCBwcm9wZXJ0aWVzIG9mIHRoZSBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgYSBzdGFja1xuICAgKiBmcmFtZSBleGlzdHMgdGhhdCBoYXMgdGhlIG1ldGhvZCBuYW1lIGBEZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lUm9vdGAgaW5cbiAgICogaXQgZm9yIGJvdGggY29udHJvbCBhbmQgc2FtcGxlIHN0YWNrcy5cbiAgICovXG5cblxuICB2YXIgUnVuSW5Sb290RnJhbWUgPSB7XG4gICAgRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29udHJvbDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgdGhyb3cuXG4gICAgICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgICAgICAvLyBTb21ldGhpbmcgc2hvdWxkIGJlIHNldHRpbmcgdGhlIHByb3BzIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICB2YXIgRmFrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfTsgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG5cblxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgJ3Byb3BzJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vIFdlIHVzZSBhIHRocm93aW5nIHNldHRlciBpbnN0ZWFkIG9mIGZyb3plbiBvciBub24td3JpdGFibGUgcHJvcHNcbiAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGF0IHdvbid0IHRocm93IGluIGEgbm9uLXN0cmljdCBtb2RlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgLy8gV2UgY29uc3RydWN0IGEgZGlmZmVyZW50IGNvbnRyb2wgZm9yIHRoaXMgY2FzZSB0byBpbmNsdWRlIGFueSBleHRyYVxuICAgICAgICAgICAgLy8gZnJhbWVzIGFkZGVkIGJ5IHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgICBjb250cm9sID0geDtcbiAgICAgICAgICAgIH0gLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIGZvdW5kIHdoZW4gdXBncmFkaW5nIEZsb3dcblxuXG4gICAgICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgfSAvLyBUT0RPKGx1bmEpOiBUaGlzIHdpbGwgY3VycmVudGx5IG9ubHkgdGhyb3cgaWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudFxuICAgICAgICAgIC8vIHRyaWVzIHRvIGFjY2VzcyBSZWFjdC9SZWFjdERPTS9wcm9wcy4gV2Ugc2hvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyB0aHJvd1xuICAgICAgICAgIC8vIGluIHNpbXBsZSBjb21wb25lbnRzIHRvb1xuXG5cbiAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gZm4oKTsgLy8gSWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudCByZXR1cm5zIGEgcHJvbWlzZSwgaXQncyBsaWtlbHkgYW4gYXN5bmNcbiAgICAgICAgICAvLyBjb21wb25lbnQsIHdoaWNoIHdlIGRvbid0IHlldCBzdXBwb3J0LiBBdHRhY2ggYSBub29wIGNhdGNoIGhhbmRsZXIgdG9cbiAgICAgICAgICAvLyBzaWxlbmNlIHRoZSBlcnJvci5cbiAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgY29tcG9uZW50IHN0YWNrcyBmb3IgYXN5bmMgY2xpZW50IGNvbXBvbmVudHM/XG5cbiAgICAgICAgICBpZiAobWF5YmVQcm9taXNlICYmIHR5cGVvZiBtYXliZVByb21pc2UuY2F0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBpbmxpbmVkIG1hbnVhbGx5IGJlY2F1c2UgY2xvc3VyZSBkb2Vzbid0IGRvIGl0IGZvciB1cy5cbiAgICAgICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIHR5cGVvZiBzYW1wbGUuc3RhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIFtzYW1wbGUuc3RhY2ssIGNvbnRyb2wuc3RhY2tdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgfVxuICB9OyAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cblxuICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QuZGlzcGxheU5hbWUgPSAnRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290JztcbiAgdmFyIG5hbWVQcm9wRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LCAnbmFtZScpOyAvLyBCZWZvcmUgRVM2LCB0aGUgYG5hbWVgIHByb3BlcnR5IHdhcyBub3QgY29uZmlndXJhYmxlLlxuXG4gIGlmIChuYW1lUHJvcERlc2NyaXB0b3IgJiYgbmFtZVByb3BEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgIC8vIFY4IHV0aWxpemVzIGEgZnVuY3Rpb24ncyBgbmFtZWAgcHJvcGVydHkgd2hlbiBnZW5lcmF0aW5nIGEgc3RhY2sgdHJhY2UuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCwgLy8gQ29uZmlndXJhYmxlIHByb3BlcnRpZXMgY2FuIGJlIHVwZGF0ZWQgZXZlbiBpZiBpdHMgd3JpdGFibGUgZGVzY3JpcHRvclxuICAgIC8vIGlzIHNldCB0byBgZmFsc2VgLlxuICAgIC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXVxuICAgICduYW1lJywge1xuICAgICAgdmFsdWU6ICdEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QnXG4gICAgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIHZhciBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QoKSxcbiAgICAgICAgc2FtcGxlU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMF0sXG4gICAgICAgIGNvbnRyb2xTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclsxXTtcblxuICAgIGlmIChzYW1wbGVTdGFjayAmJiBjb250cm9sU3RhY2spIHtcbiAgICAgIC8vIFRoaXMgZXh0cmFjdHMgdGhlIGZpcnN0IGZyYW1lIGZyb20gdGhlIHNhbXBsZSB0aGF0IGlzbid0IGFsc28gaW4gdGhlIGNvbnRyb2wuXG4gICAgICAvLyBTa2lwcGluZyBvbmUgZnJhbWUgdGhhdCB3ZSBhc3N1bWUgaXMgdGhlIGZyYW1lIHRoYXQgY2FsbHMgdGhlIHR3by5cbiAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZVN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBjb250cm9sTGluZXMgPSBjb250cm9sU3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIHMgPSAwO1xuICAgICAgdmFyIGMgPSAwO1xuXG4gICAgICB3aGlsZSAocyA8IHNhbXBsZUxpbmVzLmxlbmd0aCAmJiAhc2FtcGxlTGluZXNbc10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIHMrKztcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKGMgPCBjb250cm9sTGluZXMubGVuZ3RoICYmICFjb250cm9sTGluZXNbY10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIGMrKztcbiAgICAgIH0gLy8gV2UgY291bGRuJ3QgZmluZCBvdXIgaW50ZW50aW9uYWxseSBpbmplY3RlZCBjb21tb24gcm9vdCBmcmFtZSwgYXR0ZW1wdFxuICAgICAgLy8gdG8gZmluZCBhbm90aGVyIGNvbW1vbiByb290IGZyYW1lIGJ5IHNlYXJjaCBmcm9tIHRoZSBib3R0b20gb2YgdGhlXG4gICAgICAvLyBjb250cm9sIHN0YWNrLi4uXG5cblxuICAgICAgaWYgKHMgPT09IHNhbXBsZUxpbmVzLmxlbmd0aCB8fCBjID09PSBjb250cm9sTGluZXMubGVuZ3RoKSB7XG4gICAgICAgIHMgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICBjID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgd2hpbGUgKHMgPj0gMSAmJiBjID49IDAgJiYgc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAgIC8vIFdlIGV4cGVjdCBhdCBsZWFzdCBvbmUgc3RhY2sgZnJhbWUgdG8gYmUgc2hhcmVkLlxuICAgICAgICAgIC8vIFR5cGljYWxseSB0aGlzIHdpbGwgYmUgdGhlIHJvb3QgbW9zdCBvbmUuIEhvd2V2ZXIsIHN0YWNrIGZyYW1lcyBtYXkgYmVcbiAgICAgICAgICAvLyBjdXQgb2ZmIGR1ZSB0byBtYXhpbXVtIHN0YWNrIGxpbWl0cy4gSW4gdGhpcyBjYXNlLCBvbmUgbWF5YmUgY3V0IG9mZlxuICAgICAgICAgIC8vIGVhcmxpZXIgdGhhbiB0aGUgb3RoZXIuIFdlIGFzc3VtZSB0aGF0IHRoZSBzYW1wbGUgaXMgbG9uZ2VyIG9yIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYW5kIHRoZXJlIGZvciBjdXQgb2ZmIGVhcmxpZXIuIFNvIHdlIHNob3VsZCBmaW5kIHRoZSByb290IG1vc3QgZnJhbWUgaW5cbiAgICAgICAgICAvLyB0aGUgc2FtcGxlIHNvbWV3aGVyZSBpbiB0aGUgY29udHJvbC5cbiAgICAgICAgICBjLS07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICg7IHMgPj0gMSAmJiBjID49IDA7IHMtLSwgYy0tKSB7XG4gICAgICAgIC8vIE5leHQgd2UgZmluZCB0aGUgZmlyc3Qgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgd2hpY2ggc2hvdWxkIGJlIHRoZVxuICAgICAgICAvLyBmcmFtZSB0aGF0IGNhbGxlZCBvdXIgc2FtcGxlIGZ1bmN0aW9uIGFuZCB0aGUgY29udHJvbC5cbiAgICAgICAgaWYgKHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAvLyBJbiBWOCwgdGhlIGZpcnN0IGxpbmUgaXMgZGVzY3JpYmluZyB0aGUgbWVzc2FnZSBidXQgb3RoZXIgVk1zIGRvbid0LlxuICAgICAgICAgIC8vIElmIHdlJ3JlIGFib3V0IHRvIHJldHVybiB0aGUgZmlyc3QgbGluZSwgYW5kIHRoZSBjb250cm9sIGlzIGFsc28gb24gdGhlIHNhbWVcbiAgICAgICAgICAvLyBsaW5lLCB0aGF0J3MgYSBwcmV0dHkgZ29vZCBpbmRpY2F0b3IgdGhhdCBvdXIgc2FtcGxlIHRocmV3IGF0IHNhbWUgbGluZSBhc1xuICAgICAgICAgIC8vIHRoZSBjb250cm9sLiBJLmUuIGJlZm9yZSB3ZSBlbnRlcmVkIHRoZSBzYW1wbGUgZnJhbWUuIFNvIHdlIGlnbm9yZSB0aGlzIHJlc3VsdC5cbiAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IHBhc3NlZCBhIGNsYXNzIHRvIGZ1bmN0aW9uIGNvbXBvbmVudCwgb3Igbm9uLWZ1bmN0aW9uLlxuICAgICAgICAgIGlmIChzICE9PSAxIHx8IGMgIT09IDEpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgcy0tO1xuICAgICAgICAgICAgICBjLS07IC8vIFdlIG1heSBzdGlsbCBoYXZlIHNpbWlsYXIgaW50ZXJtZWRpYXRlIGZyYW1lcyBmcm9tIHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgICAgLy8gVGhlIG5leHQgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgc2hvdWxkIGJlIG91ciBtYXRjaCB0aG91Z2guXG5cbiAgICAgICAgICAgICAgaWYgKGMgPCAwIHx8IHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAgICAgICAvLyBWOCBhZGRzIGEgXCJuZXdcIiBwcmVmaXggZm9yIG5hdGl2ZSBjbGFzc2VzLiBMZXQncyByZW1vdmUgaXQgdG8gbWFrZSBpdCBwcmV0dGllci5cbiAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID0gJ1xcbicgKyBzYW1wbGVMaW5lc1tzXS5yZXBsYWNlKCcgYXQgbmV3ICcsICcgYXQgJyk7IC8vIElmIG91ciBjb21wb25lbnQgZnJhbWUgaXMgbGFiZWxlZCBcIjxhbm9ueW1vdXM+XCJcbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgaGF2ZSBhIHVzZXItcHJvdmlkZWQgXCJkaXNwbGF5TmFtZVwiXG4gICAgICAgICAgICAgICAgLy8gc3BsaWNlIGl0IGluIHRvIG1ha2UgdGhlIHN0YWNrIG1vcmUgcmVhZGFibGUuXG5cblxuICAgICAgICAgICAgICAgIGlmIChmbi5kaXNwbGF5TmFtZSAmJiBfZnJhbWUuaW5jbHVkZXMoJzxhbm9ueW1vdXM+JykpIHtcbiAgICAgICAgICAgICAgICAgIF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKCc8YW5vbnltb3VzPicsIGZuLmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIFJldHVybiB0aGUgbGluZSB3ZSBmb3VuZC5cblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9mcmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAocyA+PSAxICYmIGMgPj0gMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgcmVlbnRyeSA9IGZhbHNlO1xuXG4gICAge1xuICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50ID0gcHJldmlvdXNEaXNwYXRjaGVyO1xuICAgICAgcmVlbmFibGVMb2dzKCk7XG4gICAgfVxuXG4gICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlO1xuICB9IC8vIEZhbGxiYWNrIHRvIGp1c3QgdXNpbmcgdGhlIG5hbWUgaWYgd2UgY291bGRuJ3QgbWFrZSBpdCB0aHJvdy5cblxuXG4gIHZhciBuYW1lID0gZm4gPyBmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lIDogJyc7XG4gIHZhciBzeW50aGV0aWNGcmFtZSA9IG5hbWUgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSA6ICcnO1xuXG4gIHtcbiAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc3ludGhldGljRnJhbWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzeW50aGV0aWNGcmFtZTtcbn1cbmZ1bmN0aW9uIGRlc2NyaWJlRnVuY3Rpb25Db21wb25lbnRGcmFtZShmbiwgb3duZXJGbikge1xuICB7XG4gICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICByZXR1cm4gISEocHJvdG90eXBlICYmIHByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUsIG93bmVyRm4pIHtcblxuICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAge1xuICAgICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUodHlwZSwgc2hvdWxkQ29uc3RydWN0KHR5cGUpKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHR5cGUpO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKCdTdXNwZW5zZScpO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoJ1N1c3BlbnNlTGlzdCcpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZGVzY3JpYmVGdW5jdGlvbkNvbXBvbmVudEZyYW1lKHR5cGUucmVuZGVyKTtcblxuICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgIC8vIE1lbW8gbWF5IGNvbnRhaW4gYW55IGNvbXBvbmVudCB0eXBlIHNvIHdlIHJlY3Vyc2l2ZWx5IHJlc29sdmUgaXQuXG4gICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZS50eXBlLCBvd25lckZuKTtcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMYXp5IG1heSBjb250YWluIGFueSBjb21wb25lbnQgdHlwZSBzbyB3ZSByZWN1cnNpdmVseSByZXNvbHZlIGl0LlxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihpbml0KHBheWxvYWQpLCBvd25lckZuKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xudmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xudmFyIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duO1xudmFyIGRpZFdhcm5BYm91dFN0cmluZ1JlZnM7XG5cbntcbiAgZGlkV2FybkFib3V0U3RyaW5nUmVmcyA9IHt9O1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZFJlZihjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ3JlZicpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdyZWYnKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLnJlZiAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ2tleScpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLmtleSAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5yZWYgPT09ICdzdHJpbmcnICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgJiYgc2VsZiAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnN0YXRlTm9kZSAhPT0gc2VsZikge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgIGVycm9yKCdDb21wb25lbnQgXCIlc1wiIGNvbnRhaW5zIHRoZSBzdHJpbmcgcmVmIFwiJXNcIi4gJyArICdTdXBwb3J0IGZvciBzdHJpbmcgcmVmcyB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gJyArICdUaGlzIGNhc2UgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIGFuIGFycm93IGZ1bmN0aW9uLiAnICsgJ1dlIGFzayB5b3UgdG8gbWFudWFsbHkgZml4IHRoaXMgY2FzZSBieSB1c2luZyB1c2VSZWYoKSBvciBjcmVhdGVSZWYoKSBpbnN0ZWFkLiAnICsgJ0xlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTogJyArICdodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3RyaWN0LW1vZGUtc3RyaW5nLXJlZicsIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpLCBjb25maWcucmVmKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB7XG4gICAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duKSB7XG4gICAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24gPSB0cnVlO1xuXG4gICAgICAgICAgZXJyb3IoJyVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ1JlZixcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogRmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IFJlYWN0IGVsZW1lbnQuIFRoaXMgbm8gbG9uZ2VyIGFkaGVyZXMgdG9cbiAqIHRoZSBjbGFzcyBwYXR0ZXJuLCBzbyBkbyBub3QgdXNlIG5ldyB0byBjYWxsIGl0LiBBbHNvLCBpbnN0YW5jZW9mIGNoZWNrXG4gKiB3aWxsIG5vdCB3b3JrLiBJbnN0ZWFkIHRlc3QgJCR0eXBlb2YgZmllbGQgYWdhaW5zdCBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgdG8gY2hlY2tcbiAqIGlmIHNvbWV0aGluZyBpcyBhIFJlYWN0IEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0geyp9IHByb3BzXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7Kn0gb3duZXJcbiAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuICogZGlmZmVyZW50IGZyb20gdGhlIGBvd25lcmAgd2hlbiBSZWFjdC5jcmVhdGVFbGVtZW50IGlzIGNhbGxlZCwgc28gdGhhdCB3ZVxuICogY2FuIHdhcm4uIFdlIHdhbnQgdG8gZ2V0IHJpZCBvZiBvd25lciBhbmQgcmVwbGFjZSBzdHJpbmcgYHJlZmBzIHdpdGggYXJyb3dcbiAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cbiAqIGNoYW5nZSBpbiBiZWhhdmlvci5cbiAqIEBwYXJhbSB7Kn0gc291cmNlIEFuIGFubm90YXRpb24gb2JqZWN0IChhZGRlZCBieSBhIHRyYW5zcGlsZXIgb3Igb3RoZXJ3aXNlKVxuICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG5cblxuZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgX3JlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgdmFyIHJlZjtcblxuICB7XG4gICAgcmVmID0gX3JlZjtcbiAgfVxuXG4gIHZhciBlbGVtZW50O1xuXG4gIHtcbiAgICAvLyBJbiBwcm9kLCBgcmVmYCBpcyBhIHJlZ3VsYXIgcHJvcGVydHkuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiBhXG4gICAgLy8gZnV0dXJlIHJlbGVhc2UuXG4gICAgZWxlbWVudCA9IHtcbiAgICAgIC8vIFRoaXMgdGFnIGFsbG93cyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgRWxlbWVudFxuICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBrZXk6IGtleSxcbiAgICAgIHJlZjogcmVmLFxuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICAgIF9vd25lcjogb3duZXJcbiAgICB9O1xuICB9XG5cbiAge1xuICAgIC8vIFRoZSB2YWxpZGF0aW9uIGZsYWcgaXMgY3VycmVudGx5IG11dGF0aXZlLiBXZSBwdXQgaXQgb25cbiAgICAvLyBhbiBleHRlcm5hbCBiYWNraW5nIHN0b3JlIHNvIHRoYXQgd2UgY2FuIGZyZWV6ZSB0aGUgd2hvbGUgb2JqZWN0LlxuICAgIC8vIFRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBXZWFrTWFwIG9uY2UgdGhleSBhcmUgaW1wbGVtZW50ZWQgaW5cbiAgICAvLyBjb21tb25seSB1c2VkIGRldmVsb3BtZW50IGVudmlyb25tZW50cy5cbiAgICBlbGVtZW50Ll9zdG9yZSA9IHt9OyAvLyBUbyBtYWtlIGNvbXBhcmluZyBSZWFjdEVsZW1lbnRzIGVhc2llciBmb3IgdGVzdGluZyBwdXJwb3Nlcywgd2UgbWFrZVxuICAgIC8vIHRoZSB2YWxpZGF0aW9uIGZsYWcgbm9uLWVudW1lcmFibGUgKHdoZXJlIHBvc3NpYmxlLCB3aGljaCBzaG91bGRcbiAgICAvLyBpbmNsdWRlIGV2ZXJ5IGVudmlyb25tZW50IHdlIHJ1biB0ZXN0cyBpbiksIHNvIHRoZSB0ZXN0IGZyYW1ld29ya1xuICAgIC8vIGlnbm9yZXMgaXQuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBmYWxzZVxuICAgIH0pOyAvLyBkZWJ1Z0luZm8gY29udGFpbnMgU2VydmVyIENvbXBvbmVudCBkZWJ1ZyBpbmZvcm1hdGlvbi5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX2RlYnVnSW5mbycsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9KTtcblxuICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cbnZhciBkaWRXYXJuQWJvdXRLZXlTcHJlYWQgPSB7fTtcbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmZjcy9wdWxsLzEwN1xuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqL1xuXG5mdW5jdGlvbiBqc3hERVYkMSh0eXBlLCBjb25maWcsIG1heWJlS2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBzb3VyY2UsIHNlbGYpIHtcbiAge1xuICAgIGlmICghaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpKSB7XG4gICAgICAvLyBUaGlzIGlzIGFuIGludmFsaWQgZWxlbWVudCB0eXBlLlxuICAgICAgLy9cbiAgICAgIC8vIFdlIHdhcm4gaW4gdGhpcyBjYXNlIGJ1dCBkb24ndCB0aHJvdy4gV2UgZXhwZWN0IHRoZSBlbGVtZW50IGNyZWF0aW9uIHRvXG4gICAgICAvLyBzdWNjZWVkIGFuZCB0aGVyZSB3aWxsIGxpa2VseSBiZSBlcnJvcnMgaW4gcmVuZGVyLlxuICAgICAgdmFyIGluZm8gPSAnJztcblxuICAgICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgIH1cblxuICAgICAgdmFyIHR5cGVTdHJpbmc7XG5cbiAgICAgIGlmICh0eXBlID09PSBudWxsKSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSAnbnVsbCc7XG4gICAgICB9IGVsc2UgaWYgKGlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9ICdhcnJheSc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgIT09IHVuZGVmaW5lZCAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9IFwiPFwiICsgKGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdVbmtub3duJykgKyBcIiAvPlwiO1xuICAgICAgICBpbmZvID0gJyBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50Pyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlU3RyaW5nID0gdHlwZW9mIHR5cGU7XG4gICAgICB9XG5cbiAgICAgIGVycm9yKCdSZWFjdC5qc3g6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yICcgKyAnYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSAnICsgJ2NvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgdHlwZVN0cmluZywgaW5mbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgaXMgYSB2YWxpZCBlbGVtZW50IHR5cGUuXG4gICAgICAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAgICAgLy8gZG9lc24ndCBleHBlY3QgYSBub24tc3RyaW5nL2Z1bmN0aW9uIHR5cGUgYW5kIGNhbiB0aHJvdyBjb25mdXNpbmdcbiAgICAgIC8vIGVycm9ycy4gV2UgZG9uJ3Qgd2FudCBleGNlcHRpb24gYmVoYXZpb3IgdG8gZGlmZmVyIGJldHdlZW4gZGV2IGFuZFxuICAgICAgLy8gcHJvZC4gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlXG4gICAgICAvLyB0eXBlIGlzIGZpeGVkLCB0aGUga2V5IHdhcm5pbmdzIHdpbGwgYXBwZWFyLilcbiAgICAgIHZhciBjaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcblxuICAgICAgaWYgKGNoaWxkcmVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW5baV0sIHR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3IoJ1JlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuICcgKyAnWW91IGFyZSBsaWtlbHkgZXhwbGljaXRseSBjYWxsaW5nIFJlYWN0LmpzeHMgb3IgUmVhY3QuanN4REVWLiAnICsgJ1VzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuLCB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gV2FybiBhYm91dCBrZXkgc3ByZWFkIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgdHlwZSBpcyB2YWxpZC5cblxuXG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAna2V5JykpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gayAhPT0gJ2tleSc7XG4gICAgICB9KTtcbiAgICAgIHZhciBiZWZvcmVFeGFtcGxlID0ga2V5cy5sZW5ndGggPiAwID8gJ3trZXk6IHNvbWVLZXksICcgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3trZXk6IHNvbWVLZXl9JztcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY29tcG9uZW50TmFtZSArIGJlZm9yZUV4YW1wbGVdKSB7XG4gICAgICAgIHZhciBhZnRlckV4YW1wbGUgPSBrZXlzLmxlbmd0aCA+IDAgPyAneycgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3t9JztcblxuICAgICAgICBlcnJvcignQSBwcm9wcyBvYmplY3QgY29udGFpbmluZyBhIFwia2V5XCIgcHJvcCBpcyBiZWluZyBzcHJlYWQgaW50byBKU1g6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMgey4uLnByb3BzfSAvPlxcbicgKyAnUmVhY3Qga2V5cyBtdXN0IGJlIHBhc3NlZCBkaXJlY3RseSB0byBKU1ggd2l0aG91dCB1c2luZyBzcHJlYWQ6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMga2V5PXtzb21lS2V5fSB7Li4ucHJvcHN9IC8+JywgYmVmb3JlRXhhbXBsZSwgY29tcG9uZW50TmFtZSwgYWZ0ZXJFeGFtcGxlLCBjb21wb25lbnROYW1lKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY29tcG9uZW50TmFtZSArIGJlZm9yZUV4YW1wbGVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJvcE5hbWU7IC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcblxuICAgIHZhciBwcm9wcyA9IHt9O1xuICAgIHZhciBrZXkgPSBudWxsO1xuICAgIHZhciByZWYgPSBudWxsOyAvLyBDdXJyZW50bHksIGtleSBjYW4gYmUgc3ByZWFkIGluIGFzIGEgcHJvcC4gVGhpcyBjYXVzZXMgYSBwb3RlbnRpYWxcbiAgICAvLyBpc3N1ZSBpZiBrZXkgaXMgYWxzbyBleHBsaWNpdGx5IGRlY2xhcmVkIChpZS4gPGRpdiB7Li4ucHJvcHN9IGtleT1cIkhpXCIgLz5cbiAgICAvLyBvciA8ZGl2IGtleT1cIkhpXCIgey4uLnByb3BzfSAvPiApLiBXZSB3YW50IHRvIGRlcHJlY2F0ZSBrZXkgc3ByZWFkLFxuICAgIC8vIGJ1dCBhcyBhbiBpbnRlcm1lZGlhcnkgc3RlcCwgd2Ugd2lsbCB1c2UganN4REVWIGZvciBldmVyeXRoaW5nIGV4Y2VwdFxuICAgIC8vIDxkaXYgey4uLnByb3BzfSBrZXk9XCJIaVwiIC8+LCBiZWNhdXNlIHdlIGFyZW4ndCBjdXJyZW50bHkgYWJsZSB0byB0ZWxsIGlmXG4gICAgLy8ga2V5IGlzIGV4cGxpY2l0bHkgZGVjbGFyZWQgdG8gYmUgdW5kZWZpbmVkIG9yIG5vdC5cblxuICAgIGlmIChtYXliZUtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWF5YmVLZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXkgPSAnJyArIG1heWJlS2V5O1xuICAgIH1cblxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSk7XG4gICAgICB9XG5cbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuICAgICAge1xuICAgICAgICByZWYgPSBjb25maWcucmVmO1xuICAgICAgfVxuXG4gICAgICB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKTtcbiAgICB9IC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCB0byBhIG5ldyBwcm9wcyBvYmplY3RcblxuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmIC8vIFNraXAgb3ZlciByZXNlcnZlZCBwcm9wIG5hbWVzXG4gICAgICBwcm9wTmFtZSAhPT0gJ2tleScgJiYgKHByb3BOYW1lICE9PSAncmVmJykpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9IC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuXG5cbiAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuXG4gICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGtleSB8fCByZWYpIHtcbiAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgJ1Vua25vd24nIDogdHlwZTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xuXG4gICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gIHtcbiAgICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBldmVyeSBlbGVtZW50IGVpdGhlciBpcyBwYXNzZWQgaW4gYSBzdGF0aWMgbG9jYXRpb24sIGluIGFuXG4gKiBhcnJheSB3aXRoIGFuIGV4cGxpY2l0IGtleXMgcHJvcGVydHkgZGVmaW5lZCwgb3IgaW4gYW4gb2JqZWN0IGxpdGVyYWxcbiAqIHdpdGggdmFsaWQga2V5IHByb3BlcnR5LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdE5vZGV9IG5vZGUgU3RhdGljYWxseSBwYXNzZWQgY2hpbGQgb2YgYW55IHR5cGUuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgbm9kZSdzIHBhcmVudCdzIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnIHx8ICFub2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5vZGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UpIDsgZWxzZSBpZiAoaXNBcnJheShub2RlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG5cbiAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgLy8gVGhpcyBlbGVtZW50IHdhcyBwYXNzZWQgaW4gYSB2YWxpZCBsb2NhdGlvbi5cbiAgICAgIGlmIChub2RlLl9zdG9yZSkge1xuICAgICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBFbnRyeSBpdGVyYXRvcnMgdXNlZCB0byBwcm92aWRlIGltcGxpY2l0IGtleXMsXG4gICAgICAgIC8vIGJ1dCBub3cgd2UgcHJpbnQgYSBzZXBhcmF0ZSB3YXJuaW5nIGZvciB0aGVtIGxhdGVyLlxuICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFZlcmlmaWVzIHRoZSBvYmplY3QgaXMgYSBSZWFjdEVsZW1lbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2lzdmFsaWRlbGVtZW50XG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIEBmaW5hbFxuICovXG5cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG59XG52YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4vKipcbiAqIFdhcm4gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFuIGV4cGxpY2l0IGtleSBhc3NpZ25lZCB0byBpdC5cbiAqIFRoaXMgZWxlbWVudCBpcyBpbiBhbiBhcnJheS4gVGhlIGFycmF5IGNvdWxkIGdyb3cgYW5kIHNocmluayBvciBiZVxuICogcmVvcmRlcmVkLiBBbGwgY2hpbGRyZW4gdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgYXJlIHJlcXVpcmVkIHRvXG4gKiBoYXZlIGEgXCJrZXlcIiBwcm9wZXJ0eSBhc3NpZ25lZCB0byBpdC4gRXJyb3Igc3RhdHVzZXMgYXJlIGNhY2hlZCBzbyBhIHdhcm5pbmdcbiAqIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICB7XG4gICAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpO1xuXG4gICAgaWYgKG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7IC8vIFVzdWFsbHkgdGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIG9mZmVuZGVyLCBidXQgaWYgaXQgYWNjZXB0cyBjaGlsZHJlbiBhcyBhXG4gICAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuICAgIC8vIGFzc2lnbmluZyBpdCBhIGtleS5cblxuICAgIHZhciBjaGlsZE93bmVyID0gJyc7XG5cbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgLy8gR2l2ZSB0aGUgY29tcG9uZW50IHRoYXQgb3JpZ2luYWxseSBjcmVhdGVkIHRoaXMgY2hpbGQuXG4gICAgICBjaGlsZE93bmVyID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoZWxlbWVudC5fb3duZXIudHlwZSkgKyBcIi5cIjtcbiAgICB9XG5cbiAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgIGVycm9yKCdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJyArICclcyVzIFNlZSBodHRwczovL3JlYWN0anMub3JnL2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8sIGNoaWxkT3duZXIpO1xuXG4gICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZWxlbWVudCkge1xuICB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSwgb3duZXIgPyBvd25lci50eXBlIDogbnVsbCk7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLnNldEV4dHJhU3RhY2tGcmFtZShzdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcbiAge1xuICAgIHZhciBpbmZvID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG5cbiAgICBpZiAoIWluZm8pIHtcbiAgICAgIHZhciBwYXJlbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHBhcmVudFR5cGUpO1xuXG4gICAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgICBpbmZvID0gXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArIHBhcmVudE5hbWUgKyBcIj4uXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZm87XG4gIH1cbn1cbi8qKlxuICogR2l2ZW4gYSBmcmFnbWVudCwgdmFsaWRhdGUgdGhhdCBpdCBjYW4gb25seSBiZSBwcm92aWRlZCB3aXRoIGZyYWdtZW50IHByb3BzXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZnJhZ21lbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhmcmFnbWVudCkge1xuICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gcmVuZGVyIHBoYXNlIGluc3RlYWQgb2YgYXQgZWxlbWVudCBjcmVhdGlvbi5cbiAge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZnJhZ21lbnQucHJvcHMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKGtleSAhPT0gJ2NoaWxkcmVuJyAmJiBrZXkgIT09ICdrZXknKSB7XG4gICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcblxuICAgICAgICBlcnJvcignSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLicsIGtleSk7XG5cbiAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcmFnbWVudC5yZWYgIT09IG51bGwpIHtcbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcblxuICAgICAgZXJyb3IoJ0ludmFsaWQgYXR0cmlidXRlIGByZWZgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuJyk7XG5cbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG52YXIganN4REVWID0ganN4REVWJDEgO1xuXG5leHBvcnRzLkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbmV4cG9ydHMuanN4REVWID0ganN4REVWO1xuICB9KSgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \******************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSw4TEFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9qc3gtZGV2LXJ1bnRpbWUuanM/YjZlYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["main-app"], function() { return __webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fyume%2FDesktop%2F%E9%A1%B9%E7%9B%AE1%2Fcomponents%2FGameScene.tsx%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fyume%2FDesktop%2F%E9%A1%B9%E7%9B%AE1%2Fnode_modules%2Fnext%2Fdist%2Fshared%2Flib%2Flazy-dynamic%2Fdynamic-bailout-to-csr.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fyume%2FDesktop%2F%E9%A1%B9%E7%9B%AE1%2Fnode_modules%2Fnext%2Fdist%2Fshared%2Flib%2Flazy-dynamic%2Fpreload-css.js%22%2C%22ids%22%3A%5B%5D%7D&server=false!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);