/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/narraleaf-react";
exports.ids = ["vendor-chunks/narraleaf-react"];
exports.modules = {

/***/ "(ssr)/./node_modules/narraleaf-react/dist/main.js":
/*!***************************************************!*\
  !*** ./node_modules/narraleaf-react/dist/main.js ***!
  \***************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("!function(t,e){ true?module.exports=e(__webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\"),__webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\")):0}(this,((t,e)=>(()=>{var n={587:(t,e,n)=>{\"use strict\";n.d(e,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,\"/*\\n! tailwindcss v3.4.11 | MIT License | https://tailwindcss.com\\n*//*\\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\\n*/\\n\\n*,\\n::before,\\n::after {\\n  box-sizing: border-box; /* 1 */\\n  border-width: 0; /* 2 */\\n  border-style: solid; /* 2 */\\n  border-color: #e5e7eb; /* 2 */\\n}\\n\\n::before,\\n::after {\\n  --tw-content: '';\\n}\\n\\n/*\\n1. Use a consistent sensible line-height in all browsers.\\n2. Prevent adjustments of font size after orientation changes in iOS.\\n3. Use a more readable tab size.\\n4. Use the user's configured `sans` font-family by default.\\n5. Use the user's configured `sans` font-feature-settings by default.\\n6. Use the user's configured `sans` font-variation-settings by default.\\n7. Disable tap highlights on iOS\\n*/\\n\\nhtml,\\n:host {\\n  line-height: 1.5; /* 1 */\\n  -webkit-text-size-adjust: 100%; /* 2 */\\n  -moz-tab-size: 4; /* 3 */\\n  -o-tab-size: 4;\\n     tab-size: 4; /* 3 */\\n  font-family: ui-sans-serif, system-ui, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\", \\\"Noto Color Emoji\\\"; /* 4 */\\n  font-feature-settings: normal; /* 5 */\\n  font-variation-settings: normal; /* 6 */\\n  -webkit-tap-highlight-color: transparent; /* 7 */\\n}\\n\\n/*\\n1. Remove the margin in all browsers.\\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\\n*/\\n\\nbody {\\n  margin: 0; /* 1 */\\n  line-height: inherit; /* 2 */\\n}\\n\\n/*\\n1. Add the correct height in Firefox.\\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\\n3. Ensure horizontal rules are visible by default.\\n*/\\n\\nhr {\\n  height: 0; /* 1 */\\n  color: inherit; /* 2 */\\n  border-top-width: 1px; /* 3 */\\n}\\n\\n/*\\nAdd the correct text decoration in Chrome, Edge, and Safari.\\n*/\\n\\nabbr:where([title]) {\\n  -webkit-text-decoration: underline dotted;\\n          text-decoration: underline dotted;\\n}\\n\\n/*\\nRemove the default font size and weight for headings.\\n*/\\n\\nh1,\\nh2,\\nh3,\\nh4,\\nh5,\\nh6 {\\n  font-size: inherit;\\n  font-weight: inherit;\\n}\\n\\n/*\\nReset links to optimize for opt-in styling instead of opt-out.\\n*/\\n\\na {\\n  color: inherit;\\n  text-decoration: inherit;\\n}\\n\\n/*\\nAdd the correct font weight in Edge and Safari.\\n*/\\n\\nb,\\nstrong {\\n  font-weight: bolder;\\n}\\n\\n/*\\n1. Use the user's configured `mono` font-family by default.\\n2. Use the user's configured `mono` font-feature-settings by default.\\n3. Use the user's configured `mono` font-variation-settings by default.\\n4. Correct the odd `em` font sizing in all browsers.\\n*/\\n\\ncode,\\nkbd,\\nsamp,\\npre {\\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \\\"Liberation Mono\\\", \\\"Courier New\\\", monospace; /* 1 */\\n  font-feature-settings: normal; /* 2 */\\n  font-variation-settings: normal; /* 3 */\\n  font-size: 1em; /* 4 */\\n}\\n\\n/*\\nAdd the correct font size in all browsers.\\n*/\\n\\nsmall {\\n  font-size: 80%;\\n}\\n\\n/*\\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\\n*/\\n\\nsub,\\nsup {\\n  font-size: 75%;\\n  line-height: 0;\\n  position: relative;\\n  vertical-align: baseline;\\n}\\n\\nsub {\\n  bottom: -0.25em;\\n}\\n\\nsup {\\n  top: -0.5em;\\n}\\n\\n/*\\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\\n3. Remove gaps between table borders by default.\\n*/\\n\\ntable {\\n  text-indent: 0; /* 1 */\\n  border-color: inherit; /* 2 */\\n  border-collapse: collapse; /* 3 */\\n}\\n\\n/*\\n1. Change the font styles in all browsers.\\n2. Remove the margin in Firefox and Safari.\\n3. Remove default padding in all browsers.\\n*/\\n\\nbutton,\\ninput,\\noptgroup,\\nselect,\\ntextarea {\\n  font-family: inherit; /* 1 */\\n  font-feature-settings: inherit; /* 1 */\\n  font-variation-settings: inherit; /* 1 */\\n  font-size: 100%; /* 1 */\\n  font-weight: inherit; /* 1 */\\n  line-height: inherit; /* 1 */\\n  letter-spacing: inherit; /* 1 */\\n  color: inherit; /* 1 */\\n  margin: 0; /* 2 */\\n  padding: 0; /* 3 */\\n}\\n\\n/*\\nRemove the inheritance of text transform in Edge and Firefox.\\n*/\\n\\nbutton,\\nselect {\\n  text-transform: none;\\n}\\n\\n/*\\n1. Correct the inability to style clickable types in iOS and Safari.\\n2. Remove default button styles.\\n*/\\n\\nbutton,\\ninput:where([type='button']),\\ninput:where([type='reset']),\\ninput:where([type='submit']) {\\n  -webkit-appearance: button; /* 1 */\\n  background-color: transparent; /* 2 */\\n  background-image: none; /* 2 */\\n}\\n\\n/*\\nUse the modern Firefox focus style for all focusable elements.\\n*/\\n\\n:-moz-focusring {\\n  outline: auto;\\n}\\n\\n/*\\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\\n*/\\n\\n:-moz-ui-invalid {\\n  box-shadow: none;\\n}\\n\\n/*\\nAdd the correct vertical alignment in Chrome and Firefox.\\n*/\\n\\nprogress {\\n  vertical-align: baseline;\\n}\\n\\n/*\\nCorrect the cursor style of increment and decrement buttons in Safari.\\n*/\\n\\n::-webkit-inner-spin-button,\\n::-webkit-outer-spin-button {\\n  height: auto;\\n}\\n\\n/*\\n1. Correct the odd appearance in Chrome and Safari.\\n2. Correct the outline style in Safari.\\n*/\\n\\n[type='search'] {\\n  -webkit-appearance: textfield; /* 1 */\\n  outline-offset: -2px; /* 2 */\\n}\\n\\n/*\\nRemove the inner padding in Chrome and Safari on macOS.\\n*/\\n\\n::-webkit-search-decoration {\\n  -webkit-appearance: none;\\n}\\n\\n/*\\n1. Correct the inability to style clickable types in iOS and Safari.\\n2. Change font properties to `inherit` in Safari.\\n*/\\n\\n::-webkit-file-upload-button {\\n  -webkit-appearance: button; /* 1 */\\n  font: inherit; /* 2 */\\n}\\n\\n/*\\nAdd the correct display in Chrome and Safari.\\n*/\\n\\nsummary {\\n  display: list-item;\\n}\\n\\n/*\\nRemoves the default spacing and border for appropriate elements.\\n*/\\n\\nblockquote,\\ndl,\\ndd,\\nh1,\\nh2,\\nh3,\\nh4,\\nh5,\\nh6,\\nhr,\\nfigure,\\np,\\npre {\\n  margin: 0;\\n}\\n\\nfieldset {\\n  margin: 0;\\n  padding: 0;\\n}\\n\\nlegend {\\n  padding: 0;\\n}\\n\\nol,\\nul,\\nmenu {\\n  list-style: none;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n/*\\nReset default styling for dialogs.\\n*/\\ndialog {\\n  padding: 0;\\n}\\n\\n/*\\nPrevent resizing textareas horizontally by default.\\n*/\\n\\ntextarea {\\n  resize: vertical;\\n}\\n\\n/*\\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\\n2. Set the default placeholder color to the user's configured gray 400 color.\\n*/\\n\\ninput::-moz-placeholder, textarea::-moz-placeholder {\\n  opacity: 1; /* 1 */\\n  color: #9ca3af; /* 2 */\\n}\\n\\ninput::placeholder,\\ntextarea::placeholder {\\n  opacity: 1; /* 1 */\\n  color: #9ca3af; /* 2 */\\n}\\n\\n/*\\nSet the default cursor for buttons.\\n*/\\n\\nbutton,\\n[role=\\\"button\\\"] {\\n  cursor: pointer;\\n}\\n\\n/*\\nMake sure disabled buttons don't get the pointer cursor.\\n*/\\n:disabled {\\n  cursor: default;\\n}\\n\\n/*\\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\\n   This can trigger a poorly considered lint error in some tools but is included by design.\\n*/\\n\\nimg,\\nsvg,\\nvideo,\\ncanvas,\\naudio,\\niframe,\\nembed,\\nobject {\\n  display: block; /* 1 */\\n  vertical-align: middle; /* 2 */\\n}\\n\\n/*\\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\\n*/\\n\\nimg,\\nvideo {\\n  max-width: 100%;\\n  height: auto;\\n}\\n\\n/* Make elements with the HTML hidden attribute stay hidden by default */\\n[hidden] {\\n  display: none;\\n}\\n\\n*, ::before, ::after {\\n  --tw-border-spacing-x: 0;\\n  --tw-border-spacing-y: 0;\\n  --tw-translate-x: 0;\\n  --tw-translate-y: 0;\\n  --tw-rotate: 0;\\n  --tw-skew-x: 0;\\n  --tw-skew-y: 0;\\n  --tw-scale-x: 1;\\n  --tw-scale-y: 1;\\n  --tw-pan-x:  ;\\n  --tw-pan-y:  ;\\n  --tw-pinch-zoom:  ;\\n  --tw-scroll-snap-strictness: proximity;\\n  --tw-gradient-from-position:  ;\\n  --tw-gradient-via-position:  ;\\n  --tw-gradient-to-position:  ;\\n  --tw-ordinal:  ;\\n  --tw-slashed-zero:  ;\\n  --tw-numeric-figure:  ;\\n  --tw-numeric-spacing:  ;\\n  --tw-numeric-fraction:  ;\\n  --tw-ring-inset:  ;\\n  --tw-ring-offset-width: 0px;\\n  --tw-ring-offset-color: #fff;\\n  --tw-ring-color: rgb(59 130 246 / 0.5);\\n  --tw-ring-offset-shadow: 0 0 #0000;\\n  --tw-ring-shadow: 0 0 #0000;\\n  --tw-shadow: 0 0 #0000;\\n  --tw-shadow-colored: 0 0 #0000;\\n  --tw-blur:  ;\\n  --tw-brightness:  ;\\n  --tw-contrast:  ;\\n  --tw-grayscale:  ;\\n  --tw-hue-rotate:  ;\\n  --tw-invert:  ;\\n  --tw-saturate:  ;\\n  --tw-sepia:  ;\\n  --tw-drop-shadow:  ;\\n  --tw-backdrop-blur:  ;\\n  --tw-backdrop-brightness:  ;\\n  --tw-backdrop-contrast:  ;\\n  --tw-backdrop-grayscale:  ;\\n  --tw-backdrop-hue-rotate:  ;\\n  --tw-backdrop-invert:  ;\\n  --tw-backdrop-opacity:  ;\\n  --tw-backdrop-saturate:  ;\\n  --tw-backdrop-sepia:  ;\\n  --tw-contain-size:  ;\\n  --tw-contain-layout:  ;\\n  --tw-contain-paint:  ;\\n  --tw-contain-style:  ;\\n}\\n\\n::backdrop {\\n  --tw-border-spacing-x: 0;\\n  --tw-border-spacing-y: 0;\\n  --tw-translate-x: 0;\\n  --tw-translate-y: 0;\\n  --tw-rotate: 0;\\n  --tw-skew-x: 0;\\n  --tw-skew-y: 0;\\n  --tw-scale-x: 1;\\n  --tw-scale-y: 1;\\n  --tw-pan-x:  ;\\n  --tw-pan-y:  ;\\n  --tw-pinch-zoom:  ;\\n  --tw-scroll-snap-strictness: proximity;\\n  --tw-gradient-from-position:  ;\\n  --tw-gradient-via-position:  ;\\n  --tw-gradient-to-position:  ;\\n  --tw-ordinal:  ;\\n  --tw-slashed-zero:  ;\\n  --tw-numeric-figure:  ;\\n  --tw-numeric-spacing:  ;\\n  --tw-numeric-fraction:  ;\\n  --tw-ring-inset:  ;\\n  --tw-ring-offset-width: 0px;\\n  --tw-ring-offset-color: #fff;\\n  --tw-ring-color: rgb(59 130 246 / 0.5);\\n  --tw-ring-offset-shadow: 0 0 #0000;\\n  --tw-ring-shadow: 0 0 #0000;\\n  --tw-shadow: 0 0 #0000;\\n  --tw-shadow-colored: 0 0 #0000;\\n  --tw-blur:  ;\\n  --tw-brightness:  ;\\n  --tw-contrast:  ;\\n  --tw-grayscale:  ;\\n  --tw-hue-rotate:  ;\\n  --tw-invert:  ;\\n  --tw-saturate:  ;\\n  --tw-sepia:  ;\\n  --tw-drop-shadow:  ;\\n  --tw-backdrop-blur:  ;\\n  --tw-backdrop-brightness:  ;\\n  --tw-backdrop-contrast:  ;\\n  --tw-backdrop-grayscale:  ;\\n  --tw-backdrop-hue-rotate:  ;\\n  --tw-backdrop-invert:  ;\\n  --tw-backdrop-opacity:  ;\\n  --tw-backdrop-saturate:  ;\\n  --tw-backdrop-sepia:  ;\\n  --tw-contain-size:  ;\\n  --tw-contain-layout:  ;\\n  --tw-contain-paint:  ;\\n  --tw-contain-style:  ;\\n}\\n.container {\\n  width: 100%;\\n}\\n@media (min-width: 640px) {\\n\\n  .container {\\n    max-width: 640px;\\n  }\\n}\\n@media (min-width: 768px) {\\n\\n  .container {\\n    max-width: 768px;\\n  }\\n}\\n@media (min-width: 1024px) {\\n\\n  .container {\\n    max-width: 1024px;\\n  }\\n}\\n@media (min-width: 1280px) {\\n\\n  .container {\\n    max-width: 1280px;\\n  }\\n}\\n@media (min-width: 1536px) {\\n\\n  .container {\\n    max-width: 1536px;\\n  }\\n}\\n.pointer-events-none {\\n  pointer-events: none;\\n}\\n.static {\\n  position: static;\\n}\\n.absolute {\\n  position: absolute;\\n}\\n.relative {\\n  position: relative;\\n}\\n.inset-0 {\\n  inset: 0px;\\n}\\n.bottom-0 {\\n  bottom: 0px;\\n}\\n.z-10 {\\n  z-index: 10;\\n}\\n.z-20 {\\n  z-index: 20;\\n}\\n.m-4 {\\n  margin: 1rem;\\n}\\n.mt-2 {\\n  margin-top: 0.5rem;\\n}\\n.mt-4 {\\n  margin-top: 1rem;\\n}\\n.block {\\n  display: block;\\n}\\n.inline-block {\\n  display: inline-block;\\n}\\n.flex {\\n  display: flex;\\n}\\n.hidden {\\n  display: none;\\n}\\n.h-full {\\n  height: 100%;\\n}\\n.min-h-\\\\[calc\\\\(33\\\\%-40px\\\\)\\\\] {\\n  min-height: calc(33% - 40px);\\n}\\n.w-1\\\\/2 {\\n  width: 50%;\\n}\\n.w-\\\\[calc\\\\(100\\\\%-40px\\\\)\\\\] {\\n  width: calc(100% - 40px);\\n}\\n.w-full {\\n  width: 100%;\\n}\\n.min-w-full {\\n  min-width: 100%;\\n}\\n.flex-grow {\\n  flex-grow: 1;\\n}\\n.transform {\\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\\n}\\n.resize {\\n  resize: both;\\n}\\n.flex-col {\\n  flex-direction: column;\\n}\\n.items-start {\\n  align-items: flex-start;\\n}\\n.items-center {\\n  align-items: center;\\n}\\n.justify-center {\\n  justify-content: center;\\n}\\n.justify-between {\\n  justify-content: space-between;\\n}\\n.overflow-auto {\\n  overflow: auto;\\n}\\n.overflow-hidden {\\n  overflow: hidden;\\n}\\n.whitespace-pre {\\n  white-space: pre;\\n}\\n.whitespace-pre-wrap {\\n  white-space: pre-wrap;\\n}\\n.rounded {\\n  border-radius: 0.25rem;\\n}\\n.rounded-lg {\\n  border-radius: 0.5rem;\\n}\\n.rounded-md {\\n  border-radius: 0.375rem;\\n}\\n.rounded-br-md {\\n  border-bottom-right-radius: 0.375rem;\\n}\\n.border {\\n  border-width: 1px;\\n}\\n.bg-white {\\n  --tw-bg-opacity: 1;\\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity));\\n}\\n.bg-cover {\\n  background-size: cover;\\n}\\n.bg-center {\\n  background-position: center;\\n}\\n.p-2 {\\n  padding: 0.5rem;\\n}\\n.p-4 {\\n  padding: 1rem;\\n}\\n.text-center {\\n  text-align: center;\\n}\\n.align-bottom {\\n  vertical-align: bottom;\\n}\\n.font-bold {\\n  font-weight: 700;\\n}\\n.italic {\\n  font-style: italic;\\n}\\n.text-black {\\n  --tw-text-opacity: 1;\\n  color: rgb(0 0 0 / var(--tw-text-opacity));\\n}\\n.shadow-md {\\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\\n}\\n.filter {\\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\\n}\\n.\\\\!transition {\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter !important;\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter !important;\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter !important;\\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;\\n  transition-duration: 150ms !important;\\n}\\n.transition {\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;\\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\\n  transition-duration: 150ms;\\n}\\n\\n.__narraleaf_content-player * {\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n            user-select: none;\\n}\\n\\n.__narraleaf_content-player img {\\n    pointer-events: none;\\n    -webkit-user-drag: none;\\n    -webkit-user-select: none;\\n}\\n\",\"\"]);const s=a},314:t=>{\"use strict\";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=\"\",r=void 0!==e[5];return e[4]&&(n+=\"@supports (\".concat(e[4],\") {\")),e[2]&&(n+=\"@media \".concat(e[2],\" {\")),r&&(n+=\"@layer\".concat(e[5].length>0?\" \".concat(e[5]):\"\",\" {\")),n+=t(e),r&&(n+=\"}\"),e[2]&&(n+=\"}\"),e[4]&&(n+=\"}\"),n})).join(\"\")},e.i=function(t,n,r,o,i){\"string\"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]=\"@layer\".concat(l[5].length>0?\" \".concat(l[5]):\"\",\" {\").concat(l[1],\"}\")),l[5]=i),n&&(l[2]?(l[1]=\"@media \".concat(l[2],\" {\").concat(l[1],\"}\"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]=\"@supports (\".concat(l[4],\") {\").concat(l[1],\"}\"),l[4]=o):l[4]=\"\".concat(o)),e.push(l))}},e}},601:t=>{\"use strict\";t.exports=function(t){return t[1]}},196:(t,e,n)=>{var r;\n/*!\n *  howler.js v2.2.4\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */!function(){\"use strict\";var o=function(){this.init()};o.prototype={init:function(){var t=this||i;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent=\"canplaythrough\",t._navigator=\"undefined\"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||i;if(t=parseFloat(t),e.ctx||d(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,i.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=e._howls[n]._soundById(r[o]);a&&a._node&&(a._node.volume=a._volume*t)}return e}return e._volume},mute:function(t){var e=this||i;e.ctx||d(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,i.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=e._howls[n]._soundById(r[o]);a&&a._node&&(a._node.muted=!!t||a._muted)}return e},stop:function(){for(var t=this||i,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||i,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,d()),t},codecs:function(t){return(this||i)._codecs[t.replace(/^x-/,\"\")]},_setup:function(){var t=this||i;if(t.state=t.ctx&&t.ctx.state||\"suspended\",t._autoSuspend(),!t.usingWebAudio)if(\"undefined\"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent=\"canplay\")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||i,e=null;try{e=\"undefined\"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||\"function\"!=typeof e.canPlayType)return t;var n=e.canPlayType(\"audio/mpeg;\").replace(/^no$/,\"\"),r=t._navigator?t._navigator.userAgent:\"\",o=r.match(/OPR\\/(\\d+)/g),a=o&&parseInt(o[0].split(\"/\")[1],10)<33,s=-1!==r.indexOf(\"Safari\")&&-1===r.indexOf(\"Chrome\"),u=r.match(/Version\\/(.*?) /),c=s&&u&&parseInt(u[1],10)<15;return t._codecs={mp3:!(a||!n&&!e.canPlayType(\"audio/mp3;\").replace(/^no$/,\"\")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/,\"\"),ogg:!!e.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),oga:!!e.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),wav:!!(e.canPlayType('audio/wav; codecs=\"1\"')||e.canPlayType(\"audio/wav\")).replace(/^no$/,\"\"),aac:!!e.canPlayType(\"audio/aac;\").replace(/^no$/,\"\"),caf:!!e.canPlayType(\"audio/x-caf;\").replace(/^no$/,\"\"),m4a:!!(e.canPlayType(\"audio/x-m4a;\")||e.canPlayType(\"audio/m4a;\")||e.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),m4b:!!(e.canPlayType(\"audio/x-m4b;\")||e.canPlayType(\"audio/m4b;\")||e.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),mp4:!!(e.canPlayType(\"audio/x-mp4;\")||e.canPlayType(\"audio/mp4;\")||e.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),weba:!(c||!e.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\")),webm:!(c||!e.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\")),dolby:!!e.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/,\"\"),flac:!!(e.canPlayType(\"audio/x-flac;\")||e.canPlayType(\"audio/flac;\")).replace(/^no$/,\"\")},t},_unlockAudio:function(){var t=this||i;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(n){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,t._releaseHtml5Audio(r)}catch(n){t.noAudio=!0;break}for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var i=t._howls[o]._getSoundIds(),a=0;a<i.length;a++){var s=t._howls[o]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}t._autoResume();var u=t.ctx.createBufferSource();u.buffer=t._scratchBuffer,u.connect(t.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),\"function\"==typeof t.ctx.resume&&t.ctx.resume(),u.onended=function(){u.disconnect(0),t._audioUnlocked=!0,document.removeEventListener(\"touchstart\",e,!0),document.removeEventListener(\"touchend\",e,!0),document.removeEventListener(\"click\",e,!0),document.removeEventListener(\"keydown\",e,!0);for(var n=0;n<t._howls.length;n++)t._howls[n]._emit(\"unlock\")}};return document.addEventListener(\"touchstart\",e,!0),document.addEventListener(\"touchend\",e,!0),document.addEventListener(\"click\",e,!0),document.addEventListener(\"keydown\",e,!0),t}},_obtainHtml5Audio:function(){var t=this||i;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&\"undefined\"!=typeof Promise&&(e instanceof Promise||\"function\"==typeof e.then)&&e.catch((function(){console.warn(\"HTML5 Audio pool exhausted, returning potentially locked audio object.\")})),new Audio},_releaseHtml5Audio:function(t){var e=this||i;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&i.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){if(t.autoSuspend){t._suspendTimer=null,t.state=\"suspending\";var e=function(){t.state=\"suspended\",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&i.usingWebAudio)return\"running\"===t.state&&\"interrupted\"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):\"suspended\"===t.state||\"running\"===t.state&&\"interrupted\"===t.ctx.state?(t.ctx.resume().then((function(){t.state=\"running\";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit(\"resume\")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):\"suspending\"===t.state&&(t._resumeAfterSuspend=!0),t}};var i=new o,a=function(t){t.src&&0!==t.src.length?this.init(t):console.error(\"An array of source files must be passed with any new Howl.\")};a.prototype={init:function(t){var e=this;return i.ctx||d(),e._autoplay=t.autoplay||!1,e._format=\"string\"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload=\"boolean\"!=typeof t.preload&&\"metadata\"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src=\"string\"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:\"GET\",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state=\"unloaded\",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=i.usingWebAudio&&!e._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(e),e._autoplay&&e._queue.push({event:\"play\",action:function(){e.play()}}),e._preload&&\"none\"!==e._preload&&e.load(),e},load:function(){var t=this,e=null;if(i.noAudio)t._emit(\"loaderror\",null,\"No audio support.\");else{\"string\"==typeof t._src&&(t._src=[t._src]);for(var n=0;n<t._src.length;n++){var r,o;if(t._format&&t._format[n])r=t._format[n];else{if(\"string\"!=typeof(o=t._src[n])){t._emit(\"loaderror\",null,\"Non-string found in selected audio sources - ignoring.\");continue}(r=/^data:audio\\/([^;,]+);/i.exec(o))||(r=/\\.([^.]+)$/.exec(o.split(\"?\",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.'),r&&i.codecs(r)){e=t._src[n];break}}if(e)return t._src=e,t._state=\"loading\",\"https:\"===window.location.protocol&&\"http:\"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new s(t),t._webAudio&&c(t),t;t._emit(\"loaderror\",null,\"No codec support for selected audio sources.\")}},play:function(t,e){var n=this,r=null;if(\"number\"==typeof t)r=t,t=null;else{if(\"string\"==typeof t&&\"loaded\"===n._state&&!n._sprite[t])return null;if(void 0===t&&(t=\"__default\",!n._playLock)){for(var o=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(o++,r=n._sounds[a]._id);1===o?t=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!t&&(t=s._sprite||\"__default\"),\"loaded\"!==n._state){s._sprite=t,s._ended=!1;var u=s._id;return n._queue.push({event:\"play\",action:function(){n.play(u)}}),u}if(r&&!s._paused)return e||n._loadQueue(\"play\"),s._id;n._webAudio&&i._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[t][0]/1e3),l=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-c),f=1e3*l/Math.abs(s._rate),p=n._sprite[t][0]/1e3,d=(n._sprite[t][0]+n._sprite[t][1])/1e3;s._sprite=t,s._ended=!1;var h=function(){s._paused=!1,s._seek=c,s._start=p,s._stop=d,s._loop=!(!s._loop&&!n._sprite[t][2])};if(!(c>=d)){var y=s._node;if(n._webAudio){var v=function(){n._playLock=!1,h(),n._refreshBuffer(s);var t=s._muted||n._muted?0:s._volume;y.gain.setValueAtTime(t,i.ctx.currentTime),s._playStart=i.ctx.currentTime,void 0===y.bufferSource.start?s._loop?y.bufferSource.noteGrainOn(0,c,86400):y.bufferSource.noteGrainOn(0,c,l):s._loop?y.bufferSource.start(0,c,86400):y.bufferSource.start(0,c,l),f!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),f)),e||setTimeout((function(){n._emit(\"play\",s._id),n._loadQueue()}),0)};\"running\"===i.state&&\"interrupted\"!==i.ctx.state?v():(n._playLock=!0,n.once(\"resume\",v),n._clearTimer(s._id))}else{var m=function(){y.currentTime=c,y.muted=s._muted||n._muted||i._muted||y.muted,y.volume=s._volume*i.volume(),y.playbackRate=s._rate;try{var r=y.play();if(r&&\"undefined\"!=typeof Promise&&(r instanceof Promise||\"function\"==typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,y._unlocked=!0,e?n._loadQueue():n._emit(\"play\",s._id)})).catch((function(){n._playLock=!1,n._emit(\"playerror\",s._id,\"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.\"),s._ended=!0,s._paused=!0}))):e||(n._playLock=!1,h(),n._emit(\"play\",s._id)),y.playbackRate=s._rate,y.paused)return void n._emit(\"playerror\",s._id,\"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.\");\"__default\"!==t||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),f):(n._endTimers[s._id]=function(){n._ended(s),y.removeEventListener(\"ended\",n._endTimers[s._id],!1)},y.addEventListener(\"ended\",n._endTimers[s._id],!1))}catch(t){n._emit(\"playerror\",s._id,t)}};\"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA\"===y.src&&(y.src=n._src,y.load());var g=window&&window.ejecta||!y.readyState&&i._navigator.isCocoonJS;if(y.readyState>=3||g)m();else{n._playLock=!0,n._state=\"loading\";var b=function(){n._state=\"loaded\",m(),y.removeEventListener(i._canPlayEvent,b,!1)};y.addEventListener(i._canPlayEvent,b,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(t){var e=this;if(\"loaded\"!==e._state||e._playLock)return e._queue.push({event:\"pause\",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),r=0;r<n.length;r++){e._clearTimer(n[r]);var o=e._soundById(n[r]);if(o&&!o._paused&&(o._seek=e.seek(n[r]),o._rateSeek=0,o._paused=!0,e._stopFade(n[r]),o._node))if(e._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),e._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||e._emit(\"pause\",o?o._id:null)}return e},stop:function(t,e){var n=this;if(\"loaded\"!==n._state||n._playLock)return n._queue.push({event:\"stop\",action:function(){n.stop(t)}}),n;for(var r=n._getSoundIds(t),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),e||n._emit(\"stop\",i._id))}return n},mute:function(t,e){var n=this;if(\"loaded\"!==n._state||n._playLock)return n._queue.push({event:\"mute\",action:function(){n.mute(t,e)}}),n;if(void 0===e){if(\"boolean\"!=typeof t)return n._muted;n._muted=t}for(var r=n._getSoundIds(e),o=0;o<r.length;o++){var a=n._soundById(r[o]);a&&(a._muted=t,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(t?0:a._volume,i.ctx.currentTime):a._node&&(a._node.muted=!!i._muted||t),n._emit(\"mute\",a._id))}return n},volume:function(){var t,e,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]?r._getSoundIds().indexOf(o[0])>=0?e=parseInt(o[0],10):t=parseFloat(o[0]):o.length>=2&&(t=parseFloat(o[0]),e=parseInt(o[1],10)),!(void 0!==t&&t>=0&&t<=1))return(n=e?r._soundById(e):r._sounds[0])?n._volume:0;if(\"loaded\"!==r._state||r._playLock)return r._queue.push({event:\"volume\",action:function(){r.volume.apply(r,o)}}),r;void 0===e&&(r._volume=t),e=r._getSoundIds(e);for(var a=0;a<e.length;a++)(n=r._soundById(e[a]))&&(n._volume=t,o[2]||r._stopFade(e[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(t,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=t*i.volume()),r._emit(\"volume\",n._id));return r},fade:function(t,e,n,r){var o=this;if(\"loaded\"!==o._state||o._playLock)return o._queue.push({event:\"fade\",action:function(){o.fade(t,e,n,r)}}),o;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),n=parseFloat(n),o.volume(t,r);for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if(r||o._stopFade(a[s]),o._webAudio&&!u._muted){var c=i.ctx.currentTime,l=c+n/1e3;u._volume=t,u._node.gain.setValueAtTime(t,c),u._node.gain.linearRampToValueAtTime(e,l)}o._startFadeInterval(u,t,e,n,a[s],void 0===r)}}return o},_startFadeInterval:function(t,e,n,r,o,i){var a=this,s=e,u=n-e,c=Math.abs(u/.01),l=Math.max(4,c>0?r/c:r),f=Date.now();t._fadeTo=n,t._interval=setInterval((function(){var o=(Date.now()-f)/r;f=Date.now(),s+=u*o,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),a._webAudio?t._volume=s:a.volume(s,t._id,!0),i&&(a._volume=s),(n<e&&s<=n||n>e&&s>=n)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(n,t._id),a._emit(\"fade\",t._id))}),l)},_stopFade:function(t){var e=this,n=e._soundById(t);return n&&n._interval&&(e._webAudio&&n._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(n._interval),n._interval=null,e.volume(n._fadeTo,t),n._fadeTo=null,e._emit(\"fade\",t)),e},loop:function(){var t,e,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if(\"boolean\"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;t=o[0],r._loop=t}else 2===o.length&&(t=o[0],e=parseInt(o[1],10));for(var i=r._getSoundIds(e),a=0;a<i.length;a++)(n=r._soundById(i[a]))&&(n._loop=t,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(i[a])&&(r.pause(i[a],!0),r.play(i[a],!0)))));return r},rate:function(){var t,e,n,r=this,o=arguments;if(0===o.length)e=r._sounds[0]._id;else if(1===o.length){r._getSoundIds().indexOf(o[0])>=0?e=parseInt(o[0],10):t=parseFloat(o[0])}else 2===o.length&&(t=parseFloat(o[0]),e=parseInt(o[1],10));if(\"number\"!=typeof t)return(n=r._soundById(e))?n._rate:r._rate;if(\"loaded\"!==r._state||r._playLock)return r._queue.push({event:\"rate\",action:function(){r.rate.apply(r,o)}}),r;void 0===e&&(r._rate=t),e=r._getSoundIds(e);for(var a=0;a<e.length;a++)if(n=r._soundById(e[a])){r.playing(e[a])&&(n._rateSeek=r.seek(e[a]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=t,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(t,i.ctx.currentTime):n._node&&(n._node.playbackRate=t);var s=r.seek(e[a]),u=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!r._endTimers[e[a]]&&n._paused||(r._clearTimer(e[a]),r._endTimers[e[a]]=setTimeout(r._ended.bind(r,n),u)),r._emit(\"rate\",n._id)}return r},seek:function(){var t,e,n=this,r=arguments;if(0===r.length)n._sounds.length&&(e=n._sounds[0]._id);else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?e=parseInt(r[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(r[0]))}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));if(void 0===e)return 0;if(\"number\"==typeof t&&(\"loaded\"!==n._state||n._playLock))return n._queue.push({event:\"seek\",action:function(){n.seek.apply(n,r)}}),n;var o=n._soundById(e);if(o){if(!(\"number\"==typeof t&&t>=0)){if(n._webAudio){var a=n.playing(e)?i.ctx.currentTime-o._playStart:0,s=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(s+a*Math.abs(o._rate))}return o._node.currentTime}var u=n.playing(e);u&&n.pause(e,!0),o._seek=t,o._ended=!1,n._clearTimer(e),n._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=t);var c=function(){u&&n.play(e,!0),n._emit(\"seek\",e)};if(u&&!n._webAudio){var l=function(){n._playLock?setTimeout(l,0):c()};setTimeout(l,0)}else c()}return n},playing:function(t){var e=this;if(\"number\"==typeof t){var n=e._soundById(t);return!!n&&!n._paused}for(var r=0;r<e._sounds.length;r++)if(!e._sounds[r]._paused)return!0;return!1},duration:function(t){var e=this,n=e._duration,r=e._soundById(t);return r&&(n=e._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++)e[n]._paused||t.stop(e[n]._id),t._webAudio||(t._clearSound(e[n]._node),e[n]._node.removeEventListener(\"error\",e[n]._errorFn,!1),e[n]._node.removeEventListener(i._canPlayEvent,e[n]._loadFn,!1),e[n]._node.removeEventListener(\"ended\",e[n]._endFn,!1),i._releaseHtml5Audio(e[n]._node)),delete e[n]._node,t._clearTimer(e[n]._id);var r=i._howls.indexOf(t);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===t._src||t._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return u&&o&&delete u[t._src],i.noAudio=!1,t._state=\"unloaded\",t._sounds=[],t=null,null},on:function(t,e,n,r){var o=this[\"_on\"+t];return\"function\"==typeof e&&o.push(r?{id:n,fn:e,once:r}:{id:n,fn:e}),this},off:function(t,e,n){var r=this,o=r[\"_on\"+t],i=0;if(\"number\"==typeof e&&(n=e,e=null),e||n)for(i=0;i<o.length;i++){var a=n===o[i].id;if(e===o[i].fn&&a||!e&&a){o.splice(i,1);break}}else if(t)r[\"_on\"+t]=[];else{var s=Object.keys(r);for(i=0;i<s.length;i++)0===s[i].indexOf(\"_on\")&&Array.isArray(r[s[i]])&&(r[s[i]]=[])}return r},once:function(t,e,n){return this.on(t,e,n,1),this},_emit:function(t,e,n){for(var r=this,o=r[\"_on\"+t],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==e&&\"load\"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(t,o[i].fn,o[i].id));return r._loadQueue(t),r},_loadQueue:function(t){var e=this;if(e._queue.length>0){var n=e._queue[0];n.event===t&&(e._queue.shift(),e._loadQueue()),t||n.action()}return e},_ended:function(t){var e=this,n=t._sprite;if(!e._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(e._ended.bind(e,t),100),e;var r=!(!t._loop&&!e._sprite[n][2]);if(e._emit(\"end\",t._id),!e._webAudio&&r&&e.stop(t._id,!0).play(t._id),e._webAudio&&r){e._emit(\"play\",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=i.ctx.currentTime;var o=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),o)}return e._webAudio&&!r&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),i._autoSuspend()),e._webAudio||r||e.stop(t._id,!0),e},_clearTimer:function(t){var e=this;if(e._endTimers[t]){if(\"function\"!=typeof e._endTimers[t])clearTimeout(e._endTimers[t]);else{var n=e._soundById(t);n&&n._node&&n._node.removeEventListener(\"ended\",e._endTimers[t],!1)}delete e._endTimers[t]}return e},_soundById:function(t){for(var e=this,n=0;n<e._sounds.length;n++)if(t===e._sounds[n]._id)return e._sounds[n];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new s(t)},_drain:function(){var t=this,e=t._pool,n=0,r=0;if(!(t._sounds.length<e)){for(r=0;r<t._sounds.length;r++)t._sounds[r]._ended&&n++;for(r=t._sounds.length-1;r>=0;r--){if(n<=e)return;t._sounds[r]._ended&&(t._webAudio&&t._sounds[r]._node&&t._sounds[r]._node.disconnect(0),t._sounds.splice(r,1),n--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],n=0;n<this._sounds.length;n++)e.push(this._sounds[n]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=i.ctx.createBufferSource(),t._node.bufferSource.buffer=u[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,i.ctx.currentTime),this},_cleanBuffer:function(t){var e=i._navigator&&i._navigator.vendor.indexOf(\"Apple\")>=0;if(!t.bufferSource)return this;if(i._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=i._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\\//.test(i._navigator&&i._navigator.userAgent)||(t.src=\"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA\")}};var s=function(t){this._parent=t,this.init()};s.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite=\"__default\",t._id=++i._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,n=i._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),t._node.gain.setValueAtTime(n,i.ctx.currentTime),t._node.paused=!0,t._node.connect(i.masterGain)):i.noAudio||(t._node=i._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener(\"error\",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(i._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener(\"ended\",t._endFn,!1),t._node.src=e._src,t._node.preload=!0===e._preload?\"auto\":e._preload,t._node.volume=n*i.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite=\"__default\",t._id=++i._counter,t},_errorListener:function(){var t=this;t._parent._emit(\"loaderror\",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener(\"error\",t._errorFn,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),\"loaded\"!==e._state&&(e._state=\"loaded\",e._emit(\"load\"),e._loadQueue()),t._node.removeEventListener(i._canPlayEvent,t._loadFn,!1)},_endListener:function(){var t=this,e=t._parent;e._duration===1/0&&(e._duration=Math.ceil(10*t._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(t)),t._node.removeEventListener(\"ended\",t._endFn,!1)}};var u={},c=function(t){var e=t._src;if(u[e])return t._duration=u[e].duration,void p(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(\",\")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);f(r.buffer,t)}else{var i=new XMLHttpRequest;i.open(t._xhr.method,e,!0),i.withCredentials=t._xhr.withCredentials,i.responseType=\"arraybuffer\",t._xhr.headers&&Object.keys(t._xhr.headers).forEach((function(e){i.setRequestHeader(e,t._xhr.headers[e])})),i.onload=function(){var e=(i.status+\"\")[0];\"0\"===e||\"2\"===e||\"3\"===e?f(i.response,t):t._emit(\"loaderror\",null,\"Failed loading audio file with status: \"+i.status+\".\")},i.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete u[e],t.load())},l(i)}},l=function(t){try{t.send()}catch(e){t.onerror()}},f=function(t,e){var n=function(){e._emit(\"loaderror\",null,\"Decoding audio data failed.\")},r=function(t){t&&e._sounds.length>0?(u[e._src]=t,p(e,t)):n()};\"undefined\"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(t).then(r).catch(n):i.ctx.decodeAudioData(t,r,n)},p=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),\"loaded\"!==t._state&&(t._state=\"loaded\",t._emit(\"load\"),t._loadQueue())},d=function(){if(i.usingWebAudio){try{\"undefined\"!=typeof AudioContext?i.ctx=new AudioContext:\"undefined\"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(t){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),e=i._navigator&&i._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=function(){return{Howler:i,Howl:a}}.apply(e,[]))||(t.exports=r),e.Howler=i,e.Howl=a,void 0!==n.g?(n.g.HowlerGlobal=o,n.g.Howler=i,n.g.Howl=a,n.g.Sound=s):\"undefined\"!=typeof window&&(window.HowlerGlobal=o,window.Howler=i,window.Howl=a,window.Sound=s)}(),\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.2.4\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\nfunction(){\"use strict\";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var n=e._howls.length-1;n>=0;n--)e._howls[n].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,n){var r=this;return r.ctx&&r.ctx.listener?(e=\"number\"!=typeof e?r._pos[1]:e,n=\"number\"!=typeof n?r._pos[2]:n,\"number\"!=typeof t?r._pos:(r._pos=[t,e,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(t,e,n,r,o,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return e=\"number\"!=typeof e?s[1]:e,n=\"number\"!=typeof n?s[2]:n,r=\"number\"!=typeof r?s[3]:r,o=\"number\"!=typeof o?s[4]:o,i=\"number\"!=typeof i?s[5]:i,\"number\"!=typeof t?s:(a._orientation=[t,e,n,r,o,i],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(t,e,n,r,o,i),a)},Howl.prototype.init=(t=Howl.prototype.init,function(e){var n=this;return n._orientation=e.orientation||[1,0,0],n._stereo=e.stereo||null,n._pos=e.pos||null,n._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:\"inverse\",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:\"HRTF\",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},n._onstereo=e.onstereo?[{fn:e.onstereo}]:[],n._onpos=e.onpos?[{fn:e.onpos}]:[],n._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if(\"loaded\"!==r._state)return r._queue.push({event:\"stereo\",action:function(){r.stereo(t,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?\"spatial\":\"stereo\";if(void 0===n){if(\"number\"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var i=r._getSoundIds(n),a=0;a<i.length;a++){var s=r._soundById(i[a]);if(s){if(\"number\"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel=\"equalpower\",s._panner&&s._panner.pan||e(s,o),\"spatial\"===o?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit(\"stereo\",s._id)}}return r},Howl.prototype.pos=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if(\"loaded\"!==i._state)return i._queue.push({event:\"pos\",action:function(){i.pos(t,n,r,o)}}),i;if(n=\"number\"!=typeof n?0:n,r=\"number\"!=typeof r?-.5:r,void 0===o){if(\"number\"!=typeof t)return i._pos;i._pos=[t,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(\"number\"!=typeof t)return u._pos;u._pos=[t,n,r],u._node&&(u._panner&&!u._panner.pan||e(u,\"spatial\"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(t,n,r)),i._emit(\"pos\",u._id)}}return i},Howl.prototype.orientation=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if(\"loaded\"!==i._state)return i._queue.push({event:\"orientation\",action:function(){i.orientation(t,n,r,o)}}),i;if(n=\"number\"!=typeof n?i._orientation[1]:n,r=\"number\"!=typeof r?i._orientation[2]:r,void 0===o){if(\"number\"!=typeof t)return i._orientation;i._orientation=[t,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(\"number\"!=typeof t)return u._orientation;u._orientation=[t,n,r],u._node&&(u._panner||(u._pos||(u._pos=i._pos||[0,0,-.5]),e(u,\"spatial\")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(t,n,r)),i._emit(\"orientation\",u._id)}}return i},Howl.prototype.pannerAttr=function(){var t,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if(\"object\"!=typeof i[0])return(r=o._soundById(parseInt(i[0],10)))?r._pannerAttr:o._pannerAttr;t=i[0],void 0===n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),o._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:o._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:o._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:o._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:o._panningModel})}else 2===i.length&&(t=i[0],n=parseInt(i[1],10));for(var a=o._getSoundIds(n),s=0;s<a.length;s++)if(r=o._soundById(a[s])){var u=r._pannerAttr;u={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:u.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:u.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:u.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:u.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:u.panningModel};var c=r._panner;c||(r._pos||(r._pos=o._pos||[0,0,-.5]),e(r,\"spatial\"),c=r._panner),c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel}return o},Sound.prototype.init=function(t){return function(){var e=this,n=e._parent;e._orientation=n._orientation,e._stereo=n._stereo,e._pos=n._pos,e._pannerAttr=n._pannerAttr,t.call(this),e._stereo?n.stereo(e._stereo):e._pos&&n.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,n=e._parent;return e._orientation=n._orientation,e._stereo=n._stereo,e._pos=n._pos,e._pannerAttr=n._pannerAttr,e._stereo?n.stereo(e._stereo):e._pos?n.pos(e._pos[0],e._pos[1],e._pos[2],e._id):e._panner&&(e._panner.disconnect(0),e._panner=void 0,n._refreshBuffer(e)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){\"spatial\"===(e=e||\"spatial\")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()},20:(t,e,n)=>{\"use strict\";var r=n(12),o=Symbol.for(\"react.element\"),i=Symbol.for(\"react.fragment\"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};\n/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */function c(t,e,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=\"\"+n),void 0!==e.key&&(c=\"\"+e.key),void 0!==e.ref&&(l=e.ref),e)a.call(e,r)&&!u.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:o,type:t,key:c,ref:l,props:i,_owner:s.current}}e.jsx=c,e.jsxs=c},848:(t,e,n)=>{\"use strict\";t.exports=n(20)},72:t=>{\"use strict\";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var u=t[s],c=r.base?u[0]+r.base:u[0],l=i[c]||0,f=\"\".concat(c,\" \").concat(l);i[c]=l+1;var p=n(f),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)e[p].references++,e[p].updater(d);else{var h=o(d,r);r.byIndex=s,e.splice(s,0,{identifier:f,updater:h,references:1})}a.push(f)}return a}function o(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var u=r(t,o),c=0;c<i.length;c++){var l=n(i[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=u}}},659:t=>{\"use strict\";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");r.appendChild(n)}},540:t=>{\"use strict\";t.exports=function(t){var e=document.createElement(\"style\");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{\"use strict\";t.exports=function(t){var e=n.nc;e&&t.setAttribute(\"nonce\",e)}},825:t=>{\"use strict\";t.exports=function(t){if(\"undefined\"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r=\"\";n.supports&&(r+=\"@supports (\".concat(n.supports,\") {\")),n.media&&(r+=\"@media \".concat(n.media,\" {\"));var o=void 0!==n.layer;o&&(r+=\"@layer\".concat(n.layer.length>0?\" \".concat(n.layer):\"\",\" {\")),r+=n.css,o&&(r+=\"}\"),n.media&&(r+=\"}\"),n.supports&&(r+=\"}\");var i=n.sourceMap;i&&\"undefined\"!=typeof btoa&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i)))),\" */\")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{\"use strict\";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},12:e=>{\"use strict\";e.exports=t},33:t=>{\"use strict\";t.exports=e}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={id:t,exports:{}};return n[t](i,i.exports,o),i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(t){if(\"object\"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.nc=void 0;var i={};return(()=>{\"use strict\";o.r(i),o.d(i,{Align:()=>Pe,BaseImageTransition:()=>Mc,BaseTextTransition:()=>Rc,BaseTransition:()=>Nc,Character:()=>uu,CommonPosition:()=>Te,CommonPositionType:()=>he,Condition:()=>Iu,Control:()=>Va,Coord2D:()=>Ee,Dissolve:()=>$h,Fade:()=>jh,FadeIn:()=>Dh,Game:()=>Vf,GameProviders:()=>Sh,GameState:()=>ef,Image:()=>qa,Isolated:()=>mf,Lambda:()=>Lu,LiveGame:()=>Gf,Menu:()=>Qu,Namespace:()=>zl,Pause:()=>Ns,Player:()=>wh,Say:()=>Tf,Scene:()=>ll,Script:()=>El,Sentence:()=>zs,Sound:()=>js,SoundType:()=>ws,Storable:()=>Wl,Story:()=>Rl,Text:()=>Qc,Transform:()=>La,Utils:()=>bs,Word:()=>Ds,useGame:()=>Lf});var t={say:\"character:say\",action:\"character:action\",setName:\"character:setName\"},e={action:\"scene:action\",setBackground:\"scene:setBackground\",sleep:\"scene:sleep\",setTransition:\"scene:setTransition\",applyTransition:\"scene:applyTransition\",init:\"scene:init\",exit:\"scene:exit\",jumpTo:\"scene:jumpTo\",setBackgroundMusic:\"scene:setBackgroundMusic\",preUnmount:\"scene:preUnmount\",applyTransform:\"scene:applyTransform\"},n={action:\"image:action\",setSrc:\"image:setSrc\",setPosition:\"image:setPosition\",show:\"image:show\",hide:\"image:hide\",applyTransform:\"image:applyTransform\",init:\"image:init\",dispose:\"image:dispose\",setTransition:\"image:setTransition\",applyTransition:\"image:applyTransition\",flush:\"image:flush\"},r={action:\"sound:action\",play:\"sound:play\",stop:\"sound:stop\",fade:\"sound:fade\",setVolume:\"sound:setVolume\",setRate:\"sound:setRate\",pause:\"sound:pause\",resume:\"sound:resume\"},a={action:\"control:action\",do:\"control:do\",doAsync:\"control:doAsync\",any:\"control:any\",all:\"control:all\",allAsync:\"control:allAsync\",repeat:\"control:repeat\",sleep:\"control:sleep\"},s={action:\"text:action\",setText:\"text:setText\",show:\"text:show\",hide:\"text:hide\",applyTransform:\"text:applyTransform\",init:\"text:init\",applyTransition:\"text:applyTransition\",setFontSize:\"text:setFontSize\"};function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},\"\")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new L(r||[]);return o(a,\"_invoke\",{value:E(t,n,s)}),a}function p(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=f;var d=\"suspendedStart\",h=\"suspendedYield\",y=\"executing\",v=\"completed\",g={};function b(){}function w(){}function _(){}var S={};l(S,a,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(I([])));x&&x!==n&&r.call(x,a)&&(S=x);var A=_.prototype=b.prototype=Object.create(S);function O(t){[\"next\",\"throw\",\"return\"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,s){var u=p(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==m(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,n,r){var o=d;return function(i,a){if(o===y)throw Error(\"Generator is already running\");if(o===v){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===g)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===d)throw o=v,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=y;var c=p(e,n,r);if(\"normal\"===c.type){if(o=r.done?v:h,c.arg===g)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=v,r.method=\"throw\",r.arg=c.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,P(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),g;var i=p(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,g):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(j,this),this.reset(!0)}function I(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(m(e)+\" is not iterable\")}return w.prototype=_,o(A,\"constructor\",{value:_,configurable:!0}),o(_,\"constructor\",{value:w,configurable:!0}),w.displayName=l(_,c,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===w||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,\"GeneratorFunction\")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},O(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(A),l(A,c,\"Generator\"),l(A,a,(function(){return this})),l(A,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;C(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),g}},e}function c(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=y(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function l(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function p(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function d(t){var e=function(t,e){if(\"object\"!=m(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=m(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==m(e)?e:e+\"\"}function h(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||y(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function y(t,e){if(t){if(\"string\"==typeof t)return v(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function m(t){return m=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},m(t)}var g=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};function b(t,e){var n=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r={},o=function(t,e,n){return\"object\"!==m(e)||null===e||Array.isArray(e)||\"object\"!==m(n)||null===n||Array.isArray(n)?Array.isArray(e)&&Array.isArray(n)?e.map((function(t,e){return\"object\"===m(t)&&null!==t&&!Array.isArray(t)&&n[e]?b(t,n[e]):t})):void 0===n?e:n:e.constructor!==Object||n.constructor!==Object?n||e:b(e,n)};for(var i in t)n(t,i)&&(r[i]=o(0,t[i],e[i]));for(var a in e)n(e,a)&&!n(r,a)&&(\"object\"===m(e[a])&&null!==e[a]&&e[a].constructor===Object?r[a]=b({},e[a]):r[a]=e[a]);for(var s=arguments.length,u=new Array(s>2?s-2:0),c=2;c<s;c++)u[c-2]=arguments[c];if(u.length){var l=u[0],f=u.slice(1);return b.apply(void 0,[r,l].concat(h(f)))}return r}var w=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t},n=arguments.length>1?arguments[1]:void 0;l(this,t),this.solved=!1,this.listeners=[],this.receiver=e,this.skipController=n}return p(t,[{key:\"registerSkipController\",value:function(t){return this.skipController=t,this}},{key:\"resolve\",value:function(t){if(!this.solved){this.result=this.receiver(t),this.solved=!0,this.skipController&&this.skipController.cancel();var e,n=c(this.listeners);try{for(n.s();!(e=n.n()).done;){(0,e.value)(this.result)}}catch(t){n.e(t)}finally{n.f()}}}},{key:\"then\",value:function(t){this.result?t(this.result):this.listeners.push(t)}},{key:\"abort\",value:function(){return this.skipController?this.skipController.abort():this.result}}],[{key:\"isAwaitable\",value:function(e){return e instanceof t}}])}();function _(t){var e=new WeakSet;return function t(n){if(null===n||\"object\"!==m(n))return n;if(!e.has(n)){if(e.add(n),Array.isArray(n)){var r,o=[],i=c(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;o.push(t(a))}}catch(t){i.e(t)}finally{i.f()}return o}var s={};for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(s[u]=t(n[u]));return s}}(t)}function S(t){return\"string\"==typeof t?t:\"#\".concat((t.r||0).toString(16).padStart(2,\"0\")).concat((t.g||0).toString(16).padStart(2,\"0\")).concat((t.b||0).toString(16).padStart(2,\"0\")).concat(void 0===t.a?\"\":t.a.toString(16).padStart(2,\"0\"))}w.nothing=function(t){return t};var k=function(){return p((function t(){l(this,t),this.events={}}),[{key:\"on\",value:function(t,e){return this.events[t]||(this.events[t]=[]),this.events[t].push(e),this.emit(\"event:EventDispatcher.register\",t,e),e}},{key:\"onEvents\",value:function(t){var e=this,n=t.map((function(t){var n=t.type,r=t.listener;return{type:n,listener:r,cancel:function(){e.off(n,r)}}}));return{tokens:n,cancel:function(){n.forEach((function(t){return t.cancel()}))}}}},{key:\"off\",value:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter((function(t){return t!==e})))}},{key:\"emit\",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.events[t]&&this.events[t].forEach((function(t){t.apply(void 0,n)}))}},{key:\"once\",value:function(t,e){var n=this,r=function(){e.apply(void 0,arguments),n.off(t,r)};return this.on(t,r)}},{key:\"any\",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return g(this,void 0,void 0,u().mark((function e(){var r,o,i,a,s,l=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.events[t]||(this.events[t]=[]),r=[],o=c(this.events[t]);try{for(o.s();!(i=o.n()).done;)a=i.value,(s=a.apply(void 0,n))&&\"object\"===m(s)&&\"function\"==typeof s.then&&r.push(s)}catch(t){o.e(t)}finally{o.f()}if(this.events[t]=this.events[t].filter((function(t){return!r.includes(t)})),0!==r.length){e.next=7;break}return e.abrupt(\"return\",new Promise((function(e){var r=l.on(\"event:EventDispatcher.register\",(function(o,i){if(o===t){l.off(o,r);var a=null==i?void 0:i.apply(void 0,n);a&&a.then?a.then(e):e(a)}}))})));case 7:return e.next=9,Promise.all(r);case 9:return e.abrupt(\"return\",void 0);case 10:case\"end\":return e.stop()}}),e,this)})))}},{key:\"clear\",value:function(){this.events={}}}])}();function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(new Error).stack;return n?n.split(\"\\n\").slice(t+1,-e).join(\"\\n\").trim():\"\"}function A(t){return new Promise((function(e){return setTimeout(e,t)}))}function O(t,e){if(t===e)return!0;if(\"object\"!==m(t)||\"object\"!==m(e)||null===t||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0,i=n;o<i.length;o++){var a=i[o];if(!r.includes(a)||!O(t[a],e[a]))return!1}return!0}var T=function(){return p((function t(e,n){l(this,t),this.game=e,this.prefix=n}),[{key:\"log\",value:function(t){if(this.game.config.app.logger.log){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).log.apply(e,h(this._log.apply(this,[t].concat(r))))}}},{key:\"info\",value:function(t){if(this.game.config.app.logger.info){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).info.apply(e,h(this._log.apply(this,[t].concat(r))))}}},{key:\"warn\",value:function(t){if(this.game.config.app.logger.warn){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).warn.apply(e,h(this._log.apply(this,[t].concat(r))))}}},{key:\"error\",value:function(t){if(this.game.config.app.logger.error){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).error.apply(e,h(this._log.apply(this,[t].concat(r))))}}},{key:\"debug\",value:function(t){if(this.game.config.app.logger.debug){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).debug.apply(e,h(this._log.apply(this,[t].concat(r))))}}},{key:\"trace\",value:function(t){if(this.game.config.app.logger.trace){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];console.trace(this._log.apply(this,[t].concat(n)))}}},{key:\"_log\",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return 0===n.length?[this.prefix||\"\",t]:[\"\".concat(this.prefix||\"\",\" [\").concat(t,\"]\")].concat(n)}}])}(),E=function(){return p((function t(e){l(this,t),this.abortHandler=e,this.events=new k,this.aborted=!1}),[{key:\"abort\",value:function(){return this.aborted||(this.aborted=!0,this.result=this.abortHandler.apply(this,arguments)),this.result}},{key:\"isAborted\",value:function(){return this.aborted}},{key:\"cancel\",value:function(){this.aborted=!0}}])}();E.EventTypes={\"event:skipController.abort\":\"event:skipController.abort\"};var P=function(){return p((function t(){l(this,t),this.locked=!1,this.listeners=[],this.unlockListeners=[]}),[{key:\"lock\",value:function(){return this.locked=!0,this}},{key:\"unlock\",value:function(){this.locked=!1;var t,e=c(this.listeners);try{for(e.s();!(t=e.n()).done;){(0,t.value)()}}catch(t){e.e(t)}finally{e.f()}var n,r=c(this.unlockListeners);try{for(r.s();!(n=r.n()).done;){(0,n.value)()}}catch(t){r.e(t)}finally{r.f()}return this.listeners=[],this}},{key:\"onUnlock\",value:function(t){return this.unlockListeners.push(t),t}},{key:\"offUnlock\",value:function(t){this.unlockListeners=this.unlockListeners.filter((function(e){return e!==t}))}},{key:\"nextUnlock\",value:function(){return g(this,void 0,void 0,u().mark((function t(){var e=this;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.locked){t.next=2;break}return t.abrupt(\"return\");case 2:return t.abrupt(\"return\",new Promise((function(t){e.listeners.push(t)})));case 3:case\"end\":return t.stop()}}),t,this)})))}},{key:\"isLocked\",value:function(){return this.locked}}])}(),j=function(){return p((function t(){l(this,t),this.locks=[]}),[{key:\"unlock\",value:function(t){return t.unlock(),this.off(t),t}},{key:\"register\",value:function(t){var e=t||new P;return this.locks.push(e),e}},{key:\"off\",value:function(t){this.locks=this.locks.filter((function(e){return e!==t}))}},{key:\"nextUnlock\",value:function(){return g(this,void 0,void 0,u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.locks.map((function(t){return t.nextUnlock()})),t.abrupt(\"return\",Promise.all(e));case 2:case\"end\":return t.stop()}}),t,this)})))}},{key:\"isLocked\",value:function(){return this.locks.some((function(t){return t.isLocked()}))}}])}();function C(t){return C=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},C(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,I(r.key),r)}}function I(t){var e=function(t,e){if(\"object\"!=C(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=C(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==C(e)?e:e+\"\"}var N=function(){return function(t,e,n){return e&&L(t.prototype,e),n&&L(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}((function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.callee=e,this.type=n,this.contentNode=r,this.__stack=x(),this._id=\"\"}),[{key:\"executeAction\",value:function(t){return{type:this.type,node:this.contentNode.getChild()}}},{key:\"getId\",value:function(){return this._id}},{key:\"setId\",value:function(t){this._id=t}},{key:\"getFutureActions\",value:function(){var t=this.contentNode.getChild();return t&&t.action?[t.action]:[]}}])}();function M(t){return M=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},M(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,F(r.key),r)}}function F(t){var e=function(t,e){if(\"object\"!=M(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=M(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==M(e)?e:e+\"\"}function D(t,e,n){return e=V(e),function(t,e){if(e&&(\"object\"==M(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,B()?Reflect.construct(e,n||[],V(t).constructor):e.apply(t,n))}function B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(B=function(){return!!t})()}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}function G(t,e){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},G(t,e)}N.ActionTypes={action:\"action\"};var U=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=D(this,e,[t,n,r])).callee=t.getSelf(),o.contentNode.action=o,o}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&G(t,e)}(e,t),function(t,e,n){return e&&R(t.prototype,e),n&&R(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"unknownType\",value:function(){throw new Error(\"Unknown action type: \"+this.type)}}])}(N);function H(t){return H=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},H(t)}function z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return W(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Y(r.key),r)}}function Y(t){var e=function(t,e){if(\"object\"!=H(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=H(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==H(e)?e:e+\"\"}function q(t,e,n){return e=Q(e),function(t,e){if(e&&(\"object\"==H(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,X()?Reflect.construct(e,n||[],Q(t).constructor):e.apply(t,n))}function X(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(X=function(){return!!t})()}function K(t,e,n,r){var o=Z(Q(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}function Z(){return Z=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Q(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Z.apply(null,arguments)}function Q(t){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Q(t)}function J(t,e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},J(t,e)}var tt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),q(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&J(t,e)}(e,t),function(t,e,n){return e&&$(t.prototype,e),n&&$(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"executeAction\",value:function(t){var n=this;if(this.type===r.play){if(e.initSound(t,this.callee),!this.callee.getPlaying())throw new Error(\"Howl is not initialized\");if(this.callee.config.sync&&!this.callee.config.loop){var o=new w((function(t){return t}));return t.playSound(this.callee,(function(){var e;t.stopSound(n.callee),o.resolve({type:n.type,node:null===(e=n.contentNode)||void 0===e?void 0:e.getChild()})})),o}return t.playSound(this.callee,(function(){t.stopSound(n.callee)})),K(e,\"executeAction\",this,3)([t])}if(this.type===r.stop)return t.stopSound(this.callee),K(e,\"executeAction\",this,3)([t]);if(this.type===r.fade){var i=z(this.contentNode.getContent(),1)[0],a=i.start,s=i.end,u=i.duration;if(this.callee.getPlaying()){var c=void 0===a?this.callee.getPlaying().volume():a;this.callee.getPlaying().fade(c,s,u,this.callee.getToken())}return K(e,\"executeAction\",this,3)([t])}if(this.type===r.setVolume){var l=z(this.contentNode.getContent(),1)[0];return this.callee.getPlaying()&&this.callee.getPlaying().volume(l,this.callee.getToken()),K(e,\"executeAction\",this,3)([t])}if(this.type===r.setRate){var f=z(this.contentNode.getContent(),1)[0];return this.callee.getPlaying()&&this.callee.getPlaying().rate(f,this.callee.getToken()),K(e,\"executeAction\",this,3)([t])}if(this.type===r.pause)return this.callee.getPlaying()&&this.callee.getPlaying().pause(this.callee.getToken()),K(e,\"executeAction\",this,3)([t]);if(this.type===r.resume)return this.callee.getPlaying()&&this.callee.getPlaying().play(this.callee.getToken()),K(e,\"executeAction\",this,3)([t]);throw K(e,\"unknownType\",this,3)([])}}],[{key:\"initSound\",value:function(t,e){e.getPlaying()||e.setPlaying(new(t.getHowl())(e.getHowlOptions()))}}])}(U);function et(t){return et=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},et(t)}function nt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return rt(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rt(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function rt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,it(r.key),r)}}function it(t){var e=function(t,e){if(\"object\"!=et(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=et(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==et(e)?e:e+\"\"}function at(t,e,n){return e=lt(e),function(t,e){if(e&&(\"object\"==et(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,st()?Reflect.construct(e,n||[],lt(t).constructor):e.apply(t,n))}function st(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(st=function(){return!!t})()}function ut(t,e,n,r){var o=ct(lt(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}function ct(){return ct=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=lt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ct.apply(null,arguments)}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}function ft(t,e){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ft(t,e)}tt.ActionTypes=r;var pt,dt=function(t){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,n),at(this,n,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&ft(t,e)}(n,t),function(t,e,n){return e&&ot(t.prototype,e),n&&ot(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(n,[{key:\"executeAction\",value:function(t){var r,o=this;if(this.type===e.action)return ut(n,\"executeAction\",this,3)([t]);if(this.type===e.setBackground)return this.callee.state.background=this.contentNode.getContent()[0],ut(n,\"executeAction\",this,3)([t]);if(this.type===e.sleep){var i=new w((function(t){return t})),a=this.contentNode.getContent();return new Promise((function(t){\"number\"==typeof a?setTimeout((function(){t()}),a):w.isAwaitable(a)?a.then(t):null==a||a.then(t)})).then((function(){i.resolve({type:o.type,node:o.contentNode.getChild()}),t.stage.next()})),i}if(this.type===e.applyTransition){var s=(new w).registerSkipController(new E((function(){return t.logger.info(\"NarraLeaf-React: Background Transition\",\"Skipped\"),{type:o.type,node:o.contentNode.getChild()}}))),u=this.contentNode.getContent()[0];return this.callee.events.any(\"event:displayable.applyTransition\",u).then((function(){s.resolve({type:o.type,node:o.contentNode.getChild()}),t.stage.next()})),s}if(this.type===e.init){var c=new w((function(t){return t}));return n.handleSceneInit(this,t,c)}if(this.type===e.exit){t.offSrcManager(this.callee.srcManager).removeScene(this.callee);var l=new w((function(t){return t}));return this.callee.events.once(\"event:scene.unmount\",(function(){l.resolve({type:o.type,node:o.contentNode.getChild()}),t.stage.next()})),l}if(this.type===e.jumpTo){var f=this.contentNode.getContent()[0],p=this.contentNode,d=(null===(r=f.sceneRoot)||void 0===r?void 0:r.contentNode)||null;return d&&p.addChild(d),ut(n,\"executeAction\",this,3)([t])}if(this.type===e.setBackgroundMusic){var h=nt(this.contentNode.getContent(),2),y=h[0],v=h[1];return this.callee.events.emit(\"event:scene.setBackgroundMusic\",y,v||0),ut(n,\"executeAction\",this,3)([t])}if(this.type===e.preUnmount)return this.callee.events.emit(\"event:scene.preUnmount\"),ut(n,\"executeAction\",this,3)([t]);if(this.type===e.applyTransform){var m=nt(this.contentNode.getContent(),1)[0],g=new w((function(t){return t})).registerSkipController(new E((function(){return{type:o.type,node:o.contentNode.getChild()}})));return this.callee.events.any(\"event:displayable.applyTransform\",m).then((function(){g.resolve({type:o.type,node:o.contentNode.getChild()}),t.stage.next()})),g}throw new Error(\"Unknown scene action type: \"+this.type)}},{key:\"getFutureActions\",value:function(){var t,n,r;if(this.type===e.jumpTo){var o=null===(n=null===(t=this.contentNode.getContent()[0])||void 0===t?void 0:t.sceneRoot)||void 0===n?void 0:n.contentNode;return(null==o?void 0:o.action)?[o.action]:[]}var i=null===(r=this.contentNode.getChild())||void 0===r?void 0:r.action;return i?[i]:[]}}],[{key:\"handleSceneInit\",value:function(t,e,r){return e.isSceneActive(t.callee)?{type:t.type,node:t.contentNode.getChild()}:(e.registerSrcManager(t.callee.srcManager).addScene(t.callee),n.registerEventListeners(t.callee,e,(function(){r.resolve({type:t.type,node:t.contentNode.getChild()}),e.stage.next()})),r)}},{key:\"registerEventListeners\",value:function(t,e,n){t.events.once(\"event:scene.unmount\",(function(){e.offSrcManager(t.srcManager)})),t.events.once(\"event:scene.mount\",(function(){t.state.backgroundMusic&&(tt.initSound(e,t.state.backgroundMusic),t.events.emit(\"event:scene.setBackgroundMusic\",t.state.backgroundMusic,t.config.backgroundMusicFade))})),t.events.any(\"event:displayable.init\").then((function(){n&&n()}))}}])}(U);function ht(t){return ht=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ht(t)}function yt(t,e,n){return e=mt(e),function(t,e){if(e&&(\"object\"==ht(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,vt()?Reflect.construct(e,n||[],mt(t).constructor):e.apply(t,n))}function vt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vt=function(){return!!t})()}function mt(t){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mt(t)}function gt(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&bt(t,e)}function bt(t,e){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bt(t,e)}function wt(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,kt(r.key),r)}}function St(t,e,n){return e&&_t(t.prototype,e),n&&_t(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function kt(t){var e=function(t,e){if(\"object\"!=ht(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=ht(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==ht(e)?e:e+\"\"}dt.ActionTypes=e,function(t){t.TreeNode=\"TreeNode\",t.ContentNode=\"ContentNode\"}(pt||(pt={}));var xt=function(t){function e(t,n,r){var o;return wt(this,e),(o=yt(this,e,[pt.ContentNode])).child=r||null,o.parent=n||null,o.action=t||null,o}return gt(e,t),St(e,[{key:\"setParent\",value:function(t){if(t===this)throw new Error(\"Cannot set parent to itself\");return this.parent=t,this}},{key:\"setChild\",value:function(t){if(t===this)throw new Error(\"Cannot set child to itself\");return this.child=t,t&&t.parent!==this&&t.remove().setParent(this),this}},{key:\"getChild\",value:function(){return this.child||null}},{key:\"getParent\",value:function(){return this.parent||null}},{key:\"addChild\",value:function(t){return this.setChild(t),this}},{key:\"removeChild\",value:function(t){return t&&this.child===t?(this.child=null,t.setParent(null)):t||(this.child=null),this}},{key:\"remove\",value:function(){var t;return null===(t=this.parent)||void 0===t||t.removeChild(this),this}},{key:\"hasChild\",value:function(){return!!this.child}}],[{key:\"forEachParent\",value:function(t,e){for(var n=new Set,r=t;r&&!n.has(r);)n.add(r),e(r),r=r.getParent()}},{key:\"forEachChild\",value:function(t,e){for(var n=new Set,r=t;r&&!n.has(r);)n.add(r),e(r),r=r.getChild()}}])}(function(){return St((function t(e){wt(this,t),this.type=e,this.content=void 0}),[{key:\"setContent\",value:function(t){return this.content=t,this}},{key:\"getContent\",value:function(){return this.content}}])}());function At(t){return At=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},At(t)}function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Tt(r.key),r)}}function Tt(t){var e=function(t,e){if(\"object\"!=At(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=At(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==At(e)?e:e+\"\"}var Et=function(){return function(t,e,n){return e&&Ot(t.prototype,e),n&&Ot(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.id=\"\"}),[{key:\"setId\",value:function(t){this.id=t}},{key:\"getId\",value:function(){return this.id}},{key:\"reset\",value:function(){}},{key:\"fromData\",value:function(t){return this}},{key:\"construct\",value:function(t){for(var e,n=0;n<t.length;n++){var r=t[n];0!==n&&(null===(e=t[n-1])||void 0===e||e.contentNode.setChild(r.contentNode))}return t}}])}();function Pt(t){return Pt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Pt(t)}function jt(t){return function(t){if(Array.isArray(t))return Nt(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||It(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ct(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=It(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Lt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||It(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function It(t,e){if(t){if(\"string\"==typeof t)return Nt(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(t,e):void 0}}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Mt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Mt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,\"_invoke\",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",v={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(C([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==Pt(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=p;return function(i,a){if(o===h)throw Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===v)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=h;var c=f(e,n,r);if(\"normal\"===c.type){if(o=r.done?y:d,c.arg===v)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=y,r.method=\"throw\",r.arg=c.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,T(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,v):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function C(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Pt(e)+\" is not iterable\")}return g.prototype=b,o(k,\"constructor\",{value:b,configurable:!0}),o(b,\"constructor\",{value:g,configurable:!0}),g.displayName=c(b,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,\"GeneratorFunction\")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,u,\"Generator\"),c(k,a,(function(){return this})),c(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),v}},e}function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Ft(r.key),r)}}function Ft(t){var e=function(t,e){if(\"object\"!=Pt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Pt(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Pt(e)?e:e+\"\"}function Dt(t,e,n){return e=Ut(e),function(t,e){if(e&&(\"object\"==Pt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Bt()?Reflect.construct(e,n||[],Ut(t).constructor):e.apply(t,n))}function Bt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Bt=function(){return!!t})()}function Vt(t,e,n,r){var o=Gt(Ut(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}function Gt(){return Gt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Ut(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Gt.apply(null,arguments)}function Ut(t){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ut(t)}function Ht(t,e){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ht(t,e)}var zt,Wt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},$t=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Dt(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Ht(t,e)}(e,t),function(t,e,n){return e&&Rt(t.prototype,e),n&&Rt(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"executeAllActions\",value:function(t,e){return Wt(this,void 0,void 0,Mt().mark((function n(){var r,o,i;return Mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=!1,o=e,i=Mt().mark((function e(){var n,r,i;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.game.getLiveGame().executeAction(t,o),t.logger.debug(\"Control - Next Action\",n),n){e.next=4;break}return e.abrupt(\"return\",0);case 4:if(!w.isAwaitable(n)){e.next=16;break}return e.next=7,new Promise((function(t){n.then((function(e){return t(n.result)}))}));case 7:if(r=e.sent,!(i=r.node)){e.next=13;break}o=i.action,e.next=14;break;case 13:return e.abrupt(\"return\",0);case 14:e.next=17;break;case 16:o=n;case 17:case\"end\":return e.stop()}}),e)}));case 3:if(r||!o){n.next=10;break}return n.delegateYield(i(),\"t0\",5);case 5:if(0!==n.t0){n.next=8;break}return n.abrupt(\"break\",10);case 8:n.next=3;break;case 10:case\"end\":return n.stop()}}),n)})))}},{key:\"executeSingleAction\",value:function(t,e){return Wt(this,void 0,void 0,Mt().mark((function n(){var r,o,i;return Mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.game.getLiveGame().executeAction(t,e),!w.isAwaitable(r)){n.next=9;break}return n.next=4,new Promise((function(t){r.then((function(e){return t(r.result)}))}));case 4:return o=n.sent,i=o.node,n.abrupt(\"return\",i);case 9:return n.abrupt(\"return\",r);case 10:case\"end\":return n.stop()}}),n)})))}},{key:\"execute\",value:function(t,n,r){var o=this;return r.length>0?(this.executeAllActions(t,r[0]).then((function(){n.resolve({type:o.type,node:o.contentNode.getChild()}),t.stage.next()})),n):Vt(e,\"executeAction\",this,3)([t])}},{key:\"executeAction\",value:function(t){var n=this,r=Lt(this.contentNode.getContent(),1)[0];if(this.type===a.do){var o=new w((function(t){return t}));return this.execute(t,o,r)}if(this.type===a.doAsync)return Wt(n,void 0,void 0,Mt().mark((function e(){return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>0)){e.next=3;break}return e.next=3,this.executeAllActions(t,r[0]);case 3:case\"end\":return e.stop()}}),e,this)}))),Vt(e,\"executeAction\",this,3)([t]);if(this.type===a.any){var i=new w((function(t){return t})),s=r.map((function(e){return n.executeSingleAction(t,e)}));return Promise.any(s).then((function(){i.resolve({type:n.type,node:n.contentNode.getChild()}),t.stage.next()})),i}if(this.type===a.all){var u=new w((function(t){return t}));return Wt(n,void 0,void 0,Mt().mark((function e(){var n=this;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(r.map((function(e){return n.executeSingleAction(t,e)})));case 2:u.resolve({type:this.type,node:this.contentNode.getChild()}),t.stage.next();case 4:case\"end\":return e.stop()}}),e,this)}))),u}if(this.type===a.allAsync)return Wt(n,void 0,void 0,Mt().mark((function e(){var n,o,i;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ct(r);try{for(n.s();!(o=n.n()).done;)i=o.value,this.executeSingleAction(t,i).then((function(t){}))}catch(t){n.e(t)}finally{n.f()}case 2:case\"end\":return e.stop()}}),e,this)}))),Vt(e,\"executeAction\",this,3)([t]);if(this.type===a.repeat){var c=Lt(this.contentNode.getContent(),2),l=c[0],f=c[1],p=new w((function(t){return t}));return Wt(n,void 0,void 0,Mt().mark((function e(){var n;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<f)){e.next=8;break}if(!(l.length>0)){e.next=5;break}return e.next=5,this.executeAllActions(t,l[0]);case 5:n++,e.next=1;break;case 8:p.resolve({type:this.type,node:this.contentNode.getChild()}),t.stage.next();case 10:case\"end\":return e.stop()}}),e,this)}))),p}if(this.type===a.sleep){var d=new w((function(t){return t})),h=Lt(this.contentNode.getContent(),2)[1];return new Promise((function(t){\"number\"==typeof h?setTimeout((function(){t()}),h):w.isAwaitable(h)?h.then(t):null==h||h.then(t)})).then((function(){d.resolve({type:n.type,node:n.contentNode.getChild()}),t.stage.next()})),d}throw new Error(\"Unknown control action type: \"+this.type)}},{key:\"getFutureActions\",value:function(){var t=this.contentNode.getContent()[0],n=Vt(e,\"getFutureActions\",this,3)([]);return[].concat(jt(t),jt(n))}}])}(U);function Yt(t){return Yt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Yt(t)}function qt(t){return function(t){if(Array.isArray(t))return Xt(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return Xt(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xt(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Kt(t,e,n){return e=Qt(e),function(t,e){if(e&&(\"object\"==Yt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Zt()?Reflect.construct(e,n||[],Qt(t).constructor):e.apply(t,n))}function Zt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Zt=function(){return!!t})()}function Qt(t){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qt(t)}function Jt(t,e){return Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jt(t,e)}function te(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,re(r.key),r)}}function ne(t,e,n){return e&&ee(t.prototype,e),n&&ee(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function re(t){var e=function(t,e){if(\"object\"!=Yt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Yt(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Yt(e)?e:e+\"\"}$t.ActionTypes=a;var oe=Symbol(\"_Chained\"),ie=function(){function t(e){te(this,t),this[zt]=!0,this.__actions=[],this.__self=e}return ne(t,[{key:\"push\",value:function(){var t;(t=this.__actions).push.apply(t,arguments)}},{key:\"getActions\",value:function(){return this.__actions}},{key:\"getSelf\",value:function(){return this.__self}},{key:\"newChain\",value:function(){return this.getSelf().chain()}}],[{key:\"isChained\",value:function(t){return t&&t[oe]}},{key:\"toActions\",value:function(e){return e.flat(2).map((function(e){return t.isChained(e)?e.fromChained(e):e})).flat(3)}}])}();zt=oe;var ae=function(t){function e(){return te(this,e),Kt(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Jt(t,e)}(e,t),ne(e,[{key:\"chain\",value:function(t){var e=ie.isChained(this)?this:this.proxy(this,new ie(this));if(!t)return e;var n=Array.isArray(t)?t:[t];return e.push.apply(e,qt(n)),e}},{key:\"proxy\",value:function(t,e){var n=new Proxy(t,{get:function(t,r){if(r in e)return e[r];var o=t[r];return\"function\"==typeof o?o.bind(n):o},set:function(t,e,n){return t[e]=n,!0}});return n}},{key:\"combineActions\",value:function(t,e){var n=e(this.chain().newChain()),r=new $t(t.chain(),$t.ActionTypes.do,(new xt).setContent([this.construct(ie.toActions([n]))]));return this.chain(r)}}])}(Et);function se(t){return se=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},se(t)}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,ce(r.key),r)}}function ce(t){var e=function(t,e){if(\"object\"!=se(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=se(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==se(e)?e:e+\"\"}function le(t,e,n){return e=pe(e),function(t,e){if(e&&(\"object\"==se(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,fe()?Reflect.construct(e,n||[],pe(t).constructor):e.apply(t,n))}function fe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fe=function(){return!!t})()}function pe(t){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pe(t)}function de(t,e){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},de(t,e)}var he,ye=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),le(this,e)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&de(t,e)}(e,t),function(t,e,n){return e&&ue(t.prototype,e),n&&ue(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"toData\",value:function(){return null}},{key:\"fromChained\",value:function(t){return t.getActions()}}])}(ae),ve=\"center\",me=\"left\",ge=\"right\";function be(t){return be=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},be(t)}function we(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,xe(r.key),r)}}function Se(t,e,n){return e&&_e(t.prototype,e),n&&_e(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function ke(t,e,n){return(e=xe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xe(t){var e=function(t,e){if(\"object\"!=be(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=be(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==be(e)?e:e+\"\"}!function(t){t.Left=\"left\",t.Center=\"center\",t.Right=\"right\"}(he||(he={}));var Ae=ke(ke(ke({},he.Left,\"33.33%\"),he.Center,\"50%\"),he.Right,\"66.66%\"),Oe=function(){function t(){we(this,t)}return Se(t,null,[{key:\"isUnknown\",value:function(e){return e===t.Unknown}},{key:\"wrap\",value:function(t){return Object.assign({left:\"auto\",top:\"auto\",right:\"auto\",bottom:\"auto\"},t)}},{key:\"D2PositionToCSS\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.calc(t.y,t.yoffset),o=this.calc(t.x,t.xoffset),i=n?{bottom:r}:{top:r},a=e?{right:o}:{left:o};return this.wrap(Object.assign(Object.assign({},i),a))}},{key:\"calc\",value:function(e,n){if(!e||t.isUnknown(e))return\"auto\";if(void 0===n||t.isUnknown(n))return\"calc(\".concat(e,\" + 0px)\");var r=\"number\"==typeof e?\"\".concat(e,\"px\"):e;return\"calc(\".concat(r,\" + (\").concat(n,\"px))\")}},{key:\"toCoord2D\",value:function(t){if(Te.isCommonPositionType(t))return Ee.fromCommonPosition(t);if(Ee.isCoord2DPosition(t))return t;if(Pe.isAlignPosition(t))return Ee.fromAlignPosition(t);if(\"object\"===be(t)&&[\"x\",\"y\",\"xoffset\",\"yoffset\"].some((function(e){return e in t})))return new Ee(t);throw new Error(\"Invalid position type\")}},{key:\"orUnknown\",value:function(e){return t.isUnknown(e)||void 0===e?t.Unknown:e}},{key:\"mergePosition\",value:function(t,e){var n=this.toCoord2D(t),r=this.toCoord2D(e);return Ee.merge(n,r)}},{key:\"serializePosition\",value:function(e){var n=this.toCoord2D(e);return{x:t.isUnknown(n.x)?0:n.x,y:t.isUnknown(n.y)?0:n.y,xoffset:t.isUnknown(n.xoffset)?0:n.xoffset,yoffset:t.isUnknown(n.yoffset)?0:n.yoffset}}},{key:\"isRawCommonPositionType\",value:function(t){return Object.values(he).includes(t)}},{key:\"isRawCoord2DPosition\",value:function(t){return\"object\"===be(t)&&(\"x\"in t||\"y\"in t||\"xoffset\"in t||\"yoffset\"in t)}},{key:\"isRawAlignPosition\",value:function(t){return\"object\"===be(t)&&(\"xalign\"in t||\"yalign\"in t||\"xoffset\"in t||\"yoffset\"in t)}},{key:\"isRawPosition\",value:function(t){return this.isRawCommonPositionType(t)||this.isRawCoord2DPosition(t)||this.isRawAlignPosition(t)}},{key:\"isPosition\",value:function(t){return t instanceof Te||t instanceof Ee||t instanceof Pe}},{key:\"rawPositionToCoord2D\",value:function(t){if(this.isRawCommonPositionType(t))return Ee.fromCommonPosition(new Te(t));if(this.isRawCoord2DPosition(t))return new Ee(t);if(this.isRawAlignPosition(t))return Ee.fromAlignPosition(t);throw new Error(\"Invalid position type\")}},{key:\"tryParsePosition\",value:function(t){if(this.isPosition(t))return t;if(this.isRawPosition(t))return this.rawPositionToCoord2D(t);throw new Error(\"Invalid position type\")}}])}();Oe.Unknown=Symbol(\"Unknown\");var Te=function(){function t(e){we(this,t),this.position=e}return Se(t,[{key:\"toCSS\",value:function(){return{x:Ae[this.position],y:\"50%\",xoffset:0,yoffset:0}}}],[{key:\"isCommonPositionType\",value:function(e){return e instanceof t}}])}();Te.Positions=he;var Ee=function(){function t(e,n){we(this,t),\"object\"===be(e)?(this.x=Oe.orUnknown(e.x),this.y=Oe.orUnknown(e.y),this.xoffset=Oe.orUnknown(e.xoffset),this.yoffset=Oe.orUnknown(e.yoffset)):(this.x=Oe.orUnknown(e),this.y=Oe.orUnknown(n),this.xoffset=Oe.Unknown,this.yoffset=Oe.Unknown)}return Se(t,[{key:\"toCSS\",value:function(){return{x:this.x,y:this.y,xoffset:this.xoffset,yoffset:this.yoffset}}}],[{key:\"isCoord2DPosition\",value:function(e){return e instanceof t}},{key:\"fromCommonPosition\",value:function(e){return new t({x:Ae[e.position],y:\"50%\"})}},{key:\"fromAlignPosition\",value:function(e){return new t({x:Oe.isUnknown(e.xalign)?Oe.Unknown:\"\".concat(100*e.xalign,\"%\"),y:Oe.isUnknown(e.yalign)?Oe.Unknown:\"\".concat(100*e.yalign,\"%\"),xoffset:e.xoffset,yoffset:e.yoffset})}},{key:\"merge\",value:function(e,n){return new t({x:Oe.isUnknown(n.x)?e.x:n.x,y:Oe.isUnknown(n.y)?e.y:n.y,xoffset:Oe.isUnknown(n.xoffset)?e.xoffset:n.xoffset,yoffset:Oe.isUnknown(n.yoffset)?e.yoffset:n.yoffset})}}])}(),Pe=function(){function t(e,n){we(this,t),\"object\"===be(e)?(this.xalign=Oe.orUnknown(e.xalign),this.yalign=Oe.orUnknown(e.yalign),this.xoffset=Oe.orUnknown(e.xoffset),this.yoffset=Oe.orUnknown(e.yoffset)):(this.xalign=Oe.orUnknown(e),this.yalign=Oe.orUnknown(n),this.xoffset=Oe.Unknown,this.yoffset=Oe.Unknown)}return Se(t,[{key:\"toCSS\",value:function(){return{x:Oe.isUnknown(this.xalign)?this.xalign:\"\".concat(100*this.xalign,\"%\"),y:Oe.isUnknown(this.yalign)?this.yalign:\"\".concat(100*this.yalign,\"%\"),xoffset:this.xoffset,yoffset:this.yoffset}}}],[{key:\"isAlignPosition\",value:function(e){return e instanceof t}}])}();function je(t){let e;return()=>(void 0===e&&(e=t()),e)}const Ce=je((()=>void 0!==window.ScrollTimeline));class Le{constructor(t){this.stop=()=>this.runAll(\"stop\"),this.animations=t.filter(Boolean)}then(t,e){return Promise.all(this.animations).then(t).catch(e)}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t,e){const n=this.animations.map((n=>Ce()&&n.attachTimeline?n.attachTimeline(t):e(n)));return()=>{n.forEach(((t,e)=>{t&&t(),this.animations[e].stop()}))}}get time(){return this.getAll(\"time\")}set time(t){this.setAll(\"time\",t)}get speed(){return this.getAll(\"speed\")}set speed(t){this.setAll(\"speed\",t)}get startTime(){return this.getAll(\"startTime\")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach((e=>e[t]()))}play(){this.runAll(\"play\")}pause(){this.runAll(\"pause\")}cancel(){this.runAll(\"cancel\")}complete(){this.runAll(\"complete\")}}const Ie=t=>1e3*t,Ne=t=>t/1e3;function Me(t,e){return e?t*(1e3/e):0}const Re=5;function Fe(t,e,n){const r=Math.max(e-Re,0);return Me(n-t(r),e-r)}const De=t=>t;let Be=De,Ve=De;const Ge=(t,e,n)=>n>e?e:n<t?t:n,Ue=.001,He=.01,ze=10,We=.05,$e=1;function Ye({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,i;Be(t<=Ie(ze),\"Spring duration must be 10 seconds or less\");let a=1-e;a=Ge(We,$e,a),t=Ge(He,ze,Ne(t)),a<1?(o=e=>{const r=e*a,o=r*t,i=r-n,s=Xe(e,a),u=Math.exp(-o);return Ue-i/s*u},i=e=>{const r=e*a*t,i=r*n+n,s=Math.pow(a,2)*Math.pow(e,2)*t,u=Math.exp(-r),c=Xe(Math.pow(e,2),a);return(-o(e)+Ue>0?-1:1)*((i-s)*u)/c}):(o=e=>Math.exp(-e*t)*((e-n)*t+1)-Ue,i=e=>Math.exp(-e*t)*(t*t*(n-e)));const s=function(t,e,n){let r=n;for(let n=1;n<qe;n++)r-=t(r)/e(r);return r}(o,i,5/t);if(t=Ie(t),isNaN(s))return{stiffness:100,damping:10,duration:t};{const e=Math.pow(s,2)*r;return{stiffness:e,damping:2*a*Math.sqrt(r*e),duration:t}}}const qe=12;function Xe(t,e){return t*Math.sqrt(1-e*e)}const Ke=[\"duration\",\"bounce\"],Ze=[\"stiffness\",\"damping\",\"mass\"];function Qe(t,e){return e.some((e=>void 0!==t[e]))}function Je({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],i=t[t.length-1],a={done:!1,value:o},{stiffness:s,damping:u,mass:c,duration:l,velocity:f,isResolvedFromDuration:p}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Qe(t,Ze)&&Qe(t,Ke)){const n=Ye(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}({...r,velocity:-Ne(r.velocity||0)}),d=f||0,h=u/(2*Math.sqrt(s*c)),y=i-o,v=Ne(Math.sqrt(s/c)),m=Math.abs(y)<5;let g;if(n||(n=m?.01:2),e||(e=m?.005:.5),h<1){const t=Xe(v,h);g=e=>{const n=Math.exp(-h*v*e);return i-n*((d+h*v*y)/t*Math.sin(t*e)+y*Math.cos(t*e))}}else if(1===h)g=t=>i-Math.exp(-v*t)*(y+(d+v*y)*t);else{const t=v*Math.sqrt(h*h-1);g=e=>{const n=Math.exp(-h*v*e),r=Math.min(t*e,300);return i-n*((d+h*v*y)*Math.sinh(r)+t*y*Math.cosh(r))/t}}return{calculatedDuration:p&&l||null,next:t=>{const r=g(t);if(p)a.done=t>=l;else{let o=0;h<1&&(o=0===t?Ie(d):Fe(g,t,r));const s=Math.abs(o)<=n,u=Math.abs(i-r)<=e;a.done=s&&u}return a.value=a.done?i:r,a}}}const tn=2e4;function en(t){let e=0;let n=t.next(e);for(;!n.done&&e<tn;)e+=50,n=t.next(e);return e>=tn?1/0:e}function nn(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(en(r),tn);return{type:\"keyframes\",ease:t=>r.next(o*t).value/e,duration:Ne(o)}}const rn=(t,e,n)=>t+(e-t)*n,on=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r};function an(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=on(0,e,r);t.push(rn(n,1,o))}}function sn(t){const e=[0];return an(e,t.length-1),e}const un=t=>Boolean(t&&t.getVelocity);function cn(t){return\"object\"==typeof t&&!Array.isArray(t)}function ln(t,e,n,r){return\"string\"==typeof t&&cn(e)?function(t,e,n){var r;if(\"string\"==typeof t){let o=document;e&&(Ve(Boolean(e.current),\"Scope provided, but no element detected.\"),o=e.current),n?(null!==(r=n[t])&&void 0!==r||(n[t]=o.querySelectorAll(t)),t=n[t]):t=o.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function fn(t){return\"function\"==typeof t}function pn(t,e,n,r){var o;return\"number\"==typeof e?e:e.startsWith(\"-\")||e.startsWith(\"+\")?Math.max(0,t+parseFloat(e)):\"<\"===e?n:null!==(o=r.get(e))&&void 0!==o?o:t}const dn=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t},hn=t=>Array.isArray(t)&&\"number\"!=typeof t[0];function yn(t,e){return hn(t)?t[dn(0,t.length,e)]:t}function vn(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function mn(t,e,n,r,o,i){!function(t,e,n){for(let r=0;r<t.length;r++){const o=t[r];o.at>e&&o.at<n&&(vn(t,o),r--)}}(t,o,i);for(let a=0;a<e.length;a++)t.push({value:e[a],at:rn(o,i,r[a]),easing:yn(n,a)})}function gn(t,e){return t.at===e.at?null===t.value?1:null===e.value?-1:0:t.at-e.at}const bn=\"easeInOut\";function wn(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function _n(t,e){return e[t]||(e[t]=[]),e[t]}function Sn(t){return Array.isArray(t)?t:[t]}function kn(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const xn=t=>\"number\"==typeof t,An=t=>t.every(xn),On=new WeakMap,Tn=[\"transformPerspective\",\"x\",\"y\",\"z\",\"translateX\",\"translateY\",\"translateZ\",\"scale\",\"scaleX\",\"scaleY\",\"rotate\",\"rotateX\",\"rotateY\",\"rotateZ\",\"skew\",\"skewX\",\"skewY\"],En=new Set(Tn),Pn={type:\"spring\",stiffness:500,damping:25,restSpeed:10},jn={type:\"keyframes\",duration:.8},Cn={type:\"keyframes\",ease:[.25,.1,.35,1],duration:.3},Ln=(t,{keyframes:e})=>e.length>2?jn:En.has(t)?t.startsWith(\"scale\")?{type:\"spring\",stiffness:550,damping:0===e[1]?2*Math.sqrt(550):30,restSpeed:10}:Pn:Cn;function In(t,e){return t?t[e]||t.default||t:void 0}const Nn=!1,Mn=!1,Rn=!1,Fn=t=>null!==t;function Dn(t,{repeat:e,repeatType:n=\"loop\"},r){const o=t.filter(Fn),i=e&&\"loop\"!==n&&e%2==1?0:o.length-1;return i&&void 0!==r?r:o[i]}const Bn=[\"read\",\"resolveKeyframes\",\"update\",\"preRender\",\"render\",\"postRender\"];function Vn(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Bn.reduce(((t,e)=>(t[e]=function(t){let e=new Set,n=new Set,r=!1,o=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function s(e){i.has(e)&&(u.schedule(e),t()),e(a)}const u={schedule:(t,o=!1,a=!1)=>{const s=a&&r?e:n;return o&&i.add(t),s.has(t)||s.add(t),t},cancel:t=>{n.delete(t),i.delete(t)},process:t=>{a=t,r?o=!0:(r=!0,[e,n]=[n,e],n.clear(),e.forEach(s),r=!1,o&&(o=!1,u.process(t)))}};return u}(i),t)),{}),{read:s,resolveKeyframes:u,update:c,preRender:l,render:f,postRender:p}=a,d=()=>{const i=Mn?o.timestamp:performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(i-o.timestamp,40),1),o.timestamp=i,o.isProcessing=!0,s.process(o),u.process(o),c.process(o),l.process(o),f.process(o),p.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(d))};return{schedule:Bn.reduce(((e,i)=>{const s=a[i];return e[i]=(e,i=!1,a=!1)=>(n||(n=!0,r=!0,o.isProcessing||t(d)),s.schedule(e,i,a)),e}),{}),cancel:t=>{for(let e=0;e<Bn.length;e++)a[Bn[e]].cancel(t)},state:o,steps:a}}const{schedule:Gn,cancel:Un,state:Hn,steps:zn}=Vn(\"undefined\"!=typeof requestAnimationFrame?requestAnimationFrame:De,!0),Wn=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$n=1e-7,Yn=12;function qn(t,e,n,r){if(t===e&&n===r)return De;const o=e=>function(t,e,n,r,o){let i,a,s=0;do{a=e+(n-e)/2,i=Wn(a,r,o)-t,i>0?n=a:e=a}while(Math.abs(i)>$n&&++s<Yn);return a}(e,0,1,t,n);return t=>0===t||1===t?t:Wn(o(t),e,r)}const Xn=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Kn=t=>e=>1-t(1-e),Zn=qn(.33,1.53,.69,.99),Qn=Kn(Zn),Jn=Xn(Qn),tr=t=>(t*=2)<1?.5*Qn(t):.5*(2-Math.pow(2,-10*(t-1))),er=t=>1-Math.sin(Math.acos(t)),nr=Kn(er),rr=Xn(er),or=t=>/^0[^.\\s]+$/u.test(t);const ir=t=>/^-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)$/u.test(t),ar=t=>e=>\"string\"==typeof e&&e.startsWith(t),sr=ar(\"--\"),ur=ar(\"var(--\"),cr=t=>!!ur(t)&&lr.test(t.split(\"/*\")[0].trim()),lr=/var\\(--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)$/iu,fr=/^var\\(--(?:([\\w-]+)|([\\w-]+), ?([a-zA-Z\\d ()%#.,-]+))\\)/u;function pr(t,e,n=1){Ve(n<=4,`Max CSS variable fallback depth detected in property \"${t}\". This may indicate a circular fallback dependency.`);const[r,o]=function(t){const e=fr.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${null!=n?n:r}`,o]}(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const t=i.trim();return ir(t)?parseFloat(t):t}return cr(o)?pr(o,e,n+1):o}const dr={test:t=>\"number\"==typeof t,parse:parseFloat,transform:t=>t},hr={...dr,transform:t=>Ge(0,1,t)},yr={...dr,default:1},vr=t=>({test:e=>\"string\"==typeof e&&e.endsWith(t)&&1===e.split(\" \").length,parse:parseFloat,transform:e=>`${e}${t}`}),mr=vr(\"deg\"),gr=vr(\"%\"),br=vr(\"px\"),wr=vr(\"vh\"),_r=vr(\"vw\"),Sr={...gr,parse:t=>gr.parse(t)/100,transform:t=>gr.transform(100*t)},kr=new Set([\"width\",\"height\",\"top\",\"left\",\"right\",\"bottom\",\"x\",\"y\",\"translateX\",\"translateY\"]),xr=t=>t===dr||t===br,Ar=(t,e)=>parseFloat(t.split(\", \")[e]),Or=(t,e)=>(n,{transform:r})=>{if(\"none\"===r||!r)return 0;const o=r.match(/^matrix3d\\((.+)\\)$/u);if(o)return Ar(o[1],e);{const e=r.match(/^matrix\\((.+)\\)$/u);return e?Ar(e[1],t):0}},Tr=new Set([\"x\",\"y\",\"z\"]),Er=Tn.filter((t=>!Tr.has(t)));const Pr={width:({x:t},{paddingLeft:e=\"0\",paddingRight:n=\"0\"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e=\"0\",paddingBottom:n=\"0\"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Or(4,13),y:Or(5,14)};Pr.translateX=Pr.x,Pr.translateY=Pr.y;const jr=t=>e=>e.test(t),Cr=[dr,br,gr,mr,_r,wr,{test:t=>\"auto\"===t,parse:t=>t}],Lr=t=>Cr.find(jr(t)),Ir=new Set;let Nr=!1,Mr=!1;function Rr(){if(Mr){const t=Array.from(Ir).filter((t=>t.needsMeasurement)),e=new Set(t.map((t=>t.element))),n=new Map;e.forEach((t=>{const e=function(t){const e=[];return Er.forEach((n=>{const r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith(\"scale\")?1:0))})),e}(t);e.length&&(n.set(t,e),t.render())})),t.forEach((t=>t.measureInitialState())),e.forEach((t=>{t.render();const e=n.get(t);e&&e.forEach((([e,n])=>{var r;null===(r=t.getValue(e))||void 0===r||r.set(n)}))})),t.forEach((t=>t.measureEndState())),t.forEach((t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)}))}Mr=!1,Nr=!1,Ir.forEach((t=>t.complete())),Ir.clear()}function Fr(){Ir.forEach((t=>{t.readKeyframes(),t.needsMeasurement&&(Mr=!0)}))}class Dr{constructor(t,e,n,r,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ir.add(this),Nr||(Nr=!0,Gn.read(Fr),Gn.resolveKeyframes(Rr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;for(let o=0;o<t.length;o++)if(null===t[o])if(0===o){const o=null==r?void 0:r.get(),i=t[t.length-1];if(void 0!==o)t[0]=o;else if(n&&e){const r=n.readValue(e,i);null!=r&&(t[0]=r)}void 0===t[0]&&(t[0]=i),r&&void 0===o&&r.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ir.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ir.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Br=t=>Math.round(1e5*t)/1e5,Vr=/-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/gu;const Gr=/^(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))$/iu,Ur=(t,e)=>n=>Boolean(\"string\"==typeof n&&Gr.test(n)&&n.startsWith(t)||e&&!function(t){return null==t}(n)&&Object.prototype.hasOwnProperty.call(n,e)),Hr=(t,e,n)=>r=>{if(\"string\"!=typeof r)return r;const[o,i,a,s]=r.match(Vr);return{[t]:parseFloat(o),[e]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},zr={...dr,transform:t=>Math.round((t=>Ge(0,255,t))(t))},Wr={test:Ur(\"rgb\",\"red\"),parse:Hr(\"red\",\"green\",\"blue\"),transform:({red:t,green:e,blue:n,alpha:r=1})=>\"rgba(\"+zr.transform(t)+\", \"+zr.transform(e)+\", \"+zr.transform(n)+\", \"+Br(hr.transform(r))+\")\"};const $r={test:Ur(\"#\"),parse:function(t){let e=\"\",n=\"\",r=\"\",o=\"\";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:Wr.transform},Yr={test:Ur(\"hsl\",\"hue\"),parse:Hr(\"hue\",\"saturation\",\"lightness\"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>\"hsla(\"+Math.round(t)+\", \"+gr.transform(Br(e))+\", \"+gr.transform(Br(n))+\", \"+Br(hr.transform(r))+\")\"},qr={test:t=>Wr.test(t)||$r.test(t)||Yr.test(t),parse:t=>Wr.test(t)?Wr.parse(t):Yr.test(t)?Yr.parse(t):$r.parse(t),transform:t=>\"string\"==typeof t?t:t.hasOwnProperty(\"red\")?Wr.transform(t):Yr.transform(t)},Xr=/(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))/giu;const Kr=\"number\",Zr=\"color\",Qr=\"var\",Jr=\"var(\",to=\"${}\",eo=/var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/giu;function no(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let i=0;const a=e.replace(eo,(t=>(qr.test(t)?(r.color.push(i),o.push(Zr),n.push(qr.parse(t))):t.startsWith(Jr)?(r.var.push(i),o.push(Qr),n.push(t)):(r.number.push(i),o.push(Kr),n.push(parseFloat(t))),++i,to))).split(to);return{values:n,split:a,indexes:r,types:o}}function ro(t){return no(t).values}function oo(t){const{split:e,types:n}=no(t),r=e.length;return t=>{let o=\"\";for(let i=0;i<r;i++)if(o+=e[i],void 0!==t[i]){const e=n[i];o+=e===Kr?Br(t[i]):e===Zr?qr.transform(t[i]):t[i]}return o}}const io=t=>\"number\"==typeof t?0:t;const ao={test:function(t){var e,n;return isNaN(t)&&\"string\"==typeof t&&((null===(e=t.match(Vr))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(Xr))||void 0===n?void 0:n.length)||0)>0},parse:ro,createTransformer:oo,getAnimatableNone:function(t){const e=ro(t);return oo(t)(e.map(io))}},so=new Set([\"brightness\",\"contrast\",\"saturate\",\"opacity\"]);function uo(t){const[e,n]=t.slice(0,-1).split(\"(\");if(\"drop-shadow\"===e)return t;const[r]=n.match(Vr)||[];if(!r)return t;const o=n.replace(r,\"\");let i=so.has(e)?1:0;return r!==n&&(i*=100),e+\"(\"+i+o+\")\"}const co=/\\b([a-z-]*)\\(.*?\\)/gu,lo={...ao,getAnimatableNone:t=>{const e=t.match(co);return e?e.map(uo).join(\" \"):t}},fo={borderWidth:br,borderTopWidth:br,borderRightWidth:br,borderBottomWidth:br,borderLeftWidth:br,borderRadius:br,radius:br,borderTopLeftRadius:br,borderTopRightRadius:br,borderBottomRightRadius:br,borderBottomLeftRadius:br,width:br,maxWidth:br,height:br,maxHeight:br,top:br,right:br,bottom:br,left:br,padding:br,paddingTop:br,paddingRight:br,paddingBottom:br,paddingLeft:br,margin:br,marginTop:br,marginRight:br,marginBottom:br,marginLeft:br,backgroundPositionX:br,backgroundPositionY:br},po={rotate:mr,rotateX:mr,rotateY:mr,rotateZ:mr,scale:yr,scaleX:yr,scaleY:yr,scaleZ:yr,skew:mr,skewX:mr,skewY:mr,distance:br,translateX:br,translateY:br,translateZ:br,x:br,y:br,z:br,perspective:br,transformPerspective:br,opacity:hr,originX:Sr,originY:Sr,originZ:br},ho={...dr,transform:Math.round},yo={...fo,...po,zIndex:ho,size:br,fillOpacity:hr,strokeOpacity:hr,numOctaves:ho},vo={...yo,color:qr,backgroundColor:qr,outlineColor:qr,fill:qr,stroke:qr,borderColor:qr,borderTopColor:qr,borderRightColor:qr,borderBottomColor:qr,borderLeftColor:qr,filter:lo,WebkitFilter:lo},mo=t=>vo[t];function go(t,e){let n=mo(t);return n!==lo&&(n=ao),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bo=new Set([\"auto\",\"none\",\"0\"]);class wo extends Dr{constructor(t,e,n,r,o){super(t,e,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let n=0;n<t.length;n++){let r=t[n];if(\"string\"==typeof r&&(r=r.trim(),cr(r))){const o=pr(r,e.current);void 0!==o&&(t[n]=o),n===t.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!kr.has(n)||2!==t.length)return;const[r,o]=t,i=Lr(r),a=Lr(o);if(i!==a)if(xr(i)&&xr(a))for(let e=0;e<t.length;e++){const n=t[e];\"string\"==typeof n&&(t[e]=parseFloat(n))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let e=0;e<t.length;e++)(\"number\"==typeof(r=t[e])?0===r:null===r||\"none\"===r||\"0\"===r||or(r))&&n.push(e);var r;n.length&&function(t,e,n){let r,o=0;for(;o<t.length&&!r;){const e=t[o];\"string\"==typeof e&&!bo.has(e)&&no(e).values.length&&(r=t[o]),o++}if(r&&n)for(const o of e)t[o]=go(n,r)}(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;\"height\"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];void 0!==r&&t.getValue(n,r).jump(r,!1)}measureEndState(){var t;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Pr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(t=this.removedTransforms)||void 0===t?void 0:t.length)&&this.removedTransforms.forEach((([t,n])=>{e.getValue(t).set(n)})),this.resolveNoneKeyframes()}}let _o;function So(){_o=void 0}const ko={now:()=>(void 0===_o&&ko.set(Hn.isProcessing||Mn?Hn.timestamp:performance.now()),_o),set:t=>{_o=t,queueMicrotask(So)}},xo=(t,e)=>\"zIndex\"!==e&&(!(\"number\"!=typeof t&&!Array.isArray(t))||!(\"string\"!=typeof t||!ao.test(t)&&\"0\"!==t||t.startsWith(\"url(\")));function Ao(t,e,n,r){const o=t[0];if(null===o)return!1;if(\"display\"===e||\"visibility\"===e)return!0;const i=t[t.length-1],a=xo(o,e),s=xo(i,e);return Be(a===s,`You are trying to animate ${e} from \"${o}\" to \"${i}\". ${o} is not an animatable value - to enable this animation set ${o} to a value animatable to ${i} via the \\`style\\` property.`),!(!a||!s)&&(function(t){const e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||(\"spring\"===n||fn(n))&&r)}class Oo{constructor({autoplay:t=!0,delay:e=0,type:n=\"keyframes\",repeat:r=0,repeatDelay:o=0,repeatType:i=\"loop\",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ko.now(),this.options={autoplay:t,delay:e,type:n,repeat:r,repeatDelay:o,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(Fr(),Rr()),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=ko.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:o,delay:i,onComplete:a,onUpdate:s,isGenerator:u}=this.options;if(!u&&!Ao(t,n,r,o)){if(Rn||!i)return null==s||s(Dn(t,this.options,e)),null==a||a(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(t,e);!1!==c&&(this._resolved={keyframes:t,finalKeyframe:e,...c},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}updateFinishedPromise(){this.currentFinishedPromise=new Promise((t=>{this.resolveFinishedPromise=t}))}}function To({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:a,min:s,max:u,restDelta:c=.5,restSpeed:l}){const f=t[0],p={done:!1,value:f},d=t=>void 0===s?u:void 0===u||Math.abs(s-t)<Math.abs(u-t)?s:u;let h=n*e;const y=f+h,v=void 0===a?y:a(y);v!==y&&(h=v-f);const m=t=>-h*Math.exp(-t/r),g=t=>v+m(t),b=t=>{const e=m(t),n=g(t);p.done=Math.abs(e)<=c,p.value=p.done?v:n};let w,_;const S=t=>{var e;(e=p.value,void 0!==s&&e<s||void 0!==u&&e>u)&&(w=t,_=Je({keyframes:[p.value,d(p.value)],velocity:Fe(g,t,p.value),damping:o,stiffness:i,restDelta:c,restSpeed:l}))};return S(0),{calculatedDuration:null,next:t=>{let e=!1;return _||void 0!==w||(e=!0,b(t),S(t)),void 0!==w&&t>=w?_.next(t-w):(!e&&b(t),p)}}}const Eo=qn(.42,0,1,1),Po=qn(0,0,.58,1),jo=qn(.42,0,.58,1),Co=t=>Array.isArray(t)&&\"number\"==typeof t[0],Lo={linear:De,easeIn:Eo,easeInOut:jo,easeOut:Po,circIn:er,circInOut:rr,circOut:nr,backIn:Qn,backInOut:Jn,backOut:Zn,anticipate:tr},Io=t=>{if(Co(t)){Ve(4===t.length,\"Cubic bezier arrays must contain four numerical values.\");const[e,n,r,o]=t;return qn(e,n,r,o)}return\"string\"==typeof t?(Ve(void 0!==Lo[t],`Invalid easing type '${t}'`),Lo[t]):t},No=(t,e)=>n=>e(t(n)),Mo=(...t)=>t.reduce(No);function Ro(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Fo(t,e){return n=>n>0?e:t}const Do=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},Bo=[$r,Wr,Yr];function Vo(t){const e=(n=t,Bo.find((t=>t.test(n))));var n;if(Be(Boolean(e),`'${t}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(e))return!1;let r=e.parse(t);return e===Yr&&(r=function({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,n/=100;let o=0,i=0,a=0;if(e/=100){const r=n<.5?n*(1+e):n+e-n*e,s=2*n-r;o=Ro(s,r,t+1/3),i=Ro(s,r,t),a=Ro(s,r,t-1/3)}else o=i=a=n;return{red:Math.round(255*o),green:Math.round(255*i),blue:Math.round(255*a),alpha:r}}(r)),r}const Go=(t,e)=>{const n=Vo(t),r=Vo(e);if(!n||!r)return Fo(t,e);const o={...n};return t=>(o.red=Do(n.red,r.red,t),o.green=Do(n.green,r.green,t),o.blue=Do(n.blue,r.blue,t),o.alpha=rn(n.alpha,r.alpha,t),Wr.transform(o))},Uo=new Set([\"none\",\"hidden\"]);function Ho(t,e){return n=>rn(t,e,n)}function zo(t){return\"number\"==typeof t?Ho:\"string\"==typeof t?cr(t)?Fo:qr.test(t)?Go:Yo:Array.isArray(t)?Wo:\"object\"==typeof t?qr.test(t)?Go:$o:Fo}function Wo(t,e){const n=[...t],r=n.length,o=t.map(((t,n)=>zo(t)(t,e[n])));return t=>{for(let e=0;e<r;e++)n[e]=o[e](t);return n}}function $o(t,e){const n={...t,...e},r={};for(const o in n)void 0!==t[o]&&void 0!==e[o]&&(r[o]=zo(t[o])(t[o],e[o]));return t=>{for(const e in r)n[e]=r[e](t);return n}}const Yo=(t,e)=>{const n=ao.createTransformer(e),r=no(t),o=no(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Uo.has(t)&&!o.values.length||Uo.has(e)&&!r.values.length?function(t,e){return Uo.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}(t,e):Mo(Wo(function(t,e){var n;const r=[],o={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],s=t.indexes[a][o[a]],u=null!==(n=t.values[s])&&void 0!==n?n:0;r[i]=u,o[a]++}return r}(r,o),o.values),n):(Be(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Fo(t,e))};function qo(t,e,n){if(\"number\"==typeof t&&\"number\"==typeof e&&\"number\"==typeof n)return rn(t,e,n);return zo(t)(t,e)}function Xo(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const i=t.length;if(Ve(i===e.length,\"Both input and output ranges must be the same length\"),1===i)return()=>e[0];if(2===i&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=function(t,e,n){const r=[],o=n||qo,i=t.length-1;for(let n=0;n<i;n++){let i=o(t[n],t[n+1]);if(e){const t=Array.isArray(e)?e[n]||De:e;i=Mo(t,i)}r.push(i)}return r}(e,r,o),s=a.length,u=e=>{let n=0;if(s>1)for(;n<t.length-2&&!(e<t[n+1]);n++);const r=on(t[n],t[n+1],e);return a[n](r)};return n?e=>u(Ge(t[0],t[i-1],e)):u}function Ko({duration:t=300,keyframes:e,times:n,ease:r=\"easeInOut\"}){const o=hn(r)?r.map(Io):Io(r),i={done:!1,value:e[0]},a=function(t,e){return t.map((t=>t*e))}(n&&n.length===e.length?n:sn(e),t),s=Xo(a,e,{ease:Array.isArray(o)?o:(u=e,c=o,u.map((()=>c||jo)).splice(0,u.length-1))});var u,c;return{calculatedDuration:t,next:e=>(i.value=s(e),i.done=e>=t,i)}}const Zo=t=>{const e=({timestamp:e})=>t(e);return{start:()=>Gn.update(e,!0),stop:()=>Un(e),now:()=>Hn.isProcessing?Hn.timestamp:ko.now()}},Qo={decay:To,inertia:To,tween:Ko,keyframes:Ko,spring:Je},Jo=t=>t/100;class ti extends Oo{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState=\"running\",this.startTime=null,this.state=\"idle\",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,\"idle\"===this.state)return;this.teardown();const{onStop:t}=this.options;t&&t()};const{name:e,motionValue:n,element:r,keyframes:o}=this.options,i=(null==r?void 0:r.KeyframeResolver)||Dr;this.resolver=new i(o,((t,e)=>this.onKeyframesResolved(t,e)),e,n,r),this.resolver.scheduleResolve()}initPlayback(t){const{type:e=\"keyframes\",repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:i=0}=this.options,a=fn(e)?e:Qo[e]||Ko;let s,u;a!==Ko&&\"number\"!=typeof t[0]&&(s=Mo(Jo,qo(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});\"mirror\"===o&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),null===c.calculatedDuration&&(c.calculatedDuration=en(c));const{calculatedDuration:l}=c,f=l+r;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:s,calculatedDuration:l,resolvedDuration:f,totalDuration:f*(n+1)-r}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),\"paused\"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t,e=!1){const{resolved:n}=this;if(!n){const{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}const{finalKeyframe:r,generator:o,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:s,calculatedDuration:u,totalDuration:c,resolvedDuration:l}=n;if(null===this.startTime)return o.next(0);const{delay:f,repeat:p,repeatType:d,repeatDelay:h,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),m=this.speed>=0?v<0:v>c;this.currentTime=Math.max(v,0),\"finished\"===this.state&&null===this.holdTime&&(this.currentTime=c);let g=this.currentTime,b=o;if(p){const t=Math.min(this.currentTime,c)/l;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,p+1);Boolean(e%2)&&(\"reverse\"===d?(n=1-n,h&&(n-=h/l)):\"mirror\"===d&&(b=i)),g=Ge(0,1,n)*l}const w=m?{done:!1,value:s[0]}:b.next(g);a&&(w.value=a(w.value));let{done:_}=w;m||null===u||(_=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const S=null===this.holdTime&&(\"finished\"===this.state||\"running\"===this.state&&_);return S&&void 0!==r&&(w.value=Dn(s,this.options,r)),y&&y(w.value),S&&this.finish(),w}get duration(){const{resolved:t}=this;return t?Ne(t.calculatedDuration):0}get time(){return Ne(this.currentTime)}set time(t){t=Ie(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Ne(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState=\"running\");if(this.isStopped)return;const{driver:t=Zo,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=t((t=>this.tick(t)))),e&&e();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?\"finished\"===this.state&&(this.startTime=r):this.startTime=null!=n?n:this.calcStartTime(),\"finished\"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state=\"running\",this.driver.start()}pause(){var t;this._resolved?(this.state=\"paused\",this.holdTime=null!==(t=this.currentTime)&&void 0!==t?t:0):this.pendingPlayState=\"paused\"}complete(){\"running\"!==this.state&&this.play(),this.pendingPlayState=this.state=\"finished\",this.holdTime=null}finish(){this.teardown(),this.state=\"finished\";const{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state=\"idle\",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const ei=new Set([\"opacity\",\"clipPath\",\"filter\",\"transform\"]),ni=(t,e)=>{let n=\"\";const r=Math.max(Math.round(e/10),2);for(let e=0;e<r;e++)n+=t(on(0,r-1,e))+\", \";return`linear(${n.substring(0,n.length-2)})`},ri={linearEasing:void 0};function oi(t,e){const n=je(t);return()=>{var t;return null!==(t=ri[e])&&void 0!==t?t:n()}}const ii=oi((()=>{try{document.createElement(\"div\").animate({opacity:0},{easing:\"linear(0, 1)\"})}catch(t){return!1}return!0}),\"linearEasing\");function ai(t){return Boolean(\"function\"==typeof t&&ii()||!t||\"string\"==typeof t&&(t in ui||ii())||Co(t)||Array.isArray(t)&&t.every(ai))}const si=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ui={linear:\"linear\",ease:\"ease\",easeIn:\"ease-in\",easeOut:\"ease-out\",easeInOut:\"ease-in-out\",circIn:si([0,.65,.55,1]),circOut:si([.55,0,1,.45]),backIn:si([.31,.01,.66,-.59]),backOut:si([.33,1.53,.69,.99])};function ci(t,e){return t?\"function\"==typeof t&&ii()?ni(t,e):Co(t)?si(t):Array.isArray(t)?t.map((t=>ci(t,e)||ui.easeOut)):ui[t]:void 0}function li(t,e,n,{delay:r=0,duration:o=300,repeat:i=0,repeatType:a=\"loop\",ease:s,times:u}={}){const c={[e]:n};u&&(c.offset=u);const l=ci(s,o);return Array.isArray(l)&&(c.easing=l),t.animate(c,{delay:r,duration:o,easing:Array.isArray(l)?\"linear\":l,fill:\"both\",iterations:i+1,direction:\"reverse\"===a?\"alternate\":\"normal\"})}function fi(t,e){t.timeline=e,t.onfinish=null}const pi=je((()=>Object.hasOwnProperty.call(Element.prototype,\"animate\")));const di={anticipate:tr,backInOut:Jn,circInOut:rr};class hi extends Oo{constructor(t){super(t);const{name:e,motionValue:n,element:r,keyframes:o}=this.options;this.resolver=new wo(o,((t,e)=>this.onKeyframesResolved(t,e)),e,n,r),this.resolver.scheduleResolve()}initPlayback(t,e){var n;let{duration:r=300,times:o,ease:i,type:a,motionValue:s,name:u,startTime:c}=this.options;if(!(null===(n=s.owner)||void 0===n?void 0:n.current))return!1;if(\"string\"==typeof i&&ii()&&i in di&&(i=di[i]),function(t){return fn(t.type)||\"spring\"===t.type||!ai(t.ease)}(this.options)){const{onComplete:e,onUpdate:n,motionValue:s,element:u,...c}=this.options,l=function(t,e){const n=new ti({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const o=[];let i=0;for(;!r.done&&i<2e4;)r=n.sample(i),o.push(r.value),i+=10;return{times:void 0,keyframes:o,duration:i-10,ease:\"linear\"}}(t,c);1===(t=l.keyframes).length&&(t[1]=t[0]),r=l.duration,o=l.times,i=l.ease,a=\"keyframes\"}const l=li(s.owner.current,u,t,{...this.options,duration:r,times:o,ease:i});return l.startTime=null!=c?c:this.calcStartTime(),this.pendingTimeline?(fi(l,this.pendingTimeline),this.pendingTimeline=void 0):l.onfinish=()=>{const{onComplete:n}=this.options;s.set(Dn(t,this.options,e)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:l,duration:r,times:o,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return Ne(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return Ne(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.currentTime=Ie(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return\"idle\";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(this._resolved){const{resolved:e}=this;if(!e)return De;const{animation:n}=e;fi(n,t)}else this.pendingTimeline=t;return De}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;\"finished\"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,\"idle\"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:n,duration:r,type:o,ease:i,times:a}=t;if(\"idle\"===e.playState||\"finished\"===e.playState)return;if(this.time){const{motionValue:t,onUpdate:e,onComplete:s,element:u,...c}=this.options,l=new ti({...c,keyframes:n,duration:r,type:o,ease:i,times:a,isGenerator:!0}),f=Ie(this.time);t.setWithVelocity(l.sample(f-10).value,l.sample(f).value,10)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:i,type:a}=t;return pi()&&n&&ei.has(n)&&e&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate&&!r&&\"mirror\"!==o&&0!==i&&\"inertia\"!==a}}const yi=(t,e,n,r={},o,i)=>a=>{const s=In(r,t)||{},u=s.delay||r.delay||0;let{elapsed:c=0}=r;c-=Ie(u);let l={keyframes:Array.isArray(n)?n:[null,n],ease:\"easeOut\",velocity:e.getVelocity(),...s,delay:-c,onUpdate:t=>{e.set(t),s.onUpdate&&s.onUpdate(t)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:i?void 0:o};(function({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:a,repeatDelay:s,from:u,elapsed:c,...l}){return!!Object.keys(l).length})(s)||(l={...l,...Ln(t,l)}),l.duration&&(l.duration=Ie(l.duration)),l.repeatDelay&&(l.repeatDelay=Ie(l.repeatDelay)),void 0!==l.from&&(l.keyframes[0]=l.from);let f=!1;if((!1===l.type||0===l.duration&&!l.repeatDelay)&&(l.duration=0,0===l.delay&&(f=!0)),(Rn||Nn)&&(f=!0,l.duration=0,l.delay=0),f&&!i&&void 0!==e.get()){const t=Dn(l.keyframes,s);if(void 0!==t)return Gn.update((()=>{l.onUpdate(t),l.onComplete()})),new Le([])}return!i&&hi.supports(l)?new hi(l):new ti(l)},vi=t=>Array.isArray(t),mi=t=>Boolean(t&&\"object\"==typeof t&&t.mix&&t.toValue),gi=t=>vi(t)?t[t.length-1]||0:t;class bi{constructor(){this.subscriptions=[]}add(t){var e,n;return e=this.subscriptions,n=t,-1===e.indexOf(n)&&e.push(n),()=>vn(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wi={current:void 0};class _i{constructor(t,e={}){this.version=\"11.11.9\",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(t,e=!0)=>{const n=ko.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),e&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){var e;this.current=t,this.updatedAt=ko.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e))))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on(\"change\",t)}on(t,e){this.events[t]||(this.events[t]=new bi);const n=this.events[t].add(e);return\"change\"===t?()=>{n(),Gn.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return wi.current&&wi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ko.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Me(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise((e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Si(t,e){return new _i(t,e)}function ki(t){const e=[{},{}];return null==t||t.values.forEach(((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()})),e}function xi(t,e,n,r){if(\"function\"==typeof e){const[o,i]=ki(r);e=e(void 0!==n?n:t.custom,o,i)}if(\"string\"==typeof e&&(e=t.variants&&t.variants[e]),\"function\"==typeof e){const[o,i]=ki(r);e=e(void 0!==n?n:t.custom,o,i)}return e}function Ai(t,e,n){const r=t.getProps();return xi(r,e,void 0!==n?n:r.custom,t)}function Oi(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Si(n))}const Ti=t=>t.replace(/([a-z])([A-Z])/gu,\"$1-$2\").toLowerCase(),Ei=\"data-\"+Ti(\"framerAppearId\");function Pi(t){return t.props[Ei]}function ji(t,e){if(!t.applyWillChange)return;const n=t.getValue(\"willChange\");return r=n,Boolean(un(r)&&r.add)?n.add(e):void 0;var r}function Ci({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&!0!==e[n];return e[n]=!1,r}function Li(t,e,{delay:n=0,transitionOverride:r,type:o}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:s,...u}=e;r&&(a=r);const c=[],l=o&&t.animationState&&t.animationState.getState()[o];for(const e in u){const r=t.getValue(e,null!==(i=t.latestValues[e])&&void 0!==i?i:null),o=u[e];if(void 0===o||l&&Ci(l,e))continue;const s={delay:n,...In(a||{},e)};let f=!1;if(window.MotionHandoffAnimation){const n=Pi(t);if(n){const t=window.MotionHandoffAnimation(n,e,Gn);null!==t&&(s.startTime=t,f=!0)}}ji(t,e),r.start(yi(e,r,o,t.shouldReduceMotion&&En.has(e)?{type:!1}:s,t,f));const p=r.animation;p&&c.push(p)}return s&&Promise.all(c).then((()=>{Gn.update((()=>{s&&function(t,e){const n=Ai(t,e);let{transitionEnd:r={},transition:o={},...i}=n||{};i={...i,...r};for(const e in i)Oi(t,e,gi(i[e]))}(t,s)}))})),c}const Ii={};function Ni(t,{layout:e,layoutId:n}){return En.has(t)||t.startsWith(\"origin\")||(e||void 0!==n)&&(!!Ii[t]||\"opacity\"===t)}function Mi(t,e,n){var r;const{style:o}=t,i={};for(const a in o)(un(o[a])||e.style&&un(e.style[a])||Ni(a,t)||void 0!==(null===(r=null==n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(i[a]=o[a]);return n&&o&&\"string\"==typeof o.willChange&&(n.applyWillChange=!1),i}function Ri(t,e,n){const r=Mi(t,e,n);for(const n in t)if(un(t[n])||un(e[n])){r[-1!==Tn.indexOf(n)?\"attr\"+n.charAt(0).toUpperCase()+n.substring(1):n]=t[n]}return r}const Fi=\"undefined\"!=typeof window,Di={current:null},Bi={current:!1};function Vi(t){return null!==t&&\"object\"==typeof t&&\"function\"==typeof t.start}function Gi(t){return\"string\"==typeof t||Array.isArray(t)}const Ui=[\"animate\",\"whileInView\",\"whileFocus\",\"whileHover\",\"whileTap\",\"whileDrag\",\"exit\"],Hi=[\"initial\",...Ui];function zi(t){return Vi(t.animate)||Hi.some((e=>Gi(t[e])))}function Wi(t){return Boolean(zi(t)||t.variants)}const $i={animation:[\"animate\",\"variants\",\"whileHover\",\"whileTap\",\"exit\",\"whileInView\",\"whileFocus\",\"whileDrag\"],exit:[\"exit\"],drag:[\"drag\",\"dragControls\"],focus:[\"whileFocus\"],hover:[\"whileHover\",\"onHoverStart\",\"onHoverEnd\"],tap:[\"whileTap\",\"onTap\",\"onTapStart\",\"onTapCancel\"],pan:[\"onPan\",\"onPanStart\",\"onPanSessionStart\",\"onPanEnd\"],inView:[\"whileInView\",\"onViewportEnter\",\"onViewportLeave\"],layout:[\"layout\",\"layoutId\"]},Yi={};for(const t in $i)Yi[t]={isEnabled:e=>$i[t].some((t=>!!e[t]))};const qi=[...Cr,qr,ao],Xi=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Ki=[\"AnimationStart\",\"AnimationComplete\",\"Update\",\"BeforeLayoutMeasure\",\"LayoutMeasure\",\"LayoutAnimationStart\",\"LayoutAnimationComplete\"];class Zi{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:o,visualState:i},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify(\"Update\",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const t=ko.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,Gn.render(this.render,!1,!0))};const{latestValues:s,renderState:u}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=e.initial?{...s}:{},this.renderState=u,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=zi(e),this.isVariantNode=Wi(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...l}=this.scrapeMotionValuesFromProps(e,{},this);for(const t in l){const e=l[t];void 0!==s[t]&&un(e)&&e.set(s[t],!1)}}mount(t){this.current=t,On.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((t,e)=>this.bindToMotionValue(e,t))),Bi.current||function(){if(Bi.current=!0,Fi)if(window.matchMedia){const t=window.matchMedia(\"(prefers-reduced-motion)\"),e=()=>Di.current=t.matches;t.addListener(e),e()}else Di.current=!1}(),this.shouldReduceMotion=\"never\"!==this.reducedMotionConfig&&(\"always\"===this.reducedMotionConfig||Di.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){On.delete(this.current),this.projection&&this.projection.unmount(),Un(this.notifyUpdate),Un(this.render),this.valueSubscriptions.forEach((t=>t())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=En.has(t),r=e.on(\"change\",(e=>{this.latestValues[t]=e,this.props.onUpdate&&Gn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),o=e.on(\"renderRequest\",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,(()=>{r(),o(),i&&i(),e.owner&&e.stop()}))}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t=\"animation\";for(t in Yi){const e=Yi[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<Ki.length;e++){const n=Ki[e];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const r=t[\"on\"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(t,e,n){for(const r in e){const o=e[r],i=n[r];if(un(o))t.addValue(r,o);else if(un(i))t.addValue(r,Si(o,{owner:t}));else if(i!==o)if(t.hasValue(r)){const e=t.getValue(r);!0===e.liveStyle?e.jump(o):e.hasAnimated||e.set(o)}else{const e=t.getStaticValue(r);t.addValue(r,Si(void 0!==e?e:o,{owner:t}))}}for(const r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=Si(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){var n;let r=void 0===this.latestValues[t]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,t))&&void 0!==n?n:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];var o;return null!=r&&(\"string\"==typeof r&&(ir(r)||or(r))?r=parseFloat(r):(o=r,!qi.find(jr(o))&&ao.test(e)&&(r=go(t,e))),this.setBaseTarget(t,un(r)?r.get():r)),un(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props;let r;if(\"string\"==typeof n||\"object\"==typeof n){const o=xi(this.props,n,null===(e=this.presenceContext)||void 0===e?void 0:e.custom);o&&(r=o[t])}if(n&&void 0!==r)return r;const o=this.getBaseTargetFromProps(this.props,t);return void 0===o||un(o)?void 0!==this.initialValues[t]&&void 0===r?void 0:this.baseTarget[t]:o}on(t,e){return this.events[t]||(this.events[t]=new bi),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class Qi extends Zi{constructor(){super(...arguments),this.KeyframeResolver=wo}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}}const Ji=(t,e)=>e&&\"number\"==typeof t?e.transform(t):t,ta={x:\"translateX\",y:\"translateY\",z:\"translateZ\",transformPerspective:\"perspective\"},ea=Tn.length;function na(t,e,n){const{style:r,vars:o,transformOrigin:i}=t;let a=!1,s=!1;for(const t in e){const n=e[t];if(En.has(t))a=!0;else if(sr(t))o[t]=n;else{const e=Ji(n,yo[t]);t.startsWith(\"origin\")?(s=!0,i[t]=e):r[t]=e}}if(e.transform||(a||n?r.transform=function(t,e,n){let r=\"\",o=!0;for(let i=0;i<ea;i++){const a=Tn[i],s=t[a];if(void 0===s)continue;let u=!0;if(u=\"number\"==typeof s?s===(a.startsWith(\"scale\")?1:0):0===parseFloat(s),!u||n){const t=Ji(s,yo[a]);u||(o=!1,r+=`${ta[a]||a}(${t}) `),n&&(e[a]=t)}}return r=r.trim(),n?r=n(e,o?\"\":r):o&&(r=\"none\"),r}(e,t.transform,n):r.transform&&(r.transform=\"none\")),s){const{originX:t=\"50%\",originY:e=\"50%\",originZ:n=0}=i;r.transformOrigin=`${t} ${e} ${n}`}}function ra(t,e,n){return\"string\"==typeof t?t:br.transform(e+n*t)}const oa={offset:\"stroke-dashoffset\",array:\"stroke-dasharray\"},ia={offset:\"strokeDashoffset\",array:\"strokeDasharray\"};function aa(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:i,pathLength:a,pathSpacing:s=1,pathOffset:u=0,...c},l,f){if(na(t,c,f),l)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:p,style:d,dimensions:h}=t;p.transform&&(h&&(d.transform=p.transform),delete p.transform),h&&(void 0!==o||void 0!==i||d.transform)&&(d.transformOrigin=function(t,e,n){return`${ra(e,t.x,t.width)} ${ra(n,t.y,t.height)}`}(h,void 0!==o?o:.5,void 0!==i?i:.5)),void 0!==e&&(p.x=e),void 0!==n&&(p.y=n),void 0!==r&&(p.scale=r),void 0!==a&&function(t,e,n=1,r=0,o=!0){t.pathLength=1;const i=o?oa:ia;t[i.offset]=br.transform(-r);const a=br.transform(e),s=br.transform(n);t[i.array]=`${a} ${s}`}(p,a,s,u,!1)}const sa=new Set([\"baseFrequency\",\"diffuseConstant\",\"kernelMatrix\",\"kernelUnitLength\",\"keySplines\",\"keyTimes\",\"limitingConeAngle\",\"markerHeight\",\"markerWidth\",\"numOctaves\",\"targetX\",\"targetY\",\"surfaceScale\",\"specularConstant\",\"specularExponent\",\"stdDeviation\",\"tableValues\",\"viewBox\",\"gradientTransform\",\"pathLength\",\"startOffset\",\"textLength\",\"lengthAdjust\"]);function ua(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const e in n)t.style.setProperty(e,n[e])}function ca(t,e,n,r){ua(t,e,void 0,r);for(const n in e.attrs)t.setAttribute(sa.has(n)?n:Ti(n),e.attrs[n])}const la=t=>\"string\"==typeof t&&\"svg\"===t.toLowerCase();class fa extends Qi{constructor(){super(...arguments),this.type=\"svg\",this.isSVGTag=!1,this.measureInstanceViewportBox=Xi}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(En.has(e)){const t=mo(e);return t&&t.default||0}return e=sa.has(e)?e:Ti(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return Ri(t,e,n)}build(t,e,n){aa(t,e,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,n,r){ca(t,e,0,r)}mount(t){this.isSVGTag=la(t.tagName),super.mount(t)}}function pa(t,e){return function({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}class da extends Qi{constructor(){super(...arguments),this.type=\"html\",this.applyWillChange=!0,this.renderInstance=ua}readValueFromInstance(t,e){if(En.has(e)){const t=mo(e);return t&&t.default||0}{const r=(n=t,window.getComputedStyle(n)),o=(sr(e)?r.getPropertyValue(e):r[e])||0;return\"string\"==typeof o?o.trim():o}var n}measureInstanceViewportBox(t,{transformPagePoint:e}){return pa(t,e)}build(t,e,n){na(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return Mi(t,e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on(\"change\",(t=>{this.current&&(this.current.textContent=`${t}`)})))}}class ha extends Zi{constructor(){super(...arguments),this.type=\"object\"}readValueFromInstance(t,e){if(function(t,e){return t in e}(e,t)){const n=t[e];if(\"string\"==typeof n||\"number\"==typeof n)return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,e){delete e.output[t]}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}build(t,e){Object.assign(t.output,e)}renderInstance(t,{output:e}){Object.assign(t,e)}sortInstanceNodePosition(){return 0}}function ya(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=function(t){return t instanceof SVGElement&&\"svg\"!==t.tagName}(t)?new fa(e):new da(e);n.mount(t),On.set(t,n)}function va(t){const e=new ha({presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}});e.mount(t),On.set(t,e)}function ma(t,e,n,r){const o=[];if(function(t,e){return un(t)||\"number\"==typeof t||\"string\"==typeof t&&!cn(e)}(t,e))o.push(function(t,e,n){const r=un(t)?t:Si(t);return r.start(yi(\"\",r,e,n)),r.animation}(t,cn(e)&&e.default||e,n&&n.default||n));else{const i=ln(t,e,r),a=i.length;Ve(Boolean(a),\"No valid elements provided.\");for(let t=0;t<a;t++){const r=i[t],s=r instanceof Element?ya:va;On.has(r)||s(r);const u=On.get(r),c={...n};\"delay\"in c&&\"function\"==typeof c.delay&&(c.delay=c.delay(t,a)),o.push(...Li(u,{...e,transition:c},{}))}}return o}function ga(t,e,n){const r=[],o=function(t,{defaultTransition:e={},...n}={},r,o){const i=e.duration||.3,a=new Map,s=new Map,u={},c=new Map;let l=0,f=0,p=0;for(let n=0;n<t.length;n++){const a=t[n];if(\"string\"==typeof a){c.set(a,f);continue}if(!Array.isArray(a)){c.set(a.name,pn(f,a.at,l,c));continue}let[d,h,y={}]=a;void 0!==y.at&&(f=pn(f,y.at,l,c));let v=0;const m=(t,n,r,a=0,s=0)=>{const u=Sn(t),{delay:c=0,times:l=sn(u),type:d=\"keyframes\",...h}=n;let{ease:y=e.ease||\"easeOut\",duration:m}=n;const g=\"function\"==typeof c?c(a,s):c,b=u.length,w=fn(d)?d:null==o?void 0:o[d];if(b<=2&&w){let t=100;if(2===b&&An(u)){const e=u[1]-u[0];t=Math.abs(e)}const e={...h};void 0!==m&&(e.duration=Ie(m));const n=nn(e,t,w);y=n.ease,m=n.duration}null!=m||(m=i);const _=f+g,S=_+m;1===l.length&&0===l[0]&&(l[1]=1);const k=l.length-u.length;k>0&&an(l,k),1===u.length&&u.unshift(null),mn(r,u,y,l,_,S),v=Math.max(g+m,v),p=Math.max(S,p)};if(un(d))m(h,y,_n(\"default\",wn(d,s)));else{const t=ln(d,h,r,u),e=t.length;for(let n=0;n<e;n++){const r=wn(t[n],s);for(const t in h)m(h[t],kn(y,t),_n(t,r),n,e)}}l=f,f+=v}return s.forEach(((t,r)=>{for(const o in t){const i=t[o];i.sort(gn);const s=[],u=[],c=[];for(let t=0;t<i.length;t++){const{at:e,value:n,easing:r}=i[t];s.push(n),u.push(on(0,p,e)),c.push(r||\"easeOut\")}0!==u[0]&&(u.unshift(0),s.unshift(s[0]),c.unshift(bn)),1!==u[u.length-1]&&(u.push(1),s.push(null)),a.has(r)||a.set(r,{keyframes:{},transition:{}});const l=a.get(r);l.keyframes[o]=s,l.transition[o]={...e,duration:p,ease:c,times:u,...n}}})),a}(t,e,n,{spring:Je});return o.forEach((({keyframes:t,transition:e},n)=>{r.push(...ma(n,t,e))})),r}const ba=function(t,e,n){let r=[];var o;o=t,r=Array.isArray(o)&&Array.isArray(o[0])?ga(t,e,wa):ma(t,e,n,wa);const i=new Le(r);return wa&&wa.animations.push(i),i};var wa;function _a(t){return _a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},_a(t)}function Sa(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Sa=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,\"_invoke\",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",v={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(C([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==_a(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=p;return function(i,a){if(o===h)throw Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===v)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=h;var c=f(e,n,r);if(\"normal\"===c.type){if(o=r.done?y:d,c.arg===v)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=y,r.method=\"throw\",r.arg=c.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,T(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,v):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function C(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(_a(e)+\" is not iterable\")}return g.prototype=b,o(k,\"constructor\",{value:b,configurable:!0}),o(b,\"constructor\",{value:g,configurable:!0}),g.displayName=c(b,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,\"GeneratorFunction\")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,u,\"Generator\"),c(k,a,(function(){return this})),c(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),v}},e}function ka(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=Aa(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function xa(t){return function(t){if(Array.isArray(t))return Oa(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||Aa(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Aa(t,e){if(t){if(\"string\"==typeof t)return Oa(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oa(t,e):void 0}}function Oa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Pa(r.key),r)}}function Ea(t,e,n){return(e=Pa(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pa(t){var e=function(t,e){if(\"object\"!=_a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=_a(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==_a(e)?e:e+\"\"}var ja=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},Ca=Ea(Ea(Ea({},me,\"25.33%\"),ve,\"50%\"),ge,\"75.66%\"),La=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.sequences=[],this.control=null,this.transformers={},Array.isArray(e)){var r;(r=this.sequences).push.apply(r,xa(e)),this.sequenceOptions=Object.assign({},t.defaultSequenceOptions,n||{})}else{var o=e,i=n||t.defaultOptions;this.sequences.push({props:o,options:i||{}}),this.sequenceOptions=Object.assign({},t.defaultSequenceOptions)}}return function(t,e,n){return e&&Ta(t.prototype,e),n&&Ta(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(t,[{key:\"animate\",value:function(e,n,r){var o=e.scope,i=e.overwrites,a=e.target;return ja(this,void 0,void 0,Sa().mark((function e(){var s=this;return Sa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",new Promise((function(e){ja(s,void 0,void 0,Sa().mark((function s(){var u,c,l,f,p=this;return Sa().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:this.sequenceOptions.sync||e(),u=0;case 2:if(!(u<this.sequenceOptions.repeat)){s.next=22;break}c=ka(this.sequences),s.prev=4,f=Sa().mark((function e(){var r,s,u,c,f,d;return Sa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.value,s=r.props,u=r.options,c=b({},p.propToCSS(n,a.state)),o.current){e.next=4;break}throw new Error(\"No scope found when animating.\");case 4:if(f=o.current,Object.assign(f.style,c),a.state=t.mergeState(a.state,s),d=ba(f,p.propToCSS(n,a.state,i),p.optionsToFramerMotionOptions(u)||{}),p.setControl(d),n.logger.debug(\"Animating\",p.propToCSS(n,a.state,i)),!1!==(null==u?void 0:u.sync)){e.next=14;break}d.then((function(){Object.assign(f.style,p.propToCSS(n,a.state,i)),p.setControl(null)})),e.next=18;break;case 14:return e.next=16,new Promise((function(t){return d.then((function(){return t()}))}));case 16:Object.assign(f.style,p.propToCSS(n,a.state,i)),p.setControl(null);case 18:case\"end\":return e.stop()}}),e)})),c.s();case 7:if((l=c.n()).done){s.next=11;break}return s.delegateYield(f(),\"t0\",9);case 9:s.next=7;break;case 11:s.next=16;break;case 13:s.prev=13,s.t1=s.catch(4),c.e(s.t1);case 16:return s.prev=16,c.f(),s.finish(16);case 19:u++,s.next=2;break;case 22:return s.next=24,A(2);case 24:this.setControl(null),e(),r&&r(a.state);case 27:case\"end\":return s.stop()}}),s,this,[[4,13,16,19]])})))})));case 1:case\"end\":return e.stop()}}),e)})))}},{key:\"repeat\",value:function(t){return this.sequenceOptions.repeat*=t,this}},{key:\"overwrite\",value:function(t,e){return this.transformers[t]=e,this}},{key:\"propToCSS\",value:function(e,n,r){var o,i=(null===(o=e.getLastScene())||void 0===o?void 0:o.config)||{},a=i.invertY,s=i.invertX,u={position:function(e){return t.positionToCSS(e,a,s)},backgroundColor:function(e){return t.backgroundToCSS(e)},backgroundOpacity:function(t){return{opacity:t}},opacity:function(t){return{opacity:t}},scale:function(){return\"scale\"in n?{width:\"\".concat(100*n.scale,\"%\")}:{}},rotation:function(){return{}},display:function(){return{}},src:function(){return{}},fontSize:function(t){return{fontSize:t}},fontColor:function(t){return\"string\"==typeof t?{color:t}:{color:S(t)}}},c={};for(var l in c.transform=t.propToCSSTransform(e,n),this.transformers.transform&&Object.assign(c,this.transformers.transform(n)),r&&r.transform&&Object.assign(c,r.transform(n)),n)Object.prototype.hasOwnProperty.call(n,l)&&(r&&r[l]?Object.assign(c,r[l](n[l])):this.transformers[l]?Object.assign(c,this.transformers[l](n[l])):u[l]&&Object.assign(c,u[l](n[l])));return c}},{key:\"optionsToFramerMotionOptions\",value:function(t){if(!t)return t;var e=t.duration;return{duration:e?e/1e3:0,ease:t.ease}}},{key:\"setControl\",value:function(t){return this.control=t,this}},{key:\"getControl\",value:function(){return this.control}},{key:\"copy\",value:function(){return new t(this.sequences,this.sequenceOptions)}}],[{key:\"isPosition\",value:function(t){return Te.isCommonPositionType(t)||Ee.isCoord2DPosition(t)||Pe.isAlignPosition(t)}},{key:\"positionToCSS\",value:function(t,e,n){return t?Oe.isRawPosition(t)?Oe.D2PositionToCSS(Oe.rawPositionToCoord2D(t),n,e):Oe.D2PositionToCSS(t.toCSS(),n,e):{}}},{key:\"backgroundToCSS\",value:function(t){return null==t?{}:bs.isStaticImageData(t)?{backgroundImage:\"url(\".concat(t.src,\")\")}:\"string\"==typeof t?{backgroundColor:t}:[\"r\",\"g\",\"b\"].every((function(e){return e in t}))?{backgroundColor:S(t)}:{backgroundImage:\"url(\"+t.url+\")\"}}},{key:\"mergePosition\",value:function(t,e){if(!t&&!e)throw new Error(\"No position found.\");return t&&e?Oe.mergePosition(Oe.tryParsePosition(t),Oe.tryParsePosition(e)):Oe.toCoord2D(Oe.tryParsePosition(t||e))}},{key:\"mergeState\",value:function(t,e){var n=this.mergePosition(t.position,e.position);return Object.assign(Object.assign({},b(t,e)),{position:n})}},{key:\"propToCSSTransform\",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t.getLastScene())throw new Error('No scene found in state, make sure you called \"scene.activate()\" before this method.');var o=(null===(n=t.getLastScene())||void 0===n?void 0:n.config)||{},i=o.invertY,a=o.invertX;return[\"translate(\".concat(r[0]||(a?\"\":\"-\")+\"50%\",\", \").concat(r[1]||(i?\"\":\"-\")+\"50%\",\")\"),void 0!==e.rotation&&\"rotate(\".concat(e.rotation,\"deg)\")].filter(Boolean).join(\" \")}}])}();function Ia(t){return Ia=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ia(t)}function Na(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Ma(r.key),r)}}function Ma(t){var e=function(t,e){if(\"object\"!=Ia(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Ia(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Ia(e)?e:e+\"\"}function Ra(t,e,n){return e=Da(e),function(t,e){if(e&&(\"object\"==Ia(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Fa()?Reflect.construct(e,n||[],Da(t).constructor):e.apply(t,n))}function Fa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fa=function(){return!!t})()}function Da(t){return Da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Da(t)}function Ba(t,e){return Ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ba(t,e)}La.defaultSequenceOptions={sync:!0,repeat:1},La.defaultOptions={duration:0,ease:\"linear\"},La.CommonImagePositionMap=Ca;var Va=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Ra(this,e)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Ba(t,e)}(e,t),function(t,e,n){return e&&Na(t.prototype,e),n&&Na(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"do\",value:function(t){return this.push($t.ActionTypes.do,t)}},{key:\"doAsync\",value:function(t){return this.push($t.ActionTypes.doAsync,t)}},{key:\"any\",value:function(t){return this.push($t.ActionTypes.any,t)}},{key:\"all\",value:function(t){return this.push($t.ActionTypes.all,t)}},{key:\"allAsync\",value:function(t){return this.push($t.ActionTypes.allAsync,t)}},{key:\"repeat\",value:function(t,e){return this.push($t.ActionTypes.repeat,e,t)}},{key:\"sleep\",value:function(t){return this.push($t.ActionTypes.sleep,[],t)}},{key:\"push\",value:function(t,e){for(var n=ie.toActions(e),r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=new $t(this.chain(),t,(new xt).setContent([this.construct(n)].concat(o)));return this.chain(a)}}],[{key:\"do\",value:function(t){return(new e).do(t)}},{key:\"doAsync\",value:function(t){return(new e).doAsync(t)}},{key:\"any\",value:function(t){return(new e).any(t)}},{key:\"all\",value:function(t){return(new e).all(t)}},{key:\"allAsync\",value:function(t){return(new e).allAsync(t)}},{key:\"repeat\",value:function(t,n){return(new e).repeat(t,n)}},{key:\"sleep\",value:function(t){return(new e).sleep(t)}}])}(ye);function Ga(t){return Ga=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ga(t)}function Ua(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Ha(r.key),r)}}function Ha(t){var e=function(t,e){if(\"object\"!=Ga(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Ga(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Ga(e)?e:e+\"\"}function za(t,e,n){return e=$a(e),function(t,e){if(e&&(\"object\"==Ga(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Wa()?Reflect.construct(e,n||[],$a(t).constructor):e.apply(t,n))}function Wa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Wa=function(){return!!t})()}function $a(t){return $a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$a(t)}function Ya(t,e){return Ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ya(t,e)}var qa=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(r=za(this,e)).events=new k,r.ref=void 0,\"string\"==typeof t?(r.name=t,r.config=b(e.defaultConfig,n||{}),r.config.position&&(r.config.position=Oe.tryParsePosition(r.config.position))):(r.name=\"\",r.config=b(e.defaultConfig,t),r.config.position&&(r.config.position=Oe.tryParsePosition(r.config.position))),r.state=b({},r.config),r.checkConfig(),r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Ya(t,e)}(e,t),function(t,e,n){return e&&Ua(t.prototype,e),n&&Ua(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"dispose\",value:function(){return this._dispose()}},{key:\"init\",value:function(){return this.chain(this._init())}},{key:\"checkConfig\",value:function(){if(!this.config.src)throw new Error(\"Image src is required\");if(!La.isPosition(this.config.position))throw new Error(\"Invalid position\\nPosition must be one of CommonImagePosition, Align, Coord2D\");return this}},{key:\"setSrc\",value:function(t,e){var n=this;return this.combineActions(new Va,(function(r){if(e){var o=e.copy();o.setSrc(bs.srcToString(t)),r._transitionSrc(o)}var i=new as(r,as.ActionTypes.setSrc,(new xt).setContent([\"string\"==typeof t?t:bs.staticImageDataToSrc(t)]));return r.chain(i).chain(n._flush())}))}},{key:\"applyTransform\",value:function(t){var e=this;return this.combineActions(new Va,(function(n){var r=new as(n,as.ActionTypes.applyTransform,(new xt).setContent([void 0,t.copy(),x()]));return n.chain(r).chain(e._flush())}))}},{key:\"show\",value:function(t){var e=this,n=t instanceof La?t.copy():new La([{props:{opacity:1},options:t||{}}]);return this.combineActions(new Va,(function(t){var r=new as(t,as.ActionTypes.show,(new xt).setContent([void 0,n]));return t.chain(r).chain(e._flush())}))}},{key:\"hide\",value:function(t){var e=this;return this.combineActions(new Va,(function(n){var r=new as(n,as.ActionTypes.hide,(new xt).setContent([void 0,t instanceof La?t.copy():new La([{props:{opacity:0},options:t||{}}])]));return n.chain(r).chain(e._flush())}))}},{key:\"toTransform\",value:function(){return new La(this.state,{duration:0})}},{key:\"setScope\",value:function(t){return this.ref=t,this}},{key:\"getScope\",value:function(){return this.ref}},{key:\"copy\",value:function(){return new e(this.name,this.config)}},{key:\"toData\",value:function(){return this.state.disposed||O(this.state,this.config)?null:{state:b({},e.serializeImageState(this.state))}}},{key:\"fromData\",value:function(t){return this.state=b(this.state,e.deserializeImageState(t.state)),this}},{key:\"_$setDispose\",value:function(){return this.state.disposed=!0,this}},{key:\"_applyTransition\",value:function(t){return this.chain(new as(this.chain(),\"image:applyTransition\",(new xt).setContent([t])))}},{key:\"_init\",value:function(t){return new as(this.chain(),as.ActionTypes.init,(new xt).setContent([t]))}},{key:\"_flush\",value:function(){return new as(this.chain(),as.ActionTypes.flush,new xt)}},{key:\"reset\",value:function(){this.state=b({},this.config)}},{key:\"toDisplayableTransform\",value:function(){return new La(this.state,{duration:0})}},{key:\"_transitionSrc\",value:function(t){var e=t.copy();return this._applyTransition(e),this}},{key:\"_dispose\",value:function(){return this.chain(new as(this.chain(),as.ActionTypes.dispose,new xt))}}],[{key:\"serializeImageState\",value:function(t){var e={position:function(t){return Oe.serializePosition(t)}},n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e[r]?e[r](t[r]):t[r]);return n}},{key:\"deserializeImageState\",value:function(t){var e={position:function(t){return Oe.toCoord2D(t)}},n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e[r]?e[r](t[r]):t[r]);return n}}])}(ye);function Xa(t){return Xa=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Xa(t)}function Ka(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ka=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,\"_invoke\",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",v={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(C([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==Xa(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=p;return function(i,a){if(o===h)throw Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===v)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=h;var c=f(e,n,r);if(\"normal\"===c.type){if(o=r.done?y:d,c.arg===v)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=y,r.method=\"throw\",r.arg=c.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,T(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,v):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function C(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Xa(e)+\" is not iterable\")}return g.prototype=b,o(k,\"constructor\",{value:b,configurable:!0}),o(b,\"constructor\",{value:g,configurable:!0}),g.displayName=c(b,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,\"GeneratorFunction\")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,u,\"Generator\"),c(k,a,(function(){return this})),c(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),v}},e}function Za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Qa(r.key),r)}}function Qa(t){var e=function(t,e){if(\"object\"!=Xa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Xa(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Xa(e)?e:e+\"\"}function Ja(t,e,n){return e=rs(e),function(t,e){if(e&&(\"object\"==Xa(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,ts()?Reflect.construct(e,n||[],rs(t).constructor):e.apply(t,n))}function ts(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ts=function(){return!!t})()}function es(t,e,n,r){var o=ns(rs(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}function ns(){return ns=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=rs(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ns.apply(null,arguments)}function rs(t){return rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rs(t)}function os(t,e){return os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},os(t,e)}qa.EventTypes={\"event:image.init\":\"event:image.init\",\"event:image.mount\":\"event:image.mount\",\"event:image.unmount\":\"event:image.unmount\",\"event:image.ready\":\"event:image.ready\",\"event:image.elementLoaded\":\"event:image.elementLoaded\",\"event:image.flush\":\"event:image.flush\",\"event:image.flushComponent\":\"event:image.flushComponent\",\"event:displayable.applyTransition\":\"event:displayable.applyTransition\",\"event:displayable.applyTransform\":\"event:displayable.applyTransform\",\"event:displayable.init\":\"event:displayable.init\"},qa.defaultConfig={src:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\",display:!1,position:new Te(he.Center),scale:1,rotation:0,opacity:0};var is=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},as=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Ja(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&os(t,e)}(e,t),function(t,e,n){return e&&Za(t.prototype,e),n&&Za(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"executeAction\",value:function(t){var r=this;if(this.type===n.init){var o=t.findElementByImage(this.callee);o&&t.disposeImage(this.callee,o.scene);var i=this.contentNode.getContent()[0];t.createImage(this.callee,i);var a=new w((function(t){return t}));return is(r,void 0,void 0,Ka().mark((function e(){return Ka().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.callee.events.any(\"event:displayable.init\");case 2:a.resolve({type:this.type,node:this.contentNode.getChild()}),t.stage.next();case 4:case\"end\":return e.stop()}}),e,this)}))),a}if(this.type===n.setSrc)return this.callee.state.src=this.contentNode.getContent()[0],t.logger.debug(\"Image - Set Src\",this.callee.state.src),t.stage.update(),es(e,\"executeAction\",this,3)([t]);if([n.show,n.hide,n.applyTransform].includes(this.type)){var s=new w((function(t){return t})).registerSkipController(new E((function(){return r.type===n.hide&&(r.callee.state.display=!1),es(e,\"executeAction\",r,3)([t])}))),u=this.contentNode.getContent()[1];return this.type===n.show&&(this.callee.state.display=!0,t.stage.update()),t.animateImage(qa.EventTypes[\"event:displayable.applyTransform\"],this.callee,[u],(function(){var t;r.type===n.hide&&(r.callee.state.display=!1),s.resolve({type:r.type,node:null===(t=r.contentNode)||void 0===t?void 0:t.getChild()})})),s}if(this.type===n.dispose)return t.disposeImage(this.callee),this.callee._$setDispose(),es(e,\"executeAction\",this,3)([t]);if(this.type===n.applyTransition){var c=new w((function(t){return t})).registerSkipController(new E((function(){return r.type===n.hide&&(r.callee.state.display=!1),{type:r.type,node:r.contentNode.getChild()}}))),l=this.contentNode.getContent()[0];return this.callee.events.any(\"event:displayable.applyTransition\",l).then((function(){c.resolve({type:r.type,node:r.contentNode.getChild()}),t.stage.next()})),c}if(this.type===n.flush)return es(e,\"executeAction\",this,3)([t]);throw es(e,\"unknownType\",this,3)([])}}])}(U);function ss(t,e,n){return e=ps(e),function(t,e){if(e&&(\"object\"==ds(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,ls()?Reflect.construct(e,n||[],ps(t).constructor):e.apply(t,n))}function us(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&fs(t,e)}function cs(t){var e=\"function\"==typeof Map?new Map:void 0;return cs=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf(\"[native code]\")}catch(e){return\"function\"==typeof t}}(t))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(ls())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&fs(o,n.prototype),o}(t,arguments,ps(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),fs(n,t)},cs(t)}function ls(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ls=function(){return!!t})()}function fs(t,e){return fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fs(t,e)}function ps(t){return ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ps(t)}function ds(t){return ds=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ds(t)}function hs(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function ys(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,ms(r.key),r)}}function vs(t,e,n){return e&&ys(t.prototype,e),n&&ys(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function ms(t){var e=function(t,e){if(\"object\"!=ds(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=ds(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==ds(e)?e:e+\"\"}as.ActionTypes=n;var gs=function(){function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;hs(this,t),this.r=e,this.g=n,this.b=r,this.a=o}return vs(t,[{key:\"toString\",value:function(){return\"rgba(\".concat(this.r,\", \").concat(this.g,\", \").concat(this.b,\", \").concat(this.a,\")\")}},{key:\"toHex\",value:function(){return\"#\"+this.r.toString(16)+this.g.toString(16)+this.b.toString(16)}},{key:\"toImageColor\",value:function(){return{r:this.r,g:this.g,b:this.b,a:this.a}}}],[{key:\"isHexString\",value:function(t){return\"string\"==typeof t&&/^#[0-9A-F]{6}$/i.test(t)}},{key:\"fromHex\",value:function(e){var n=e.slice(1);return new t(parseInt(n.slice(0,2),16),parseInt(n.slice(2,4),16),parseInt(n.slice(4,6),16),8===n.length?parseInt(n.slice(6,8),16)/255:1)}}])}(),bs=function(){function t(){hs(this,t)}return vs(t,null,[{key:\"srcToString\",value:function(t){return\"string\"==typeof t?t:t.src}},{key:\"staticImageDataToSrc\",value:function(t){return\"string\"==typeof t?t:t.src}},{key:\"isStaticImageData\",value:function(t){return void 0!==(null==t?void 0:t.src)}},{key:\"backgroundToSrc\",value:function(e){return t.isStaticImageData(e)?e.src:(null==e?void 0:e.url)||null}},{key:\"isExternalSrc\",value:function(t){return t.startsWith(\"http://\")||t.startsWith(\"https://\")}},{key:\"isImageSrc\",value:function(e){return\"string\"==typeof e&&!this.isHexString(e)||t.isStaticImageData(e)}},{key:\"isImageColor\",value:function(e){return t.isHexString(e)||t.isPlainColor(e)}},{key:\"isPlainColor\",value:function(t){return\"string\"==typeof t||\"object\"===ds(t)&&\"r\"in t&&\"g\"in t&&\"b\"in t}},{key:\"isHexString\",value:function(t){return\"string\"==typeof t&&/^#([0-9A-F]{6}|[0-9A-F]{3})$/i.test(t)}},{key:\"toBackgroundSrc\",value:function(t){return\"string\"==typeof t?t:t.src}},{key:\"toHex\",value:function(t){return S(t)}}])}();bs.RGBColor=gs;var ws,_s=function(t){function e(t,n){return hs(this,e),ss(this,e,[t,{info:n},\"NarraLeafReact-StaticScriptWarning\"])}return us(e,t),vs(e,null,[{key:\"isWarning\",value:function(t){return t instanceof e}}])}(function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"UseError\";return hs(this,e),(r=ss(this,e,[t])).props=n,r.name=o,r}return us(e,t),vs(e,null,[{key:\"isUseError\",value:function(t){return t instanceof e}}])}(cs(Error))),Ss=function(){return vs((function t(e){hs(this,t),this.scene=e}),[{key:\"run\",value:function(){if(!this.scene.sceneRoot)return null;var t=new Map,e=new Map,n=[],r=new Set,o=this.scene.getAllChildren(this.scene.sceneRoot);if(!o.length)return null;for(n.push(o[0]);n.length;){var i=n.shift();this.checkAction(i,{imageStates:t,scenes:e},r);var a=i.contentNode.getChild();a&&a.action&&n.push(a.action)}return t}},{key:\"checkAction\",value:function(t,n,r){var o=n.imageStates,i=n.scenes;if(t instanceof as)o.has(t.callee)||o.set(t.callee,{isDisposed:!1,usedExternalSrc:!1}),this.checkImage(o.get(t.callee),t);else if(t instanceof dt){var a=t.callee;if(i.has(a.name)){if(i.get(a.name)!==a){var s=\"Scene with name: \".concat(a.name,\" is duplicated\\nScene: \").concat(a.name,\"\\n\\nAt: \").concat(t.__stack);throw new _s(s)}}else i.set(a.name,a);if(t.type===e.jumpTo){var u=t.contentNode.getContent()[0];if(r.has(u))return;r.add(u)}}}},{key:\"checkImage\",value:function(t,e){if(e.type===n.dispose){if(t.isDisposed){var r=\"Image is disposed multiple times before action: \".concat(e.type,\"\\nImage: \").concat(e.callee.name,\"\\nAction: \").concat(e.type,\"\\n\\nAt: \").concat(e.__stack);throw new _s(r)}t.isDisposed=!0}else if([n.init,n.show,n.hide,n.applyTransform,n.applyTransition].includes(e.type)){if(t.isDisposed){var o=\"Image is disposed before action: \".concat(e.type,\"\\nImage: \").concat(e.callee.name,\"\\nAction: \").concat(e.type,\"\\n\\nAt: \").concat(e.__stack);throw new _s(o)}}else if(e.type===n.setSrc){var i=e.contentNode.getContent()[0];bs.isExternalSrc(i)&&(t.usedExternalSrc=!0)}}}])}();function ks(t){return ks=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ks(t)}function xs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,As(r.key),r)}}function As(t){var e=function(t,e){if(\"object\"!=ks(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=ks(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==ks(e)?e:e+\"\"}function Os(t,e,n){return e=Es(e),function(t,e){if(e&&(\"object\"==ks(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Ts()?Reflect.construct(e,n||[],Es(t).constructor):e.apply(t,n))}function Ts(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ts=function(){return!!t})()}function Es(t){return Es=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Es(t)}function Ps(t,e){return Ps=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ps(t,e)}!function(t){t.soundEffect=\"soundEffect\",t.music=\"music\",t.voice=\"voice\",t.backgroundMusic=\"backgroundMusic\"}(ws||(ws={}));var js=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(t=Os(this,e)).state={playing:null,token:null},t.config=b(e.defaultConfig,\"string\"==typeof n?{src:n}:n),t}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Ps(t,e)}(e,t),function(t,e,n){return e&&xs(t.prototype,e),n&&xs(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"play\",value:function(){if(this.config.type===ws.backgroundMusic)throw new Error(\"Background music cannot be played directly\");return this.pushAction(tt.ActionTypes.play,[void 0])}},{key:\"stop\",value:function(){if(this.config.type===ws.backgroundMusic)throw new Error(\"Background music cannot be stopped directly\");return this.pushAction(tt.ActionTypes.stop,[void 0])}},{key:\"fade\",value:function(t,e,n){if(this.config.type===ws.backgroundMusic)throw new Error(\"Background music cannot be faded directly\");return this.pushAction(tt.ActionTypes.fade,[{start:t,end:e,duration:n}])}},{key:\"setVolume\",value:function(t){return this.pushAction(tt.ActionTypes.setVolume,[t])}},{key:\"setRate\",value:function(t){return this.pushAction(tt.ActionTypes.setRate,[t])}},{key:\"pause\",value:function(t){return void 0!==t?this.fade(void 0,0,t):this.pushAction(tt.ActionTypes.pause,[void 0])}},{key:\"resume\",value:function(t){return void 0!==t?this.fade(0,this.config.volume,t):this.pushAction(tt.ActionTypes.resume,[void 0])}},{key:\"getHowlOptions\",value:function(t){return Object.assign({src:this.config.src,loop:this.config.loop,volume:this.config.volume,html5:this.config.streaming,autoplay:!1},t||{})}},{key:\"getSrc\",value:function(){return this.config.src}},{key:\"getToken\",value:function(){return this.state.token||void 0}},{key:\"getPlaying\",value:function(){return this.state.playing}},{key:\"setToken\",value:function(t){this.state.token=void 0===t?null:t}},{key:\"setPlaying\",value:function(t){return this.state.playing=t,this}},{key:\"toData\",value:function(){return O(this.config,e.defaultConfig)?null:{config:_(this.config)}}},{key:\"fromData\",value:function(t){return this.config=b(this.config,t.config),this}},{key:\"reset\",value:function(){var t;null===(t=this.state.playing)||void 0===t||t.stop(),this.state.playing=null,this.state.token=null}},{key:\"pushAction\",value:function(t,e){return this.chain(new tt(this.chain(),t,(new xt).setContent(e)))}}],[{key:\"toSoundSrc\",value:function(t){return null==t?null:\"string\"==typeof t?t:t.getSrc()}},{key:\"toSound\",value:function(t){return null==t?null:\"string\"==typeof t?new e({src:t}):t}}])}(ye);function Cs(t){return Cs=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Cs(t)}function Ls(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Is(r.key),r)}}function Is(t){var e=function(t,e){if(\"object\"!=Cs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Cs(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Cs(e)?e:e+\"\"}js.defaultConfig={src:\"\",sync:!1,loop:!1,volume:1};var Ns=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.config=e}return function(t,e,n){return e&&Ls(t.prototype,e),n&&Ls(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(t,null,[{key:\"from\",value:function(e){return t.isPauseConstructor(e)?new t:e}},{key:\"wait\",value:function(e){return new t({duration:e})}},{key:\"isPause\",value:function(e){return this.isPauseConstructor(e)||e instanceof t}},{key:\"isPauseConstructor\",value:function(e){return e===t}}])}();function Ms(t){return Ms=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ms(t)}function Rs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Fs(r.key),r)}}function Fs(t){var e=function(t,e){if(\"object\"!=Ms(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Ms(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Ms(e)?e:e+\"\"}var Ds=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.text=e,this.config=b(t.defaultConfig,n)}return function(t,e,n){return e&&Rs(t.prototype,e),n&&Rs(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(t,[{key:\"evaluate\",value:function(e){var n=this;if(Ns.isPause(this.text))return[this];if(\"function\"==typeof this.text){var r=this.text(e);return Array.isArray(r)?r.map((function(r){return t.isWord(r)?r.inherit(n.config).evaluate(e):new t(r,n.config)})).flat():t.isWord(r)?r.inherit(this.config).evaluate(e):[new t(r,this.config)]}return[this]}},{key:\"inherit\",value:function(t){return this.config.color=this.config.color||t.color,this.config.italic=this.config.italic||t.italic,this.config.bold=this.config.bold||t.bold,this}}],[{key:\"isWord\",value:function(e){return e instanceof t}}])}();function Bs(t){return Bs=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Bs(t)}function Vs(t){return function(t){if(Array.isArray(t))return Gs(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return Gs(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gs(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Gs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Us(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Hs(r.key),r)}}function Hs(t){var e=function(t,e){if(\"object\"!=Bs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Bs(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Bs(e)?e:e+\"\"}Ds.defaultConfig={},Ds.defaultColor=\"#000\";var zs=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.text=t.format(e),this.config=b(t.defaultConfig,Object.assign(Object.assign({},n),{voice:js.toSound(n.voice)})),this.state=_(t.defaultState)}return function(t,e,n){return e&&Us(t.prototype,e),n&&Us(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(t,[{key:\"toData\",value:function(){return O(this.state,t.defaultState)?null:{state:_(this.state)}}},{key:\"fromData\",value:function(t){return this.state=b(this.state,t),this}},{key:\"toString\",value:function(){return this.text.map((function(t){return t.text})).join(\"\")}},{key:\"setCharacter\",value:function(t){return this.config.character=t,this}},{key:\"evaluate\",value:function(e){for(var n=[],r=0;r<this.text.length;r++){var o=this.text[r].evaluate(e);n.push.apply(n,Vs(t.formatStaticWord(o)))}return n}},{key:\"copy\",value:function(){return new t(Vs(this.text),this.config)}}],[{key:\"isSentence\",value:function(e){return e instanceof t}},{key:\"toSentence\",value:function(e){return t.isSentence(e)?e:new t(e)}},{key:\"format\",value:function(t){var e=[];if(Array.isArray(t))for(var n=0;n<t.length;n++)e.push(this.formatWord(t[n]));else e.push(this.formatWord(t));return e}},{key:\"formatWord\",value:function(t){return Ds.isWord(t)?t:new Ds(t)}},{key:\"formatStaticWord\",value:function(t,e){var n=this;return Array.isArray(t)?t.map((function(t){return n.formatStaticWord(t,e)})).flat(2):[Ds.isWord(t)?t:new Ds(t,e)]}}])}();function Ws(t){return Ws=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ws(t)}function $s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Ys(r.key),r)}}function Ys(t){var e=function(t,e){if(\"object\"!=Ws(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Ws(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Ws(e)?e:e+\"\"}function qs(t,e,n){return e=Qs(e),function(t,e){if(e&&(\"object\"==Ws(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Xs()?Reflect.construct(e,n||[],Qs(t).constructor):e.apply(t,n))}function Xs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xs=function(){return!!t})()}function Ks(t,e,n,r){var o=Zs(Qs(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}function Zs(){return Zs=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Qs(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Zs.apply(null,arguments)}function Qs(t){return Qs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qs(t)}function Js(t,e){return Js=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Js(t,e)}zs.defaultConfig={color:\"#000\",pause:!0,voice:null,character:null},zs.defaultState={display:!0};var tu=function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,n),qs(this,n,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Js(t,e)}(n,e),function(t,e,n){return e&&$s(t.prototype,e),n&&$s(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(n,[{key:\"executeAction\",value:function(e){var r=this;if(this.type===t.say){var o=new w((function(t){return t})).registerSkipController(new E((function(){return{type:r.type,node:r.contentNode.getChild()}}))),i=this.contentNode.getContent(),a=i.config.voice;return a&&(tt.initSound(e,a),e.playSound(a,(function(){e.stopSound(a)}))),e.createText(this.getId(),i,(function(){a&&e.stopSound(a),o.resolve({type:r.type,node:r.contentNode.getChild()})})),o}if(this.type===t.setName)return this.callee.state.name=this.contentNode.getContent()[0],Ks(n,\"executeAction\",this,3)([e]);throw Ks(n,\"unknownType\",this,3)([])}}])}(U);function eu(t){return eu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},eu(t)}function nu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,ru(r.key),r)}}function ru(t){var e=function(t,e){if(\"object\"!=eu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=eu(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==eu(e)?e:e+\"\"}function ou(t,e,n){return e=au(e),function(t,e){if(e&&(\"object\"==eu(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,iu()?Reflect.construct(e,n||[],au(t).constructor):e.apply(t,n))}function iu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(iu=function(){return!!t})()}function au(t){return au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},au(t)}function su(t,e){return su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},su(t,e)}tu.ActionTypes=t;var uu=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=ou(this,e)).config=b(e.defaultConfig,r),n.state={name:t||\"\"},n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&su(t,e)}(e,t),function(t,e,n){return e&&nu(t.prototype,e),n&&nu(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"say\",value:function(t,e){var n=Array.isArray(t)?new zs(t,Object.assign(Object.assign({},e||{}),{character:this})):(zs.isSentence(t)?t:new zs(t,Object.assign(Object.assign({},e||{}),{character:this}))).copy();n.setCharacter(this);var r=new tu(this.chain(),tu.ActionTypes.say,(new xt).setContent(n));return this.chain(r)}},{key:\"setName\",value:function(t){var e=new tu(this.chain(),tu.ActionTypes.setName,(new xt).setContent([t]));return this.chain(e)}}])}(ye);function cu(t){return cu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},cu(t)}function lu(t){return function(t){if(Array.isArray(t))return fu(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return fu(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fu(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function fu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function pu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,du(r.key),r)}}function du(t){var e=function(t,e){if(\"object\"!=cu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=cu(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==cu(e)?e:e+\"\"}function hu(t,e,n){return e=mu(e),function(t,e){if(e&&(\"object\"==cu(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,yu()?Reflect.construct(e,n||[],mu(t).constructor):e.apply(t,n))}function yu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yu=function(){return!!t})()}function vu(){return vu=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=mu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},vu.apply(null,arguments)}function mu(t){return mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mu(t)}function gu(t,e){return gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gu(t,e)}uu.defaultConfig={color:\"#000\"};var bu=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),hu(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&gu(t,e)}(e,t),function(t,e,n){return e&&pu(t.prototype,e),n&&pu(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"executeAction\",value:function(t){var e,n,r=this.callee.evaluate(this.contentNode.getContent(),{gameState:t});return null===(e=null==r?void 0:r[r.length-1])||void 0===e||e.contentNode.addChild(this.contentNode.getChild()),this.contentNode.addChild((null===(n=null==r?void 0:r[0])||void 0===n?void 0:n.contentNode)||null),{type:this.type,node:this.contentNode.getChild()}}},{key:\"getFutureActions\",value:function(){return[].concat(lu(this.callee._getFutureActions()),lu(function(t,e,n,r){var o=vu(mu(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}(e,\"getFutureActions\",this,3)([])))}}])}(U);function wu(t){return wu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},wu(t)}function _u(t){return function(t){if(Array.isArray(t))return ku(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||Su(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Su(t,e){if(t){if(\"string\"==typeof t)return ku(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ku(t,e):void 0}}function ku(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function xu(t,e,n){return e=Ou(e),function(t,e){if(e&&(\"object\"==wu(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Au()?Reflect.construct(e,n||[],Ou(t).constructor):e.apply(t,n))}function Au(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Au=function(){return!!t})()}function Ou(t){return Ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ou(t)}function Tu(t,e){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tu(t,e)}function Eu(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function Pu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Cu(r.key),r)}}function ju(t,e,n){return e&&Pu(t.prototype,e),n&&Pu(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function Cu(t){var e=function(t,e){if(\"object\"!=wu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=wu(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==wu(e)?e:e+\"\"}bu.ActionTypes={action:\"condition:action\"};var Lu=function(){return ju((function t(e){Eu(this,t),this.handler=e}),[{key:\"evaluate\",value:function(t){var e=t.gameState;return{value:this.handler(this.getCtx({gameState:e}))}}},{key:\"getCtx\",value:function(t){var e=t.gameState;return{gameState:e,game:e.game,liveGame:e.game.getLiveGame(),storable:e.game.getLiveGame().getStorable()}}}])}(),Iu=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Eu(this,e),(t=xu(this,e)).conditions={If:{condition:null,action:null},ElseIf:[],Else:{action:null}},t.config=b(e.defaultConfig,n),t}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Tu(t,e)}(e,t),ju(e,[{key:\"If\",value:function(t,e){if(this.conditions.If.condition)throw new _s(\"IF condition already set\\nYou are trying to set multiple IF conditions for the same condition\");if(this.conditions.ElseIf.length)throw new _s(\"ELSE-IF condition already set\\nYou are trying to set an IF condition after an ELSE-IF condition\");if(this.conditions.Else.action)throw new _s(\"ELSE condition already set\\nYou are trying to set an IF condition after an ELSE condition\");return this.conditions.If.condition=t instanceof Lu?t:new Lu(t),this.conditions.If.action=this.construct(Array.isArray(e)?e:[e]),this.chain()}},{key:\"ElseIf\",value:function(t,e){if(!this.conditions.If.condition)throw new _s(\"IF condition not set\\nYou are trying to set an ELSE-IF condition without an IF condition\");if(this.conditions.Else.action)throw new _s(\"ELSE condition already set\\nYou are trying to set an ELSE-IF condition after an ELSE condition\");return this.conditions.ElseIf.push({condition:t instanceof Lu?t:new Lu(t),action:this.construct(Array.isArray(e)?e:[e])}),this.chain()}},{key:\"Else\",value:function(t){if(!this.conditions.If.condition)throw new _s(\"IF condition not set\\nYou are trying to set an ELSE condition without an IF condition\");if(this.conditions.Else.action)throw new _s(\"ELSE condition already set\\nYou are trying to set multiple ELSE conditions for the same condition\");return this.conditions.Else.action=this.construct(Array.isArray(t)?t:[t]),this.chain()}},{key:\"evaluate\",value:function(t,e){var n,r,o={gameState:e.gameState},i=null===(n=t.If.condition)||void 0===n?void 0:n.evaluate(o);if(null==i?void 0:i.value)return t.If.action||null;var a,s=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=Su(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(t.ElseIf);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=null===(r=u.condition)||void 0===r?void 0:r.evaluate(o);if(null==c?void 0:c.value)return u.action||null}}catch(t){s.e(t)}finally{s.f()}return t.Else.action||null}},{key:\"fromChained\",value:function(t){return[Reflect.construct(bu,[this,bu.ActionTypes.action,(new xt).setContent(t.conditions)])]}},{key:\"construct\",value:function(t,e,n){for(var r,o=ie.toActions(t),i=0;i<o.length;i++){var a=o[i].contentNode,s=null===(r=o[i+1])||void 0===r?void 0:r.contentNode;s&&a.setChild(s),i===o.length-1&&e&&a.setChild(e),0===i&&n&&n.setChild(a)}return o}},{key:\"_getFutureActions\",value:function(){return ie.toActions([].concat(_u(this.conditions.If.action||[]),_u(this.conditions.ElseIf.flatMap((function(t){return t.action||[]}))),_u(this.conditions.Else.action||[])))}}],[{key:\"getInitialState\",value:function(){return{If:{condition:null,action:null},ElseIf:[],Else:{action:null}}}}])}(ye);function Nu(t){return Nu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Nu(t)}function Mu(t){return function(t){if(Array.isArray(t))return Ru(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return Ru(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ru(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ru(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Fu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Du(r.key),r)}}function Du(t){var e=function(t,e){if(\"object\"!=Nu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Nu(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Nu(e)?e:e+\"\"}function Bu(t,e,n){return e=Uu(e),function(t,e){if(e&&(\"object\"==Nu(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Vu()?Reflect.construct(e,n||[],Uu(t).constructor):e.apply(t,n))}function Vu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Vu=function(){return!!t})()}function Gu(){return Gu=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Uu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Gu.apply(null,arguments)}function Uu(t){return Uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uu(t)}function Hu(t,e){return Hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hu(t,e)}Iu.defaultConfig={};var zu=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Bu(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Hu(t,e)}(e,t),function(t,e,n){return e&&Fu(t.prototype,e),n&&Fu(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"executeAction\",value:function(t){var e=this,n=new w((function(t){return t})),r=this.contentNode.getContent();return t.createMenu(r,(function(r){var o,i,a=(null===(o=t.game.getLiveGame().getCurrentAction())||void 0===o?void 0:o.contentNode.getChild())||null;a&&(null===(i=r.action[r.action.length-1])||void 0===i||i.contentNode.addChild(a)),n.resolve({type:e.type,node:r.action[0].contentNode})})),n}},{key:\"getFutureActions\",value:function(){var t=this.contentNode.getContent();return[].concat(Mu(this.callee._getFutureActions(t.choices)),Mu(function(t,e,n,r){var o=Gu(Uu(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}(e,\"getFutureActions\",this,3)([])))}}])}(U);function Wu(t){return Wu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Wu(t)}function $u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Yu(r.key),r)}}function Yu(t){var e=function(t,e){if(\"object\"!=Wu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Wu(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Wu(e)?e:e+\"\"}function qu(t,e,n){return e=Ku(e),function(t,e){if(e&&(\"object\"==Wu(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Xu()?Reflect.construct(e,n||[],Ku(t).constructor):e.apply(t,n))}function Xu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xu=function(){return!!t})()}function Ku(t){return Ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ku(t)}function Zu(t,e){return Zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zu(t,e)}zu.ActionTypes={action:\"menu:action\"};var Qu=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=qu(this,e)).choices=[],n.prompt=zs.isSentence(t)?t:new zs(t),n.config=b(e.defaultConfig,r),n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Zu(t,e)}(e,t),function(t,e,n){return e&&$u(t.prototype,e),n&&$u(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"choose\",value:function(t,e){var n=this.chain();return zs.isSentence(t)&&e||(Ds.isWord(t)||Array.isArray(t)||\"string\"==typeof t)&&e?n.choices.push({prompt:zs.toSentence(t),action:ie.toActions(e)}):\"object\"===Wu(t)&&\"prompt\"in t&&\"action\"in t?n.choices.push({prompt:zs.toSentence(t.prompt),action:ie.toActions(t.action)}):console.warn(\"No valid choice added to menu, \",{arg0:t,arg1:e}),n}},{key:\"fromChained\",value:function(t){return[new zu(this.chain(),zu.ActionTypes.action,(new xt).setContent({prompt:this.prompt,choices:t.constructChoices()}))]}},{key:\"_getFutureActions\",value:function(t){return t.map((function(t){return t.action})).flat(2)}},{key:\"constructNodes\",value:function(t,e,n){for(var r,o=0;o<t.length;o++){var i=t[o].contentNode,a=null===(r=t[o+1])||void 0===r?void 0:r.contentNode;a&&i.setChild(a),o===this.choices.length-1&&e&&i.setChild(e),0===o&&n&&n.setChild(i)}return t}},{key:\"constructChoices\",value:function(){var t=this;return this.choices.map((function(e){return{action:t.constructNodes(e.action),prompt:e.prompt}}))}}])}(ye);function Ju(t){return Ju=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ju(t)}function tc(t){return function(t){if(Array.isArray(t))return ec(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return ec(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ec(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function ec(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function nc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,rc(r.key),r)}}function rc(t){var e=function(t,e){if(\"object\"!=Ju(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Ju(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Ju(e)?e:e+\"\"}function oc(t,e,n){return e=ac(e),function(t,e){if(e&&(\"object\"==Ju(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,ic()?Reflect.construct(e,n||[],ac(t).constructor):e.apply(t,n))}function ic(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ic=function(){return!!t})()}function ac(t){return ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ac(t)}function sc(t,e){return sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sc(t,e)}Qu.defaultConfig={},Qu.targetAction=zu;var uc=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),oc(this,e)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&sc(t,e)}(e,t),function(t,e,n){return e&&nc(t.prototype,e),n&&nc(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"fromChained\",value:function(t){return t.getActions()}},{key:\"forEachChild\",value:function(t,e){var n=new Set,r=[];for(Array.isArray(t)?r.push.apply(r,tc(t)):r.push(t);r.length;){var o=r.shift();if(!n.has(o)){n.add(o),e(o);var i=o.getFutureActions().filter((function(t){return!n.has(t)}));r.push.apply(r,tc(i))}}}},{key:\"getAllChildren\",value:function(t){var e=[];return this.forEachChild(t,(function(t){return e.push(t)})),e}},{key:\"getAllChildrenMap\",value:function(t){var e=new Map;return this.forEachChild(t,(function(t){return e.set(t.getId(),t)})),e}},{key:\"getAllElementMap\",value:function(t){var e=new Map;return this.forEachChild(t,(function(t){return e.set(t.callee.getId(),t.callee)})),e}},{key:\"getAllChildrenElements\",value:function(t){return Array.from(new Set(this.getAllChildren(t).map((function(t){return t.callee}))))}},{key:\"toData\",value:function(){return null}},{key:\"constructNodes\",value:function(t,e){for(var n,r=0;r<t.length;r++){var o=t[r];0===r&&e?e.setChild(o.contentNode):r>0&&(null===(n=t[r-1].contentNode)||void 0===n||n.setChild(o.contentNode))}return t.length?t[0].contentNode:null}}])}(ae);function cc(t){return cc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},cc(t)}function lc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,fc(r.key),r)}}function fc(t){var e=function(t,e){if(\"object\"!=cc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=cc(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==cc(e)?e:e+\"\"}var pc=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.src=[],this.future=[]}return function(t,e,n){return e&&lc(t.prototype,e),n&&lc(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(t,[{key:\"register\",value:function(t,e){var n=this;if(Array.isArray(t))t.forEach((function(t){return n.register(t)}));else if(t instanceof js){if(this.isSrcRegistered(t.getSrc()))return this;this.src.push({type:\"audio\",src:t})}else if(t instanceof qa||bs.isStaticImageData(t)){if(t instanceof qa){if(this.isSrcRegistered(bs.srcToString(t.state.src)))return this}else if(this.isSrcRegistered(bs.srcToString(t.src)))return this;this.src.push({type:\"image\",src:t instanceof qa?t:new qa(\"\",{src:bs.staticImageDataToSrc(t)})})}else if(\"object\"===cc(t)){if(this.isSrcRegistered(t.src||\"\"))return this;this.src.push(t)}else if(\"audio\"===t){if(this.isSrcRegistered(e||\"\"))return this;this.src.push({type:t,src:e instanceof js?e:new js({src:e})})}else{if(this.isSrcRegistered(e||\"\"))return this;this.src.push({type:t,src:e})}return this}},{key:\"isSrcRegistered\",value:function(e){var n=e instanceof js?e.getSrc():e;return this.src.some((function(e){return e.type===t.SrcTypes.audio?n===e.src.getSrc():e.type===t.SrcTypes.image?n===bs.srcToString(e.src.state.src):n===e.src}))}},{key:\"getSrc\",value:function(){return this.src}},{key:\"getSrcByType\",value:function(t){return this.src.filter((function(e){return e.type===t}))}},{key:\"registerFuture\",value:function(t){return this.future.includes(t)||this.hasFuture(t)||this.future.push(t),this}},{key:\"hasFuture\",value:function(t){return this.future.includes(t)}}])}();function dc(t){return dc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},dc(t)}function hc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,yc(r.key),r)}}function yc(t){var e=function(t,e){if(\"object\"!=dc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=dc(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==dc(e)?e:e+\"\"}function vc(t,e,n){return e=wc(e),function(t,e){if(e&&(\"object\"==dc(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,mc()?Reflect.construct(e,n||[],wc(t).constructor):e.apply(t,n))}function mc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mc=function(){return!!t})()}function gc(t,e,n,r){var o=bc(wc(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}function bc(){return bc=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=wc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},bc.apply(null,arguments)}function wc(t){return wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wc(t)}function _c(t,e){return _c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_c(t,e)}pc.SrcTypes={image:\"image\",video:\"video\",audio:\"audio\"};var Sc=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),vc(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&_c(t,e)}(e,t),function(t,e,n){return e&&hc(t.prototype,e),n&&hc(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"executeAction\",value:function(t){var n=this;if(this.type===s.init){var r=t.findElementByDisplayable(this.callee);r&&t.disposeDisplayable(this.callee,r.scene);var o=this.contentNode.getContent()[0];t.createDisplayable(this.callee,o);var i=new w((function(t){return t}));return this.callee.events.any(\"event:displayable.init\").then((function(){i.resolve({type:n.type,node:n.contentNode.getChild()}),t.stage.next()})),i}if([s.show,s.hide,s.applyTransform].includes(this.type)){var a=new w((function(t){return t})).registerSkipController(new E((function(){return n.type===s.hide&&(n.callee.state.display=!1),gc(e,\"executeAction\",n,3)([t])}))),u=this.contentNode.getContent()[0];return this.type===s.show&&(this.callee.state.display=!0,t.stage.update()),t.animateText(Qc.EventTypes[\"event:displayable.applyTransform\"],this.callee,[u],(function(){n.type===s.hide&&(n.callee.state.display=!1),a.resolve(gc(e,\"executeAction\",n,3)([t]))})),a}if(this.type===s.setText)return this.callee.state.text=this.contentNode.getContent()[0],gc(e,\"executeAction\",this,3)([t]);if(this.type===s.setFontSize){this.callee.state.fontSize=this.contentNode.getContent()[0];var c=new La([],{duration:0}),l=new w;return t.animateText(Qc.EventTypes[\"event:displayable.applyTransform\"],this.callee,[c],(function(){l.resolve(gc(e,\"executeAction\",n,3)([t]))})),l}if(this.type===s.applyTransition){var f=(new w).registerSkipController(new E((function(){return t.logger.info(\"NarraLeaf-React: Text Transition\",\"Skipped\"),{type:n.type,node:n.contentNode.getChild()}}))),p=this.contentNode.getContent()[0];return this.callee.events.any(\"event:displayable.applyTransition\",p).then((function(){f.resolve({type:n.type,node:n.contentNode.getChild()}),t.stage.next()})),f}throw gc(e,\"unknownType\",this,3)([])}}])}(U);Sc.ActionTypes=s;var kc={start:\"start\",update:\"update\",end:\"end\"};function xc(t){return xc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},xc(t)}function Ac(t,e,n){return e=Tc(e),function(t,e){if(e&&(\"object\"==xc(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Oc()?Reflect.construct(e,n||[],Tc(t).constructor):e.apply(t,n))}function Oc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Oc=function(){return!!t})()}function Tc(t){return Tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tc(t)}function Ec(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Pc(t,e)}function Pc(t,e){return Pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pc(t,e)}function jc(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function Cc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Ic(r.key),r)}}function Lc(t,e,n){return e&&Cc(t.prototype,e),n&&Cc(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function Ic(t){var e=function(t,e){if(\"object\"!=xc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=xc(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==xc(e)?e:e+\"\"}var Nc=function(){return Lc((function t(){jc(this,t),this.events=new k}),[{key:\"start\",value:function(t){throw new Error(\"Method not implemented.\")}},{key:\"toElementProps\",value:function(){throw new Error(\"Method not implemented.\")}},{key:\"copy\",value:function(){throw new Error(\"Method not implemented.\")}},{key:\"requestAnimation\",value:function(t,e,n){var r=this,o=t.start,i=t.end,a=t.duration,s=e.onComplete,u=e.onUpdate;return this.events.emit(kc.start,null),this.controller=ba(o,i,Object.assign({duration:a/1e3,onUpdate:function(t){u&&u(t),r.events.emit(kc.update,r.toElementProps())},onComplete:function(){r.controller=void 0,r.events.emit(kc.end,null),s&&s()}},n)),this.controller}}])}(),Mc=function(t){function e(){return jc(this,e),Ac(this,e,arguments)}return Ec(e,t),Lc(e,[{key:\"setSrc\",value:function(t){throw new Error(\"Method not implemented.\")}},{key:\"copy\",value:function(){throw new Error(\"Method not implemented.\")}}])}(Nc),Rc=function(t){function e(){return jc(this,e),Ac(this,e,arguments)}return Ec(e,t),Lc(e,[{key:\"copy\",value:function(){throw new Error(\"Method not implemented.\")}}])}(Nc);function Fc(t){return Fc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Fc(t)}function Dc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Bc(r.key),r)}}function Bc(t){var e=function(t,e){if(\"object\"!=Fc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Fc(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Fc(e)?e:e+\"\"}function Vc(t,e,n){return e=Uc(e),function(t,e){if(e&&(\"object\"==Fc(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Gc()?Reflect.construct(e,n||[],Uc(t).constructor):e.apply(t,n))}function Gc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Gc=function(){return!!t})()}function Uc(t){return Uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uc(t)}function Hc(t,e){return Hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hc(t,e)}var zc=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3?arguments[3]:void 0;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(r=Vc(this,e)).state={fontSize:0},r.startValue=t,r.endValue=n,r.duration=o,r.easing=i,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Hc(t,e)}(e,t),function(t,e,n){return e&&Dc(t.prototype,e),n&&Dc(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"start\",value:function(t){var e=this;this.state.fontSize=this.startValue,this.requestAnimation({start:this.startValue,end:this.endValue,duration:this.duration},{onComplete:function(){e.state.fontSize=e.endValue,t&&t()},onUpdate:function(t){e.state.fontSize=t}},{ease:this.easing})}},{key:\"toElementProps\",value:function(){return[{style:{fontSize:this.state.fontSize}}]}},{key:\"copy\",value:function(){return new e(this.startValue,this.endValue,this.duration,this.easing)}}])}(Rc);function Wc(t){return Wc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Wc(t)}function $c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Yc(r.key),r)}}function Yc(t){var e=function(t,e){if(\"object\"!=Wc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Wc(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Wc(e)?e:e+\"\"}function qc(t,e,n){return e=Kc(e),function(t,e){if(e&&(\"object\"==Wc(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Xc()?Reflect.construct(e,n||[],Kc(t).constructor):e.apply(t,n))}function Xc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xc=function(){return!!t})()}function Kc(t){return Kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kc(t)}function Zc(t,e){return Zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zc(t,e)}zc.Frames=[1,0];var Qc=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=qc(this,e)).events=new k,n.config=\"string\"==typeof t?b({},e.defaultConfig,r,{text:t}):b({},e.defaultConfig,t),n.state=b({},n.config),n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Zc(t,e)}(e,t),function(t,e,n){return e&&$c(t.prototype,e),n&&$c(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"applyTransform\",value:function(t){var e=this.chain(),n=new Sc(e,Sc.ActionTypes.applyTransform,(new xt).setContent([t.copy()]));return e.chain(n)}},{key:\"applyTransition\",value:function(t){var e=this.chain(),n=this._applyTransition(e,t);return e.chain(n)}},{key:\"show\",value:function(t){var e=this.chain(),n=t instanceof La?t.copy():new La([{props:{opacity:1},options:t||{}}]),r=new Sc(e,Sc.ActionTypes.show,(new xt).setContent([n]));return e.chain(r)}},{key:\"hide\",value:function(t){var e=this.chain(),n=t instanceof La?t.copy():new La([{props:{opacity:1},options:t||{}}]),r=new Sc(e,Sc.ActionTypes.hide,(new xt).setContent([n]));return e.chain(r)}},{key:\"setText\",value:function(t){var e=this.chain(),n=new Sc(e,Sc.ActionTypes.setText,(new xt).setContent([t]));return e.chain(n)}},{key:\"setFontSize\",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return this.combineActions(new Va,(function(o){if(n){var i=new zc(e.state.fontSize,t,n,r);o.chain(e._applyTransition(o,i))}var a=new Sc(o,Sc.ActionTypes.setFontSize,(new xt).setContent([t]));return o.chain(a)}))}},{key:\"toData\",value:function(){return{state:b({},qa.serializeImageState(this.state))}}},{key:\"fromData\",value:function(t){return this.state=b({},qa.deserializeImageState(t.state)),this}},{key:\"toTransform\",value:function(){return new La(this.state,{duration:0})}},{key:\"toDisplayableTransform\",value:function(){return new La(this.state,{duration:0})}},{key:\"_init\",value:function(t){return new Sc(this.chain(),Sc.ActionTypes.init,(new xt).setContent([t]))}},{key:\"_applyTransition\",value:function(t,e){return new Sc(t,Sc.ActionTypes.applyTransition,(new xt).setContent([e]))}}])}(ye);function Jc(t){return Jc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Jc(t)}function tl(t){return function(t){if(Array.isArray(t))return el(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return el(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?el(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function el(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function nl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,rl(r.key),r)}}function rl(t){var e=function(t,e){if(\"object\"!=Jc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Jc(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Jc(e)?e:e+\"\"}function ol(t,e,n){return e=sl(e),function(t,e){if(e&&(\"object\"==Jc(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,il()?Reflect.construct(e,n||[],sl(t).constructor):e.apply(t,n))}function il(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(il=function(){return!!t})()}function al(){return al=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=sl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},al.apply(null,arguments)}function sl(t){return sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sl(t)}function ul(t,e){return ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ul(t,e)}Qc.EventTypes={\"event:text.show\":\"event:text.show\",\"event:text.hide\":\"event:text.hide\",\"event:displayable.applyTransition\":\"event:displayable.applyTransition\",\"event:displayable.applyTransform\":\"event:displayable.applyTransform\",\"event:displayable.init\":\"event:displayable.init\"},Qc.defaultConfig={position:new Te(Te.Positions.Center),scale:1,rotation:0,opacity:0,alignX:\"center\",alignY:\"center\",fontSize:16,fontColor:\"#000000\",display:!1,text:\"\"};var cl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},ll=function(t){function r(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.defaultConfig;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),(e=ol(this,r)).srcManager=new pc,e.events=new k,e.name=t;var o=b(r.defaultConfig,n),i=o.background,a=cl(o,[\"background\"]);return e.config=Object.assign(Object.assign({},a),{backgroundImage:new qa({opacity:1}),background:i||null}),e.state=b(e.config,{}),e}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&ul(t,e)}(r,t),function(t,e,n){return e&&nl(t.prototype,e),n&&nl(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(r,[{key:\"toBackground\",value:function(t){if(bs.isImageSrc(t)||bs.isImageColor(t))return t;if(t instanceof gs)return t.toImageColor();throw new Error(\"Invalid background type\")}},{key:\"activate\",value:function(){return this.chain(this._init(this))}},{key:\"deactivate\",value:function(){return this.chain(this._exit())}},{key:\"setBackground\",value:function(t,e){var n=this;return this.combineActions(new Va,(function(r){if(e){var o=e.copy();o.setSrc(n.toBackground(t)),r._transitionToScene(void 0,o,n.toBackground(t))}return r.chain(new dt(r,\"scene:setBackground\",(new xt).setContent([t])))}))}},{key:\"applyTransform\",value:function(t){return this.chain(new dt(this.chain(),\"scene:applyTransform\",(new xt).setContent([t.copy()])))}},{key:\"jumpTo\",value:function(t,e){var n=this;return this.combineActions(new Va,(function(r){var o=e||{};return r.chain(new dt(r,\"scene:preUnmount\",(new xt).setContent([])))._transitionToScene(t,o.transition).chain(t._init()).chain(n._exit())._jumpTo(t)}))}},{key:\"sleep\",value:function(t){return this.chain(new dt(this.chain(),\"scene:sleep\",(new xt).setContent(t)))}},{key:\"setBackgroundMusic\",value:function(t,n){return this.chain(new dt(this.chain(),e.setBackgroundMusic,(new xt).setContent([t,n])))}},{key:\"toData\",value:function(){var t;return{state:Object.assign(Object.assign({},_(this.state)),{backgroundMusic:null===(t=this.state.backgroundMusic)||void 0===t?void 0:t.toData(),background:this.state.background}),backgroundImageState:this.state.backgroundImage.toData()}}},{key:\"fromData\",value:function(t){return this.state=b(this.state,t.state),t.state.backgroundMusic&&(this.state.backgroundMusic=(new js).fromData(t.state.backgroundMusic)),t.backgroundImageState&&this.state.backgroundImage.fromData(t.backgroundImageState),this}},{key:\"getInitTransform\",value:function(){return new La([{props:Object.assign(Object.assign({},this.state.backgroundImage.state),{opacity:1}),options:{duration:0}}])}},{key:\"action\",value:function(t){var e=(Array.isArray(t)?t.flat(2):t(this).flat(2)).map((function(t){return ie.isChained(t)?t.fromChained(t):t})).flat(2),n=[],o=[];this.getAllChildrenElements(e).forEach((function(t){ie.isChained(t)||(t instanceof qa?n.push(t):t instanceof Qc&&o.push(t))}));var i=[this._init(this)].concat(tl(n.map((function(t){return t._init()}))),tl(o.map((function(t){return t._init()}))),tl(e)),a=function(t,e,n,r){var o=al(sl(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}(r,\"constructNodes\",this,3)([i]),s=new xt(void 0,void 0,a||void 0).setContent(this);return null==a||a.setParent(s),this.sceneRoot=new dt(this.chain(),\"scene:action\",s),this}},{key:\"registerSrc\",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;if(this.sceneRoot){var o=new Set,i=new Set,a=[this.sceneRoot],s=new Set;for(bs.isImageSrc(this.config.background)&&this.srcManager.register(new qa({src:bs.toBackgroundSrc(this.config.background)}));a.length;){var u=a.shift();if(!o.has(u)){if(o.add(u),u instanceof dt){if(u.type===e.jumpTo){var c=u,l=c.contentNode.getContent()[0];if(i.has(c)||r.has(l))continue;i.add(c),s.add(l),r.add(l)}}else if(u instanceof as){var f=u;if(this.srcManager.register(f.callee),u.type===n.setSrc){var p=u.contentNode.getContent()[0];this.srcManager.register(new qa({src:p}))}}else if(u instanceof tt)this.srcManager.register(u.callee);else if(u instanceof $t){var d=u.getFutureActions();a.push.apply(a,tl(d))}a.push.apply(a,tl(u.getFutureActions()))}}s.forEach((function(e){e.registerSrc(r),t.srcManager.registerFuture(e.srcManager)}))}}},{key:\"assignActionId\",value:function(){this.getAllChildren(this.sceneRoot||[]).forEach((function(t,e){t.setId(\"action-\".concat(e))}))}},{key:\"assignElementId\",value:function(){this.getAllChildrenElements(this.sceneRoot||[]).forEach((function(t,e){t.setId(\"element-\".concat(e))}))}},{key:\"reset\",value:function(){this.state=b(r.defaultState,this.config),this.state.backgroundImage.reset()}},{key:\"toDisplayableTransform\",value:function(){return this.state.backgroundImage.toDisplayableTransform()}},{key:\"_applyTransition\",value:function(t){return this.chain(new dt(this.chain(),\"scene:applyTransition\",(new xt).setContent([t])))}},{key:\"_jumpTo\",value:function(t){return this.chain(new dt(this.chain(),\"scene:jumpTo\",(new xt).setContent([t])))}},{key:\"_exit\",value:function(){return new dt(this.chain(),\"scene:exit\",(new xt).setContent([]))}},{key:\"_transitionToScene\",value:function(t,e,n){var r=this.chain();if(e){var o=e.copy();t&&t.config.background&&o.setSrc(t.config.background),n&&o.setSrc(n),r._applyTransition(o)}return r}},{key:\"_init\",value:function(){return new dt((arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).chain(),\"scene:init\",(new xt).setContent([]))}}])}(uc);function fl(t){return fl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},fl(t)}function pl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,dl(r.key),r)}}function dl(t){var e=function(t,e){if(\"object\"!=fl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=fl(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==fl(e)?e:e+\"\"}function hl(t,e,n){return e=ml(e),function(t,e){if(e&&(\"object\"==fl(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,yl()?Reflect.construct(e,n||[],ml(t).constructor):e.apply(t,n))}function yl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yl=function(){return!!t})()}function vl(){return vl=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=ml(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},vl.apply(null,arguments)}function ml(t){return ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ml(t)}function gl(t,e){return gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gl(t,e)}ll.EventTypes={\"event:scene.remove\":\"event:scene.remove\",\"event:scene.load\":\"event:scene.load\",\"event:scene.unload\":\"event:scene.unload\",\"event:scene.mount\":\"event:scene.mount\",\"event:scene.unmount\":\"event:scene.unmount\",\"event:scene.preUnmount\":\"event:scene.preUnmount\",\"event:scene.imageLoaded\":\"event:scene.imageLoaded\",\"event:scene.setBackgroundMusic\":\"event:scene.setBackgroundMusic\",\"event:displayable.applyTransition\":\"event:displayable.applyTransition\",\"event:displayable.applyTransform\":\"event:displayable.applyTransform\",\"event:displayable.init\":\"event:displayable.init\"},ll.defaultConfig={invertY:!1,invertX:!1,backgroundMusic:null,backgroundMusicFade:0},ll.defaultState={};var bl=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),hl(this,e,arguments)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&gl(t,e)}(e,t),function(t,e,n){return e&&pl(t.prototype,e),n&&pl(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"executeAction\",value:function(t){return this.contentNode.getContent().execute({gameState:t}),function(t,e,n,r){var o=vl(ml(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof o?function(t){return o.apply(n,t)}:o}(e,\"executeAction\",this,3)([t])}}])}(U);function wl(t){return wl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},wl(t)}function _l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Sl(r.key),r)}}function Sl(t){var e=function(t,e){if(\"object\"!=wl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=wl(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==wl(e)?e:e+\"\"}function kl(t,e,n){return e=Ol(e),xl(t,Al()?Reflect.construct(e,n||[],Ol(t).constructor):e.apply(t,n))}function xl(t,e){if(e&&(\"object\"==wl(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function Al(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Al=function(){return!!t})()}function Ol(t){return Ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ol(t)}function Tl(t,e){return Tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tl(t,e)}bl.ActionTypes={action:\"script:action\"};var El=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=kl(this,e)).handler=t,xl(n,n.chain())}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Tl(t,e)}(e,t),function(t,e,n){return e&&_l(t.prototype,e),n&&_l(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"execute\",value:function(t){var n=t.gameState;this.handler(e.getCtx({gameState:n}))}},{key:\"fromChained\",value:function(t){return[new bl(this.chain(),bl.ActionTypes.action,(new xt).setContent(t))]}}],[{key:\"getCtx\",value:function(t){var e=t.gameState;return{gameState:e,game:e.game,liveGame:e.game.getLiveGame(),storable:e.game.getLiveGame().getStorable()}}}])}(ye);function Pl(t){return Pl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Pl(t)}function jl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Cl(r.key),r)}}function Cl(t){var e=function(t,e){if(\"object\"!=Pl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Pl(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Pl(e)?e:e+\"\"}function Ll(t,e,n){return e=Nl(e),function(t,e){if(e&&(\"object\"==Pl(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Il()?Reflect.construct(e,n||[],Nl(t).constructor):e.apply(t,n))}function Il(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Il=function(){return!!t})()}function Nl(t){return Nl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nl(t)}function Ml(t,e){return Ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ml(t,e)}var Rl=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=Ll(this,e)).entryScene=null,n.name=t,n.config=b(e.defaultConfig,r),n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Ml(t,e)}(e,t),function(t,e,n){return e&&jl(t.prototype,e),n&&jl(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"entry\",value:function(t){return this.entryScene=t,this}},{key:\"constructStory\",value:function(){var t=this.entryScene;if(!t)throw new Error(\"Story must have an entry scene\");return t.registerSrc(),t.assignActionId(),t.assignElementId(),this.runStaticCheck(t),this}},{key:\"getAllElementStates\",value:function(){var t;return this.getAllChildrenElements((null===(t=this.entryScene)||void 0===t?void 0:t.sceneRoot)||[]).map((function(t){return{id:t.getId(),data:t.toData()}})).filter((function(t){return!!t.data}))}},{key:\"runStaticCheck\",value:function(t){return new Ss(t).run()}}])}(uc);function Fl(t){return Fl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Fl(t)}function Dl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Bl(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bl(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Bl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Vl(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function Gl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Hl(r.key),r)}}function Ul(t,e,n){return e&&Gl(t.prototype,e),n&&Gl(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function Hl(t){var e=function(t,e){if(\"object\"!=Fl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Fl(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Fl(e)?e:e+\"\"}Rl.defaultConfig={};var zl=function(){function t(e,n,r){Vl(this,t),this.name=e,this.key=r||e,this.content=b({},n)}return Ul(t,[{key:\"set\",value:function(e,n){return t.isSerializable(n)?(this.content[e]=n,this):(console.warn('Value \"'.concat(n,'\" in key \"').concat(String(e),'\" is not serializable, and will not be set\\nat namespace \"').concat(this.name,'\"')),this.content[e]=n,this)}},{key:\"get\",value:function(t){return this.content[t]}},{key:\"toData\",value:function(){return this.serialize()}},{key:\"load\",value:function(t){t?this.content=t:console.warn(\"No data to load\")}},{key:\"serialize\",value:function(){var t=this,e={};return Object.entries(this.content).forEach((function(n){var r=Dl(n,2),o=r[0],i=r[1];e[o]=t.wrap(i)})),e}},{key:\"deserialize\",value:function(t){var e=this;t?Object.entries(t).forEach((function(t){var n=Dl(t,2),r=n[0],o=n[1];e.content[r]=e.unwrap(o)})):console.warn(\"No data to load\")}},{key:\"toTypeName\",value:function(t){return t instanceof Date?\"date\":\"any\"}},{key:\"wrap\",value:function(t){return{any:function(t){return{type:\"any\",data:t}},date:function(t){return{type:\"date\",data:t.toString()}}}[this.toTypeName(t)](t)}},{key:\"unwrap\",value:function(t){var e={any:function(t){return t.data},date:function(t){return new Date(t.data)}};return e[t.type](t)}}],[{key:\"isSerializable\",value:function(e){return!![\"number\",\"string\",\"boolean\"].includes(Fl(e))||(e instanceof Date||(null==e||(Array.isArray(e)?e.every(t.isSerializable):\"object\"===Fl(e)&&(Object.getPrototypeOf(e)===Object.prototype&&Object.values(e).every(t.isSerializable)))))}}])}(),Wl=function(){return Ul((function t(){Vl(this,t),this.namespaces={}}),[{key:\"addNamespace\",value:function(t){return this.namespaces[t.key]&&console.warn(\"Namespace \".concat(t.key,\" already exists\")),this.namespaces[t.key]=t,this}},{key:\"getNamespace\",value:function(t){return this.namespaces[t]}},{key:\"setNamespace\",value:function(t,e){return this.namespaces[t]=e,this}},{key:\"getNamespaces\",value:function(){return this.namespaces}},{key:\"keys\",value:function(){return Object.keys(this.namespaces)}},{key:\"values\",value:function(){return Object.values(this.namespaces)}},{key:\"entries\",value:function(){return Object.entries(this.namespaces)}},{key:\"toData\",value:function(){return this.entries().reduce((function(t,e){var n=Dl(e,2),r=n[0],o=n[1];return t[r]=o.toData(),t}),{})}},{key:\"load\",value:function(t){var e=this;t?Object.entries(t).forEach((function(t){var n=Dl(t,2),r=n[0],o=n[1];e.namespaces[r]?e.namespaces[r].load(o):console.warn(\"Namespace \".concat(r,\" not found in \").concat(e.constructor.name))})):console.warn(\"No data to load\")}},{key:\"clear\",value:function(){return this.namespaces={},this}}])}(),$l=o(196);function Yl(t){return Yl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Yl(t)}function ql(t){return function(t){if(Array.isArray(t))return Zl(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||Kl(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Xl(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Xl=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,\"_invoke\",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",v={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(C([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==Yl(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=p;return function(i,a){if(o===h)throw Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===v)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=h;var c=f(e,n,r);if(\"normal\"===c.type){if(o=r.done?y:d,c.arg===v)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=y,r.method=\"throw\",r.arg=c.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,T(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,v):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function C(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Yl(e)+\" is not iterable\")}return g.prototype=b,o(k,\"constructor\",{value:b,configurable:!0}),o(b,\"constructor\",{value:g,configurable:!0}),g.displayName=c(b,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,\"GeneratorFunction\")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,u,\"Generator\"),c(k,a,(function(){return this})),c(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),v}},e}function Kl(t,e){if(t){if(\"string\"==typeof t)return Zl(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zl(t,e):void 0}}function Zl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ql(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Jl(r.key),r)}}function Jl(t){var e=function(t,e){if(\"object\"!=Yl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Yl(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Yl(e)?e:e+\"\"}var tf=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},ef=function(){return function(t,e,n){return e&&Ql(t.prototype,e),n&&Ql(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.state={sounds:[],srcManagers:[],elements:[]},this.currentHandling=null,this.stage=n,this.game=e,this.events=new k,this.logger=new T(e,\"NarraLeaf-React\")}),[{key:\"findElementByScene\",value:function(t){return this.state.elements.find((function(e){return e.scene===t}))||null}},{key:\"findElementByImage\",value:function(t){return this.state.elements.find((function(e){return e.ele.images.includes(t)}))||null}},{key:\"findElementByDisplayable\",value:function(t){return this.state.elements.find((function(e){return e.ele.displayable.includes(t)}))||null}},{key:\"addScene\",value:function(t){return this.sceneExists(t)||this.state.elements.push({scene:t,ele:this.getElementMap()}),this}},{key:\"popScene\",value:function(){var t=this.state.elements.pop();return t?(this.removeElements(t.scene),this):this}},{key:\"removeScene\",value:function(t){return this.removeElements(t),this}},{key:\"getSceneElements\",value:function(){return this.state.elements}},{key:\"getLastScene\",value:function(){var t;return(null===(t=this.state.elements[this.state.elements.length-1])||void 0===t?void 0:t.scene)||null}},{key:\"sceneExists\",value:function(t){return t?this.state.elements.some((function(e){return e.scene===t})):!!this.getLastScene()}},{key:\"isSceneActive\",value:function(t){var e,n=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=Kl(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.state.elements);try{for(n.s();!(e=n.n()).done;){if(e.value.scene===t)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:\"handle\",value:function(t){return this.currentHandling===t||(this.currentHandling=t,t.type),this}},{key:\"createText\",value:function(t,e,n,r){var o,i=null===(o=this.findElementByScene(this._getLastSceneIfNot(r)))||void 0===o?void 0:o.ele.texts;if(!i)throw new Error(\"Scene not found\");var a=this.createWaitableAction({character:e.config.character,sentence:e,id:t},(function(){i.splice(i.indexOf(a),1),n&&n()}));i.push(a)}},{key:\"createMenu\",value:function(t,e,n){var r;if(!t.choices.length)throw new Error(\"Menu must have at least one choice\");var o=null===(r=this.findElementByScene(this._getLastSceneIfNot(n)))||void 0===r?void 0:r.ele.menus;if(!o)throw new Error(\"Scene not found\");var i=this.createWaitableAction(t,(function(t){o.splice(o.indexOf(i),1),e&&e(t)}));o.push(i)}},{key:\"createImage\",value:function(t,e){var n=this._getLastSceneIfNot(e),r=this.findElementByScene(n);return r?(r.ele.images.push(t),this):this}},{key:\"disposeImage\",value:function(t,e){var n,r=this._getLastSceneIfNot(e),o=null===(n=this.findElementByScene(r))||void 0===n?void 0:n.ele.images;if(!o)throw new Error(\"Scene not found\");var i=o.indexOf(t);if(-1===i)throw new Error(\"Image not found\");return o.splice(i,1),this}},{key:\"createDisplayable\",value:function(t,e){var n=this._getLastSceneIfNot(e),r=this.findElementByScene(n);return r?(r.ele.displayable.push(t),this):this}},{key:\"disposeDisplayable\",value:function(t,e){var n,r=this._getLastSceneIfNot(e),o=null===(n=this.findElementByScene(r))||void 0===n?void 0:n.ele.displayable;if(!o)throw new Error(\"Scene not found\");var i=o.indexOf(t);if(-1===i)throw new Error(\"Displayables not found\");return o.splice(i,1),this}},{key:\"forceReset\",value:function(){var t=this;this.state.sounds.forEach((function(t){var e;return null===(e=t.getPlaying())||void 0===e?void 0:e.stop()})),this.state.elements.forEach((function(e){var n=e.scene;t.offSrcManager(n.srcManager),t.removeScene(n),n.events.clear()})),this.state.elements=[],this.state.srcManagers=[]}},{key:\"initSound\",value:function(t,e){return t.getPlaying()||t.setPlaying(new(this.getHowl())(t.getHowlOptions(e))),t}},{key:\"playSound\",value:function(t,e,n){this.initSound(t,n);var r=t.getPlaying().play(),o=[t.getPlaying().once(\"end\",i.bind(this)),t.getPlaying().once(\"stop\",i.bind(this))];function i(){e&&e(),o.forEach((function(t){return t.off()})),this.state.sounds=this.state.sounds.filter((function(e){return e!==t})),this.stage.next()}return this.state.sounds.push(t),t.state.token=r,r}},{key:\"stopSound\",value:function(t){var e,n;return(null===(e=t.state.playing)||void 0===e?void 0:e.playing(t.getToken()))&&(null===(n=t.state.playing)||void 0===n||n.stop(t.getToken())),t.setPlaying(null).setToken(null),t}},{key:\"transitionSound\",value:function(t,e,n){return tf(this,void 0,void 0,Xl().mark((function r(){var o;return Xl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=5;break}if(!n){r.next=4;break}return r.next=4,this.fadeSound(t,0,n);case 4:this.stopSound(t);case 5:if(!e){r.next=12;break}if(o=e.config.volume,this.playSound(e,void 0,{volume:0}),!n){r.next=11;break}return r.next=11,this.fadeSound(e,o,n);case 11:e.getPlaying().volume(o,e.getToken());case 12:case\"end\":return r.stop()}}),r,this)})))}},{key:\"fadeSound\",value:function(t,e,n){var r,o;return tf(this,void 0,void 0,Xl().mark((function i(){var a;return Xl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=null===(r=t.getPlaying())||void 0===r?void 0:r.volume(t.getToken()),null===(o=t.getPlaying())||void 0===o||o.fade(a,e,n,t.getToken()),i.next=4,A(n);case 4:return i.abrupt(\"return\",void 0);case 5:case\"end\":return i.stop()}}),i)})))}},{key:\"getHowl\",value:function(){return $l.Howl}},{key:\"animateImage\",value:function(t,e,n,r){return this.anyEvent.apply(this,[t,e,r].concat(ql(n)))}},{key:\"animateText\",value:function(t,e,n,r){return this.anyEvent.apply(this,[t,e,r].concat(ql(n)))}},{key:\"registerSrcManager\",value:function(t){return this.state.srcManagers.push(t),this}},{key:\"offSrcManager\",value:function(t){return this.state.srcManagers=this.state.srcManagers.filter((function(e){return e!==t})),this}},{key:\"getStorable\",value:function(){return this.game.getLiveGame().getStorable()}},{key:\"dispose\",value:function(){this.forceReset()}},{key:\"toData\",value:function(){return{scenes:this.state.elements.map((function(t){return{sceneId:t.scene.getId(),elements:{images:t.ele.images.map((function(t){return t.getId()}))}}}))}}},{key:\"loadData\",value:function(t,e){var n=this;if(this.state.elements=[],!this.game.getLiveGame().story)throw new Error(\"No story loaded\");t.scenes.forEach((function(t){var r=t.sceneId,o=t.elements;n.logger.debug(\"Loading scene: \"+r);var i=e.get(r);if(!i)throw new Error(\"Scene not found, id: \"+r+\"\\nNarraLeaf cannot find the element with the id from the saved game\");var a={scene:i,ele:{images:o.images.map((function(t){if(!e.has(t))throw new Error(\"Image not found, id: \"+t+\"\\nNarraLeaf cannot find the element with the id from the saved game\");return e.get(t)})),menus:[],texts:[],displayable:[]}};n.state.elements.push(a),n.registerSrcManager(i.srcManager),dt.registerEventListeners(i,n)}))}},{key:\"initScenes\",value:function(){var t=this;this.state.elements.forEach((function(e){var n=e.scene;dt.registerEventListeners(n,t)}))}},{key:\"getElementMap\",value:function(){return{texts:[],menus:[],images:[],displayable:[]}}},{key:\"removeElements\",value:function(t){var e=this.state.elements.findIndex((function(e){return e.scene===t}));return-1===e||this.state.elements.splice(e,1),this}},{key:\"_getLastSceneIfNot\",value:function(t){var e=t||this.getLastScene();if(!e||!this.sceneExists(e))throw new Error('Scene not found, please call \"scene.activate()\" first.');return e}},{key:\"anyEvent\",value:function(t,e,n){for(var r,o=this,i=arguments.length,a=new Array(i>3?i-3:0),s=3;s<i;s++)a[s-3]=arguments[s];(r=e.events).any.apply(r,[t].concat(a)).then(n).then((function(){o.stage.next()}))}},{key:\"createWaitableAction\",value:function(t,e){return{action:t,onClick:function(t){e&&e(t)}}}}])}();function nf(t){var e,n,r=\"\";if(\"string\"==typeof t||\"number\"==typeof t)r+=t;else if(\"object\"==typeof t)if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=nf(t[e]))&&(r&&(r+=\" \"),r+=n)}else for(n in t)t[n]&&(r&&(r+=\" \"),r+=n);return r}ef.EventTypes={\"event:state.ready\":\"event:state.ready\",\"event:state.end\":\"event:state.end\",\"event:state.player.skip\":\"event:state.player.skip\",\"event:state.preload.unmount\":\"event:state.preload.unmount\",\"event:state.preload.loaded\":\"event:state.preload.loaded\",\"event:state.player.flush\":\"event:state.player.flush\"};const rf=function(){for(var t,e,n=0,r=\"\",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=nf(t))&&(r&&(r+=\" \"),r+=e);return r};var of=o(12),af=o.n(of);function sf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return uf(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uf(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function uf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function cf(t){return cf=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},cf(t)}function lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,ff(r.key),r)}}function ff(t){var e=function(t,e){if(\"object\"!=cf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=cf(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==cf(e)?e:e+\"\"}var pf=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.state={width:0,height:0,minWidth:800,minHeight:450,paused:!1},this.events=new k,this.lockers=[],this.updater=null}return function(t,e,n){return e&&lf(t.prototype,e),n&&lf(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(t,[{key:\"update\",value:function(e,n){this.state.width=e,this.state.height=n,this.events.emit(t.EventTypes[\"event:aspectRatio.update\"],e,n)}},{key:\"updateMin\",value:function(t,e){this.state.minWidth=t,this.state.minHeight=e}},{key:\"lock\",value:function(){var t=Symbol();return this.lockers.push(t),t}},{key:\"unlock\",value:function(t){if(t&&!this.lockers.includes(t))throw new Error(\"Locker not found\");return this.lockers=this.lockers.filter((function(e){return e!==t})),this.triggerUpdate(),null}},{key:\"isLocked\",value:function(){return!!this.lockers.length}},{key:\"getStyle\",value:function(){return{width:\"\".concat(this.state.width,\"px\"),height:\"\".concat(this.state.height,\"px\")}}},{key:\"setUpdate\",value:function(t){this.updater=t}},{key:\"pause\",value:function(){this.state.paused=!0,this.events.emit(t.EventTypes[\"event:aspectRatio.pause\"])}},{key:\"resume\",value:function(){this.state.paused=!1,this.events.emit(t.EventTypes[\"event:aspectRatio.resume\"])}},{key:\"onUpdate\",value:function(e){var n=this;return this.events.on(t.EventTypes[\"event:aspectRatio.update\"],e),function(){n.events.off(t.EventTypes[\"event:aspectRatio.update\"],e)}}},{key:\"triggerUpdate\",value:function(){this.updater&&this.updater()}}])}();pf.EventTypes={\"event:aspectRatio.update\":\"event:aspectRatio.update\",\"event:aspectRatio.pause\":\"event:aspectRatio.pause\",\"event:aspectRatio.resume\":\"event:aspectRatio.resume\"};var df=(0,of.createContext)(null);function hf(t){var e=t.children,n=sf((0,of.useState)(new pf),1)[0];return af().createElement(df.Provider,{value:{ratio:n}},e)}function yf(){var t=(0,of.useContext)(df);if(!df||!t)throw new Error(\"useRatio must be used within a RatioProvider\");var e=sf((0,of.useReducer)((function(t){return t+1}),0),2)[1],n=t.ratio;return(0,of.useEffect)((function(){return n.onUpdate((function(){e()}))}),[]),t}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vf.apply(null,arguments)}function mf(t){var e=t.children,n=t.className,r=t.props,o=t.ref,i=yf().ratio,a=i.getStyle();return af().createElement(\"div\",{className:rf(\"inset-0 flex items-center justify-center\",n),style:{width:\"100%\",height:\"100%\",minWidth:\"\".concat(i.state.minWidth,\"px\"),minHeight:\"\".concat(i.state.minHeight,\"px\")}},af().createElement(\"div\",vf({style:Object.assign(Object.assign({},a),{position:\"relative\",overflow:\"hidden\"})},r||{},{ref:o}),e))}function gf(t){return gf=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},gf(t)}function bf(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bf=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,\"_invoke\",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",v={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(C([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==gf(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=p;return function(i,a){if(o===h)throw Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===v)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=h;var c=f(e,n,r);if(\"normal\"===c.type){if(o=r.done?y:d,c.arg===v)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=y,r.method=\"throw\",r.arg=c.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,T(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,v):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function C(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(gf(e)+\" is not iterable\")}return g.prototype=b,o(k,\"constructor\",{value:b,configurable:!0}),o(b,\"constructor\",{value:g,configurable:!0}),g.displayName=c(b,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,\"GeneratorFunction\")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,u,\"Generator\"),c(k,a,(function(){return this})),c(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),v}},e}function wf(t){return function(t){if(Array.isArray(t))return kf(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||Sf(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function _f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||Sf(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Sf(t,e){if(t){if(\"string\"==typeof t)return kf(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kf(t,e):void 0}}function kf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function xf(t){var e=bf().mark(M),n=t.sentence,r=t.gameState,o=t.useTypeEffect,i=void 0===o||o,a=t.onCompleted,s=t.finished,u=t.count,c=t.className,l=_f((0,of.useState)(!1),2),f=l[0],p=l[1],d=(0,of.useMemo)((function(){return n.evaluate(El.getCtx({gameState:r}))}),[]),h=r.game,y=_f((0,of.useState)([]),2),v=y[0],m=y[1],g=(0,of.useRef)(M(d)),b=(0,of.useRef)(null),w=(0,of.useRef)(null),_=_f((0,of.useState)(0),2),k=_[0],x=_[1],A=_f((0,of.useReducer)((function(t){return t+1}),0),2)[1],O=_f((0,of.useState)(new Set),2),T=O[0],E=O[1],P=_f((0,of.useState)(!1),2),j=P[0],C=P[1];function L(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];w.current&&(clearTimeout(w.current),w.current=null);for(var e=!1;!e;){var n=g.current.next(),o=n.done,i=n.value;if(o)p(!0),a&&(r.logger.info(\"Say\",\"Completed\",o,i),a()),e=!0;else if(Ns.isPause(i)){if(t)continue;N(Ns.from(i)),e=!0}else I(i)}}function I(t){m((function(e){if(\"\\n\"!==t&&T.has(t))return e;E((function(e){return new Set(e).add(t)}));var n=e[e.length-1];return n&&\"\\n\"!==n&&\"\\n\"!==t&&n.tag===t.tag?[].concat(wf(e.slice(0,-1)),[{text:n.text+t.text,config:t.config,tag:t.tag,tag2:t.tag2}]):[].concat(wf(e),[t])}))}function N(t){r.logger.info(\"Say\",\"Paused\",t),t.config.duration?b.current=setTimeout((function(){b.current=null,x((function(t){return t+1}))}),t.config.duration):C(!0)}function M(t){var n,r,o,i,a;return bf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wf(t),r=0;case 2:if(!(r<n.length)){e.next=24;break}if(o=n[r],!Ns.isPause(o.text)){e.next=8;break}return e.next=7,Ns.from(o.text);case 7:return e.abrupt(\"continue\",21);case 8:i=0;case 9:if(!(i<o.text.length)){e.next=21;break}if(\"\\n\"!==(a=o.text[i])){e.next=16;break}return e.next=14,\"\\n\";case 14:e.next=18;break;case 16:return e.next=18,{text:a,config:o.config,tag:r,tag2:i};case 18:i++,e.next=9;break;case 21:r++,e.next=2;break;case 24:return e.abrupt(\"return\");case 25:case\"end\":return e.stop()}}),e)}return(0,of.useEffect)((function(){if(i||L(!0),b.current&&s&&!f)return clearTimeout(b.current),b.current=null,void(a&&(r.logger.info(\"Say\",\"Completed\",b.current,s,f),a()));if(f||s||j||b.current)r.logger.debug(\"Sentence.tsx\",\"locked\",f,s,j);else{var t=g.current.next(),e=t.done,n=t.value;if(e)return p(!0),void(a&&(r.logger.info(\"Say\",\"Completed\",e,n),a()));Ns.isPause(n)?N(Ns.from(n)):(I(n),A(),w.current=setTimeout((function(){x((function(t){return t+1}))}),h.config.elements.say.textInterval))}}),[k,s,j]),(0,of.useEffect)((function(){if(u&&!b.current){if(j)return C(!1),void x((function(t){return t+1}));L(),x((function(t){return t+1}))}}),[u]),af().createElement(\"div\",{className:rf(\"whitespace-pre-wrap\",h.config.elementStyles.say.textContainerClassName,{\"font-bold\":n.config.bold,italic:n.config.italic},c),style:{fontFamily:n.config.fontFamily||h.config.elementStyles.say.fontFamily,fontSize:n.config.fontSize||h.config.elementStyles.say.fontSize}},v.map((function(t,e){return\"\\n\"===t?af().createElement(\"br\",{key:e}):af().createElement(\"span\",{key:e,style:Object.assign({color:S(t.config.color||n.config.color||Ds.defaultColor),fontFamily:t.config.fontFamily,fontSize:t.config.fontSize},h.config.app.debug?{border:\"1px dashed red\"}:{}),className:rf(h.config.elementStyles.say.textSpanClassName,\"whitespace-pre inline-block\",{\"font-bold\":t.config.bold,italic:t.config.italic},t.config.className)},t.config.ruby?af().createElement(\"ruby\",{className:\"align-bottom inline-block\"},af().createElement(\"rt\",{className:\"block text-center\"},t.config.ruby),t.text):t.text)})))}function Af(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Of(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Of(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Of(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Tf(t){var e,n=t.action,r=t.onClick,o=t.useTypeEffect,i=void 0===o||o,a=t.className,s=t.state,u=n.sentence,c=Af((0,of.useState)(!1),2),l=c[0],f=c[1],p=s.game,d=Af((0,of.useState)(0),2),h=d[0],y=d[1];return(0,of.useEffect)((function(){if(window){var t=function(t){p.config.elements.say.nextKey.includes(t.key)&&(l?r&&r():y((function(t){return t+1})))};return window.addEventListener(\"keyup\",t),function(){window.removeEventListener(\"keyup\",t)}}console.warn(\"Failed to add event listener, window is not available\\nat Say.tsx: onElementClick\")}),[l]),(0,of.useEffect)((function(){var t=s.events.onEvents([{type:ef.EventTypes[\"event:state.player.skip\"],listener:s.events.on(ef.EventTypes[\"event:state.player.skip\"],(function(){s.logger.log(\"NarraLeaf-React: Say\",\"Skipped\"),l?r&&r():f(!0)}))}]);return function(){t.cancel()}})),af().createElement(mf,{className:\"absolute\"},u.state.display&&af().createElement(\"div\",{className:rf(\"absolute bottom-0 w-[calc(100%-40px)] min-h-[calc(33%-40px)] m-4 bg-white flex flex-col items-start justify-between\",p.config.elementStyles.say.containerClassName,a),onClick:function(){l?r&&r():y((function(t){return t+1}))}},af().createElement(\"div\",{className:rf(\"rounded-br-md\",p.config.elementStyles.say.nameTextClassName)},null===(e=u.config.character)||void 0===e?void 0:e.state.name),af().createElement(xf,{sentence:u,gameState:s,finished:l,useTypeEffect:i,onCompleted:function(){f(!0)},count:h}),af().createElement(\"div\",null)))}function Ef(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Pf(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pf(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Pf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var jf=af().createContext(null);function Cf(t){var e=t.children,n=t.game,r=new Vf({}),o=Ef((0,of.useState)(n||r),2),i=o[0],a=o[1];return af().createElement(jf.Provider,{value:{game:i,setGame:a}},e)}function Lf(){var t=(0,of.useContext)(jf);if(!t)throw new Error(\"useGame must be used within a GameProvider\");return t}var If,Nf={say:Tf,menu:function(t){var e=t.prompt,n=t.choices,r=t.afterChoose,o=t.state,i=Lf().game,a=i.config.elements.say.use;return af().createElement(af().Fragment,null,af().createElement(mf,{className:\"absolute\"},af().createElement(\"div\",{className:\"absolute flex flex-col items-center justify-center min-w-full w-full h-full\"},e&&af().createElement(a,{state:o,action:{sentence:e,character:null},useTypeEffect:!1,className:\"z-10\"}))),af().createElement(mf,{className:\"absolute\"},af().createElement(\"div\",{className:rf(\"absolute flex flex-col items-center justify-center min-w-full w-full h-full\",i.config.elementStyles.menu.containerClassName)},af().createElement(\"div\",{className:\"p-4 rounded-lg w-full z-20\"},af().createElement(\"div\",{className:\"flex flex-col items-center mt-4 w-full\"},n.map((function(t,e){return af().createElement(\"button\",{key:e,className:rf(\"bg-white text-black p-2 mt-2 w-1/2\",i.config.elementStyles.menu.choiceButtonClassName),onClick:function(){return function(t){r(t)}(t)}},af().createElement(xf,{sentence:t.prompt,gameState:o,useTypeEffect:!1,className:rf(i.config.elementStyles.menu.choiceButtonTextClassName)}))})))))))}};function Mf(t){return Mf=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Mf(t)}function Rf(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function Ff(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Bf(r.key),r)}}function Df(t,e,n){return e&&Ff(t.prototype,e),n&&Ff(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function Bf(t){var e=function(t,e){if(\"object\"!=Mf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Mf(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Mf(e)?e:e+\"\"}!function(t){t.game=\"game\"}(If||(If={}));var Vf=function(){return Df((function t(e){Rf(this,t),this.liveGame=null,this.config=b(t.DefaultConfig,e)}),[{key:\"useComponent\",value:function(t,e){if(!Object.keys(Nf).includes(t))throw new Error(\"Invalid key \".concat(t));if(\"function\"!=typeof e)throw new Error(\"Invalid component for key \".concat(t));return this.config.elements[t].use=e,this}},{key:\"getLiveGame\",value:function(){if(!this.liveGame){var t=this.createLiveGame();return this.liveGame=t,t}return this.liveGame}},{key:\"createLiveGame\",value:function(){return new Gf(this)}}])}();Vf.defaultSettings={volume:1},Vf.ComponentTypes={say:\"say\",menu:\"menu\"},Vf.DefaultConfig={player:{contentContainerId:\"__narraleaf_content\",aspectRatio:16/9,minWidth:800,minHeight:450,width:\"100%\",height:\"100%\",skipKey:[\"Control\"],skipInterval:100},elements:{say:{nextKey:[\" \"],textInterval:50,use:Nf.say},img:{slowLoadWarning:!0,slowLoadThreshold:2e3,allowSkipTransform:!0,allowSkipTransition:!0},menu:{use:Nf.menu},background:{allowSkipTransform:!0,allowSkipTransition:!1},text:{allowSkipTransform:!0,allowSkipTransition:!0}},elementStyles:{say:{containerClassName:\"\",nameTextClassName:\"\",textContainerClassName:\"\",textSpanClassName:\"\",rubyClassName:\"\"},menu:{containerClassName:\"\",choiceButtonClassName:\"\",choiceButtonTextClassName:\"\"}},app:{debug:!1,logger:{log:!1,info:!1,warn:!0,error:!0,debug:!1,trace:!1}}},Vf.GameSettingsNamespace=If;var Gf=function(){function t(e){Rf(this,t),this.gameLock=new j,this.currentSavedGame=null,this.story=null,this.lockedAwaiting=null,this.gameState=void 0,this._lockedCount=0,this.currentAction=null,this._nextLock=new P,this.game=e,this.storable=new Wl,this.initNamespaces()}return Df(t,[{key:\"initNamespaces\",value:function(){return this.storable.clear().addNamespace(new zl(t.GameSpacesKey.game,t.DefaultNamespaces.game)),this}},{key:\"getStorable\",value:function(){return this.storable}},{key:\"loadStory\",value:function(t){return this.story=t.constructStory(),this}},{key:\"serialize\",value:function(){var t,e,n;if(!this.gameState)throw new Error(\"No game state\");var r=this.gameState,o=this.story;if(!o)throw new Error(\"No story loaded\");var i=this.storable.toData(),a=r.toData(),s=(null===(t=this.getCurrentAction())||void 0===t?void 0:t.getId())||null,u=o.getAllElementStates();return{name:(null===(e=this.currentSavedGame)||void 0===e?void 0:e.name)||\"\",meta:{created:(null===(n=this.currentSavedGame)||void 0===n?void 0:n.meta.created)||Date.now(),updated:Date.now()},game:{store:i,stage:a,currentAction:s,elementStates:u}}}},{key:\"deserialize\",value:function(t){var e;if(!this.gameState)throw new Error(\"No game state\");var n=this.gameState,r=this.story;if(!r)throw new Error(\"No story loaded\");this.reset({gameState:n}),n.stage.forceUpdate();var o=new Map,i=new Map,a=t.game,s=a.store,u=a.stage,c=a.elementStates,l=a.currentAction;if(r.forEachChild((null===(e=r.entryScene)||void 0===e?void 0:e.sceneRoot)||[],(function(t){o.set(t.getId(),t),i.set(t.callee.getId(),t.callee)})),this.storable.load(s),c.forEach((function(t){var e=t.id,r=t.data;n.logger.debug(\"restore element\",e);var o=i.get(e);if(!o)throw new Error(\"Element not found, id: \"+e+\"\\nNarraLeaf cannot find the element with the id from the saved game\");o.reset(),o.fromData(r)})),this.currentSavedGame=t,n.loadData(u,i),l){var f=o.get(l);if(!f)throw new Error(\"Action not found, id: \"+l+\"\\nNarraLeaf cannot find the action with the id from the saved game\");this.currentAction=f}n.stage.forceUpdate(),n.stage.next()}},{key:\"newGame\",value:function(){var t,e,n;if(!this.gameState)throw new Error(\"No game state\");var r=this.gameState;this.reset({gameState:r}),this.initNamespaces();var o=this.getNewSavedGame();o.name=\"NewGame-\"+Date.now(),this.currentSavedGame=o;var i=null===(t=this.story)||void 0===t?void 0:t.getAllElementMap((null===(n=null===(e=this.story)||void 0===e?void 0:e.entryScene)||void 0===n?void 0:n.sceneRoot)||[]);return i?i.forEach((function(t){r.logger.debug(\"reset element\",t),t.reset()})):r.logger.warn(\"No elements found\"),r.stage.forceUpdate(),r.stage.next(),this}},{key:\"reset\",value:function(t){var e,n,r=t.gameState;this.lockedAwaiting&&this.lockedAwaiting.abort(),this.currentAction=(null===(n=null===(e=this.story)||void 0===e?void 0:e.entryScene)||void 0===n?void 0:n.sceneRoot)||null,this.lockedAwaiting=null,this.currentSavedGame=null,r.forceReset()}},{key:\"getCurrentAction\",value:function(){return this.currentAction}},{key:\"setCurrentAction\",value:function(t){return this.currentAction=t,this}},{key:\"next\",value:function(t){var e,n;if(this._nextLock.isLocked())return null;if(this._nextLock.lock(),this.gameLock.isLocked())return this.gameLock;if(!this.story)throw new Error(\"No story loaded\");if(this.lockedAwaiting){if(!this.lockedAwaiting.solved){if(this._lockedCount++,this._lockedCount>1e3)throw new Error(\"Locked awaiting\");return this._nextLock.unlock(),this.lockedAwaiting}var r=this.lockedAwaiting.result;return this.currentAction=(null===(e=null==r?void 0:r.node)||void 0===e?void 0:e.action)||null,t.logger.debug(\"next action\",r),this.lockedAwaiting=null,this._nextLock.unlock(),r||null}if(!this.currentAction)return t.events.emit(ef.EventTypes[\"event:state.end\"]),t.logger.warn(\"LiveGame\",\"No current action\"),this._nextLock.unlock(),null;var o=this.currentAction.executeAction(t);return w.isAwaitable(o)?(this.lockedAwaiting=o,this._nextLock.unlock(),o):(t.logger.debug(\"next action\",o),this._lockedCount=0,this.currentAction=(null===(n=o.node)||void 0===n?void 0:n.action)||null,this._nextLock.unlock(),o)}},{key:\"abortAwaiting\",value:function(){var t;if(this.lockedAwaiting){var e=this.lockedAwaiting.abort();this.currentAction=(null===(t=null==e?void 0:e.node)||void 0===t?void 0:t.action)||null,this.lockedAwaiting=null}}},{key:\"executeAction\",value:function(t,e){var n,r=e.executeAction(t);return w.isAwaitable(r)?r:(null===(n=null==r?void 0:r.node)||void 0===n?void 0:n.action)||null}},{key:\"setGameState\",value:function(t){return this.gameState=t,this}},{key:\"getGameState\",value:function(){return this.gameState}},{key:\"getNewSavedGame\",value:function(){var t,e,n;return{name:\"\",meta:{created:Date.now(),updated:Date.now()},game:{store:{},stage:{scenes:[]},elementStates:[],currentAction:(null===(n=null===(e=null===(t=this.story)||void 0===t?void 0:t.entryScene)||void 0===e?void 0:e.sceneRoot)||void 0===n?void 0:n.getId())||null}}}}])}();Gf.DefaultNamespaces={game:{}},Gf.GameSpacesKey={game:\"game\"};var Uf=o(72),Hf=o.n(Uf),zf=o(825),Wf=o.n(zf),$f=o(659),Yf=o.n($f),qf=o(56),Xf=o.n(qf),Kf=o(540),Zf=o.n(Kf),Qf=o(113),Jf=o.n(Qf),tp=o(587),ep={};ep.styleTagTransform=Jf(),ep.setAttributes=Xf(),ep.insert=Yf().bind(null,\"head\"),ep.domAPI=Wf(),ep.insertStyleElement=Zf();Hf()(tp.A,ep);tp.A&&tp.A.locals&&tp.A.locals;var np=o(848);const rp=(0,of.createContext)({strict:!1});function op(t){for(const e in t)Yi[e]={...Yi[e],...t[e]}}function ip({children:t,features:e,strict:n=!1}){const[,r]=(0,of.useState)(!ap(e)),o=(0,of.useRef)(void 0);if(!ap(e)){const{renderer:t,...n}=e;o.current=t,op(n)}return(0,of.useEffect)((()=>{ap(e)&&e().then((({renderer:t,...e})=>{op(e),o.current=t,r(!0)}))}),[]),(0,np.jsx)(rp.Provider,{value:{renderer:o.current,strict:n},children:t})}function ap(t){return\"function\"==typeof t}function sp(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function up(t,e,n={}){var r;const o=Ai(t,e,\"exit\"===n.type?null===(r=t.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(i=n.transitionOverride);const a=o?()=>Promise.all(Li(t,o,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(r=0)=>{const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(t,e,n=0,r=0,o=1,i){const a=[],s=(t.variantChildren.size-1)*r,u=1===o?(t=0)=>t*r:(t=0)=>s-t*r;return Array.from(t.variantChildren).sort(cp).forEach(((t,r)=>{t.notify(\"AnimationStart\",e),a.push(up(t,e,{...i,delay:n+u(r)}).then((()=>t.notify(\"AnimationComplete\",e))))})),Promise.all(a)}(t,e,o+r,a,s,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[t,e]=\"beforeChildren\"===u?[a,s]:[s,a];return t().then((()=>e()))}return Promise.all([a(),s(n.delay)])}function cp(t,e){return t.sortNodePosition(e)}const lp=Hi.length;function fp(t){if(!t)return;if(!t.isControllingVariants){const e=t.parent&&fp(t.parent)||{};return void 0!==t.props.initial&&(e.initial=t.props.initial),e}const e={};for(let n=0;n<lp;n++){const r=Hi[n],o=t.props[r];(Gi(o)||!1===o)&&(e[r]=o)}return e}const pp=[...Ui].reverse(),dp=Ui.length;function hp(t){return e=>Promise.all(e.map((({animation:e,options:n})=>function(t,e,n={}){let r;if(t.notify(\"AnimationStart\",e),Array.isArray(e)){const o=e.map((e=>up(t,e,n)));r=Promise.all(o)}else if(\"string\"==typeof e)r=up(t,e,n);else{const o=\"function\"==typeof e?Ai(t,e,n.custom):e;r=Promise.all(Li(t,o,n))}return r.then((()=>{t.notify(\"AnimationComplete\",e)}))}(t,e,n))))}function yp(t){let e=hp(t),n=gp(),r=!0;const o=e=>(n,r)=>{var o;const i=Ai(t,r,\"exit\"===e?null===(o=t.presenceContext)||void 0===o?void 0:o.custom:void 0);if(i){const{transition:t,transitionEnd:e,...r}=i;n={...n,...r,...e}}return n};function i(i){const{props:a}=t,s=fp(t.parent)||{},u=[],c=new Set;let l={},f=1/0;for(let e=0;e<dp;e++){const p=pp[e],d=n[p],h=void 0!==a[p]?a[p]:s[p],y=Gi(h),v=p===i?d.isActive:null;!1===v&&(f=e);let m=h===s[p]&&h!==a[p]&&y;if(m&&r&&t.manuallyAnimateOnMount&&(m=!1),d.protectedKeys={...l},!d.isActive&&null===v||!h&&!d.prevProp||Vi(h)||\"boolean\"==typeof h)continue;const g=vp(d.prevProp,h);let b=g||p===i&&d.isActive&&!m&&y||e>f&&y,w=!1;const _=Array.isArray(h)?h:[h];let S=_.reduce(o(p),{});!1===v&&(S={});const{prevResolvedValues:k={}}=d,x={...k,...S},A=e=>{b=!0,c.has(e)&&(w=!0,c.delete(e)),d.needsAnimating[e]=!0;const n=t.getValue(e);n&&(n.liveStyle=!1)};for(const t in x){const e=S[t],n=k[t];if(l.hasOwnProperty(t))continue;let r=!1;r=vi(e)&&vi(n)?!sp(e,n):e!==n,r?null!=e?A(t):c.add(t):void 0!==e&&c.has(t)?A(t):d.protectedKeys[t]=!0}d.prevProp=h,d.prevResolvedValues=S,d.isActive&&(l={...l,...S}),r&&t.blockInitialAnimation&&(b=!1);b&&(!(m&&g)||w)&&u.push(..._.map((t=>({animation:t,options:{type:p}}))))}if(c.size){const e={};c.forEach((n=>{const r=t.getBaseTarget(n),o=t.getValue(n);o&&(o.liveStyle=!0),e[n]=null!=r?r:null})),u.push({animation:e})}let p=Boolean(u.length);return!r||!1!==a.initial&&a.initial!==a.animate||t.manuallyAnimateOnMount||(p=!1),r=!1,p?e(u):Promise.resolve()}return{animateChanges:i,setActive:function(e,r){var o;if(n[e].isActive===r)return Promise.resolve();null===(o=t.variantChildren)||void 0===o||o.forEach((t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)})),n[e].isActive=r;const a=i(e);for(const t in n)n[t].protectedKeys={};return a},setAnimateFunction:function(n){e=n(t)},getState:()=>n,reset:()=>{n=gp(),r=!0}}}function vp(t,e){return\"string\"==typeof e?e!==t:!!Array.isArray(e)&&!sp(e,t)}function mp(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gp(){return{animate:mp(!0),whileInView:mp(),whileHover:mp(),whileTap:mp(),whileDrag:mp(),whileFocus:mp(),exit:mp()}}class bp{constructor(t){this.isMounted=!1,this.node=t}update(){}}let wp=0;const _p={animation:{Feature:class extends bp{constructor(t){super(t),t.animationState||(t.animationState=yp(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Vi(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null===(t=this.unmountControls)||void 0===t||t.call(this)}}},exit:{Feature:class extends bp{constructor(){super(...arguments),this.id=wp++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive(\"exit\",!t);e&&!t&&r.then((()=>e(this.id)))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}}};function Sp(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function kp(t,e=\"page\"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const xp=t=>e=>(t=>\"mouse\"===t.pointerType?\"number\"!=typeof t.button||t.button<=0:!1!==t.isPrimary)(e)&&t(e,kp(e));function Ap(t,e,n,r){return Sp(t,e,xp(n),r)}function Op(t){let e=null;return()=>{const n=()=>{e=null};return null===e&&(e=t,n)}}const Tp=Op(\"dragHorizontal\"),Ep=Op(\"dragVertical\");function Pp(){const t=function(t){let e=!1;if(\"y\"===t)e=Ep();else if(\"x\"===t)e=Tp();else{const t=Tp(),n=Ep();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}(!0);return!t||(t(),!1)}function jp(t,e){const n=e?\"pointerenter\":\"pointerleave\",r=e?\"onHoverStart\":\"onHoverEnd\";return Ap(t.current,n,((n,o)=>{if(\"touch\"===n.pointerType||Pp())return;const i=t.getProps();t.animationState&&i.whileHover&&t.animationState.setActive(\"whileHover\",e);const a=i[r];a&&Gn.postRender((()=>a(n,o)))}),{passive:!t.getProps()[r]})}const Cp=(t,e)=>!!e&&(t===e||Cp(t,e.parentElement));function Lp(t,e){if(!e)return;const n=new PointerEvent(\"pointer\"+t);e(n,kp(n))}const Ip=new WeakMap,Np=new WeakMap,Mp=t=>{const e=Ip.get(t.target);e&&e(t)},Rp=t=>{t.forEach(Mp)};function Fp(t,e,n){const r=function({root:t,...e}){const n=t||document;Np.has(n)||Np.set(n,{});const r=Np.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(Rp,{root:t,...e})),r[o]}(e);return Ip.set(t,n),r.observe(t),()=>{Ip.delete(t),r.unobserve(t)}}const Dp={some:0,all:1};const Bp={inView:{Feature:class extends bp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r=\"some\",once:o}=t,i={root:e?e.current:void 0,rootMargin:n,threshold:\"number\"==typeof r?r:Dp[r]};return Fp(this.node.current,i,(t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,o&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive(\"whileInView\",e);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=e?n:r;i&&i(t)}))}mount(){this.startObserver()}update(){if(\"undefined\"==typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node;[\"amount\",\"margin\",\"root\"].some(function({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}(t,e))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends bp{constructor(){super(...arguments),this.removeStartListeners=De,this.removeEndListeners=De,this.removeAccessibleListeners=De,this.startPointerPress=(t,e)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=Ap(window,\"pointerup\",((t,e)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:o}=this.node.getProps(),i=o||Cp(this.node.current,t.target)?n:r;i&&Gn.update((()=>i(t,e)))}),{passive:!(n.onTap||n.onPointerUp)}),o=Ap(window,\"pointercancel\",((t,e)=>this.cancelPress(t,e)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Mo(r,o),this.startPress(t,e)},this.startAccessiblePress=()=>{const t=Sp(this.node.current,\"keydown\",(t=>{if(\"Enter\"!==t.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Sp(this.node.current,\"keyup\",(t=>{\"Enter\"===t.key&&this.checkPressEnd()&&Lp(\"up\",((t,e)=>{const{onTap:n}=this.node.getProps();n&&Gn.postRender((()=>n(t,e)))}))})),Lp(\"down\",((t,e)=>{this.startPress(t,e)}))})),e=Sp(this.node.current,\"blur\",(()=>{this.isPressing&&Lp(\"cancel\",((t,e)=>this.cancelPress(t,e)))}));this.removeAccessibleListeners=Mo(t,e)}}startPress(t,e){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive(\"whileTap\",!0),n&&Gn.postRender((()=>n(t,e)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive(\"whileTap\",!1),!Pp()}cancelPress(t,e){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Gn.postRender((()=>n(t,e)))}mount(){const t=this.node.getProps(),e=Ap(t.globalTapTarget?window:this.node.current,\"pointerdown\",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Sp(this.node.current,\"focus\",this.startAccessiblePress);this.removeStartListeners=Mo(e,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends bp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(\":focus-visible\")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive(\"whileFocus\",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive(\"whileFocus\",!1),this.isActive=!1)}mount(){this.unmount=Mo(Sp(this.node.current,\"focus\",(()=>this.onFocus())),Sp(this.node.current,\"blur\",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends bp{mount(){this.unmount=Mo(jp(this.node,!0),jp(this.node,!1))}unmount(){}}}},Vp=[\"animate\",\"circle\",\"defs\",\"desc\",\"ellipse\",\"g\",\"image\",\"line\",\"filter\",\"marker\",\"mask\",\"metadata\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"rect\",\"stop\",\"switch\",\"symbol\",\"svg\",\"text\",\"tspan\",\"use\",\"view\"];function Gp(t){return\"string\"==typeof t&&!t.includes(\"-\")&&!!(Vp.indexOf(t)>-1||/[A-Z]/u.test(t))}const Up={renderer:(t,e)=>Gp(t)?new fa(e):new da(e,{allowProjection:t!==of.Fragment}),..._p,...Bp};function Hp(t){var e=t.children;return af().createElement(ip,{features:Up,strict:!0},e)}function zp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Wp(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wp(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Wp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $p(t){var e=t.children,n=t.className,r=zp((0,of.useState)({}),2),o=r[0],i=r[1],a=yf().ratio,s=Lf().game,u=zp((0,of.useReducer)((function(t){return t+1}),0),2)[1],c=s.config.player.minWidth,l=s.config.player.minHeight;return(0,of.useEffect)((function(){var t,e=function(){if(a.isLocked())console.warn(\"Ratio is locked, skipping update\");else{var t=document.getElementById(s.config.player.contentContainerId);if(t){var e,n,r=t.clientWidth,o=t.clientHeight,f=s.config.player.aspectRatio;r/o>f?(e=o*f,n=o):(e=r,n=r/f),e<c&&(e=c),n<l&&(n=l),i({width:\"\".concat(e,\"px\"),height:\"\".concat(n,\"px\"),margin:\"auto\",position:\"absolute\",top:\"0\",bottom:\"0\",left:\"0\",right:\"0\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}),a.update(e,n),a.updateMin(c,l),u()}}};a.setUpdate(e);var n=function(){e(),clearTimeout(t),a.pause(),t=setTimeout((function(){a.resume()}),100)};return e(),window.addEventListener(\"resize\",n),function(){window.removeEventListener(\"resize\",n),clearTimeout(t)}}),[a]),af().createElement(\"div\",{id:s.config.player.contentContainerId,style:{position:\"relative\",width:\"100%\",height:\"100%\",overflow:\"hidden\"}},af().createElement(\"div\",{className:rf(n),style:o},e))}function Yp(t){if(\"undefined\"==typeof Proxy)return t;const e=new Map;return new Proxy(((...e)=>t(...e)),{get:(n,r)=>\"create\"===r?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const qp=(0,of.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:\"never\"}),Xp=(0,of.createContext)({}),Kp=(0,of.createContext)(null),Zp=Fi?of.useLayoutEffect:of.useEffect,{schedule:Qp,cancel:Jp}=Vn(queueMicrotask,!1);function td(t){return t&&\"object\"==typeof t&&Object.prototype.hasOwnProperty.call(t,\"current\")}const ed=(0,of.createContext)({});function nd(t,e,n,r,o){var i,a;const{visualElement:s}=(0,of.useContext)(Xp),u=(0,of.useContext)(rp),c=(0,of.useContext)(Kp),l=(0,of.useContext)(qp).reducedMotion,f=(0,of.useRef)();r=r||u.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:l}));const p=f.current,d=(0,of.useContext)(ed);!p||p.projection||!o||\"html\"!==p.type&&\"svg\"!==p.type||function(t,e,n,r){const{layoutId:o,layout:i,drag:a,dragConstraints:s,layoutScroll:u,layoutRoot:c}=e;t.projection=new n(t.latestValues,e[\"data-framer-portal-id\"]?void 0:rd(t.parent)),t.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:Boolean(a)||s&&td(s),visualElement:t,animationType:\"string\"==typeof i?i:\"both\",initialPromotionConfig:r,layoutScroll:u,layoutRoot:c})}(f.current,n,o,d),(0,of.useInsertionEffect)((()=>{p&&p.update(n,c)}));const h=n[Ei],y=(0,of.useRef)(Boolean(h)&&!(null===(i=window.MotionHandoffIsComplete)||void 0===i?void 0:i.call(window,h))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,h)));return Zp((()=>{p&&(window.MotionIsMounted=!0,p.updateFeatures(),Qp.render(p.render),y.current&&p.animationState&&p.animationState.animateChanges())})),(0,of.useEffect)((()=>{p&&(!y.current&&p.animationState&&p.animationState.animateChanges(),y.current&&(queueMicrotask((()=>{var t;null===(t=window.MotionHandoffMarkAsComplete)||void 0===t||t.call(window,h)})),y.current=!1))})),p}function rd(t){if(t)return!1!==t.options.allowProjection?t.projection:rd(t.parent)}function od(t,e,n){return(0,of.useCallback)((r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(\"function\"==typeof n?n(r):td(n)&&(n.current=r))}),[e])}function id(t){const{initial:e,animate:n}=function(t,e){if(zi(t)){const{initial:e,animate:n}=t;return{initial:!1===e||Gi(e)?e:void 0,animate:Gi(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,of.useContext)(Xp));return(0,of.useMemo)((()=>({initial:e,animate:n})),[ad(e),ad(n)])}function ad(t){return Array.isArray(t)?t.join(\" \"):t}const sd=(0,of.createContext)({}),ud=Symbol.for(\"motionComponentSymbol\");function cd({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&op(t);const i=(0,of.forwardRef)((function(t,i){let a;const s={...(0,of.useContext)(qp),...t,layoutId:ld(t)},{isStatic:u}=s,c=id(t),l=r(t,u);if(!u&&Fi){!function(){(0,of.useContext)(rp).strict;0}();const t=function(t){const{drag:e,layout:n}=Yi;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:(null==e?void 0:e.isEnabled(t))||(null==n?void 0:n.isEnabled(t))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(s);a=t.MeasureLayout,c.visualElement=nd(o,l,s,e,t.ProjectionNode)}return(0,np.jsxs)(Xp.Provider,{value:c,children:[a&&c.visualElement?(0,np.jsx)(a,{visualElement:c.visualElement,...s}):null,n(o,t,od(l,c.visualElement,i),l,u,c.visualElement)]})}));return i[ud]=o,i}function ld({layoutId:t}){const e=(0,of.useContext)(sd).id;return e&&void 0!==t?e+\"-\"+t:t}function fd(t){const e=un(t)?t.get():t;return mi(e)?e.toValue():e}function pd(t){return En.has(t)?\"transform\":ei.has(t)?Ti(t):void 0}const dd=t=>(e,n)=>{const r=(0,of.useContext)(Xp),o=(0,of.useContext)(Kp),i=()=>function({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},o,i,a,s){const u={latestValues:yd(o,i,a,!s&&t,e),renderState:n()};return r&&(u.mount=t=>r(o,t,u)),u}(t,e,r,o,n);return n?i():function(t){const e=(0,of.useRef)(null);return null===e.current&&(e.current=t()),e.current}(i)};function hd(t,e,n){const r=Array.isArray(e)?e:[e];for(let e=0;e<r.length;e++){const o=xi(t,r[e]);if(o){const{transitionEnd:t,transition:e,...r}=o;n(r,t)}}}function yd(t,e,n,r,o){var i;const a={},s=new Set,u=r&&void 0===(null===(i=t.style)||void 0===i?void 0:i.willChange),c=o(t,{});for(const t in c)a[t]=fd(c[t]);let{initial:l,animate:f}=t;const p=zi(t),d=Wi(t);e&&d&&!p&&!1!==t.inherit&&(void 0===l&&(l=e.initial),void 0===f&&(f=e.animate));let h=!!n&&!1===n.initial;h=h||!1===l;const y=h?f:l;return y&&\"boolean\"!=typeof y&&!Vi(y)&&hd(t,y,((t,e)=>{for(const e in t){let n=t[e];if(Array.isArray(n)){n=n[h?n.length-1:0]}null!==n&&(a[e]=n)}for(const t in e)a[t]=e[t]})),u&&(f&&!1!==l&&!Vi(f)&&hd(t,f,(t=>{for(const e in t){const t=pd(e);t&&s.add(t)}})),s.size&&(a.willChange=Array.from(s).join(\",\"))),a}const vd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),md=()=>({...vd(),attrs:{}}),gd={useVisualState:dd({scrapeMotionValuesFromProps:Ri,createRenderState:md,onMount:(t,e,{renderState:n,latestValues:r})=>{Gn.read((()=>{try{n.dimensions=\"function\"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){n.dimensions={x:0,y:0,width:0,height:0}}})),Gn.render((()=>{aa(n,r,la(e.tagName),t.transformTemplate),ca(e,n)}))}})},bd={useVisualState:dd({applyWillChange:!0,scrapeMotionValuesFromProps:Mi,createRenderState:vd})};function wd(t,e,n){for(const r in e)un(e[r])||Ni(r,n)||(t[r]=e[r])}function _d(t,e){const n={};return wd(n,t.style||{},t),Object.assign(n,function({transformTemplate:t},e){return(0,of.useMemo)((()=>{const n=vd();return na(n,e,t),Object.assign({},n.vars,n.style)}),[e])}(t,e)),n}function Sd(t,e){const n={},r=_d(t,e);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout=\"none\",r.touchAction=!0===t.drag?\"none\":\"pan-\"+(\"x\"===t.drag?\"y\":\"x\")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const kd=new Set([\"animate\",\"exit\",\"variants\",\"initial\",\"style\",\"values\",\"variants\",\"transition\",\"transformTemplate\",\"custom\",\"inherit\",\"onBeforeLayoutMeasure\",\"onAnimationStart\",\"onAnimationComplete\",\"onUpdate\",\"onDragStart\",\"onDrag\",\"onDragEnd\",\"onMeasureDragConstraints\",\"onDirectionLock\",\"onDragTransitionEnd\",\"_dragX\",\"_dragY\",\"onHoverStart\",\"onHoverEnd\",\"onViewportEnter\",\"onViewportLeave\",\"globalTapTarget\",\"ignoreStrict\",\"viewport\"]);function xd(t){return t.startsWith(\"while\")||t.startsWith(\"drag\")&&\"draggable\"!==t||t.startsWith(\"layout\")||t.startsWith(\"onTap\")||t.startsWith(\"onPan\")||t.startsWith(\"onLayout\")||kd.has(t)}let Ad=t=>!xd(t);try{(Od=Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '@emotion/is-prop-valid'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()))&&(Ad=t=>t.startsWith(\"on\")?!xd(t):Od(t))}catch(zt){}var Od;function Td(t,e,n,r){const o=(0,of.useMemo)((()=>{const n=md();return aa(n,e,la(r),t.transformTemplate),{...n.attrs,style:{...n.style}}}),[e]);if(t.style){const e={};wd(e,t.style,t),o.style={...e,...o.style}}return o}function Ed(t=!1){return(e,n,r,{latestValues:o},i)=>{const a=(Gp(e)?Td:Sd)(n,o,i,e),s=function(t,e,n){const r={};for(const o in t)\"values\"===o&&\"object\"==typeof t.values||(Ad(o)||!0===n&&xd(o)||!e&&!xd(o)||t.draggable&&o.startsWith(\"onDrag\"))&&(r[o]=t[o]);return r}(n,\"string\"==typeof e,t),u=e!==of.Fragment?{...s,...a,ref:r}:{},{children:c}=n,l=(0,of.useMemo)((()=>un(c)?c.get():c),[c]);return(0,of.createElement)(e,{...u,children:l})}}function Pd(t,e){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){return cd({...Gp(n)?gd:bd,preloadedFeatures:t,useRender:Ed(r),createVisualElement:e,Component:n})}}const jd=Yp(Pd());function Cd(t){return Cd=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Cd(t)}function Ld(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ld=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,\"_invoke\",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",v={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(C([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==Cd(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=p;return function(i,a){if(o===h)throw Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===v)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=h;var c=f(e,n,r);if(\"normal\"===c.type){if(o=r.done?y:d,c.arg===v)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=y,r.method=\"throw\",r.arg=c.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,T(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,v):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function C(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Cd(e)+\" is not iterable\")}return g.prototype=b,o(k,\"constructor\",{value:b,configurable:!0}),o(b,\"constructor\",{value:g,configurable:!0}),g.displayName=c(b,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,\"GeneratorFunction\")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,u,\"Generator\"),c(k,a,(function(){return this})),c(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),v}},e}function Id(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Nd(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nd(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Nd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Md=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};function Rd(t){var e=this,n=t.state,r=t.displayable,o=t.child,i=r.element,a=r.state,s=void 0===a?i:a,u=(0,of.useRef)(null),c=Id((0,of.useState)(null),2),l=c[0],f=c[1],p=Id((0,of.useState)([]),2)[1],d=Id((0,of.useState)(null),2),h=d[0],y=d[1],v=Id((0,of.useState)({}),2),m=v[0],g=v[1];function w(t){if(h&&h.getControl()&&(n.logger.warn(\"Displayable Animation\",\"processing transform not completed\"),h.getControl().complete(),h.setControl(null)),!u.current)throw new Error(\"scope not ready\");t instanceof La?Object.assign(u.current.style,t.propToCSS(n,s.state,r.transformOverwrites)):Object.assign(u.current.style,t)}function _(t){return f(t),t?new Promise((function(e){var r=t.events.onEvents([{type:kc.update,listener:t.events.on(kc.update,(function(t){p(t)}))},{type:kc.end,listener:t.events.on(kc.end,(function(){f(null),n.logger.debug(\"scene background transition end\",t)}))},{type:kc.start,listener:t.events.on(kc.start,(function(){n.logger.debug(\"scene background transition start\",t)}))}]);t.start((function(){r.cancel(),e()}))})):(n.logger.warn(\"transition not set\"),Promise.resolve())}function S(t){return Md(this,void 0,void 0,Ld().mark((function e(){return Ld().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(t.propToCSS(n,s.state,r.transformOverwrites)),y(t),e.next=4,t.animate({scope:u,target:s,overwrites:r.transformOverwrites},n,(function(e){s.state=b(s.state,e),g({style:t.propToCSS(n,s.state,r.transformOverwrites)}),y(null)}));case 4:case\"end\":return e.stop()}}),e)})))}return(0,of.useEffect)((function(){var t=\"event:displayable.applyTransition\",o=\"event:displayable.applyTransform\",a=\"event:displayable.init\",c=i.events.onEvents([{type:t,listener:i.events.on(t,_)},{type:o,listener:i.events.on(o,S)},{type:a,listener:i.events.on(a,(function(){return Md(e,void 0,void 0,Ld().mark((function t(){var e;return Ld().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.toDisplayableTransform(),n.logger.debug(\"init transform\",e),t.next=4,e.animate({scope:u,target:s,overwrites:r.transformOverwrites},n,(function(t){s.state=b(s.state,t)}));case 4:case\"end\":return t.stop()}}),t)})))}))}]);return function(){c.cancel()}}),[]),(0,of.useEffect)((function(){if(!u.current)throw new Error(\"Scope not ready. Using element: \".concat(i.constructor.name));w(s.state)}),[]),(0,of.useEffect)((function(){var t=n.events.onEvents([{type:ef.EventTypes[\"event:state.player.skip\"],listener:n.events.on(ef.EventTypes[\"event:state.player.skip\"],(function(){r.skipTransform&&h&&h.getControl()&&(h.getControl().complete(),h.setControl(null),n.logger.debug(\"transform skip\")),r.skipTransition&&l&&l.controller&&(l.controller.complete(),f(null),n.logger.debug(\"transition skip\"))}))}]);return function(){t.cancel()}}),[l,h]),af().createElement(af().Fragment,null,o({transformRef:u,transition:l,transform:h,transformProps:m,state:n}))}function Fd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Dd(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dd(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Dd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Bd(){return Bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bd.apply(null,arguments)}function Vd(t){var e=t.scene,n=t.props,r=t.state;return af().createElement(Rd,{displayable:{element:e,skipTransform:r.game.config.elements.background.allowSkipTransform,skipTransition:r.game.config.elements.background.allowSkipTransition},child:function(t){return af().createElement(Gd,Bd({},t,{scene:e,props:n}))},state:r})}function Gd(t){var e=t.transformRef,n=t.transformProps,r=t.transition,o=t.state,i=t.scene,a=t.props,s=yf().ratio,u=Fd(af().useState(!1),2),c=u[0],l=u[1];function f(){c||(l(!0),i.events.emit(ll.EventTypes[\"event:scene.imageLoaded\"]),o.logger.debug(\"BackgroundTransition\",\"Image loaded\",i))}var p,d=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/wcAAgAB9sWFXTkAAAAASUVORK5CYII=\",h={src:d,style:Object.assign({},o.game.config.app.debug?{border:\"1px solid red\"}:{})};return af().createElement(\"div\",null,af().createElement(jd.div,Bd({layout:!0,ref:e,className:\"absolute inset-0 flex items-center justify-center bg-cover bg-center overflow-hidden\"},b({style:Object.assign({},s.getStyle())},n)),r?r.toElementProps().map((function(t,e){var n=b(h,a,t);return af().createElement(\"img\",Bd({alt:n.alt},n,{onLoad:f,src:n.src?n.src:d,className:\"absolute\",key:e}))})):(p=b(h,a),af().createElement(\"img\",Bd({key:\"last\",alt:p.alt},p,{onLoad:f,src:p.src||d,className:\"absolute\"})))))}function Ud(t){return Ud=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ud(t)}function Hd(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Hd=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,\"_invoke\",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",v={};function m(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(C([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function x(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==Ud(l)&&r.call(l,\"__await\")?e.resolve(l.__await).then((function(t){n(\"next\",t,a,s)}),(function(t){n(\"throw\",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n(\"throw\",t,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=p;return function(i,a){if(o===h)throw Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===v)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=h;var c=f(e,n,r);if(\"normal\"===c.type){if(o=r.done?y:d,c.arg===v)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(o=y,r.method=\"throw\",r.arg=c.arg)}}}function T(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,\"throw\"===r&&e.iterator.return&&(n.method=\"return\",n.arg=t,T(e,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(o,e.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=t),n.delegate=null,v):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function C(e){if(e||\"\"===e){var n=e[a];if(n)return n.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ud(e)+\" is not iterable\")}return g.prototype=b,o(k,\"constructor\",{value:b,configurable:!0}),o(b,\"constructor\",{value:g,configurable:!0}),g.displayName=c(b,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,\"GeneratorFunction\")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),c(k,u,\"Generator\"),c(k,a,(function(){return this})),c(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type=\"throw\",s.arg=e,n.next=r,o&&(n.method=\"next\",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=r.call(a,\"catchLoc\"),c=r.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=t),v}},e}function zd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Wd(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wd(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Wd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var $d=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};function Yd(t){var e=t.scene,n=t.state,r=t.children,o=t.className,i=yf().ratio,a=zd((0,of.useState)((function(){return e.state.backgroundMusic})),2),s=a[0],u=a[1];return(0,of.useEffect)((function(){var t=[{type:\"event:scene.setBackgroundMusic\",listener:e.events.on(ll.EventTypes[\"event:scene.setBackgroundMusic\"],(function(t,e){(function(t,e){return $d(this,void 0,void 0,Hd().mark((function r(){var o,i;return Hd().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=s,i=t,r.next=4,n.transitionSound(o,i,e);case 4:if(i){r.next=6;break}return r.abrupt(\"return\");case 6:u(i);case 7:case\"end\":return r.stop()}}),r)})))})(t,e).then()}))},{type:\"event:scene.preUnmount\",listener:e.events.on(ll.EventTypes[\"event:scene.preUnmount\"],(function(){s&&function(t,e){return $d(this,void 0,void 0,Hd().mark((function r(){return Hd().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.fadeSound(t,0,e);case 2:n.stopSound(t);case 3:case\"end\":return r.stop()}}),r)})))}(s,e.state.backgroundMusicFade).then()}))}];return function(){t.forEach((function(t){var n=t.type,r=t.listener;e.events.off(n,r)}))}}),[]),(0,of.useEffect)((function(){return e.events.emit(ll.EventTypes[\"event:scene.mount\"]),function(){e.events.emit(ll.EventTypes[\"event:scene.unmount\"])}}),[]),af().createElement(\"div\",{className:o},af().createElement(Vd,{scene:e,props:{width:i.state.width,height:i.state.height,src:bs.isImageSrc(e.state.background)?bs.srcToString(e.state.background):void 0,style:{backgroundColor:bs.isImageColor(e.state.background)?bs.toHex(e.state.background):void 0}},state:n}),r)}function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(null,arguments)}function Xd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Kd(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kd(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Kd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Zd(t){var e=t.image,n=t.state,r=Xd((0,of.useState)(0),2),o=r[0],i=r[1],a=Lf().game;(0,of.useEffect)((function(){i(performance.now())}),[]);var s=function(){var t=performance.now()-o,e=a.config.elements.img.slowLoadThreshold;t>e&&a.config.elements.img.slowLoadWarning&&n.logger.warn(\"NarraLeaf-React\",\"Image took \".concat(t,\"ms to load, which exceeds the threshold of \").concat(e,\"ms. \")+\"Consider enable cache for the image, so Preloader can preload it before it's used. To disable this warning, set `elements.img.slowLoadWarning` to false in the game config.\")};return af().createElement(Rd,{displayable:{element:e,skipTransition:n.game.config.elements.img.allowSkipTransition,skipTransform:n.game.config.elements.img.allowSkipTransform},child:function(t){return af().createElement(Qd,qd({},t,{image:e,handleLoad:s}))},state:n})}function Qd(t){var e=t.transition,n=t.transformProps,r=t.transformRef,o=t.state,i=t.image,a=t.handleLoad,s={src:bs.staticImageDataToSrc(i.state.src),style:Object.assign({},o.game.config.app.debug?{border:\"1px solid red\"}:{})};return af().createElement(\"div\",{className:\"\"},af().createElement(jd.div,qd({layout:!0,ref:r,className:\"absolute\"},b({style:{opacity:0}},n)),e?af().createElement(af().Fragment,null,e.toElementProps().map((function(t,e,n){var r=b(s,t,{style:{transform:\"translate(-50%, -50%)\"}});return af().createElement(jd.img,qd({className:\"absolute\",key:e===n.length-1?\"last\":e,alt:r.alt},r,{onLoad:a,layout:!0}))}))):af().createElement(jd.img,qd({alt:\"image\",key:\"last\"},b(s,{style:{transform:\"translate(-50%, 50%)\"}}),{onLoad:a,layout:!0})),(i.events.emit(qa.EventTypes[\"event:image.flush\"]),null)))}function Jd(t){return Jd=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Jd(t)}function th(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,eh(r.key),r)}}function eh(t){var e=function(t,e){if(\"object\"!=Jd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Jd(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Jd(e)?e:e+\"\"}var nh=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.preloaded=[],this.events=new k}return function(t,e,n){return e&&th(t.prototype,e),n&&th(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(t,[{key:\"add\",value:function(e){return this.has(this.getSrc(e))||(this.preloaded.push(e),this.events.emit(t.EventTypes[\"event:preloaded.add\"],e),this.events.emit(t.EventTypes[\"event:preloaded.change\"])),this}},{key:\"get\",value:function(t){var e=this;return this.preloaded.find((function(n){return e.getSrc(n)===t}))}},{key:\"has\",value:function(t){var e=this;return Array.isArray(t)?t.every((function(t){return e.has(t)})):this.preloaded.some((function(n){return e.getSrc(n)===t}))}},{key:\"remove\",value:function(e){var n=this;if(Array.isArray(e)){var r=e.map((function(t){return n.getSrc(t)}));return this.preloaded=this.preloaded.filter((function(t){return!r.includes(n.getSrc(t))})),this}var o=this.getSrc(e);return this.preloaded=this.preloaded.filter((function(t){return n.getSrc(t)!==o})),this.events.emit(t.EventTypes[\"event:preloaded.remove\"],e),this.events.emit(t.EventTypes[\"event:preloaded.change\"]),this}},{key:\"clear\",value:function(){return this.preloaded=[],this}},{key:\"getSrc\",value:function(t){return\"string\"==typeof t?t:\"image\"===t.type?bs.srcToString(t.src.state.src):\"video\"===t.type?t.src:\"audio\"===t.type?t.src.getSrc():\"\"}}])}();function rh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return oh(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oh(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function oh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}nh.EventTypes={\"event:preloaded.add\":\"event:preloaded.add\",\"event:preloaded.remove\":\"event:preloaded.remove\",\"event:preloaded.change\":\"event:preloaded.change\",\"event:preloaded.mount\":\"event:preloaded.mount\",\"event:preloaded.ready\":\"event:preloaded.ready\"};var ih=(0,of.createContext)(null);function ah(t){var e=t.children,n=rh((0,of.useState)(new nh),1)[0];return af().createElement(af().Fragment,null,af().createElement(ih.Provider,{value:{preloaded:n}},e))}function sh(){if(!ih)throw new Error(\"usePreloaded must be used within a PreloadedProvider\");return(0,of.useContext)(ih)}function uh(t){return function(t){if(Array.isArray(t))return ch(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return ch(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ch(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function ch(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function lh(t){var e=t.state,n=sh().preloaded,r=e.getLastScene();return(0,of.useEffect)((function(){var t,r;if(\"undefined\"!=typeof window){var o=null===(t=e.getLastScene())||void 0===t?void 0:t.srcManager,i=(null===(r=e.getLastScene())||void 0===r?void 0:r.srcManager.future)||[],a=[].concat(uh(o?o.src:[]),uh(i.map((function(t){return t.src})).flat(2))),s={image:new Set,audio:new Set,video:new Set};a.forEach((function(t){t.type===pc.SrcTypes.image?s.image.add(t.src):t.type===pc.SrcTypes.audio?s.audio.add(t.src):t.type===pc.SrcTypes.video&&s.video.add(t.src)})),e.logger.debug(\"Preloading\",s,i),n.preloaded=n.preloaded.filter((function(t){if(t.type===pc.SrcTypes.audio){var e=s[t.type].has(t.src);return e||(e=Array.from(s[t.type]).some((function(e){return n.getSrc(t)===n.getSrc(e.config.src)}))),e}if(t.type===pc.SrcTypes.image)return s[t.type].has(t.src);var r=n.getSrc(t);return s[t.type].has(r)}));var u=[];return s.image.forEach((function(t){var r=new Image;r.src=bs.srcToString(t.state.src),r.onload=function(){e.logger.debug(\"Image loaded\",t.state.src)},u.push(r),n.add({type:\"image\",src:t})})),Promise.all([]).then((function(){e.logger.log(\"Preloaded\",\"Preloaded \".concat(s.image.size,\" images\")),n.events.emit(nh.EventTypes[\"event:preloaded.ready\"]),e.events.emit(ef.EventTypes[\"event:state.preload.loaded\"])})),s.audio.forEach((function(t){t.getPlaying()||t.setPlaying(new(e.getHowl())({src:t.config.src,loop:t.config.loop,volume:t.config.volume,autoplay:!1,preload:!0}))})),n.events.emit(nh.EventTypes[\"event:preloaded.mount\"]),function(){u.forEach((function(t){t.onload=null})),e.events.emit(ef.EventTypes[\"event:state.preload.unmount\"]),e.logger.debug(\"Preload unmounted\")}}console.warn(\"Window is not supported in this environment\")}),[r]),null}function fh(t){var e=t.state,n=Lf().game;return(0,of.useEffect)((function(){if(window){var t,r,o,i=(t=function(t){n.config.player.skipKey.includes(t.key)&&e.events.emit(ef.EventTypes[\"event:state.player.skip\"])},r=n.config.player.skipInterval,o=0,function(){var e=Date.now();if(!(e-o<r))return o=e,t.apply(void 0,arguments)});return window.addEventListener(\"keydown\",i),function(){window.removeEventListener(\"keydown\",i)}}e.logger.warn(\"NarraLeaf-React: Announcer\",\"Cannot listen to window events\")}),[]),af().createElement(af().Fragment,null)}var ph=o(33);function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(null,arguments)}function hh(t){var e=t.state,n=t.text,r={scale:function(t){return{width:\"fit-content\"}},transform:function(t){return{transform:La.propToCSSTransform(e,t,[\"left\"===n.config.alignX?\"0%\":\"right\"===n.config.alignX?\"-100%\":void 0,\"top\"===n.config.alignY?\"100%\":\"bottom\"===n.config.alignY?\"0%\":void 0])}}};return af().createElement(Rd,{displayable:{element:n,skipTransform:e.game.config.elements.text.allowSkipTransform,skipTransition:e.game.config.elements.text.allowSkipTransition,transformOverwrites:r},child:function(t){return af().createElement(yh,dh({},t,{text:n}))},state:e})}function yh(t){var e=t.transformRef,n=t.transformProps,r=t.transition,o=t.state,i=t.text,a={style:Object.assign(Object.assign({width:\"fit-content\"},o.game.config.app.debug?{border:\"1px solid red\"}:{}),{whiteSpace:\"nowrap\"})},s=rf(i.config.className);return af().createElement(mf,{className:\"absolute overflow-hidden pointer-events-none\"},af().createElement(jd.div,dh({layout:!0,ref:e,className:\"absolute\"},b({style:{opacity:0}},n,{style:{width:\"fit-content\"}})),r?r.toElementProps().map((function(t,e){var r=b(a,n,t);return af().createElement(jd.span,dh({key:e,layout:!0},r,{className:s}),af().createElement(\"span\",null,i.state.text))})):af().createElement(jd.div,dh({key:\"last\"},b(a,{style:{width:\"fit-content\"}}),{layout:!0}),af().createElement(\"span\",{className:s},i.state.text))))}function vh(t){var e=t.state,n=t.displayable;return af().createElement(af().Fragment,null,n.map((function(t){var n;if(t instanceof Qc)return af().createElement(hh,{state:e,text:t,key:\"text-\"+t.getId()});throw new Error(\"Unsupported displayable type: \"+((null===(n=null==t?void 0:t.constructor)||void 0===n?void 0:n.name)||t))})))}function mh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return gh(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gh(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function gh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function bh(t,e){return t.handle(e)}function wh(t){var e=t.story,n=t.width,r=t.height,o=t.className,i=t.onReady,a=t.onEnd,s=mh((0,of.useReducer)((function(t){return t+1}),0),2)[1],u=Lf().game,c=mh((0,of.useReducer)(bh,new ef(u,{update:s,forceUpdate:function(){l.logger.warn(\"Player\",\"force update\"),(0,ph.flushSync)((function(){s()}))},next:h,dispatch:function(t){return f(t)}})),2),l=c[0],f=c[1],p=u.config.elements.say.use,d=u.config.elements.menu.use;function h(){for(var t=!1;!t;){var e=u.getLiveGame().next(l);if(!e)break;if(w.isAwaitable(e)){t=!0;break}if(e instanceof j){e.nextUnlock().then((function(){h()})),t=!0;break}f(e)}l.stage.update()}(0,of.useEffect)((function(){return u.getLiveGame().setGameState(l).loadStory(e),function(){u.getLiveGame().setGameState(void 0)}}),[u]),(0,of.useEffect)((function(){var t=!1,e=Promise.resolve().then((function(){t=!0,i&&i({game:u,gameState:l,liveGame:u.getLiveGame(),storable:u.getLiveGame().getStorable()});var e=l.getLastScene(),n=[];e?n.push({type:\"event:scene.mount\",listener:e.events.once(\"event:scene.mount\",(function(){l.stage.next()}))}):l.stage.next();var r=l.events.onEvents([{type:ef.EventTypes[\"event:state.end\"],listener:function(){a&&a({game:u,gameState:l,liveGame:u.getLiveGame(),storable:u.getLiveGame().getStorable()})}}]),o=l.events.onEvents([{type:ef.EventTypes[\"event:state.player.skip\"],listener:function(){u.getLiveGame().abortAwaiting(),h()}}]);return l.stage.update(),function(){e&&n.forEach((function(t){e.events.off(t.type,t.listener)})),r.cancel(),o.cancel()}}));return function(){t&&e.then((function(t){return t()}))}}),[]),l.events.emit(ef.EventTypes[\"event:state.player.flush\"]);var y=n||u.config.player.width,v=r||u.config.player.height;return af().createElement(Hp,null,af().createElement(\"div\",{style:{width:\"number\"==typeof y?\"\".concat(y,\"px\"):y,height:\"number\"==typeof v?\"\".concat(v,\"px\"):v},className:rf(o,\"__narraleaf_content-player\")},af().createElement($p,{className:rf(\"flex-grow overflow-auto\")},af().createElement(mf,{className:\"relative\"},af().createElement(lh,{state:l}),af().createElement(_h,{onLoaded:function(){l.stage.update(),e&&h()},state:l},af().createElement(fh,{state:l}),l.getSceneElements().map((function(t){var e=t.scene,n=t.ele;return af().createElement(Yd,{key:\"scene-\"+e.getId(),state:l,scene:e},n.images.map((function(t){return af().createElement(Zd,{key:\"image-\"+t.getId(),image:t,state:l})})),af().createElement(vh,{state:l,displayable:n.displayable}),n.texts.map((function(t){var e=t.action,n=t.onClick;return af().createElement(p,{state:l,key:\"say-\"+e.id,action:e,onClick:function(){n(),h()}})})),n.menus.map((function(t,e){return af().createElement(\"div\",{key:\"menu-\"+e},af().createElement(d,{state:l,prompt:t.action.prompt,choices:t.action.choices,afterChoose:function(e){t.onClick(e),h()}}))})))})))))))}function _h(t){var e=t.children,n=t.onLoaded,r=t.state,o=sh().preloaded,i=mh((0,of.useState)(!1),2),a=i[0],s=i[1];return(0,of.useEffect)((function(){var t=o.events.on(nh.EventTypes[\"event:preloaded.ready\"],(function(){s(!0),n()})),e=r.events.on(ef.EventTypes[\"event:state.preload.unmount\"],(function(){s(!1)}));return function(){o.events.off(nh.EventTypes[\"event:preloaded.ready\"],t),r.events.off(ef.EventTypes[\"event:state.preload.unmount\"],e)}}),[a]),af().createElement(af().Fragment,null,a?e:null)}function Sh(t){var e=t.children,n=t.game;return af().createElement(af().Fragment,null,af().createElement(hf,null,af().createElement(Cf,{game:n},af().createElement(ah,null,e))))}function kh(t){return kh=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},kh(t)}function xh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Ah(r.key),r)}}function Ah(t){var e=function(t,e){if(\"object\"!=kh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=kh(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==kh(e)?e:e+\"\"}function Oh(t,e,n){return e=Eh(e),function(t,e){if(e&&(\"object\"==kh(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Th()?Reflect.construct(e,n||[],Eh(t).constructor):e.apply(t,n))}function Th(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Th=function(){return!!t})()}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Eh(t)}function Ph(t,e){return Ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ph(t,e)}var jh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,r=arguments.length>1?arguments[1]:void 0;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(t=Oh(this,e)).state={opacity:1},t.duration=n,t.easing=r,t}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Ph(t,e)}(e,t),function(t,e,n){return e&&xh(t.prototype,e),n&&xh(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"setSrc\",value:function(t){return this.src=t,this}},{key:\"start\",value:function(t){var n=this;this.state.opacity=e.Frames[0],this.requestAnimation({start:e.Frames[0],end:e.Frames[1],duration:this.duration},{onComplete:function(){t&&t(),n.state.opacity=e.Frames[1]},onUpdate:function(t){n.state.opacity=t}},{ease:this.easing})}},{key:\"toElementProps\",value:function(){return[{style:{opacity:1}},{style:{opacity:this.state.opacity,backgroundColor:bs.isImageColor(this.src)?S(this.src):\"\"},src:bs.isImageSrc(this.src)?bs.srcToString(this.src):\"\"}]}},{key:\"copy\",value:function(){return new e(this.duration,this.easing).setSrc(this.src)}}])}(Mc);function Ch(t){return Ch=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ch(t)}function Lh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Ih(r.key),r)}}function Ih(t){var e=function(t,e){if(\"object\"!=Ch(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Ch(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Ch(e)?e:e+\"\"}function Nh(t,e,n){return e=Rh(e),function(t,e){if(e&&(\"object\"==Ch(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Mh()?Reflect.construct(e,n||[],Rh(t).constructor):e.apply(t,n))}function Mh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Mh=function(){return!!t})()}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rh(t)}function Fh(t,e){return Fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fh(t,e)}jh.Frames=[0,1];var Dh=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3?arguments[3]:void 0;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(r=Nh(this,e)).state={opacity:0,transform:\"\"},r.duration=o,r.direction=t,r.offset=n,r.easing=i,r.__stack=x(),r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Fh(t,e)}(e,t),function(t,e,n){return e&&Lh(t.prototype,e),n&&Lh(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"setSrc\",value:function(t){return this.src=t,this}},{key:\"start\",value:function(t){var e=this;if(!this.src)throw new Error(\"src is required, but not provided\\nat:\\n\"+this.__stack);this.state.opacity=0,this.state.transform=this.getInitialTransform(),this.requestAnimation({start:0,end:1,duration:this.duration},{onComplete:t,onUpdate:function(t){e.state.opacity=t,e.state.transform=e.getTransform(t)}},{ease:this.easing})}},{key:\"toElementProps\",value:function(){return[{style:{opacity:1}},{style:{opacity:this.state.opacity,transform:this.state.transform,backgroundColor:bs.isImageColor(this.src)?S(this.src):\"\"},src:bs.isImageSrc(this.src)?bs.srcToString(this.src):\"\"}]}},{key:\"copy\",value:function(){return new e(this.direction,this.offset,this.duration,this.easing).setSrc(this.src)}},{key:\"getInitialTransform\",value:function(){switch(this.direction){case\"left\":return\"translateX(-\".concat(this.offset,\"px)\");case\"right\":return\"translateX(\".concat(this.offset,\"px)\");case\"top\":return\"translateY(-\".concat(this.offset,\"px)\");case\"bottom\":return\"translateY(\".concat(this.offset,\"px)\");default:return\"\"}}},{key:\"getTransform\",value:function(t){switch(this.direction){case\"left\":return\"translateX(\".concat((1-t)*-this.offset,\"px)\");case\"right\":return\"translateX(\".concat((1-t)*this.offset,\"px)\");case\"top\":return\"translateY(\".concat((1-t)*-this.offset,\"px)\");case\"bottom\":return\"translateY(\".concat((1-t)*this.offset,\"px)\");default:return\"\"}}}])}(Mc);function Bh(t){return Bh=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Bh(t)}function Vh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,Gh(r.key),r)}}function Gh(t){var e=function(t,e){if(\"object\"!=Bh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=Bh(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==Bh(e)?e:e+\"\"}function Uh(t,e,n){return e=zh(e),function(t,e){if(e&&(\"object\"==Bh(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(t,Hh()?Reflect.construct(e,n||[],zh(t).constructor):e.apply(t,n))}function Hh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hh=function(){return!!t})()}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zh(t)}function Wh(t,e){return Wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wh(t,e)}var $h=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,r=arguments.length>1?arguments[1]:void 0;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(t=Uh(this,e)).state={opacity:0},t.duration=n,t.easing=r,t}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Wh(t,e)}(e,t),function(t,e,n){return e&&Vh(t.prototype,e),n&&Vh(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}(e,[{key:\"setSrc\",value:function(t){return this.src=t,this}},{key:\"start\",value:function(t){var n=this;this.state.opacity=e.Frames[0],this.requestAnimation({start:e.Frames[0],end:e.Frames[1],duration:this.duration},{onComplete:function(){n.state.opacity=e.Frames[1],t&&t()},onUpdate:function(t){n.state.opacity=t}},{ease:this.easing})}},{key:\"toElementProps\",value:function(){return[{style:{opacity:this.state.opacity}},{style:{opacity:1-this.state.opacity,backgroundColor:bs.isImageColor(this.src)?S(this.src):\"\"},src:bs.isImageSrc(this.src)?bs.srcToString(this.src):\"\"}]}},{key:\"copy\",value:function(){return new e(this.duration,this.easing).setSrc(this.src)}}])}(Mc);$h.Frames=[1,0]})(),i})()));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmFycmFsZWFmLXJlYWN0L2Rpc3QvbWFpbi5qcyIsIm1hcHBpbmdzIjoiQUFBQSxlQUFlLEtBQWlELGtCQUFrQixtQkFBTyxDQUFDLHdHQUFPLEVBQUUsbUJBQU8sQ0FBQyxnSEFBVyxHQUFHLENBQXFNLENBQUMsb0JBQW9CLE9BQU8sY0FBYyxhQUFhLE9BQU8sUUFBUSxFQUFFLCtDQUErQywrVkFBK1YsNEJBQTRCLDRCQUE0QixnQ0FBZ0Msa0NBQWtDLFVBQVUsd0JBQXdCLHFCQUFxQixHQUFHLCthQUErYSxzQkFBc0IsMkNBQTJDLDZCQUE2QiwwQkFBMEIsb0JBQW9CLG9KQUFvSiwwQ0FBMEMsNENBQTRDLHFEQUFxRCxVQUFVLGdLQUFnSyxlQUFlLGlDQUFpQyxVQUFVLDJOQUEyTixlQUFlLDJCQUEyQixrQ0FBa0MsVUFBVSxpR0FBaUcsOENBQThDLDhDQUE4QyxHQUFHLGtHQUFrRyx1QkFBdUIseUJBQXlCLEdBQUcsaUZBQWlGLG1CQUFtQiw2QkFBNkIsR0FBRywyRUFBMkUsd0JBQXdCLEdBQUcsMFNBQTBTLHlIQUF5SCwwQ0FBMEMsNENBQTRDLDJCQUEyQixVQUFVLGlFQUFpRSxtQkFBbUIsR0FBRywyR0FBMkcsbUJBQW1CLG1CQUFtQix1QkFBdUIsNkJBQTZCLEdBQUcsU0FBUyxvQkFBb0IsR0FBRyxTQUFTLGdCQUFnQixHQUFHLGdiQUFnYixvQkFBb0Isa0NBQWtDLHNDQUFzQyxVQUFVLGtNQUFrTSwwQkFBMEIsMkNBQTJDLDZDQUE2Qyw0QkFBNEIsaUNBQWlDLGlDQUFpQyxvQ0FBb0MsMkJBQTJCLHNCQUFzQix1QkFBdUIsVUFBVSw4RkFBOEYseUJBQXlCLEdBQUcsME5BQTBOLGdDQUFnQywwQ0FBMEMsbUNBQW1DLFVBQVUsK0ZBQStGLGtCQUFrQixHQUFHLCtNQUErTSxxQkFBcUIsR0FBRyxtRkFBbUYsNkJBQTZCLEdBQUcsaUpBQWlKLGlCQUFpQixHQUFHLDZIQUE2SCxtQ0FBbUMsaUNBQWlDLFVBQVUsb0dBQW9H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QixFQUFFLGlCQUFpQixHQUFHLEVBQUUsc0NBQXNDLFFBQVEsT0FBTyw0QkFBNEIsRUFBRSxPQUFPLHNGQUFzRix5REFBeUQsR0FBRyxFQUFFLDRCQUE0QiwwREFBMEQsR0FBRyxLQUFLLGdCQUFnQixNQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2FsZ2FtZS13ZWIvLi9ub2RlX21vZHVsZXMvbmFycmFsZWFmLXJlYWN0L2Rpc3QvbWFpbi5qcz8xMGRjIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUocmVxdWlyZShcInJlYWN0XCIpLHJlcXVpcmUoXCJyZWFjdC1kb21cIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wicmVhY3RcIixcInJlYWN0LWRvbVwiXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLk5hcnJhbGVhZlJlYWN0PWUocmVxdWlyZShcInJlYWN0XCIpLHJlcXVpcmUoXCJyZWFjdC1kb21cIikpOnQuTmFycmFsZWFmUmVhY3Q9ZSh0LlJlYWN0LHQuUmVhY3RET00pfSh0aGlzLCgodCxlKT0+KCgpPT57dmFyIG49ezU4NzoodCxlLG4pPT57XCJ1c2Ugc3RyaWN0XCI7bi5kKGUse0E6KCk9PnN9KTt2YXIgcj1uKDYwMSksbz1uLm4ociksaT1uKDMxNCksYT1uLm4oaSkoKShvKCkpO2EucHVzaChbdC5pZCxcIi8qXFxuISB0YWlsd2luZGNzcyB2My40LjExIHwgTUlUIExpY2Vuc2UgfCBodHRwczovL3RhaWx3aW5kY3NzLmNvbVxcbiovLypcXG4xLiBQcmV2ZW50IHBhZGRpbmcgYW5kIGJvcmRlciBmcm9tIGFmZmVjdGluZyBlbGVtZW50IHdpZHRoLiAoaHR0cHM6Ly9naXRodWIuY29tL21vemRldnMvY3NzcmVtZWR5L2lzc3Vlcy80KVxcbjIuIEFsbG93IGFkZGluZyBhIGJvcmRlciB0byBhbiBlbGVtZW50IGJ5IGp1c3QgYWRkaW5nIGEgYm9yZGVyLXdpZHRoLiAoaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kY3NzL3RhaWx3aW5kY3NzL3B1bGwvMTE2KVxcbiovXFxuXFxuKixcXG46OmJlZm9yZSxcXG46OmFmdGVyIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7IC8qIDEgKi9cXG4gIGJvcmRlci13aWR0aDogMDsgLyogMiAqL1xcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDsgLyogMiAqL1xcbiAgYm9yZGVyLWNvbG9yOiAjZTVlN2ViOyAvKiAyICovXFxufVxcblxcbjo6YmVmb3JlLFxcbjo6YWZ0ZXIge1xcbiAgLS10dy1jb250ZW50OiAnJztcXG59XFxuXFxuLypcXG4xLiBVc2UgYSBjb25zaXN0ZW50IHNlbnNpYmxlIGxpbmUtaGVpZ2h0IGluIGFsbCBicm93c2Vycy5cXG4yLiBQcmV2ZW50IGFkanVzdG1lbnRzIG9mIGZvbnQgc2l6ZSBhZnRlciBvcmllbnRhdGlvbiBjaGFuZ2VzIGluIGlPUy5cXG4zLiBVc2UgYSBtb3JlIHJlYWRhYmxlIHRhYiBzaXplLlxcbjQuIFVzZSB0aGUgdXNlcidzIGNvbmZpZ3VyZWQgYHNhbnNgIGZvbnQtZmFtaWx5IGJ5IGRlZmF1bHQuXFxuNS4gVXNlIHRoZSB1c2VyJ3MgY29uZmlndXJlZCBgc2Fuc2AgZm9udC1mZWF0dXJlLXNldHRpbmdzIGJ5IGRlZmF1bHQuXFxuNi4gVXNlIHRoZSB1c2VyJ3MgY29uZmlndXJlZCBgc2Fuc2AgZm9udC12YXJpYXRpb24tc2V0dGluZ3MgYnkgZGVmYXVsdC5cXG43LiBEaXNhYmxlIHRhcCBoaWdobGlnaHRzIG9uIGlPU1xcbiovXFxuXFxuaHRtbCxcXG46aG9zdCB7XFxuICBsaW5lLWhlaWdodDogMS41OyAvKiAxICovXFxuICAtd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6IDEwMCU7IC8qIDIgKi9cXG4gIC1tb3otdGFiLXNpemU6IDQ7IC8qIDMgKi9cXG4gIC1vLXRhYi1zaXplOiA0O1xcbiAgICAgdGFiLXNpemU6IDQ7IC8qIDMgKi9cXG4gIGZvbnQtZmFtaWx5OiB1aS1zYW5zLXNlcmlmLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWYsIFxcXCJBcHBsZSBDb2xvciBFbW9qaVxcXCIsIFxcXCJTZWdvZSBVSSBFbW9qaVxcXCIsIFxcXCJTZWdvZSBVSSBTeW1ib2xcXFwiLCBcXFwiTm90byBDb2xvciBFbW9qaVxcXCI7IC8qIDQgKi9cXG4gIGZvbnQtZmVhdHVyZS1zZXR0aW5nczogbm9ybWFsOyAvKiA1ICovXFxuICBmb250LXZhcmlhdGlvbi1zZXR0aW5nczogbm9ybWFsOyAvKiA2ICovXFxuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50OyAvKiA3ICovXFxufVxcblxcbi8qXFxuMS4gUmVtb3ZlIHRoZSBtYXJnaW4gaW4gYWxsIGJyb3dzZXJzLlxcbjIuIEluaGVyaXQgbGluZS1oZWlnaHQgZnJvbSBgaHRtbGAgc28gdXNlcnMgY2FuIHNldCB0aGVtIGFzIGEgY2xhc3MgZGlyZWN0bHkgb24gdGhlIGBodG1sYCBlbGVtZW50LlxcbiovXFxuXFxuYm9keSB7XFxuICBtYXJnaW46IDA7IC8qIDEgKi9cXG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0OyAvKiAyICovXFxufVxcblxcbi8qXFxuMS4gQWRkIHRoZSBjb3JyZWN0IGhlaWdodCBpbiBGaXJlZm94LlxcbjIuIENvcnJlY3QgdGhlIGluaGVyaXRhbmNlIG9mIGJvcmRlciBjb2xvciBpbiBGaXJlZm94LiAoaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTkwNjU1KVxcbjMuIEVuc3VyZSBob3Jpem9udGFsIHJ1bGVzIGFyZSB2aXNpYmxlIGJ5IGRlZmF1bHQuXFxuKi9cXG5cXG5ociB7XFxuICBoZWlnaHQ6IDA7IC8qIDEgKi9cXG4gIGNvbG9yOiBpbmhlcml0OyAvKiAyICovXFxuICBib3JkZXItdG9wLXdpZHRoOiAxcHg7IC8qIDMgKi9cXG59XFxuXFxuLypcXG5BZGQgdGhlIGNvcnJlY3QgdGV4dCBkZWNvcmF0aW9uIGluIENocm9tZSwgRWRnZSwgYW5kIFNhZmFyaS5cXG4qL1xcblxcbmFiYnI6d2hlcmUoW3RpdGxlXSkge1xcbiAgLXdlYmtpdC10ZXh0LWRlY29yYXRpb246IHVuZGVybGluZSBkb3R0ZWQ7XFxuICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lIGRvdHRlZDtcXG59XFxuXFxuLypcXG5SZW1vdmUgdGhlIGRlZmF1bHQgZm9udCBzaXplIGFuZCB3ZWlnaHQgZm9yIGhlYWRpbmdzLlxcbiovXFxuXFxuaDEsXFxuaDIsXFxuaDMsXFxuaDQsXFxuaDUsXFxuaDYge1xcbiAgZm9udC1zaXplOiBpbmhlcml0O1xcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XFxufVxcblxcbi8qXFxuUmVzZXQgbGlua3MgdG8gb3B0aW1pemUgZm9yIG9wdC1pbiBzdHlsaW5nIGluc3RlYWQgb2Ygb3B0LW91dC5cXG4qL1xcblxcbmEge1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICB0ZXh0LWRlY29yYXRpb246IGluaGVyaXQ7XFxufVxcblxcbi8qXFxuQWRkIHRoZSBjb3JyZWN0IGZvbnQgd2VpZ2h0IGluIEVkZ2UgYW5kIFNhZmFyaS5cXG4qL1xcblxcbmIsXFxuc3Ryb25nIHtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkZXI7XFxufVxcblxcbi8qXFxuMS4gVXNlIHRoZSB1c2VyJ3MgY29uZmlndXJlZCBgbW9ub2AgZm9udC1mYW1pbHkgYnkgZGVmYXVsdC5cXG4yLiBVc2UgdGhlIHVzZXIncyBjb25maWd1cmVkIGBtb25vYCBmb250LWZlYXR1cmUtc2V0dGluZ3MgYnkgZGVmYXVsdC5cXG4zLiBVc2UgdGhlIHVzZXIncyBjb25maWd1cmVkIGBtb25vYCBmb250LXZhcmlhdGlvbi1zZXR0aW5ncyBieSBkZWZhdWx0LlxcbjQuIENvcnJlY3QgdGhlIG9kZCBgZW1gIGZvbnQgc2l6aW5nIGluIGFsbCBicm93c2Vycy5cXG4qL1xcblxcbmNvZGUsXFxua2JkLFxcbnNhbXAsXFxucHJlIHtcXG4gIGZvbnQtZmFtaWx5OiB1aS1tb25vc3BhY2UsIFNGTW9uby1SZWd1bGFyLCBNZW5sbywgTW9uYWNvLCBDb25zb2xhcywgXFxcIkxpYmVyYXRpb24gTW9ub1xcXCIsIFxcXCJDb3VyaWVyIE5ld1xcXCIsIG1vbm9zcGFjZTsgLyogMSAqL1xcbiAgZm9udC1mZWF0dXJlLXNldHRpbmdzOiBub3JtYWw7IC8qIDIgKi9cXG4gIGZvbnQtdmFyaWF0aW9uLXNldHRpbmdzOiBub3JtYWw7IC8qIDMgKi9cXG4gIGZvbnQtc2l6ZTogMWVtOyAvKiA0ICovXFxufVxcblxcbi8qXFxuQWRkIHRoZSBjb3JyZWN0IGZvbnQgc2l6ZSBpbiBhbGwgYnJvd3NlcnMuXFxuKi9cXG5cXG5zbWFsbCB7XFxuICBmb250LXNpemU6IDgwJTtcXG59XFxuXFxuLypcXG5QcmV2ZW50IGBzdWJgIGFuZCBgc3VwYCBlbGVtZW50cyBmcm9tIGFmZmVjdGluZyB0aGUgbGluZSBoZWlnaHQgaW4gYWxsIGJyb3dzZXJzLlxcbiovXFxuXFxuc3ViLFxcbnN1cCB7XFxuICBmb250LXNpemU6IDc1JTtcXG4gIGxpbmUtaGVpZ2h0OiAwO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO1xcbn1cXG5cXG5zdWIge1xcbiAgYm90dG9tOiAtMC4yNWVtO1xcbn1cXG5cXG5zdXAge1xcbiAgdG9wOiAtMC41ZW07XFxufVxcblxcbi8qXFxuMS4gUmVtb3ZlIHRleHQgaW5kZW50YXRpb24gZnJvbSB0YWJsZSBjb250ZW50cyBpbiBDaHJvbWUgYW5kIFNhZmFyaS4gKGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTk5OTA4OCwgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTIwMTI5NylcXG4yLiBDb3JyZWN0IHRhYmxlIGJvcmRlciBjb2xvciBpbmhlcml0YW5jZSBpbiBhbGwgQ2hyb21lIGFuZCBTYWZhcmkuIChodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD05MzU3MjksIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xOTUwMTYpXFxuMy4gUmVtb3ZlIGdhcHMgYmV0d2VlbiB0YWJsZSBib3JkZXJzIGJ5IGRlZmF1bHQuXFxuKi9cXG5cXG50YWJsZSB7XFxuICB0ZXh0LWluZGVudDogMDsgLyogMSAqL1xcbiAgYm9yZGVyLWNvbG9yOiBpbmhlcml0OyAvKiAyICovXFxuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyAvKiAzICovXFxufVxcblxcbi8qXFxuMS4gQ2hhbmdlIHRoZSBmb250IHN0eWxlcyBpbiBhbGwgYnJvd3NlcnMuXFxuMi4gUmVtb3ZlIHRoZSBtYXJnaW4gaW4gRmlyZWZveCBhbmQgU2FmYXJpLlxcbjMuIFJlbW92ZSBkZWZhdWx0IHBhZGRpbmcgaW4gYWxsIGJyb3dzZXJzLlxcbiovXFxuXFxuYnV0dG9uLFxcbmlucHV0LFxcbm9wdGdyb3VwLFxcbnNlbGVjdCxcXG50ZXh0YXJlYSB7XFxuICBmb250LWZhbWlseTogaW5oZXJpdDsgLyogMSAqL1xcbiAgZm9udC1mZWF0dXJlLXNldHRpbmdzOiBpbmhlcml0OyAvKiAxICovXFxuICBmb250LXZhcmlhdGlvbi1zZXR0aW5nczogaW5oZXJpdDsgLyogMSAqL1xcbiAgZm9udC1zaXplOiAxMDAlOyAvKiAxICovXFxuICBmb250LXdlaWdodDogaW5oZXJpdDsgLyogMSAqL1xcbiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7IC8qIDEgKi9cXG4gIGxldHRlci1zcGFjaW5nOiBpbmhlcml0OyAvKiAxICovXFxuICBjb2xvcjogaW5oZXJpdDsgLyogMSAqL1xcbiAgbWFyZ2luOiAwOyAvKiAyICovXFxuICBwYWRkaW5nOiAwOyAvKiAzICovXFxufVxcblxcbi8qXFxuUmVtb3ZlIHRoZSBpbmhlcml0YW5jZSBvZiB0ZXh0IHRyYW5zZm9ybSBpbiBFZGdlIGFuZCBGaXJlZm94LlxcbiovXFxuXFxuYnV0dG9uLFxcbnNlbGVjdCB7XFxuICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcXG59XFxuXFxuLypcXG4xLiBDb3JyZWN0IHRoZSBpbmFiaWxpdHkgdG8gc3R5bGUgY2xpY2thYmxlIHR5cGVzIGluIGlPUyBhbmQgU2FmYXJpLlxcbjIuIFJlbW92ZSBkZWZhdWx0IGJ1dHRvbiBzdHlsZXMuXFxuKi9cXG5cXG5idXR0b24sXFxuaW5wdXQ6d2hlcmUoW3R5cGU9J2J1dHRvbiddKSxcXG5pbnB1dDp3aGVyZShbdHlwZT0ncmVzZXQnXSksXFxuaW5wdXQ6d2hlcmUoW3R5cGU9J3N1Ym1pdCddKSB7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IGJ1dHRvbjsgLyogMSAqL1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IC8qIDIgKi9cXG4gIGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7IC8qIDIgKi9cXG59XFxuXFxuLypcXG5Vc2UgdGhlIG1vZGVybiBGaXJlZm94IGZvY3VzIHN0eWxlIGZvciBhbGwgZm9jdXNhYmxlIGVsZW1lbnRzLlxcbiovXFxuXFxuOi1tb3otZm9jdXNyaW5nIHtcXG4gIG91dGxpbmU6IGF1dG87XFxufVxcblxcbi8qXFxuUmVtb3ZlIHRoZSBhZGRpdGlvbmFsIGA6aW52YWxpZGAgc3R5bGVzIGluIEZpcmVmb3guIChodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9nZWNrby1kZXYvYmxvYi8yZjllYWNkOWQzZDk5NWM5MzdiNDI1MWE1NTU3ZDk1ZDQ5NGM5YmUxL2xheW91dC9zdHlsZS9yZXMvZm9ybXMuY3NzI0w3MjgtTDczNylcXG4qL1xcblxcbjotbW96LXVpLWludmFsaWQge1xcbiAgYm94LXNoYWRvdzogbm9uZTtcXG59XFxuXFxuLypcXG5BZGQgdGhlIGNvcnJlY3QgdmVydGljYWwgYWxpZ25tZW50IGluIENocm9tZSBhbmQgRmlyZWZveC5cXG4qL1xcblxcbnByb2dyZXNzIHtcXG4gIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcXG59XFxuXFxuLypcXG5Db3JyZWN0IHRoZSBjdXJzb3Igc3R5bGUgb2YgaW5jcmVtZW50IGFuZCBkZWNyZW1lbnQgYnV0dG9ucyBpbiBTYWZhcmkuXFxuKi9cXG5cXG46Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24sXFxuOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9uIHtcXG4gIGhlaWdodDogYXV0bztcXG59XFxuXFxuLypcXG4xLiBDb3JyZWN0IHRoZSBvZGQgYXBwZWFyYW5jZSBpbiBDaHJvbWUgYW5kIFNhZmFyaS5cXG4yLiBDb3JyZWN0IHRoZSBvdXRsaW5lIHN0eWxlIGluIFNhZmFyaS5cXG4qL1xcblxcblt0eXBlPSdzZWFyY2gnXSB7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IHRleHRmaWVsZDsgLyogMSAqL1xcbiAgb3V0bGluZS1vZmZzZXQ6IC0ycHg7IC8qIDIgKi9cXG59XFxuXFxuLypcXG5SZW1vdmUgdGhlIGlubmVyIHBhZGRpbmcgaW4gQ2hyb21lIGFuZCBTYWZhcmkgb24gbWFjT1MuXFxuKi9cXG5cXG46Oi13ZWJraXQtc2VhcmNoLWRlY29yYXRpb24ge1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbn1cXG5cXG4vKlxcbjEuIENvcnJlY3QgdGhlIGluYWJpbGl0eSB0byBzdHlsZSBjbGlja2FibGUgdHlwZXMgaW4gaU9TIGFuZCBTYWZhcmkuXFxuMi4gQ2hhbmdlIGZvbnQgcHJvcGVydGllcyB0byBgaW5oZXJpdGAgaW4gU2FmYXJpLlxcbiovXFxuXFxuOjotd2Via2l0LWZpbGUtdXBsb2FkLWJ1dHRvbiB7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IGJ1dHRvbjsgLyogMSAqL1xcbiAgZm9udDogaW5oZXJpdDsgLyogMiAqL1xcbn1cXG5cXG4vKlxcbkFkZCB0aGUgY29ycmVjdCBkaXNwbGF5IGluIENocm9tZSBhbmQgU2FmYXJpLlxcbiovXFxuXFxuc3VtbWFyeSB7XFxuICBkaXNwbGF5OiBsaXN0LWl0ZW07XFxufVxcblxcbi8qXFxuUmVtb3ZlcyB0aGUgZGVmYXVsdCBzcGFjaW5nIGFuZCBib3JkZXIgZm9yIGFwcHJvcHJpYXRlIGVsZW1lbnRzLlxcbiovXFxuXFxuYmxvY2txdW90ZSxcXG5kbCxcXG5kZCxcXG5oMSxcXG5oMixcXG5oMyxcXG5oNCxcXG5oNSxcXG5oNixcXG5ocixcXG5maWd1cmUsXFxucCxcXG5wcmUge1xcbiAgbWFyZ2luOiAwO1xcbn1cXG5cXG5maWVsZHNldCB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbn1cXG5cXG5sZWdlbmQge1xcbiAgcGFkZGluZzogMDtcXG59XFxuXFxub2wsXFxudWwsXFxubWVudSB7XFxuICBsaXN0LXN0eWxlOiBub25lO1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG59XFxuXFxuLypcXG5SZXNldCBkZWZhdWx0IHN0eWxpbmcgZm9yIGRpYWxvZ3MuXFxuKi9cXG5kaWFsb2cge1xcbiAgcGFkZGluZzogMDtcXG59XFxuXFxuLypcXG5QcmV2ZW50IHJlc2l6aW5nIHRleHRhcmVhcyBob3Jpem9udGFsbHkgYnkgZGVmYXVsdC5cXG4qL1xcblxcbnRleHRhcmVhIHtcXG4gIHJlc2l6ZTogdmVydGljYWw7XFxufVxcblxcbi8qXFxuMS4gUmVzZXQgdGhlIGRlZmF1bHQgcGxhY2Vob2xkZXIgb3BhY2l0eSBpbiBGaXJlZm94LiAoaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy9pc3N1ZXMvMzMwMClcXG4yLiBTZXQgdGhlIGRlZmF1bHQgcGxhY2Vob2xkZXIgY29sb3IgdG8gdGhlIHVzZXIncyBjb25maWd1cmVkIGdyYXkgNDAwIGNvbG9yLlxcbiovXFxuXFxuaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXIsIHRleHRhcmVhOjotbW96LXBsYWNlaG9sZGVyIHtcXG4gIG9wYWNpdHk6IDE7IC8qIDEgKi9cXG4gIGNvbG9yOiAjOWNhM2FmOyAvKiAyICovXFxufVxcblxcbmlucHV0OjpwbGFjZWhvbGRlcixcXG50ZXh0YXJlYTo6cGxhY2Vob2xkZXIge1xcbiAgb3BhY2l0eTogMTsgLyogMSAqL1xcbiAgY29sb3I6ICM5Y2EzYWY7IC8qIDIgKi9cXG59XFxuXFxuLypcXG5TZXQgdGhlIGRlZmF1bHQgY3Vyc29yIGZvciBidXR0b25zLlxcbiovXFxuXFxuYnV0dG9uLFxcbltyb2xlPVxcXCJidXR0b25cXFwiXSB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi8qXFxuTWFrZSBzdXJlIGRpc2FibGVkIGJ1dHRvbnMgZG9uJ3QgZ2V0IHRoZSBwb2ludGVyIGN1cnNvci5cXG4qL1xcbjpkaXNhYmxlZCB7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxufVxcblxcbi8qXFxuMS4gTWFrZSByZXBsYWNlZCBlbGVtZW50cyBgZGlzcGxheTogYmxvY2tgIGJ5IGRlZmF1bHQuIChodHRwczovL2dpdGh1Yi5jb20vbW96ZGV2cy9jc3NyZW1lZHkvaXNzdWVzLzE0KVxcbjIuIEFkZCBgdmVydGljYWwtYWxpZ246IG1pZGRsZWAgdG8gYWxpZ24gcmVwbGFjZWQgZWxlbWVudHMgbW9yZSBzZW5zaWJseSBieSBkZWZhdWx0LiAoaHR0cHM6Ly9naXRodWIuY29tL2plbnNpbW1vbnMvY3NzcmVtZWR5L2lzc3Vlcy8xNCNpc3N1ZWNvbW1lbnQtNjM0OTM0MjEwKVxcbiAgIFRoaXMgY2FuIHRyaWdnZXIgYSBwb29ybHkgY29uc2lkZXJlZCBsaW50IGVycm9yIGluIHNvbWUgdG9vbHMgYnV0IGlzIGluY2x1ZGVkIGJ5IGRlc2lnbi5cXG4qL1xcblxcbmltZyxcXG5zdmcsXFxudmlkZW8sXFxuY2FudmFzLFxcbmF1ZGlvLFxcbmlmcmFtZSxcXG5lbWJlZCxcXG5vYmplY3Qge1xcbiAgZGlzcGxheTogYmxvY2s7IC8qIDEgKi9cXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IC8qIDIgKi9cXG59XFxuXFxuLypcXG5Db25zdHJhaW4gaW1hZ2VzIGFuZCB2aWRlb3MgdG8gdGhlIHBhcmVudCB3aWR0aCBhbmQgcHJlc2VydmUgdGhlaXIgaW50cmluc2ljIGFzcGVjdCByYXRpby4gKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3pkZXZzL2Nzc3JlbWVkeS9pc3N1ZXMvMTQpXFxuKi9cXG5cXG5pbWcsXFxudmlkZW8ge1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiBhdXRvO1xcbn1cXG5cXG4vKiBNYWtlIGVsZW1lbnRzIHdpdGggdGhlIEhUTUwgaGlkZGVuIGF0dHJpYnV0ZSBzdGF5IGhpZGRlbiBieSBkZWZhdWx0ICovXFxuW2hpZGRlbl0ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuKiwgOjpiZWZvcmUsIDo6YWZ0ZXIge1xcbiAgLS10dy1ib3JkZXItc3BhY2luZy14OiAwO1xcbiAgLS10dy1ib3JkZXItc3BhY2luZy15OiAwO1xcbiAgLS10dy10cmFuc2xhdGUteDogMDtcXG4gIC0tdHctdHJhbnNsYXRlLXk6IDA7XFxuICAtLXR3LXJvdGF0ZTogMDtcXG4gIC0tdHctc2tldy14OiAwO1xcbiAgLS10dy1za2V3LXk6IDA7XFxuICAtLXR3LXNjYWxlLXg6IDE7XFxuICAtLXR3LXNjYWxlLXk6IDE7XFxuICAtLXR3LXBhbi14OiAgO1xcbiAgLS10dy1wYW4teTogIDtcXG4gIC0tdHctcGluY2gtem9vbTogIDtcXG4gIC0tdHctc2Nyb2xsLXNuYXAtc3RyaWN0bmVzczogcHJveGltaXR5O1xcbiAgLS10dy1ncmFkaWVudC1mcm9tLXBvc2l0aW9uOiAgO1xcbiAgLS10dy1ncmFkaWVudC12aWEtcG9zaXRpb246ICA7XFxuICAtLXR3LWdyYWRpZW50LXRvLXBvc2l0aW9uOiAgO1xcbiAgLS10dy1vcmRpbmFsOiAgO1xcbiAgLS10dy1zbGFzaGVkLXplcm86ICA7XFxuICAtLXR3LW51bWVyaWMtZmlndXJlOiAgO1xcbiAgLS10dy1udW1lcmljLXNwYWNpbmc6ICA7XFxuICAtLXR3LW51bWVyaWMtZnJhY3Rpb246ICA7XFxuICAtLXR3LXJpbmctaW5zZXQ6ICA7XFxuICAtLXR3LXJpbmctb2Zmc2V0LXdpZHRoOiAwcHg7XFxuICAtLXR3LXJpbmctb2Zmc2V0LWNvbG9yOiAjZmZmO1xcbiAgLS10dy1yaW5nLWNvbG9yOiByZ2IoNTkgMTMwIDI0NiAvIDAuNSk7XFxuICAtLXR3LXJpbmctb2Zmc2V0LXNoYWRvdzogMCAwICMwMDAwO1xcbiAgLS10dy1yaW5nLXNoYWRvdzogMCAwICMwMDAwO1xcbiAgLS10dy1zaGFkb3c6IDAgMCAjMDAwMDtcXG4gIC0tdHctc2hhZG93LWNvbG9yZWQ6IDAgMCAjMDAwMDtcXG4gIC0tdHctYmx1cjogIDtcXG4gIC0tdHctYnJpZ2h0bmVzczogIDtcXG4gIC0tdHctY29udHJhc3Q6ICA7XFxuICAtLXR3LWdyYXlzY2FsZTogIDtcXG4gIC0tdHctaHVlLXJvdGF0ZTogIDtcXG4gIC0tdHctaW52ZXJ0OiAgO1xcbiAgLS10dy1zYXR1cmF0ZTogIDtcXG4gIC0tdHctc2VwaWE6ICA7XFxuICAtLXR3LWRyb3Atc2hhZG93OiAgO1xcbiAgLS10dy1iYWNrZHJvcC1ibHVyOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1icmlnaHRuZXNzOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1jb250cmFzdDogIDtcXG4gIC0tdHctYmFja2Ryb3AtZ3JheXNjYWxlOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1odWUtcm90YXRlOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1pbnZlcnQ6ICA7XFxuICAtLXR3LWJhY2tkcm9wLW9wYWNpdHk6ICA7XFxuICAtLXR3LWJhY2tkcm9wLXNhdHVyYXRlOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1zZXBpYTogIDtcXG4gIC0tdHctY29udGFpbi1zaXplOiAgO1xcbiAgLS10dy1jb250YWluLWxheW91dDogIDtcXG4gIC0tdHctY29udGFpbi1wYWludDogIDtcXG4gIC0tdHctY29udGFpbi1zdHlsZTogIDtcXG59XFxuXFxuOjpiYWNrZHJvcCB7XFxuICAtLXR3LWJvcmRlci1zcGFjaW5nLXg6IDA7XFxuICAtLXR3LWJvcmRlci1zcGFjaW5nLXk6IDA7XFxuICAtLXR3LXRyYW5zbGF0ZS14OiAwO1xcbiAgLS10dy10cmFuc2xhdGUteTogMDtcXG4gIC0tdHctcm90YXRlOiAwO1xcbiAgLS10dy1za2V3LXg6IDA7XFxuICAtLXR3LXNrZXcteTogMDtcXG4gIC0tdHctc2NhbGUteDogMTtcXG4gIC0tdHctc2NhbGUteTogMTtcXG4gIC0tdHctcGFuLXg6ICA7XFxuICAtLXR3LXBhbi15OiAgO1xcbiAgLS10dy1waW5jaC16b29tOiAgO1xcbiAgLS10dy1zY3JvbGwtc25hcC1zdHJpY3RuZXNzOiBwcm94aW1pdHk7XFxuICAtLXR3LWdyYWRpZW50LWZyb20tcG9zaXRpb246ICA7XFxuICAtLXR3LWdyYWRpZW50LXZpYS1wb3NpdGlvbjogIDtcXG4gIC0tdHctZ3JhZGllbnQtdG8tcG9zaXRpb246ICA7XFxuICAtLXR3LW9yZGluYWw6ICA7XFxuICAtLXR3LXNsYXNoZWQtemVybzogIDtcXG4gIC0tdHctbnVtZXJpYy1maWd1cmU6ICA7XFxuICAtLXR3LW51bWVyaWMtc3BhY2luZzogIDtcXG4gIC0tdHctbnVtZXJpYy1mcmFjdGlvbjogIDtcXG4gIC0tdHctcmluZy1pbnNldDogIDtcXG4gIC0tdHctcmluZy1vZmZzZXQtd2lkdGg6IDBweDtcXG4gIC0tdHctcmluZy1vZmZzZXQtY29sb3I6ICNmZmY7XFxuICAtLXR3LXJpbmctY29sb3I6IHJnYig1OSAxMzAgMjQ2IC8gMC41KTtcXG4gIC0tdHctcmluZy1vZmZzZXQtc2hhZG93OiAwIDAgIzAwMDA7XFxuICAtLXR3LXJpbmctc2hhZG93OiAwIDAgIzAwMDA7XFxuICAtLXR3LXNoYWRvdzogMCAwICMwMDAwO1xcbiAgLS10dy1zaGFkb3ctY29sb3JlZDogMCAwICMwMDAwO1xcbiAgLS10dy1ibHVyOiAgO1xcbiAgLS10dy1icmlnaHRuZXNzOiAgO1xcbiAgLS10dy1jb250cmFzdDogIDtcXG4gIC0tdHctZ3JheXNjYWxlOiAgO1xcbiAgLS10dy1odWUtcm90YXRlOiAgO1xcbiAgLS10dy1pbnZlcnQ6ICA7XFxuICAtLXR3LXNhdHVyYXRlOiAgO1xcbiAgLS10dy1zZXBpYTogIDtcXG4gIC0tdHctZHJvcC1zaGFkb3c6ICA7XFxuICAtLXR3LWJhY2tkcm9wLWJsdXI6ICA7XFxuICAtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3M6ICA7XFxuICAtLXR3LWJhY2tkcm9wLWNvbnRyYXN0OiAgO1xcbiAgLS10dy1iYWNrZHJvcC1ncmF5c2NhbGU6ICA7XFxuICAtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGU6ICA7XFxuICAtLXR3LWJhY2tkcm9wLWludmVydDogIDtcXG4gIC0tdHctYmFja2Ryb3Atb3BhY2l0eTogIDtcXG4gIC0tdHctYmFja2Ryb3Atc2F0dXJhdGU6ICA7XFxuICAtLXR3LWJhY2tkcm9wLXNlcGlhOiAgO1xcbiAgLS10dy1jb250YWluLXNpemU6ICA7XFxuICAtLXR3LWNvbnRhaW4tbGF5b3V0OiAgO1xcbiAgLS10dy1jb250YWluLXBhaW50OiAgO1xcbiAgLS10dy1jb250YWluLXN0eWxlOiAgO1xcbn1cXG4uY29udGFpbmVyIHtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogNjQwcHgpIHtcXG5cXG4gIC5jb250YWluZXIge1xcbiAgICBtYXgtd2lkdGg6IDY0MHB4O1xcbiAgfVxcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHtcXG5cXG4gIC5jb250YWluZXIge1xcbiAgICBtYXgtd2lkdGg6IDc2OHB4O1xcbiAgfVxcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogMTAyNHB4KSB7XFxuXFxuICAuY29udGFpbmVyIHtcXG4gICAgbWF4LXdpZHRoOiAxMDI0cHg7XFxuICB9XFxufVxcbkBtZWRpYSAobWluLXdpZHRoOiAxMjgwcHgpIHtcXG5cXG4gIC5jb250YWluZXIge1xcbiAgICBtYXgtd2lkdGg6IDEyODBweDtcXG4gIH1cXG59XFxuQG1lZGlhIChtaW4td2lkdGg6IDE1MzZweCkge1xcblxcbiAgLmNvbnRhaW5lciB7XFxuICAgIG1heC13aWR0aDogMTUzNnB4O1xcbiAgfVxcbn1cXG4ucG9pbnRlci1ldmVudHMtbm9uZSB7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuLnN0YXRpYyB7XFxuICBwb3NpdGlvbjogc3RhdGljO1xcbn1cXG4uYWJzb2x1dGUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbn1cXG4ucmVsYXRpdmUge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4uaW5zZXQtMCB7XFxuICBpbnNldDogMHB4O1xcbn1cXG4uYm90dG9tLTAge1xcbiAgYm90dG9tOiAwcHg7XFxufVxcbi56LTEwIHtcXG4gIHotaW5kZXg6IDEwO1xcbn1cXG4uei0yMCB7XFxuICB6LWluZGV4OiAyMDtcXG59XFxuLm0tNCB7XFxuICBtYXJnaW46IDFyZW07XFxufVxcbi5tdC0yIHtcXG4gIG1hcmdpbi10b3A6IDAuNXJlbTtcXG59XFxuLm10LTQge1xcbiAgbWFyZ2luLXRvcDogMXJlbTtcXG59XFxuLmJsb2NrIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4uaW5saW5lLWJsb2NrIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLmZsZXgge1xcbiAgZGlzcGxheTogZmxleDtcXG59XFxuLmhpZGRlbiB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4uaC1mdWxsIHtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuLm1pbi1oLVxcXFxbY2FsY1xcXFwoMzNcXFxcJS00MHB4XFxcXClcXFxcXSB7XFxuICBtaW4taGVpZ2h0OiBjYWxjKDMzJSAtIDQwcHgpO1xcbn1cXG4udy0xXFxcXC8yIHtcXG4gIHdpZHRoOiA1MCU7XFxufVxcbi53LVxcXFxbY2FsY1xcXFwoMTAwXFxcXCUtNDBweFxcXFwpXFxcXF0ge1xcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDQwcHgpO1xcbn1cXG4udy1mdWxsIHtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4ubWluLXctZnVsbCB7XFxuICBtaW4td2lkdGg6IDEwMCU7XFxufVxcbi5mbGV4LWdyb3cge1xcbiAgZmxleC1ncm93OiAxO1xcbn1cXG4udHJhbnNmb3JtIHtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKHZhcigtLXR3LXRyYW5zbGF0ZS14KSwgdmFyKC0tdHctdHJhbnNsYXRlLXkpKSByb3RhdGUodmFyKC0tdHctcm90YXRlKSkgc2tld1godmFyKC0tdHctc2tldy14KSkgc2tld1kodmFyKC0tdHctc2tldy15KSkgc2NhbGVYKHZhcigtLXR3LXNjYWxlLXgpKSBzY2FsZVkodmFyKC0tdHctc2NhbGUteSkpO1xcbn1cXG4ucmVzaXplIHtcXG4gIHJlc2l6ZTogYm90aDtcXG59XFxuLmZsZXgtY29sIHtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxufVxcbi5pdGVtcy1zdGFydCB7XFxuICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcXG59XFxuLml0ZW1zLWNlbnRlciB7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4uanVzdGlmeS1jZW50ZXIge1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxufVxcbi5qdXN0aWZ5LWJldHdlZW4ge1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbn1cXG4ub3ZlcmZsb3ctYXV0byB7XFxuICBvdmVyZmxvdzogYXV0bztcXG59XFxuLm92ZXJmbG93LWhpZGRlbiB7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG4ud2hpdGVzcGFjZS1wcmUge1xcbiAgd2hpdGUtc3BhY2U6IHByZTtcXG59XFxuLndoaXRlc3BhY2UtcHJlLXdyYXAge1xcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xcbn1cXG4ucm91bmRlZCB7XFxuICBib3JkZXItcmFkaXVzOiAwLjI1cmVtO1xcbn1cXG4ucm91bmRlZC1sZyB7XFxuICBib3JkZXItcmFkaXVzOiAwLjVyZW07XFxufVxcbi5yb3VuZGVkLW1kIHtcXG4gIGJvcmRlci1yYWRpdXM6IDAuMzc1cmVtO1xcbn1cXG4ucm91bmRlZC1ici1tZCB7XFxuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMC4zNzVyZW07XFxufVxcbi5ib3JkZXIge1xcbiAgYm9yZGVyLXdpZHRoOiAxcHg7XFxufVxcbi5iZy13aGl0ZSB7XFxuICAtLXR3LWJnLW9wYWNpdHk6IDE7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1IDI1NSAyNTUgLyB2YXIoLS10dy1iZy1vcGFjaXR5KSk7XFxufVxcbi5iZy1jb3ZlciB7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcbn1cXG4uYmctY2VudGVyIHtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG59XFxuLnAtMiB7XFxuICBwYWRkaW5nOiAwLjVyZW07XFxufVxcbi5wLTQge1xcbiAgcGFkZGluZzogMXJlbTtcXG59XFxuLnRleHQtY2VudGVyIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLmFsaWduLWJvdHRvbSB7XFxuICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tO1xcbn1cXG4uZm9udC1ib2xkIHtcXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XFxufVxcbi5pdGFsaWMge1xcbiAgZm9udC1zdHlsZTogaXRhbGljO1xcbn1cXG4udGV4dC1ibGFjayB7XFxuICAtLXR3LXRleHQtb3BhY2l0eTogMTtcXG4gIGNvbG9yOiByZ2IoMCAwIDAgLyB2YXIoLS10dy10ZXh0LW9wYWNpdHkpKTtcXG59XFxuLnNoYWRvdy1tZCB7XFxuICAtLXR3LXNoYWRvdzogMCA0cHggNnB4IC0xcHggcmdiKDAgMCAwIC8gMC4xKSwgMCAycHggNHB4IC0ycHggcmdiKDAgMCAwIC8gMC4xKTtcXG4gIC0tdHctc2hhZG93LWNvbG9yZWQ6IDAgNHB4IDZweCAtMXB4IHZhcigtLXR3LXNoYWRvdy1jb2xvciksIDAgMnB4IDRweCAtMnB4IHZhcigtLXR3LXNoYWRvdy1jb2xvcik7XFxuICBib3gtc2hhZG93OiB2YXIoLS10dy1yaW5nLW9mZnNldC1zaGFkb3csIDAgMCAjMDAwMCksIHZhcigtLXR3LXJpbmctc2hhZG93LCAwIDAgIzAwMDApLCB2YXIoLS10dy1zaGFkb3cpO1xcbn1cXG4uZmlsdGVyIHtcXG4gIGZpbHRlcjogdmFyKC0tdHctYmx1cikgdmFyKC0tdHctYnJpZ2h0bmVzcykgdmFyKC0tdHctY29udHJhc3QpIHZhcigtLXR3LWdyYXlzY2FsZSkgdmFyKC0tdHctaHVlLXJvdGF0ZSkgdmFyKC0tdHctaW52ZXJ0KSB2YXIoLS10dy1zYXR1cmF0ZSkgdmFyKC0tdHctc2VwaWEpIHZhcigtLXR3LWRyb3Atc2hhZG93KTtcXG59XFxuLlxcXFwhdHJhbnNpdGlvbiB7XFxuICB0cmFuc2l0aW9uLXByb3BlcnR5OiBjb2xvciwgYmFja2dyb3VuZC1jb2xvciwgYm9yZGVyLWNvbG9yLCB0ZXh0LWRlY29yYXRpb24tY29sb3IsIGZpbGwsIHN0cm9rZSwgb3BhY2l0eSwgYm94LXNoYWRvdywgdHJhbnNmb3JtLCBmaWx0ZXIsIC13ZWJraXQtYmFja2Ryb3AtZmlsdGVyICFpbXBvcnRhbnQ7XFxuICB0cmFuc2l0aW9uLXByb3BlcnR5OiBjb2xvciwgYmFja2dyb3VuZC1jb2xvciwgYm9yZGVyLWNvbG9yLCB0ZXh0LWRlY29yYXRpb24tY29sb3IsIGZpbGwsIHN0cm9rZSwgb3BhY2l0eSwgYm94LXNoYWRvdywgdHJhbnNmb3JtLCBmaWx0ZXIsIGJhY2tkcm9wLWZpbHRlciAhaW1wb3J0YW50O1xcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogY29sb3IsIGJhY2tncm91bmQtY29sb3IsIGJvcmRlci1jb2xvciwgdGV4dC1kZWNvcmF0aW9uLWNvbG9yLCBmaWxsLCBzdHJva2UsIG9wYWNpdHksIGJveC1zaGFkb3csIHRyYW5zZm9ybSwgZmlsdGVyLCBiYWNrZHJvcC1maWx0ZXIsIC13ZWJraXQtYmFja2Ryb3AtZmlsdGVyICFpbXBvcnRhbnQ7XFxuICB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKSAhaW1wb3J0YW50O1xcbiAgdHJhbnNpdGlvbi1kdXJhdGlvbjogMTUwbXMgIWltcG9ydGFudDtcXG59XFxuLnRyYW5zaXRpb24ge1xcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogY29sb3IsIGJhY2tncm91bmQtY29sb3IsIGJvcmRlci1jb2xvciwgdGV4dC1kZWNvcmF0aW9uLWNvbG9yLCBmaWxsLCBzdHJva2UsIG9wYWNpdHksIGJveC1zaGFkb3csIHRyYW5zZm9ybSwgZmlsdGVyLCAtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjtcXG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IGNvbG9yLCBiYWNrZ3JvdW5kLWNvbG9yLCBib3JkZXItY29sb3IsIHRleHQtZGVjb3JhdGlvbi1jb2xvciwgZmlsbCwgc3Ryb2tlLCBvcGFjaXR5LCBib3gtc2hhZG93LCB0cmFuc2Zvcm0sIGZpbHRlciwgYmFja2Ryb3AtZmlsdGVyO1xcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogY29sb3IsIGJhY2tncm91bmQtY29sb3IsIGJvcmRlci1jb2xvciwgdGV4dC1kZWNvcmF0aW9uLWNvbG9yLCBmaWxsLCBzdHJva2UsIG9wYWNpdHksIGJveC1zaGFkb3csIHRyYW5zZm9ybSwgZmlsdGVyLCBiYWNrZHJvcC1maWx0ZXIsIC13ZWJraXQtYmFja2Ryb3AtZmlsdGVyO1xcbiAgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7XFxuICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAxNTBtcztcXG59XFxuXFxuLl9fbmFycmFsZWFmX2NvbnRlbnQtcGxheWVyICoge1xcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xcbn1cXG5cXG4uX19uYXJyYWxlYWZfY29udGVudC1wbGF5ZXIgaW1nIHtcXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICAgIC13ZWJraXQtdXNlci1kcmFnOiBub25lO1xcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbn1cXG5cIixcIlwiXSk7Y29uc3Qgcz1hfSwzMTQ6dD0+e1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcCgoZnVuY3Rpb24oZSl7dmFyIG49XCJcIixyPXZvaWQgMCE9PWVbNV07cmV0dXJuIGVbNF0mJihuKz1cIkBzdXBwb3J0cyAoXCIuY29uY2F0KGVbNF0sXCIpIHtcIikpLGVbMl0mJihuKz1cIkBtZWRpYSBcIi5jb25jYXQoZVsyXSxcIiB7XCIpKSxyJiYobis9XCJAbGF5ZXJcIi5jb25jYXQoZVs1XS5sZW5ndGg+MD9cIiBcIi5jb25jYXQoZVs1XSk6XCJcIixcIiB7XCIpKSxuKz10KGUpLHImJihuKz1cIn1cIiksZVsyXSYmKG4rPVwifVwiKSxlWzRdJiYobis9XCJ9XCIpLG59KSkuam9pbihcIlwiKX0sZS5pPWZ1bmN0aW9uKHQsbixyLG8saSl7XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PVtbbnVsbCx0LHZvaWQgMF1dKTt2YXIgYT17fTtpZihyKWZvcih2YXIgcz0wO3M8dGhpcy5sZW5ndGg7cysrKXt2YXIgdT10aGlzW3NdWzBdO251bGwhPXUmJihhW3VdPSEwKX1mb3IodmFyIGM9MDtjPHQubGVuZ3RoO2MrKyl7dmFyIGw9W10uY29uY2F0KHRbY10pO3ImJmFbbFswXV18fCh2b2lkIDAhPT1pJiYodm9pZCAwPT09bFs1XXx8KGxbMV09XCJAbGF5ZXJcIi5jb25jYXQobFs1XS5sZW5ndGg+MD9cIiBcIi5jb25jYXQobFs1XSk6XCJcIixcIiB7XCIpLmNvbmNhdChsWzFdLFwifVwiKSksbFs1XT1pKSxuJiYobFsyXT8obFsxXT1cIkBtZWRpYSBcIi5jb25jYXQobFsyXSxcIiB7XCIpLmNvbmNhdChsWzFdLFwifVwiKSxsWzJdPW4pOmxbMl09biksbyYmKGxbNF0/KGxbMV09XCJAc3VwcG9ydHMgKFwiLmNvbmNhdChsWzRdLFwiKSB7XCIpLmNvbmNhdChsWzFdLFwifVwiKSxsWzRdPW8pOmxbNF09XCJcIi5jb25jYXQobykpLGUucHVzaChsKSl9fSxlfX0sNjAxOnQ9PntcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRbMV19fSwxOTY6KHQsZSxuKT0+e3ZhciByO1xuLyohXG4gKiAgaG93bGVyLmpzIHYyLjIuNFxuICogIGhvd2xlcmpzLmNvbVxuICpcbiAqICAoYykgMjAxMy0yMDIwLCBKYW1lcyBTaW1wc29uIG9mIEdvbGRGaXJlIFN0dWRpb3NcbiAqICBnb2xkZmlyZXN0dWRpb3MuY29tXG4gKlxuICogIE1JVCBMaWNlbnNlXG4gKi8hZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1mdW5jdGlvbigpe3RoaXMuaW5pdCgpfTtvLnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXN8fGk7cmV0dXJuIHQuX2NvdW50ZXI9MWUzLHQuX2h0bWw1QXVkaW9Qb29sPVtdLHQuaHRtbDVQb29sU2l6ZT0xMCx0Ll9jb2RlY3M9e30sdC5faG93bHM9W10sdC5fbXV0ZWQ9ITEsdC5fdm9sdW1lPTEsdC5fY2FuUGxheUV2ZW50PVwiY2FucGxheXRocm91Z2hcIix0Ll9uYXZpZ2F0b3I9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lm5hdmlnYXRvcj93aW5kb3cubmF2aWdhdG9yOm51bGwsdC5tYXN0ZXJHYWluPW51bGwsdC5ub0F1ZGlvPSExLHQudXNpbmdXZWJBdWRpbz0hMCx0LmF1dG9TdXNwZW5kPSEwLHQuY3R4PW51bGwsdC5hdXRvVW5sb2NrPSEwLHQuX3NldHVwKCksdH0sdm9sdW1lOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXN8fGk7aWYodD1wYXJzZUZsb2F0KHQpLGUuY3R4fHxkKCksdm9pZCAwIT09dCYmdD49MCYmdDw9MSl7aWYoZS5fdm9sdW1lPXQsZS5fbXV0ZWQpcmV0dXJuIGU7ZS51c2luZ1dlYkF1ZGlvJiZlLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSh0LGkuY3R4LmN1cnJlbnRUaW1lKTtmb3IodmFyIG49MDtuPGUuX2hvd2xzLmxlbmd0aDtuKyspaWYoIWUuX2hvd2xzW25dLl93ZWJBdWRpbylmb3IodmFyIHI9ZS5faG93bHNbbl0uX2dldFNvdW5kSWRzKCksbz0wO288ci5sZW5ndGg7bysrKXt2YXIgYT1lLl9ob3dsc1tuXS5fc291bmRCeUlkKHJbb10pO2EmJmEuX25vZGUmJihhLl9ub2RlLnZvbHVtZT1hLl92b2x1bWUqdCl9cmV0dXJuIGV9cmV0dXJuIGUuX3ZvbHVtZX0sbXV0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzfHxpO2UuY3R4fHxkKCksZS5fbXV0ZWQ9dCxlLnVzaW5nV2ViQXVkaW8mJmUubWFzdGVyR2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKHQ/MDplLl92b2x1bWUsaS5jdHguY3VycmVudFRpbWUpO2Zvcih2YXIgbj0wO248ZS5faG93bHMubGVuZ3RoO24rKylpZighZS5faG93bHNbbl0uX3dlYkF1ZGlvKWZvcih2YXIgcj1lLl9ob3dsc1tuXS5fZ2V0U291bmRJZHMoKSxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBhPWUuX2hvd2xzW25dLl9zb3VuZEJ5SWQocltvXSk7YSYmYS5fbm9kZSYmKGEuX25vZGUubXV0ZWQ9ISF0fHxhLl9tdXRlZCl9cmV0dXJuIGV9LHN0b3A6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpc3x8aSxlPTA7ZTx0Ll9ob3dscy5sZW5ndGg7ZSsrKXQuX2hvd2xzW2VdLnN0b3AoKTtyZXR1cm4gdH0sdW5sb2FkOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXN8fGksZT10Ll9ob3dscy5sZW5ndGgtMTtlPj0wO2UtLSl0Ll9ob3dsc1tlXS51bmxvYWQoKTtyZXR1cm4gdC51c2luZ1dlYkF1ZGlvJiZ0LmN0eCYmdm9pZCAwIT09dC5jdHguY2xvc2UmJih0LmN0eC5jbG9zZSgpLHQuY3R4PW51bGwsZCgpKSx0fSxjb2RlY3M6ZnVuY3Rpb24odCl7cmV0dXJuKHRoaXN8fGkpLl9jb2RlY3NbdC5yZXBsYWNlKC9eeC0vLFwiXCIpXX0sX3NldHVwOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8aTtpZih0LnN0YXRlPXQuY3R4JiZ0LmN0eC5zdGF0ZXx8XCJzdXNwZW5kZWRcIix0Ll9hdXRvU3VzcGVuZCgpLCF0LnVzaW5nV2ViQXVkaW8paWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEF1ZGlvKXRyeXt2b2lkIDA9PT0obmV3IEF1ZGlvKS5vbmNhbnBsYXl0aHJvdWdoJiYodC5fY2FuUGxheUV2ZW50PVwiY2FucGxheVwiKX1jYXRjaChlKXt0Lm5vQXVkaW89ITB9ZWxzZSB0Lm5vQXVkaW89ITA7dHJ5eyhuZXcgQXVkaW8pLm11dGVkJiYodC5ub0F1ZGlvPSEwKX1jYXRjaCh0KXt9cmV0dXJuIHQubm9BdWRpb3x8dC5fc2V0dXBDb2RlY3MoKSx0fSxfc2V0dXBDb2RlY3M6ZnVuY3Rpb24oKXt2YXIgdD10aGlzfHxpLGU9bnVsbDt0cnl7ZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgQXVkaW8/bmV3IEF1ZGlvOm51bGx9Y2F0Y2goZSl7cmV0dXJuIHR9aWYoIWV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuY2FuUGxheVR5cGUpcmV0dXJuIHQ7dmFyIG49ZS5jYW5QbGF5VHlwZShcImF1ZGlvL21wZWc7XCIpLnJlcGxhY2UoL15ubyQvLFwiXCIpLHI9dC5fbmF2aWdhdG9yP3QuX25hdmlnYXRvci51c2VyQWdlbnQ6XCJcIixvPXIubWF0Y2goL09QUlxcLyhcXGQrKS9nKSxhPW8mJnBhcnNlSW50KG9bMF0uc3BsaXQoXCIvXCIpWzFdLDEwKTwzMyxzPS0xIT09ci5pbmRleE9mKFwiU2FmYXJpXCIpJiYtMT09PXIuaW5kZXhPZihcIkNocm9tZVwiKSx1PXIubWF0Y2goL1ZlcnNpb25cXC8oLio/KSAvKSxjPXMmJnUmJnBhcnNlSW50KHVbMV0sMTApPDE1O3JldHVybiB0Ll9jb2RlY3M9e21wMzohKGF8fCFuJiYhZS5jYW5QbGF5VHlwZShcImF1ZGlvL21wMztcIikucmVwbGFjZSgvXm5vJC8sXCJcIikpLG1wZWc6ISFuLG9wdXM6ISFlLmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cIm9wdXNcIicpLnJlcGxhY2UoL15ubyQvLFwiXCIpLG9nZzohIWUuY2FuUGxheVR5cGUoJ2F1ZGlvL29nZzsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSxvZ2E6ISFlLmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sXCJcIiksd2F2OiEhKGUuY2FuUGxheVR5cGUoJ2F1ZGlvL3dhdjsgY29kZWNzPVwiMVwiJyl8fGUuY2FuUGxheVR5cGUoXCJhdWRpby93YXZcIikpLnJlcGxhY2UoL15ubyQvLFwiXCIpLGFhYzohIWUuY2FuUGxheVR5cGUoXCJhdWRpby9hYWM7XCIpLnJlcGxhY2UoL15ubyQvLFwiXCIpLGNhZjohIWUuY2FuUGxheVR5cGUoXCJhdWRpby94LWNhZjtcIikucmVwbGFjZSgvXm5vJC8sXCJcIiksbTRhOiEhKGUuY2FuUGxheVR5cGUoXCJhdWRpby94LW00YTtcIil8fGUuY2FuUGxheVR5cGUoXCJhdWRpby9tNGE7XCIpfHxlLmNhblBsYXlUeXBlKFwiYXVkaW8vYWFjO1wiKSkucmVwbGFjZSgvXm5vJC8sXCJcIiksbTRiOiEhKGUuY2FuUGxheVR5cGUoXCJhdWRpby94LW00YjtcIil8fGUuY2FuUGxheVR5cGUoXCJhdWRpby9tNGI7XCIpfHxlLmNhblBsYXlUeXBlKFwiYXVkaW8vYWFjO1wiKSkucmVwbGFjZSgvXm5vJC8sXCJcIiksbXA0OiEhKGUuY2FuUGxheVR5cGUoXCJhdWRpby94LW1wNDtcIil8fGUuY2FuUGxheVR5cGUoXCJhdWRpby9tcDQ7XCIpfHxlLmNhblBsYXlUeXBlKFwiYXVkaW8vYWFjO1wiKSkucmVwbGFjZSgvXm5vJC8sXCJcIiksd2ViYTohKGN8fCFlLmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLFwiXCIpKSx3ZWJtOiEoY3x8IWUuY2FuUGxheVR5cGUoJ2F1ZGlvL3dlYm07IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sXCJcIikpLGRvbGJ5OiEhZS5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OyBjb2RlY3M9XCJlYy0zXCInKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSxmbGFjOiEhKGUuY2FuUGxheVR5cGUoXCJhdWRpby94LWZsYWM7XCIpfHxlLmNhblBsYXlUeXBlKFwiYXVkaW8vZmxhYztcIikpLnJlcGxhY2UoL15ubyQvLFwiXCIpfSx0fSxfdW5sb2NrQXVkaW86ZnVuY3Rpb24oKXt2YXIgdD10aGlzfHxpO2lmKCF0Ll9hdWRpb1VubG9ja2VkJiZ0LmN0eCl7dC5fYXVkaW9VbmxvY2tlZD0hMSx0LmF1dG9VbmxvY2s9ITEsdC5fbW9iaWxlVW5sb2FkZWR8fDQ0MTAwPT09dC5jdHguc2FtcGxlUmF0ZXx8KHQuX21vYmlsZVVubG9hZGVkPSEwLHQudW5sb2FkKCkpLHQuX3NjcmF0Y2hCdWZmZXI9dC5jdHguY3JlYXRlQnVmZmVyKDEsMSwyMjA1MCk7dmFyIGU9ZnVuY3Rpb24obil7Zm9yKDt0Ll9odG1sNUF1ZGlvUG9vbC5sZW5ndGg8dC5odG1sNVBvb2xTaXplOyl0cnl7dmFyIHI9bmV3IEF1ZGlvO3IuX3VubG9ja2VkPSEwLHQuX3JlbGVhc2VIdG1sNUF1ZGlvKHIpfWNhdGNoKG4pe3Qubm9BdWRpbz0hMDticmVha31mb3IodmFyIG89MDtvPHQuX2hvd2xzLmxlbmd0aDtvKyspaWYoIXQuX2hvd2xzW29dLl93ZWJBdWRpbylmb3IodmFyIGk9dC5faG93bHNbb10uX2dldFNvdW5kSWRzKCksYT0wO2E8aS5sZW5ndGg7YSsrKXt2YXIgcz10Ll9ob3dsc1tvXS5fc291bmRCeUlkKGlbYV0pO3MmJnMuX25vZGUmJiFzLl9ub2RlLl91bmxvY2tlZCYmKHMuX25vZGUuX3VubG9ja2VkPSEwLHMuX25vZGUubG9hZCgpKX10Ll9hdXRvUmVzdW1lKCk7dmFyIHU9dC5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7dS5idWZmZXI9dC5fc2NyYXRjaEJ1ZmZlcix1LmNvbm5lY3QodC5jdHguZGVzdGluYXRpb24pLHZvaWQgMD09PXUuc3RhcnQ/dS5ub3RlT24oMCk6dS5zdGFydCgwKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmN0eC5yZXN1bWUmJnQuY3R4LnJlc3VtZSgpLHUub25lbmRlZD1mdW5jdGlvbigpe3UuZGlzY29ubmVjdCgwKSx0Ll9hdWRpb1VubG9ja2VkPSEwLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSwhMCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsZSwhMCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZSwhMCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixlLCEwKTtmb3IodmFyIG49MDtuPHQuX2hvd2xzLmxlbmd0aDtuKyspdC5faG93bHNbbl0uX2VtaXQoXCJ1bmxvY2tcIil9fTtyZXR1cm4gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixlLCEwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIixlLCEwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixlLCEwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGUsITApLHR9fSxfb2J0YWluSHRtbDVBdWRpbzpmdW5jdGlvbigpe3ZhciB0PXRoaXN8fGk7aWYodC5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoKXJldHVybiB0Ll9odG1sNUF1ZGlvUG9vbC5wb3AoKTt2YXIgZT0obmV3IEF1ZGlvKS5wbGF5KCk7cmV0dXJuIGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBQcm9taXNlJiYoZSBpbnN0YW5jZW9mIFByb21pc2V8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGhlbikmJmUuY2F0Y2goKGZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiSFRNTDUgQXVkaW8gcG9vbCBleGhhdXN0ZWQsIHJldHVybmluZyBwb3RlbnRpYWxseSBsb2NrZWQgYXVkaW8gb2JqZWN0LlwiKX0pKSxuZXcgQXVkaW99LF9yZWxlYXNlSHRtbDVBdWRpbzpmdW5jdGlvbih0KXt2YXIgZT10aGlzfHxpO3JldHVybiB0Ll91bmxvY2tlZCYmZS5faHRtbDVBdWRpb1Bvb2wucHVzaCh0KSxlfSxfYXV0b1N1c3BlbmQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHQuYXV0b1N1c3BlbmQmJnQuY3R4JiZ2b2lkIDAhPT10LmN0eC5zdXNwZW5kJiZpLnVzaW5nV2ViQXVkaW8pe2Zvcih2YXIgZT0wO2U8dC5faG93bHMubGVuZ3RoO2UrKylpZih0Ll9ob3dsc1tlXS5fd2ViQXVkaW8pZm9yKHZhciBuPTA7bjx0Ll9ob3dsc1tlXS5fc291bmRzLmxlbmd0aDtuKyspaWYoIXQuX2hvd2xzW2VdLl9zb3VuZHNbbl0uX3BhdXNlZClyZXR1cm4gdDtyZXR1cm4gdC5fc3VzcGVuZFRpbWVyJiZjbGVhclRpbWVvdXQodC5fc3VzcGVuZFRpbWVyKSx0Ll9zdXNwZW5kVGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpZih0LmF1dG9TdXNwZW5kKXt0Ll9zdXNwZW5kVGltZXI9bnVsbCx0LnN0YXRlPVwic3VzcGVuZGluZ1wiO3ZhciBlPWZ1bmN0aW9uKCl7dC5zdGF0ZT1cInN1c3BlbmRlZFwiLHQuX3Jlc3VtZUFmdGVyU3VzcGVuZCYmKGRlbGV0ZSB0Ll9yZXN1bWVBZnRlclN1c3BlbmQsdC5fYXV0b1Jlc3VtZSgpKX07dC5jdHguc3VzcGVuZCgpLnRoZW4oZSxlKX19KSwzZTQpLHR9fSxfYXV0b1Jlc3VtZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodC5jdHgmJnZvaWQgMCE9PXQuY3R4LnJlc3VtZSYmaS51c2luZ1dlYkF1ZGlvKXJldHVyblwicnVubmluZ1wiPT09dC5zdGF0ZSYmXCJpbnRlcnJ1cHRlZFwiIT09dC5jdHguc3RhdGUmJnQuX3N1c3BlbmRUaW1lcj8oY2xlYXJUaW1lb3V0KHQuX3N1c3BlbmRUaW1lciksdC5fc3VzcGVuZFRpbWVyPW51bGwpOlwic3VzcGVuZGVkXCI9PT10LnN0YXRlfHxcInJ1bm5pbmdcIj09PXQuc3RhdGUmJlwiaW50ZXJydXB0ZWRcIj09PXQuY3R4LnN0YXRlPyh0LmN0eC5yZXN1bWUoKS50aGVuKChmdW5jdGlvbigpe3Quc3RhdGU9XCJydW5uaW5nXCI7Zm9yKHZhciBlPTA7ZTx0Ll9ob3dscy5sZW5ndGg7ZSsrKXQuX2hvd2xzW2VdLl9lbWl0KFwicmVzdW1lXCIpfSkpLHQuX3N1c3BlbmRUaW1lciYmKGNsZWFyVGltZW91dCh0Ll9zdXNwZW5kVGltZXIpLHQuX3N1c3BlbmRUaW1lcj1udWxsKSk6XCJzdXNwZW5kaW5nXCI9PT10LnN0YXRlJiYodC5fcmVzdW1lQWZ0ZXJTdXNwZW5kPSEwKSx0fX07dmFyIGk9bmV3IG8sYT1mdW5jdGlvbih0KXt0LnNyYyYmMCE9PXQuc3JjLmxlbmd0aD90aGlzLmluaXQodCk6Y29uc29sZS5lcnJvcihcIkFuIGFycmF5IG9mIHNvdXJjZSBmaWxlcyBtdXN0IGJlIHBhc3NlZCB3aXRoIGFueSBuZXcgSG93bC5cIil9O2EucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGkuY3R4fHxkKCksZS5fYXV0b3BsYXk9dC5hdXRvcGxheXx8ITEsZS5fZm9ybWF0PVwic3RyaW5nXCIhPXR5cGVvZiB0LmZvcm1hdD90LmZvcm1hdDpbdC5mb3JtYXRdLGUuX2h0bWw1PXQuaHRtbDV8fCExLGUuX211dGVkPXQubXV0ZXx8ITEsZS5fbG9vcD10Lmxvb3B8fCExLGUuX3Bvb2w9dC5wb29sfHw1LGUuX3ByZWxvYWQ9XCJib29sZWFuXCIhPXR5cGVvZiB0LnByZWxvYWQmJlwibWV0YWRhdGFcIiE9PXQucHJlbG9hZHx8dC5wcmVsb2FkLGUuX3JhdGU9dC5yYXRlfHwxLGUuX3Nwcml0ZT10LnNwcml0ZXx8e30sZS5fc3JjPVwic3RyaW5nXCIhPXR5cGVvZiB0LnNyYz90LnNyYzpbdC5zcmNdLGUuX3ZvbHVtZT12b2lkIDAhPT10LnZvbHVtZT90LnZvbHVtZToxLGUuX3hocj17bWV0aG9kOnQueGhyJiZ0Lnhoci5tZXRob2Q/dC54aHIubWV0aG9kOlwiR0VUXCIsaGVhZGVyczp0LnhociYmdC54aHIuaGVhZGVycz90Lnhoci5oZWFkZXJzOm51bGwsd2l0aENyZWRlbnRpYWxzOiEoIXQueGhyfHwhdC54aHIud2l0aENyZWRlbnRpYWxzKSYmdC54aHIud2l0aENyZWRlbnRpYWxzfSxlLl9kdXJhdGlvbj0wLGUuX3N0YXRlPVwidW5sb2FkZWRcIixlLl9zb3VuZHM9W10sZS5fZW5kVGltZXJzPXt9LGUuX3F1ZXVlPVtdLGUuX3BsYXlMb2NrPSExLGUuX29uZW5kPXQub25lbmQ/W3tmbjp0Lm9uZW5kfV06W10sZS5fb25mYWRlPXQub25mYWRlP1t7Zm46dC5vbmZhZGV9XTpbXSxlLl9vbmxvYWQ9dC5vbmxvYWQ/W3tmbjp0Lm9ubG9hZH1dOltdLGUuX29ubG9hZGVycm9yPXQub25sb2FkZXJyb3I/W3tmbjp0Lm9ubG9hZGVycm9yfV06W10sZS5fb25wbGF5ZXJyb3I9dC5vbnBsYXllcnJvcj9be2ZuOnQub25wbGF5ZXJyb3J9XTpbXSxlLl9vbnBhdXNlPXQub25wYXVzZT9be2ZuOnQub25wYXVzZX1dOltdLGUuX29ucGxheT10Lm9ucGxheT9be2ZuOnQub25wbGF5fV06W10sZS5fb25zdG9wPXQub25zdG9wP1t7Zm46dC5vbnN0b3B9XTpbXSxlLl9vbm11dGU9dC5vbm11dGU/W3tmbjp0Lm9ubXV0ZX1dOltdLGUuX29udm9sdW1lPXQub252b2x1bWU/W3tmbjp0Lm9udm9sdW1lfV06W10sZS5fb25yYXRlPXQub25yYXRlP1t7Zm46dC5vbnJhdGV9XTpbXSxlLl9vbnNlZWs9dC5vbnNlZWs/W3tmbjp0Lm9uc2Vla31dOltdLGUuX29udW5sb2NrPXQub251bmxvY2s/W3tmbjp0Lm9udW5sb2NrfV06W10sZS5fb25yZXN1bWU9W10sZS5fd2ViQXVkaW89aS51c2luZ1dlYkF1ZGlvJiYhZS5faHRtbDUsdm9pZCAwIT09aS5jdHgmJmkuY3R4JiZpLmF1dG9VbmxvY2smJmkuX3VubG9ja0F1ZGlvKCksaS5faG93bHMucHVzaChlKSxlLl9hdXRvcGxheSYmZS5fcXVldWUucHVzaCh7ZXZlbnQ6XCJwbGF5XCIsYWN0aW9uOmZ1bmN0aW9uKCl7ZS5wbGF5KCl9fSksZS5fcHJlbG9hZCYmXCJub25lXCIhPT1lLl9wcmVsb2FkJiZlLmxvYWQoKSxlfSxsb2FkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPW51bGw7aWYoaS5ub0F1ZGlvKXQuX2VtaXQoXCJsb2FkZXJyb3JcIixudWxsLFwiTm8gYXVkaW8gc3VwcG9ydC5cIik7ZWxzZXtcInN0cmluZ1wiPT10eXBlb2YgdC5fc3JjJiYodC5fc3JjPVt0Ll9zcmNdKTtmb3IodmFyIG49MDtuPHQuX3NyYy5sZW5ndGg7bisrKXt2YXIgcixvO2lmKHQuX2Zvcm1hdCYmdC5fZm9ybWF0W25dKXI9dC5fZm9ybWF0W25dO2Vsc2V7aWYoXCJzdHJpbmdcIiE9dHlwZW9mKG89dC5fc3JjW25dKSl7dC5fZW1pdChcImxvYWRlcnJvclwiLG51bGwsXCJOb24tc3RyaW5nIGZvdW5kIGluIHNlbGVjdGVkIGF1ZGlvIHNvdXJjZXMgLSBpZ25vcmluZy5cIik7Y29udGludWV9KHI9L15kYXRhOmF1ZGlvXFwvKFteOyxdKyk7L2kuZXhlYyhvKSl8fChyPS9cXC4oW14uXSspJC8uZXhlYyhvLnNwbGl0KFwiP1wiLDEpWzBdKSksciYmKHI9clsxXS50b0xvd2VyQ2FzZSgpKX1pZihyfHxjb25zb2xlLndhcm4oJ05vIGZpbGUgZXh0ZW5zaW9uIHdhcyBmb3VuZC4gQ29uc2lkZXIgdXNpbmcgdGhlIFwiZm9ybWF0XCIgcHJvcGVydHkgb3Igc3BlY2lmeSBhbiBleHRlbnNpb24uJyksciYmaS5jb2RlY3Mocikpe2U9dC5fc3JjW25dO2JyZWFrfX1pZihlKXJldHVybiB0Ll9zcmM9ZSx0Ll9zdGF0ZT1cImxvYWRpbmdcIixcImh0dHBzOlwiPT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sJiZcImh0dHA6XCI9PT1lLnNsaWNlKDAsNSkmJih0Ll9odG1sNT0hMCx0Ll93ZWJBdWRpbz0hMSksbmV3IHModCksdC5fd2ViQXVkaW8mJmModCksdDt0Ll9lbWl0KFwibG9hZGVycm9yXCIsbnVsbCxcIk5vIGNvZGVjIHN1cHBvcnQgZm9yIHNlbGVjdGVkIGF1ZGlvIHNvdXJjZXMuXCIpfX0scGxheTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1udWxsO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXI9dCx0PW51bGw7ZWxzZXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmXCJsb2FkZWRcIj09PW4uX3N0YXRlJiYhbi5fc3ByaXRlW3RdKXJldHVybiBudWxsO2lmKHZvaWQgMD09PXQmJih0PVwiX19kZWZhdWx0XCIsIW4uX3BsYXlMb2NrKSl7Zm9yKHZhciBvPTAsYT0wO2E8bi5fc291bmRzLmxlbmd0aDthKyspbi5fc291bmRzW2FdLl9wYXVzZWQmJiFuLl9zb3VuZHNbYV0uX2VuZGVkJiYobysrLHI9bi5fc291bmRzW2FdLl9pZCk7MT09PW8/dD1udWxsOnI9bnVsbH19dmFyIHM9cj9uLl9zb3VuZEJ5SWQocik6bi5faW5hY3RpdmVTb3VuZCgpO2lmKCFzKXJldHVybiBudWxsO2lmKHImJiF0JiYodD1zLl9zcHJpdGV8fFwiX19kZWZhdWx0XCIpLFwibG9hZGVkXCIhPT1uLl9zdGF0ZSl7cy5fc3ByaXRlPXQscy5fZW5kZWQ9ITE7dmFyIHU9cy5faWQ7cmV0dXJuIG4uX3F1ZXVlLnB1c2goe2V2ZW50OlwicGxheVwiLGFjdGlvbjpmdW5jdGlvbigpe24ucGxheSh1KX19KSx1fWlmKHImJiFzLl9wYXVzZWQpcmV0dXJuIGV8fG4uX2xvYWRRdWV1ZShcInBsYXlcIikscy5faWQ7bi5fd2ViQXVkaW8mJmkuX2F1dG9SZXN1bWUoKTt2YXIgYz1NYXRoLm1heCgwLHMuX3NlZWs+MD9zLl9zZWVrOm4uX3Nwcml0ZVt0XVswXS8xZTMpLGw9TWF0aC5tYXgoMCwobi5fc3ByaXRlW3RdWzBdK24uX3Nwcml0ZVt0XVsxXSkvMWUzLWMpLGY9MWUzKmwvTWF0aC5hYnMocy5fcmF0ZSkscD1uLl9zcHJpdGVbdF1bMF0vMWUzLGQ9KG4uX3Nwcml0ZVt0XVswXStuLl9zcHJpdGVbdF1bMV0pLzFlMztzLl9zcHJpdGU9dCxzLl9lbmRlZD0hMTt2YXIgaD1mdW5jdGlvbigpe3MuX3BhdXNlZD0hMSxzLl9zZWVrPWMscy5fc3RhcnQ9cCxzLl9zdG9wPWQscy5fbG9vcD0hKCFzLl9sb29wJiYhbi5fc3ByaXRlW3RdWzJdKX07aWYoIShjPj1kKSl7dmFyIHk9cy5fbm9kZTtpZihuLl93ZWJBdWRpbyl7dmFyIHY9ZnVuY3Rpb24oKXtuLl9wbGF5TG9jaz0hMSxoKCksbi5fcmVmcmVzaEJ1ZmZlcihzKTt2YXIgdD1zLl9tdXRlZHx8bi5fbXV0ZWQ/MDpzLl92b2x1bWU7eS5nYWluLnNldFZhbHVlQXRUaW1lKHQsaS5jdHguY3VycmVudFRpbWUpLHMuX3BsYXlTdGFydD1pLmN0eC5jdXJyZW50VGltZSx2b2lkIDA9PT15LmJ1ZmZlclNvdXJjZS5zdGFydD9zLl9sb29wP3kuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsYyw4NjQwMCk6eS5idWZmZXJTb3VyY2Uubm90ZUdyYWluT24oMCxjLGwpOnMuX2xvb3A/eS5idWZmZXJTb3VyY2Uuc3RhcnQoMCxjLDg2NDAwKTp5LmJ1ZmZlclNvdXJjZS5zdGFydCgwLGMsbCksZiE9PTEvMCYmKG4uX2VuZFRpbWVyc1tzLl9pZF09c2V0VGltZW91dChuLl9lbmRlZC5iaW5kKG4scyksZikpLGV8fHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5fZW1pdChcInBsYXlcIixzLl9pZCksbi5fbG9hZFF1ZXVlKCl9KSwwKX07XCJydW5uaW5nXCI9PT1pLnN0YXRlJiZcImludGVycnVwdGVkXCIhPT1pLmN0eC5zdGF0ZT92KCk6KG4uX3BsYXlMb2NrPSEwLG4ub25jZShcInJlc3VtZVwiLHYpLG4uX2NsZWFyVGltZXIocy5faWQpKX1lbHNle3ZhciBtPWZ1bmN0aW9uKCl7eS5jdXJyZW50VGltZT1jLHkubXV0ZWQ9cy5fbXV0ZWR8fG4uX211dGVkfHxpLl9tdXRlZHx8eS5tdXRlZCx5LnZvbHVtZT1zLl92b2x1bWUqaS52b2x1bWUoKSx5LnBsYXliYWNrUmF0ZT1zLl9yYXRlO3RyeXt2YXIgcj15LnBsYXkoKTtpZihyJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZSYmKHIgaW5zdGFuY2VvZiBQcm9taXNlfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiByLnRoZW4pPyhuLl9wbGF5TG9jaz0hMCxoKCksci50aGVuKChmdW5jdGlvbigpe24uX3BsYXlMb2NrPSExLHkuX3VubG9ja2VkPSEwLGU/bi5fbG9hZFF1ZXVlKCk6bi5fZW1pdChcInBsYXlcIixzLl9pZCl9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7bi5fcGxheUxvY2s9ITEsbi5fZW1pdChcInBsYXllcnJvclwiLHMuX2lkLFwiUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlIG9uIG1vYmlsZSBkZXZpY2VzIGFuZCBDaHJvbWUgd2hlcmUgcGxheWJhY2sgd2FzIG5vdCB3aXRoaW4gYSB1c2VyIGludGVyYWN0aW9uLlwiKSxzLl9lbmRlZD0hMCxzLl9wYXVzZWQ9ITB9KSkpOmV8fChuLl9wbGF5TG9jaz0hMSxoKCksbi5fZW1pdChcInBsYXlcIixzLl9pZCkpLHkucGxheWJhY2tSYXRlPXMuX3JhdGUseS5wYXVzZWQpcmV0dXJuIHZvaWQgbi5fZW1pdChcInBsYXllcnJvclwiLHMuX2lkLFwiUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlIG9uIG1vYmlsZSBkZXZpY2VzIGFuZCBDaHJvbWUgd2hlcmUgcGxheWJhY2sgd2FzIG5vdCB3aXRoaW4gYSB1c2VyIGludGVyYWN0aW9uLlwiKTtcIl9fZGVmYXVsdFwiIT09dHx8cy5fbG9vcD9uLl9lbmRUaW1lcnNbcy5faWRdPXNldFRpbWVvdXQobi5fZW5kZWQuYmluZChuLHMpLGYpOihuLl9lbmRUaW1lcnNbcy5faWRdPWZ1bmN0aW9uKCl7bi5fZW5kZWQocykseS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuLl9lbmRUaW1lcnNbcy5faWRdLCExKX0seS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuLl9lbmRUaW1lcnNbcy5faWRdLCExKSl9Y2F0Y2godCl7bi5fZW1pdChcInBsYXllcnJvclwiLHMuX2lkLHQpfX07XCJkYXRhOmF1ZGlvL3dhdjtiYXNlNjQsVWtsR1JpZ0FBQUJYUVZaRlptMTBJQklBQUFBQkFBRUFSS3dBQUloWUFRQUNBQkFBQUFCa1lYUmhBZ0FBQUFFQVwiPT09eS5zcmMmJih5LnNyYz1uLl9zcmMseS5sb2FkKCkpO3ZhciBnPXdpbmRvdyYmd2luZG93LmVqZWN0YXx8IXkucmVhZHlTdGF0ZSYmaS5fbmF2aWdhdG9yLmlzQ29jb29uSlM7aWYoeS5yZWFkeVN0YXRlPj0zfHxnKW0oKTtlbHNle24uX3BsYXlMb2NrPSEwLG4uX3N0YXRlPVwibG9hZGluZ1wiO3ZhciBiPWZ1bmN0aW9uKCl7bi5fc3RhdGU9XCJsb2FkZWRcIixtKCkseS5yZW1vdmVFdmVudExpc3RlbmVyKGkuX2NhblBsYXlFdmVudCxiLCExKX07eS5hZGRFdmVudExpc3RlbmVyKGkuX2NhblBsYXlFdmVudCxiLCExKSxuLl9jbGVhclRpbWVyKHMuX2lkKX19cmV0dXJuIHMuX2lkfW4uX2VuZGVkKHMpfSxwYXVzZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKFwibG9hZGVkXCIhPT1lLl9zdGF0ZXx8ZS5fcGxheUxvY2spcmV0dXJuIGUuX3F1ZXVlLnB1c2goe2V2ZW50OlwicGF1c2VcIixhY3Rpb246ZnVuY3Rpb24oKXtlLnBhdXNlKHQpfX0pLGU7Zm9yKHZhciBuPWUuX2dldFNvdW5kSWRzKHQpLHI9MDtyPG4ubGVuZ3RoO3IrKyl7ZS5fY2xlYXJUaW1lcihuW3JdKTt2YXIgbz1lLl9zb3VuZEJ5SWQobltyXSk7aWYobyYmIW8uX3BhdXNlZCYmKG8uX3NlZWs9ZS5zZWVrKG5bcl0pLG8uX3JhdGVTZWVrPTAsby5fcGF1c2VkPSEwLGUuX3N0b3BGYWRlKG5bcl0pLG8uX25vZGUpKWlmKGUuX3dlYkF1ZGlvKXtpZighby5fbm9kZS5idWZmZXJTb3VyY2UpY29udGludWU7dm9pZCAwPT09by5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcD9vLl9ub2RlLmJ1ZmZlclNvdXJjZS5ub3RlT2ZmKDApOm8uX25vZGUuYnVmZmVyU291cmNlLnN0b3AoMCksZS5fY2xlYW5CdWZmZXIoby5fbm9kZSl9ZWxzZSBpc05hTihvLl9ub2RlLmR1cmF0aW9uKSYmby5fbm9kZS5kdXJhdGlvbiE9PTEvMHx8by5fbm9kZS5wYXVzZSgpO2FyZ3VtZW50c1sxXXx8ZS5fZW1pdChcInBhdXNlXCIsbz9vLl9pZDpudWxsKX1yZXR1cm4gZX0sc3RvcDpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYoXCJsb2FkZWRcIiE9PW4uX3N0YXRlfHxuLl9wbGF5TG9jaylyZXR1cm4gbi5fcXVldWUucHVzaCh7ZXZlbnQ6XCJzdG9wXCIsYWN0aW9uOmZ1bmN0aW9uKCl7bi5zdG9wKHQpfX0pLG47Zm9yKHZhciByPW4uX2dldFNvdW5kSWRzKHQpLG89MDtvPHIubGVuZ3RoO28rKyl7bi5fY2xlYXJUaW1lcihyW29dKTt2YXIgaT1uLl9zb3VuZEJ5SWQocltvXSk7aSYmKGkuX3NlZWs9aS5fc3RhcnR8fDAsaS5fcmF0ZVNlZWs9MCxpLl9wYXVzZWQ9ITAsaS5fZW5kZWQ9ITAsbi5fc3RvcEZhZGUocltvXSksaS5fbm9kZSYmKG4uX3dlYkF1ZGlvP2kuX25vZGUuYnVmZmVyU291cmNlJiYodm9pZCAwPT09aS5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcD9pLl9ub2RlLmJ1ZmZlclNvdXJjZS5ub3RlT2ZmKDApOmkuX25vZGUuYnVmZmVyU291cmNlLnN0b3AoMCksbi5fY2xlYW5CdWZmZXIoaS5fbm9kZSkpOmlzTmFOKGkuX25vZGUuZHVyYXRpb24pJiZpLl9ub2RlLmR1cmF0aW9uIT09MS8wfHwoaS5fbm9kZS5jdXJyZW50VGltZT1pLl9zdGFydHx8MCxpLl9ub2RlLnBhdXNlKCksaS5fbm9kZS5kdXJhdGlvbj09PTEvMCYmbi5fY2xlYXJTb3VuZChpLl9ub2RlKSkpLGV8fG4uX2VtaXQoXCJzdG9wXCIsaS5faWQpKX1yZXR1cm4gbn0sbXV0ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYoXCJsb2FkZWRcIiE9PW4uX3N0YXRlfHxuLl9wbGF5TG9jaylyZXR1cm4gbi5fcXVldWUucHVzaCh7ZXZlbnQ6XCJtdXRlXCIsYWN0aW9uOmZ1bmN0aW9uKCl7bi5tdXRlKHQsZSl9fSksbjtpZih2b2lkIDA9PT1lKXtpZihcImJvb2xlYW5cIiE9dHlwZW9mIHQpcmV0dXJuIG4uX211dGVkO24uX211dGVkPXR9Zm9yKHZhciByPW4uX2dldFNvdW5kSWRzKGUpLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGE9bi5fc291bmRCeUlkKHJbb10pO2EmJihhLl9tdXRlZD10LGEuX2ludGVydmFsJiZuLl9zdG9wRmFkZShhLl9pZCksbi5fd2ViQXVkaW8mJmEuX25vZGU/YS5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKHQ/MDphLl92b2x1bWUsaS5jdHguY3VycmVudFRpbWUpOmEuX25vZGUmJihhLl9ub2RlLm11dGVkPSEhaS5fbXV0ZWR8fHQpLG4uX2VtaXQoXCJtdXRlXCIsYS5faWQpKX1yZXR1cm4gbn0sdm9sdW1lOmZ1bmN0aW9uKCl7dmFyIHQsZSxuLHI9dGhpcyxvPWFyZ3VtZW50cztpZigwPT09by5sZW5ndGgpcmV0dXJuIHIuX3ZvbHVtZTtpZigxPT09by5sZW5ndGh8fDI9PT1vLmxlbmd0aCYmdm9pZCAwPT09b1sxXT9yLl9nZXRTb3VuZElkcygpLmluZGV4T2Yob1swXSk+PTA/ZT1wYXJzZUludChvWzBdLDEwKTp0PXBhcnNlRmxvYXQob1swXSk6by5sZW5ndGg+PTImJih0PXBhcnNlRmxvYXQob1swXSksZT1wYXJzZUludChvWzFdLDEwKSksISh2b2lkIDAhPT10JiZ0Pj0wJiZ0PD0xKSlyZXR1cm4obj1lP3IuX3NvdW5kQnlJZChlKTpyLl9zb3VuZHNbMF0pP24uX3ZvbHVtZTowO2lmKFwibG9hZGVkXCIhPT1yLl9zdGF0ZXx8ci5fcGxheUxvY2spcmV0dXJuIHIuX3F1ZXVlLnB1c2goe2V2ZW50Olwidm9sdW1lXCIsYWN0aW9uOmZ1bmN0aW9uKCl7ci52b2x1bWUuYXBwbHkocixvKX19KSxyO3ZvaWQgMD09PWUmJihyLl92b2x1bWU9dCksZT1yLl9nZXRTb3VuZElkcyhlKTtmb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErKykobj1yLl9zb3VuZEJ5SWQoZVthXSkpJiYobi5fdm9sdW1lPXQsb1syXXx8ci5fc3RvcEZhZGUoZVthXSksci5fd2ViQXVkaW8mJm4uX25vZGUmJiFuLl9tdXRlZD9uLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodCxpLmN0eC5jdXJyZW50VGltZSk6bi5fbm9kZSYmIW4uX211dGVkJiYobi5fbm9kZS52b2x1bWU9dCppLnZvbHVtZSgpKSxyLl9lbWl0KFwidm9sdW1lXCIsbi5faWQpKTtyZXR1cm4gcn0sZmFkZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgbz10aGlzO2lmKFwibG9hZGVkXCIhPT1vLl9zdGF0ZXx8by5fcGxheUxvY2spcmV0dXJuIG8uX3F1ZXVlLnB1c2goe2V2ZW50OlwiZmFkZVwiLGFjdGlvbjpmdW5jdGlvbigpe28uZmFkZSh0LGUsbixyKX19KSxvO3Q9TWF0aC5taW4oTWF0aC5tYXgoMCxwYXJzZUZsb2F0KHQpKSwxKSxlPU1hdGgubWluKE1hdGgubWF4KDAscGFyc2VGbG9hdChlKSksMSksbj1wYXJzZUZsb2F0KG4pLG8udm9sdW1lKHQscik7Zm9yKHZhciBhPW8uX2dldFNvdW5kSWRzKHIpLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIHU9by5fc291bmRCeUlkKGFbc10pO2lmKHUpe2lmKHJ8fG8uX3N0b3BGYWRlKGFbc10pLG8uX3dlYkF1ZGlvJiYhdS5fbXV0ZWQpe3ZhciBjPWkuY3R4LmN1cnJlbnRUaW1lLGw9YytuLzFlMzt1Ll92b2x1bWU9dCx1Ll9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodCxjKSx1Ll9ub2RlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoZSxsKX1vLl9zdGFydEZhZGVJbnRlcnZhbCh1LHQsZSxuLGFbc10sdm9pZCAwPT09cil9fXJldHVybiBvfSxfc3RhcnRGYWRlSW50ZXJ2YWw6ZnVuY3Rpb24odCxlLG4scixvLGkpe3ZhciBhPXRoaXMscz1lLHU9bi1lLGM9TWF0aC5hYnModS8uMDEpLGw9TWF0aC5tYXgoNCxjPjA/ci9jOnIpLGY9RGF0ZS5ub3coKTt0Ll9mYWRlVG89bix0Ll9pbnRlcnZhbD1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXt2YXIgbz0oRGF0ZS5ub3coKS1mKS9yO2Y9RGF0ZS5ub3coKSxzKz11Km8scz1NYXRoLnJvdW5kKDEwMCpzKS8xMDAscz11PDA/TWF0aC5tYXgobixzKTpNYXRoLm1pbihuLHMpLGEuX3dlYkF1ZGlvP3QuX3ZvbHVtZT1zOmEudm9sdW1lKHMsdC5faWQsITApLGkmJihhLl92b2x1bWU9cyksKG48ZSYmczw9bnx8bj5lJiZzPj1uKSYmKGNsZWFySW50ZXJ2YWwodC5faW50ZXJ2YWwpLHQuX2ludGVydmFsPW51bGwsdC5fZmFkZVRvPW51bGwsYS52b2x1bWUobix0Ll9pZCksYS5fZW1pdChcImZhZGVcIix0Ll9pZCkpfSksbCl9LF9zdG9wRmFkZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49ZS5fc291bmRCeUlkKHQpO3JldHVybiBuJiZuLl9pbnRlcnZhbCYmKGUuX3dlYkF1ZGlvJiZuLl9ub2RlLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKGkuY3R4LmN1cnJlbnRUaW1lKSxjbGVhckludGVydmFsKG4uX2ludGVydmFsKSxuLl9pbnRlcnZhbD1udWxsLGUudm9sdW1lKG4uX2ZhZGVUbyx0KSxuLl9mYWRlVG89bnVsbCxlLl9lbWl0KFwiZmFkZVwiLHQpKSxlfSxsb29wOmZ1bmN0aW9uKCl7dmFyIHQsZSxuLHI9dGhpcyxvPWFyZ3VtZW50cztpZigwPT09by5sZW5ndGgpcmV0dXJuIHIuX2xvb3A7aWYoMT09PW8ubGVuZ3RoKXtpZihcImJvb2xlYW5cIiE9dHlwZW9mIG9bMF0pcmV0dXJuISEobj1yLl9zb3VuZEJ5SWQocGFyc2VJbnQob1swXSwxMCkpKSYmbi5fbG9vcDt0PW9bMF0sci5fbG9vcD10fWVsc2UgMj09PW8ubGVuZ3RoJiYodD1vWzBdLGU9cGFyc2VJbnQob1sxXSwxMCkpO2Zvcih2YXIgaT1yLl9nZXRTb3VuZElkcyhlKSxhPTA7YTxpLmxlbmd0aDthKyspKG49ci5fc291bmRCeUlkKGlbYV0pKSYmKG4uX2xvb3A9dCxyLl93ZWJBdWRpbyYmbi5fbm9kZSYmbi5fbm9kZS5idWZmZXJTb3VyY2UmJihuLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wPXQsdCYmKG4uX25vZGUuYnVmZmVyU291cmNlLmxvb3BTdGFydD1uLl9zdGFydHx8MCxuLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wRW5kPW4uX3N0b3Asci5wbGF5aW5nKGlbYV0pJiYoci5wYXVzZShpW2FdLCEwKSxyLnBsYXkoaVthXSwhMCkpKSkpO3JldHVybiByfSxyYXRlOmZ1bmN0aW9uKCl7dmFyIHQsZSxuLHI9dGhpcyxvPWFyZ3VtZW50cztpZigwPT09by5sZW5ndGgpZT1yLl9zb3VuZHNbMF0uX2lkO2Vsc2UgaWYoMT09PW8ubGVuZ3RoKXtyLl9nZXRTb3VuZElkcygpLmluZGV4T2Yob1swXSk+PTA/ZT1wYXJzZUludChvWzBdLDEwKTp0PXBhcnNlRmxvYXQob1swXSl9ZWxzZSAyPT09by5sZW5ndGgmJih0PXBhcnNlRmxvYXQob1swXSksZT1wYXJzZUludChvWzFdLDEwKSk7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpcmV0dXJuKG49ci5fc291bmRCeUlkKGUpKT9uLl9yYXRlOnIuX3JhdGU7aWYoXCJsb2FkZWRcIiE9PXIuX3N0YXRlfHxyLl9wbGF5TG9jaylyZXR1cm4gci5fcXVldWUucHVzaCh7ZXZlbnQ6XCJyYXRlXCIsYWN0aW9uOmZ1bmN0aW9uKCl7ci5yYXRlLmFwcGx5KHIsbyl9fSkscjt2b2lkIDA9PT1lJiYoci5fcmF0ZT10KSxlPXIuX2dldFNvdW5kSWRzKGUpO2Zvcih2YXIgYT0wO2E8ZS5sZW5ndGg7YSsrKWlmKG49ci5fc291bmRCeUlkKGVbYV0pKXtyLnBsYXlpbmcoZVthXSkmJihuLl9yYXRlU2Vlaz1yLnNlZWsoZVthXSksbi5fcGxheVN0YXJ0PXIuX3dlYkF1ZGlvP2kuY3R4LmN1cnJlbnRUaW1lOm4uX3BsYXlTdGFydCksbi5fcmF0ZT10LHIuX3dlYkF1ZGlvJiZuLl9ub2RlJiZuLl9ub2RlLmJ1ZmZlclNvdXJjZT9uLl9ub2RlLmJ1ZmZlclNvdXJjZS5wbGF5YmFja1JhdGUuc2V0VmFsdWVBdFRpbWUodCxpLmN0eC5jdXJyZW50VGltZSk6bi5fbm9kZSYmKG4uX25vZGUucGxheWJhY2tSYXRlPXQpO3ZhciBzPXIuc2VlayhlW2FdKSx1PTFlMyooKHIuX3Nwcml0ZVtuLl9zcHJpdGVdWzBdK3IuX3Nwcml0ZVtuLl9zcHJpdGVdWzFdKS8xZTMtcykvTWF0aC5hYnMobi5fcmF0ZSk7IXIuX2VuZFRpbWVyc1tlW2FdXSYmbi5fcGF1c2VkfHwoci5fY2xlYXJUaW1lcihlW2FdKSxyLl9lbmRUaW1lcnNbZVthXV09c2V0VGltZW91dChyLl9lbmRlZC5iaW5kKHIsbiksdSkpLHIuX2VtaXQoXCJyYXRlXCIsbi5faWQpfXJldHVybiByfSxzZWVrOmZ1bmN0aW9uKCl7dmFyIHQsZSxuPXRoaXMscj1hcmd1bWVudHM7aWYoMD09PXIubGVuZ3RoKW4uX3NvdW5kcy5sZW5ndGgmJihlPW4uX3NvdW5kc1swXS5faWQpO2Vsc2UgaWYoMT09PXIubGVuZ3RoKXtuLl9nZXRTb3VuZElkcygpLmluZGV4T2YoclswXSk+PTA/ZT1wYXJzZUludChyWzBdLDEwKTpuLl9zb3VuZHMubGVuZ3RoJiYoZT1uLl9zb3VuZHNbMF0uX2lkLHQ9cGFyc2VGbG9hdChyWzBdKSl9ZWxzZSAyPT09ci5sZW5ndGgmJih0PXBhcnNlRmxvYXQoclswXSksZT1wYXJzZUludChyWzFdLDEwKSk7aWYodm9pZCAwPT09ZSlyZXR1cm4gMDtpZihcIm51bWJlclwiPT10eXBlb2YgdCYmKFwibG9hZGVkXCIhPT1uLl9zdGF0ZXx8bi5fcGxheUxvY2spKXJldHVybiBuLl9xdWV1ZS5wdXNoKHtldmVudDpcInNlZWtcIixhY3Rpb246ZnVuY3Rpb24oKXtuLnNlZWsuYXBwbHkobixyKX19KSxuO3ZhciBvPW4uX3NvdW5kQnlJZChlKTtpZihvKXtpZighKFwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0Pj0wKSl7aWYobi5fd2ViQXVkaW8pe3ZhciBhPW4ucGxheWluZyhlKT9pLmN0eC5jdXJyZW50VGltZS1vLl9wbGF5U3RhcnQ6MCxzPW8uX3JhdGVTZWVrP28uX3JhdGVTZWVrLW8uX3NlZWs6MDtyZXR1cm4gby5fc2VlaysocythKk1hdGguYWJzKG8uX3JhdGUpKX1yZXR1cm4gby5fbm9kZS5jdXJyZW50VGltZX12YXIgdT1uLnBsYXlpbmcoZSk7dSYmbi5wYXVzZShlLCEwKSxvLl9zZWVrPXQsby5fZW5kZWQ9ITEsbi5fY2xlYXJUaW1lcihlKSxuLl93ZWJBdWRpb3x8IW8uX25vZGV8fGlzTmFOKG8uX25vZGUuZHVyYXRpb24pfHwoby5fbm9kZS5jdXJyZW50VGltZT10KTt2YXIgYz1mdW5jdGlvbigpe3UmJm4ucGxheShlLCEwKSxuLl9lbWl0KFwic2Vla1wiLGUpfTtpZih1JiYhbi5fd2ViQXVkaW8pe3ZhciBsPWZ1bmN0aW9uKCl7bi5fcGxheUxvY2s/c2V0VGltZW91dChsLDApOmMoKX07c2V0VGltZW91dChsLDApfWVsc2UgYygpfXJldHVybiBufSxwbGF5aW5nOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe3ZhciBuPWUuX3NvdW5kQnlJZCh0KTtyZXR1cm4hIW4mJiFuLl9wYXVzZWR9Zm9yKHZhciByPTA7cjxlLl9zb3VuZHMubGVuZ3RoO3IrKylpZighZS5fc291bmRzW3JdLl9wYXVzZWQpcmV0dXJuITA7cmV0dXJuITF9LGR1cmF0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1lLl9kdXJhdGlvbixyPWUuX3NvdW5kQnlJZCh0KTtyZXR1cm4gciYmKG49ZS5fc3ByaXRlW3IuX3Nwcml0ZV1bMV0vMWUzKSxufSxzdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZX0sdW5sb2FkOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT10Ll9zb3VuZHMsbj0wO248ZS5sZW5ndGg7bisrKWVbbl0uX3BhdXNlZHx8dC5zdG9wKGVbbl0uX2lkKSx0Ll93ZWJBdWRpb3x8KHQuX2NsZWFyU291bmQoZVtuXS5fbm9kZSksZVtuXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIixlW25dLl9lcnJvckZuLCExKSxlW25dLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5fY2FuUGxheUV2ZW50LGVbbl0uX2xvYWRGbiwhMSksZVtuXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixlW25dLl9lbmRGbiwhMSksaS5fcmVsZWFzZUh0bWw1QXVkaW8oZVtuXS5fbm9kZSkpLGRlbGV0ZSBlW25dLl9ub2RlLHQuX2NsZWFyVGltZXIoZVtuXS5faWQpO3ZhciByPWkuX2hvd2xzLmluZGV4T2YodCk7cj49MCYmaS5faG93bHMuc3BsaWNlKHIsMSk7dmFyIG89ITA7Zm9yKG49MDtuPGkuX2hvd2xzLmxlbmd0aDtuKyspaWYoaS5faG93bHNbbl0uX3NyYz09PXQuX3NyY3x8dC5fc3JjLmluZGV4T2YoaS5faG93bHNbbl0uX3NyYyk+PTApe289ITE7YnJlYWt9cmV0dXJuIHUmJm8mJmRlbGV0ZSB1W3QuX3NyY10saS5ub0F1ZGlvPSExLHQuX3N0YXRlPVwidW5sb2FkZWRcIix0Ll9zb3VuZHM9W10sdD1udWxsLG51bGx9LG9uOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXRoaXNbXCJfb25cIit0XTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZvLnB1c2gocj97aWQ6bixmbjplLG9uY2U6cn06e2lkOm4sZm46ZX0pLHRoaXN9LG9mZjpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxvPXJbXCJfb25cIit0XSxpPTA7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUmJihuPWUsZT1udWxsKSxlfHxuKWZvcihpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBhPW49PT1vW2ldLmlkO2lmKGU9PT1vW2ldLmZuJiZhfHwhZSYmYSl7by5zcGxpY2UoaSwxKTticmVha319ZWxzZSBpZih0KXJbXCJfb25cIit0XT1bXTtlbHNle3ZhciBzPU9iamVjdC5rZXlzKHIpO2ZvcihpPTA7aTxzLmxlbmd0aDtpKyspMD09PXNbaV0uaW5kZXhPZihcIl9vblwiKSYmQXJyYXkuaXNBcnJheShyW3NbaV1dKSYmKHJbc1tpXV09W10pfXJldHVybiByfSxvbmNlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5vbih0LGUsbiwxKSx0aGlzfSxfZW1pdDpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXRoaXMsbz1yW1wiX29uXCIrdF0saT1vLmxlbmd0aC0xO2k+PTA7aS0tKW9baV0uaWQmJm9baV0uaWQhPT1lJiZcImxvYWRcIiE9PXR8fChzZXRUaW1lb3V0KGZ1bmN0aW9uKHQpe3QuY2FsbCh0aGlzLGUsbil9LmJpbmQocixvW2ldLmZuKSwwKSxvW2ldLm9uY2UmJnIub2ZmKHQsb1tpXS5mbixvW2ldLmlkKSk7cmV0dXJuIHIuX2xvYWRRdWV1ZSh0KSxyfSxfbG9hZFF1ZXVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoZS5fcXVldWUubGVuZ3RoPjApe3ZhciBuPWUuX3F1ZXVlWzBdO24uZXZlbnQ9PT10JiYoZS5fcXVldWUuc2hpZnQoKSxlLl9sb2FkUXVldWUoKSksdHx8bi5hY3Rpb24oKX1yZXR1cm4gZX0sX2VuZGVkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10Ll9zcHJpdGU7aWYoIWUuX3dlYkF1ZGlvJiZ0Ll9ub2RlJiYhdC5fbm9kZS5wYXVzZWQmJiF0Ll9ub2RlLmVuZGVkJiZ0Ll9ub2RlLmN1cnJlbnRUaW1lPHQuX3N0b3ApcmV0dXJuIHNldFRpbWVvdXQoZS5fZW5kZWQuYmluZChlLHQpLDEwMCksZTt2YXIgcj0hKCF0Ll9sb29wJiYhZS5fc3ByaXRlW25dWzJdKTtpZihlLl9lbWl0KFwiZW5kXCIsdC5faWQpLCFlLl93ZWJBdWRpbyYmciYmZS5zdG9wKHQuX2lkLCEwKS5wbGF5KHQuX2lkKSxlLl93ZWJBdWRpbyYmcil7ZS5fZW1pdChcInBsYXlcIix0Ll9pZCksdC5fc2Vlaz10Ll9zdGFydHx8MCx0Ll9yYXRlU2Vlaz0wLHQuX3BsYXlTdGFydD1pLmN0eC5jdXJyZW50VGltZTt2YXIgbz0xZTMqKHQuX3N0b3AtdC5fc3RhcnQpL01hdGguYWJzKHQuX3JhdGUpO2UuX2VuZFRpbWVyc1t0Ll9pZF09c2V0VGltZW91dChlLl9lbmRlZC5iaW5kKGUsdCksbyl9cmV0dXJuIGUuX3dlYkF1ZGlvJiYhciYmKHQuX3BhdXNlZD0hMCx0Ll9lbmRlZD0hMCx0Ll9zZWVrPXQuX3N0YXJ0fHwwLHQuX3JhdGVTZWVrPTAsZS5fY2xlYXJUaW1lcih0Ll9pZCksZS5fY2xlYW5CdWZmZXIodC5fbm9kZSksaS5fYXV0b1N1c3BlbmQoKSksZS5fd2ViQXVkaW98fHJ8fGUuc3RvcCh0Ll9pZCwhMCksZX0sX2NsZWFyVGltZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZihlLl9lbmRUaW1lcnNbdF0pe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuX2VuZFRpbWVyc1t0XSljbGVhclRpbWVvdXQoZS5fZW5kVGltZXJzW3RdKTtlbHNle3ZhciBuPWUuX3NvdW5kQnlJZCh0KTtuJiZuLl9ub2RlJiZuLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLGUuX2VuZFRpbWVyc1t0XSwhMSl9ZGVsZXRlIGUuX2VuZFRpbWVyc1t0XX1yZXR1cm4gZX0sX3NvdW5kQnlJZDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPTA7bjxlLl9zb3VuZHMubGVuZ3RoO24rKylpZih0PT09ZS5fc291bmRzW25dLl9pZClyZXR1cm4gZS5fc291bmRzW25dO3JldHVybiBudWxsfSxfaW5hY3RpdmVTb3VuZDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5fZHJhaW4oKTtmb3IodmFyIGU9MDtlPHQuX3NvdW5kcy5sZW5ndGg7ZSsrKWlmKHQuX3NvdW5kc1tlXS5fZW5kZWQpcmV0dXJuIHQuX3NvdW5kc1tlXS5yZXNldCgpO3JldHVybiBuZXcgcyh0KX0sX2RyYWluOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuX3Bvb2wsbj0wLHI9MDtpZighKHQuX3NvdW5kcy5sZW5ndGg8ZSkpe2ZvcihyPTA7cjx0Ll9zb3VuZHMubGVuZ3RoO3IrKyl0Ll9zb3VuZHNbcl0uX2VuZGVkJiZuKys7Zm9yKHI9dC5fc291bmRzLmxlbmd0aC0xO3I+PTA7ci0tKXtpZihuPD1lKXJldHVybjt0Ll9zb3VuZHNbcl0uX2VuZGVkJiYodC5fd2ViQXVkaW8mJnQuX3NvdW5kc1tyXS5fbm9kZSYmdC5fc291bmRzW3JdLl9ub2RlLmRpc2Nvbm5lY3QoMCksdC5fc291bmRzLnNwbGljZShyLDEpLG4tLSl9fX0sX2dldFNvdW5kSWRzOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0aGlzLl9zb3VuZHMubGVuZ3RoO24rKyllLnB1c2godGhpcy5fc291bmRzW25dLl9pZCk7cmV0dXJuIGV9cmV0dXJuW3RdfSxfcmVmcmVzaEJ1ZmZlcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5fbm9kZS5idWZmZXJTb3VyY2U9aS5jdHguY3JlYXRlQnVmZmVyU291cmNlKCksdC5fbm9kZS5idWZmZXJTb3VyY2UuYnVmZmVyPXVbdGhpcy5fc3JjXSx0Ll9wYW5uZXI/dC5fbm9kZS5idWZmZXJTb3VyY2UuY29ubmVjdCh0Ll9wYW5uZXIpOnQuX25vZGUuYnVmZmVyU291cmNlLmNvbm5lY3QodC5fbm9kZSksdC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcD10Ll9sb29wLHQuX2xvb3AmJih0Ll9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQ9dC5fc3RhcnR8fDAsdC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcEVuZD10Ll9zdG9wfHwwKSx0Ll9ub2RlLmJ1ZmZlclNvdXJjZS5wbGF5YmFja1JhdGUuc2V0VmFsdWVBdFRpbWUodC5fcmF0ZSxpLmN0eC5jdXJyZW50VGltZSksdGhpc30sX2NsZWFuQnVmZmVyOmZ1bmN0aW9uKHQpe3ZhciBlPWkuX25hdmlnYXRvciYmaS5fbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKFwiQXBwbGVcIik+PTA7aWYoIXQuYnVmZmVyU291cmNlKXJldHVybiB0aGlzO2lmKGkuX3NjcmF0Y2hCdWZmZXImJnQuYnVmZmVyU291cmNlJiYodC5idWZmZXJTb3VyY2Uub25lbmRlZD1udWxsLHQuYnVmZmVyU291cmNlLmRpc2Nvbm5lY3QoMCksZSkpdHJ5e3QuYnVmZmVyU291cmNlLmJ1ZmZlcj1pLl9zY3JhdGNoQnVmZmVyfWNhdGNoKHQpe31yZXR1cm4gdC5idWZmZXJTb3VyY2U9bnVsbCx0aGlzfSxfY2xlYXJTb3VuZDpmdW5jdGlvbih0KXsvTVNJRSB8VHJpZGVudFxcLy8udGVzdChpLl9uYXZpZ2F0b3ImJmkuX25hdmlnYXRvci51c2VyQWdlbnQpfHwodC5zcmM9XCJkYXRhOmF1ZGlvL3dhdjtiYXNlNjQsVWtsR1JpZ0FBQUJYUVZaRlptMTBJQklBQUFBQkFBRUFSS3dBQUloWUFRQUNBQkFBQUFCa1lYUmhBZ0FBQUFFQVwiKX19O3ZhciBzPWZ1bmN0aW9uKHQpe3RoaXMuX3BhcmVudD10LHRoaXMuaW5pdCgpfTtzLnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10Ll9wYXJlbnQ7cmV0dXJuIHQuX211dGVkPWUuX211dGVkLHQuX2xvb3A9ZS5fbG9vcCx0Ll92b2x1bWU9ZS5fdm9sdW1lLHQuX3JhdGU9ZS5fcmF0ZSx0Ll9zZWVrPTAsdC5fcGF1c2VkPSEwLHQuX2VuZGVkPSEwLHQuX3Nwcml0ZT1cIl9fZGVmYXVsdFwiLHQuX2lkPSsraS5fY291bnRlcixlLl9zb3VuZHMucHVzaCh0KSx0LmNyZWF0ZSgpLHR9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10Ll9wYXJlbnQsbj1pLl9tdXRlZHx8dC5fbXV0ZWR8fHQuX3BhcmVudC5fbXV0ZWQ/MDp0Ll92b2x1bWU7cmV0dXJuIGUuX3dlYkF1ZGlvPyh0Ll9ub2RlPXZvaWQgMD09PWkuY3R4LmNyZWF0ZUdhaW4/aS5jdHguY3JlYXRlR2Fpbk5vZGUoKTppLmN0eC5jcmVhdGVHYWluKCksdC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKG4saS5jdHguY3VycmVudFRpbWUpLHQuX25vZGUucGF1c2VkPSEwLHQuX25vZGUuY29ubmVjdChpLm1hc3RlckdhaW4pKTppLm5vQXVkaW98fCh0Ll9ub2RlPWkuX29idGFpbkh0bWw1QXVkaW8oKSx0Ll9lcnJvckZuPXQuX2Vycm9yTGlzdGVuZXIuYmluZCh0KSx0Ll9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHQuX2Vycm9yRm4sITEpLHQuX2xvYWRGbj10Ll9sb2FkTGlzdGVuZXIuYmluZCh0KSx0Ll9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoaS5fY2FuUGxheUV2ZW50LHQuX2xvYWRGbiwhMSksdC5fZW5kRm49dC5fZW5kTGlzdGVuZXIuYmluZCh0KSx0Ll9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLHQuX2VuZEZuLCExKSx0Ll9ub2RlLnNyYz1lLl9zcmMsdC5fbm9kZS5wcmVsb2FkPSEwPT09ZS5fcHJlbG9hZD9cImF1dG9cIjplLl9wcmVsb2FkLHQuX25vZGUudm9sdW1lPW4qaS52b2x1bWUoKSx0Ll9ub2RlLmxvYWQoKSksdH0scmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5fcGFyZW50O3JldHVybiB0Ll9tdXRlZD1lLl9tdXRlZCx0Ll9sb29wPWUuX2xvb3AsdC5fdm9sdW1lPWUuX3ZvbHVtZSx0Ll9yYXRlPWUuX3JhdGUsdC5fc2Vlaz0wLHQuX3JhdGVTZWVrPTAsdC5fcGF1c2VkPSEwLHQuX2VuZGVkPSEwLHQuX3Nwcml0ZT1cIl9fZGVmYXVsdFwiLHQuX2lkPSsraS5fY291bnRlcix0fSxfZXJyb3JMaXN0ZW5lcjpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5fcGFyZW50Ll9lbWl0KFwibG9hZGVycm9yXCIsdC5faWQsdC5fbm9kZS5lcnJvcj90Ll9ub2RlLmVycm9yLmNvZGU6MCksdC5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIix0Ll9lcnJvckZuLCExKX0sX2xvYWRMaXN0ZW5lcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10Ll9wYXJlbnQ7ZS5fZHVyYXRpb249TWF0aC5jZWlsKDEwKnQuX25vZGUuZHVyYXRpb24pLzEwLDA9PT1PYmplY3Qua2V5cyhlLl9zcHJpdGUpLmxlbmd0aCYmKGUuX3Nwcml0ZT17X19kZWZhdWx0OlswLDFlMyplLl9kdXJhdGlvbl19KSxcImxvYWRlZFwiIT09ZS5fc3RhdGUmJihlLl9zdGF0ZT1cImxvYWRlZFwiLGUuX2VtaXQoXCJsb2FkXCIpLGUuX2xvYWRRdWV1ZSgpKSx0Ll9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5fY2FuUGxheUV2ZW50LHQuX2xvYWRGbiwhMSl9LF9lbmRMaXN0ZW5lcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10Ll9wYXJlbnQ7ZS5fZHVyYXRpb249PT0xLzAmJihlLl9kdXJhdGlvbj1NYXRoLmNlaWwoMTAqdC5fbm9kZS5kdXJhdGlvbikvMTAsZS5fc3ByaXRlLl9fZGVmYXVsdFsxXT09PTEvMCYmKGUuX3Nwcml0ZS5fX2RlZmF1bHRbMV09MWUzKmUuX2R1cmF0aW9uKSxlLl9lbmRlZCh0KSksdC5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0Ll9lbmRGbiwhMSl9fTt2YXIgdT17fSxjPWZ1bmN0aW9uKHQpe3ZhciBlPXQuX3NyYztpZih1W2VdKXJldHVybiB0Ll9kdXJhdGlvbj11W2VdLmR1cmF0aW9uLHZvaWQgcCh0KTtpZigvXmRhdGE6W147XSs7YmFzZTY0LC8udGVzdChlKSl7Zm9yKHZhciBuPWF0b2IoZS5zcGxpdChcIixcIilbMV0pLHI9bmV3IFVpbnQ4QXJyYXkobi5sZW5ndGgpLG89MDtvPG4ubGVuZ3RoOysrbylyW29dPW4uY2hhckNvZGVBdChvKTtmKHIuYnVmZmVyLHQpfWVsc2V7dmFyIGk9bmV3IFhNTEh0dHBSZXF1ZXN0O2kub3Blbih0Ll94aHIubWV0aG9kLGUsITApLGkud2l0aENyZWRlbnRpYWxzPXQuX3hoci53aXRoQ3JlZGVudGlhbHMsaS5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiLHQuX3hoci5oZWFkZXJzJiZPYmplY3Qua2V5cyh0Ll94aHIuaGVhZGVycykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS5zZXRSZXF1ZXN0SGVhZGVyKGUsdC5feGhyLmhlYWRlcnNbZV0pfSkpLGkub25sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9KGkuc3RhdHVzK1wiXCIpWzBdO1wiMFwiPT09ZXx8XCIyXCI9PT1lfHxcIjNcIj09PWU/ZihpLnJlc3BvbnNlLHQpOnQuX2VtaXQoXCJsb2FkZXJyb3JcIixudWxsLFwiRmFpbGVkIGxvYWRpbmcgYXVkaW8gZmlsZSB3aXRoIHN0YXR1czogXCIraS5zdGF0dXMrXCIuXCIpfSxpLm9uZXJyb3I9ZnVuY3Rpb24oKXt0Ll93ZWJBdWRpbyYmKHQuX2h0bWw1PSEwLHQuX3dlYkF1ZGlvPSExLHQuX3NvdW5kcz1bXSxkZWxldGUgdVtlXSx0LmxvYWQoKSl9LGwoaSl9fSxsPWZ1bmN0aW9uKHQpe3RyeXt0LnNlbmQoKX1jYXRjaChlKXt0Lm9uZXJyb3IoKX19LGY9ZnVuY3Rpb24odCxlKXt2YXIgbj1mdW5jdGlvbigpe2UuX2VtaXQoXCJsb2FkZXJyb3JcIixudWxsLFwiRGVjb2RpbmcgYXVkaW8gZGF0YSBmYWlsZWQuXCIpfSxyPWZ1bmN0aW9uKHQpe3QmJmUuX3NvdW5kcy5sZW5ndGg+MD8odVtlLl9zcmNdPXQscChlLHQpKTpuKCl9O1widW5kZWZpbmVkXCIhPXR5cGVvZiBQcm9taXNlJiYxPT09aS5jdHguZGVjb2RlQXVkaW9EYXRhLmxlbmd0aD9pLmN0eC5kZWNvZGVBdWRpb0RhdGEodCkudGhlbihyKS5jYXRjaChuKTppLmN0eC5kZWNvZGVBdWRpb0RhdGEodCxyLG4pfSxwPWZ1bmN0aW9uKHQsZSl7ZSYmIXQuX2R1cmF0aW9uJiYodC5fZHVyYXRpb249ZS5kdXJhdGlvbiksMD09PU9iamVjdC5rZXlzKHQuX3Nwcml0ZSkubGVuZ3RoJiYodC5fc3ByaXRlPXtfX2RlZmF1bHQ6WzAsMWUzKnQuX2R1cmF0aW9uXX0pLFwibG9hZGVkXCIhPT10Ll9zdGF0ZSYmKHQuX3N0YXRlPVwibG9hZGVkXCIsdC5fZW1pdChcImxvYWRcIiksdC5fbG9hZFF1ZXVlKCkpfSxkPWZ1bmN0aW9uKCl7aWYoaS51c2luZ1dlYkF1ZGlvKXt0cnl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEF1ZGlvQ29udGV4dD9pLmN0eD1uZXcgQXVkaW9Db250ZXh0OlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3ZWJraXRBdWRpb0NvbnRleHQ/aS5jdHg9bmV3IHdlYmtpdEF1ZGlvQ29udGV4dDppLnVzaW5nV2ViQXVkaW89ITF9Y2F0Y2godCl7aS51c2luZ1dlYkF1ZGlvPSExfWkuY3R4fHwoaS51c2luZ1dlYkF1ZGlvPSExKTt2YXIgdD0vaVAoaG9uZXxvZHxhZCkvLnRlc3QoaS5fbmF2aWdhdG9yJiZpLl9uYXZpZ2F0b3IucGxhdGZvcm0pLGU9aS5fbmF2aWdhdG9yJiZpLl9uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKV8/KFxcZCspPy8pLG49ZT9wYXJzZUludChlWzFdLDEwKTpudWxsO2lmKHQmJm4mJm48OSl7dmFyIHI9L3NhZmFyaS8udGVzdChpLl9uYXZpZ2F0b3ImJmkuX25hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7aS5fbmF2aWdhdG9yJiYhciYmKGkudXNpbmdXZWJBdWRpbz0hMSl9aS51c2luZ1dlYkF1ZGlvJiYoaS5tYXN0ZXJHYWluPXZvaWQgMD09PWkuY3R4LmNyZWF0ZUdhaW4/aS5jdHguY3JlYXRlR2Fpbk5vZGUoKTppLmN0eC5jcmVhdGVHYWluKCksaS5tYXN0ZXJHYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoaS5fbXV0ZWQ/MDppLl92b2x1bWUsaS5jdHguY3VycmVudFRpbWUpLGkubWFzdGVyR2Fpbi5jb25uZWN0KGkuY3R4LmRlc3RpbmF0aW9uKSksaS5fc2V0dXAoKX19O3ZvaWQgMD09PShyPWZ1bmN0aW9uKCl7cmV0dXJue0hvd2xlcjppLEhvd2w6YX19LmFwcGx5KGUsW10pKXx8KHQuZXhwb3J0cz1yKSxlLkhvd2xlcj1pLGUuSG93bD1hLHZvaWQgMCE9PW4uZz8obi5nLkhvd2xlckdsb2JhbD1vLG4uZy5Ib3dsZXI9aSxuLmcuSG93bD1hLG4uZy5Tb3VuZD1zKTpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYod2luZG93Lkhvd2xlckdsb2JhbD1vLHdpbmRvdy5Ib3dsZXI9aSx3aW5kb3cuSG93bD1hLHdpbmRvdy5Tb3VuZD1zKX0oKSxcbi8qIVxuICogIFNwYXRpYWwgUGx1Z2luIC0gQWRkcyBzdXBwb3J0IGZvciBzdGVyZW8gYW5kIDNEIGF1ZGlvIHdoZXJlIFdlYiBBdWRpbyBpcyBzdXBwb3J0ZWQuXG4gKiAgXG4gKiAgaG93bGVyLmpzIHYyLjIuNFxuICogIGhvd2xlcmpzLmNvbVxuICpcbiAqICAoYykgMjAxMy0yMDIwLCBKYW1lcyBTaW1wc29uIG9mIEdvbGRGaXJlIFN0dWRpb3NcbiAqICBnb2xkZmlyZXN0dWRpb3MuY29tXG4gKlxuICogIE1JVCBMaWNlbnNlXG4gKi9cbmZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHQ7SG93bGVyR2xvYmFsLnByb3RvdHlwZS5fcG9zPVswLDAsMF0sSG93bGVyR2xvYmFsLnByb3RvdHlwZS5fb3JpZW50YXRpb249WzAsMCwtMSwwLDEsMF0sSG93bGVyR2xvYmFsLnByb3RvdHlwZS5zdGVyZW89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighZS5jdHh8fCFlLmN0eC5saXN0ZW5lcilyZXR1cm4gZTtmb3IodmFyIG49ZS5faG93bHMubGVuZ3RoLTE7bj49MDtuLS0pZS5faG93bHNbbl0uc3RlcmVvKHQpO3JldHVybiBlfSxIb3dsZXJHbG9iYWwucHJvdG90eXBlLnBvcz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4gci5jdHgmJnIuY3R4Lmxpc3RlbmVyPyhlPVwibnVtYmVyXCIhPXR5cGVvZiBlP3IuX3Bvc1sxXTplLG49XCJudW1iZXJcIiE9dHlwZW9mIG4/ci5fcG9zWzJdOm4sXCJudW1iZXJcIiE9dHlwZW9mIHQ/ci5fcG9zOihyLl9wb3M9W3QsZSxuXSx2b2lkIDAhPT1yLmN0eC5saXN0ZW5lci5wb3NpdGlvblg/KHIuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWC5zZXRUYXJnZXRBdFRpbWUoci5fcG9zWzBdLEhvd2xlci5jdHguY3VycmVudFRpbWUsLjEpLHIuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWS5zZXRUYXJnZXRBdFRpbWUoci5fcG9zWzFdLEhvd2xlci5jdHguY3VycmVudFRpbWUsLjEpLHIuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWi5zZXRUYXJnZXRBdFRpbWUoci5fcG9zWzJdLEhvd2xlci5jdHguY3VycmVudFRpbWUsLjEpKTpyLmN0eC5saXN0ZW5lci5zZXRQb3NpdGlvbihyLl9wb3NbMF0sci5fcG9zWzFdLHIuX3Bvc1syXSkscikpOnJ9LEhvd2xlckdsb2JhbC5wcm90b3R5cGUub3JpZW50YXRpb249ZnVuY3Rpb24odCxlLG4scixvLGkpe3ZhciBhPXRoaXM7aWYoIWEuY3R4fHwhYS5jdHgubGlzdGVuZXIpcmV0dXJuIGE7dmFyIHM9YS5fb3JpZW50YXRpb247cmV0dXJuIGU9XCJudW1iZXJcIiE9dHlwZW9mIGU/c1sxXTplLG49XCJudW1iZXJcIiE9dHlwZW9mIG4/c1syXTpuLHI9XCJudW1iZXJcIiE9dHlwZW9mIHI/c1szXTpyLG89XCJudW1iZXJcIiE9dHlwZW9mIG8/c1s0XTpvLGk9XCJudW1iZXJcIiE9dHlwZW9mIGk/c1s1XTppLFwibnVtYmVyXCIhPXR5cGVvZiB0P3M6KGEuX29yaWVudGF0aW9uPVt0LGUsbixyLG8saV0sdm9pZCAwIT09YS5jdHgubGlzdGVuZXIuZm9yd2FyZFg/KGEuY3R4Lmxpc3RlbmVyLmZvcndhcmRYLnNldFRhcmdldEF0VGltZSh0LEhvd2xlci5jdHguY3VycmVudFRpbWUsLjEpLGEuY3R4Lmxpc3RlbmVyLmZvcndhcmRZLnNldFRhcmdldEF0VGltZShlLEhvd2xlci5jdHguY3VycmVudFRpbWUsLjEpLGEuY3R4Lmxpc3RlbmVyLmZvcndhcmRaLnNldFRhcmdldEF0VGltZShuLEhvd2xlci5jdHguY3VycmVudFRpbWUsLjEpLGEuY3R4Lmxpc3RlbmVyLnVwWC5zZXRUYXJnZXRBdFRpbWUocixIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLC4xKSxhLmN0eC5saXN0ZW5lci51cFkuc2V0VGFyZ2V0QXRUaW1lKG8sSG93bGVyLmN0eC5jdXJyZW50VGltZSwuMSksYS5jdHgubGlzdGVuZXIudXBaLnNldFRhcmdldEF0VGltZShpLEhvd2xlci5jdHguY3VycmVudFRpbWUsLjEpKTphLmN0eC5saXN0ZW5lci5zZXRPcmllbnRhdGlvbih0LGUsbixyLG8saSksYSl9LEhvd2wucHJvdG90eXBlLmluaXQ9KHQ9SG93bC5wcm90b3R5cGUuaW5pdCxmdW5jdGlvbihlKXt2YXIgbj10aGlzO3JldHVybiBuLl9vcmllbnRhdGlvbj1lLm9yaWVudGF0aW9ufHxbMSwwLDBdLG4uX3N0ZXJlbz1lLnN0ZXJlb3x8bnVsbCxuLl9wb3M9ZS5wb3N8fG51bGwsbi5fcGFubmVyQXR0cj17Y29uZUlubmVyQW5nbGU6dm9pZCAwIT09ZS5jb25lSW5uZXJBbmdsZT9lLmNvbmVJbm5lckFuZ2xlOjM2MCxjb25lT3V0ZXJBbmdsZTp2b2lkIDAhPT1lLmNvbmVPdXRlckFuZ2xlP2UuY29uZU91dGVyQW5nbGU6MzYwLGNvbmVPdXRlckdhaW46dm9pZCAwIT09ZS5jb25lT3V0ZXJHYWluP2UuY29uZU91dGVyR2FpbjowLGRpc3RhbmNlTW9kZWw6dm9pZCAwIT09ZS5kaXN0YW5jZU1vZGVsP2UuZGlzdGFuY2VNb2RlbDpcImludmVyc2VcIixtYXhEaXN0YW5jZTp2b2lkIDAhPT1lLm1heERpc3RhbmNlP2UubWF4RGlzdGFuY2U6MWU0LHBhbm5pbmdNb2RlbDp2b2lkIDAhPT1lLnBhbm5pbmdNb2RlbD9lLnBhbm5pbmdNb2RlbDpcIkhSVEZcIixyZWZEaXN0YW5jZTp2b2lkIDAhPT1lLnJlZkRpc3RhbmNlP2UucmVmRGlzdGFuY2U6MSxyb2xsb2ZmRmFjdG9yOnZvaWQgMCE9PWUucm9sbG9mZkZhY3Rvcj9lLnJvbGxvZmZGYWN0b3I6MX0sbi5fb25zdGVyZW89ZS5vbnN0ZXJlbz9be2ZuOmUub25zdGVyZW99XTpbXSxuLl9vbnBvcz1lLm9ucG9zP1t7Zm46ZS5vbnBvc31dOltdLG4uX29ub3JpZW50YXRpb249ZS5vbm9yaWVudGF0aW9uP1t7Zm46ZS5vbm9yaWVudGF0aW9ufV06W10sdC5jYWxsKHRoaXMsZSl9KSxIb3dsLnByb3RvdHlwZS5zdGVyZW89ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzO2lmKCFyLl93ZWJBdWRpbylyZXR1cm4gcjtpZihcImxvYWRlZFwiIT09ci5fc3RhdGUpcmV0dXJuIHIuX3F1ZXVlLnB1c2goe2V2ZW50Olwic3RlcmVvXCIsYWN0aW9uOmZ1bmN0aW9uKCl7ci5zdGVyZW8odCxuKX19KSxyO3ZhciBvPXZvaWQgMD09PUhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyP1wic3BhdGlhbFwiOlwic3RlcmVvXCI7aWYodm9pZCAwPT09bil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpcmV0dXJuIHIuX3N0ZXJlbztyLl9zdGVyZW89dCxyLl9wb3M9W3QsMCwwXX1mb3IodmFyIGk9ci5fZ2V0U291bmRJZHMobiksYT0wO2E8aS5sZW5ndGg7YSsrKXt2YXIgcz1yLl9zb3VuZEJ5SWQoaVthXSk7aWYocyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpcmV0dXJuIHMuX3N0ZXJlbztzLl9zdGVyZW89dCxzLl9wb3M9W3QsMCwwXSxzLl9ub2RlJiYocy5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWw9XCJlcXVhbHBvd2VyXCIscy5fcGFubmVyJiZzLl9wYW5uZXIucGFufHxlKHMsbyksXCJzcGF0aWFsXCI9PT1vP3ZvaWQgMCE9PXMuX3Bhbm5lci5wb3NpdGlvblg/KHMuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUodCxIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKSxzLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKDAsSG93bGVyLmN0eC5jdXJyZW50VGltZSkscy5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZSgwLEhvd2xlci5jdHguY3VycmVudFRpbWUpKTpzLl9wYW5uZXIuc2V0UG9zaXRpb24odCwwLDApOnMuX3Bhbm5lci5wYW4uc2V0VmFsdWVBdFRpbWUodCxIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKSksci5fZW1pdChcInN0ZXJlb1wiLHMuX2lkKX19cmV0dXJuIHJ9LEhvd2wucHJvdG90eXBlLnBvcz1mdW5jdGlvbih0LG4scixvKXt2YXIgaT10aGlzO2lmKCFpLl93ZWJBdWRpbylyZXR1cm4gaTtpZihcImxvYWRlZFwiIT09aS5fc3RhdGUpcmV0dXJuIGkuX3F1ZXVlLnB1c2goe2V2ZW50OlwicG9zXCIsYWN0aW9uOmZ1bmN0aW9uKCl7aS5wb3ModCxuLHIsbyl9fSksaTtpZihuPVwibnVtYmVyXCIhPXR5cGVvZiBuPzA6bixyPVwibnVtYmVyXCIhPXR5cGVvZiByPy0uNTpyLHZvaWQgMD09PW8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXJldHVybiBpLl9wb3M7aS5fcG9zPVt0LG4scl19Zm9yKHZhciBhPWkuX2dldFNvdW5kSWRzKG8pLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIHU9aS5fc291bmRCeUlkKGFbc10pO2lmKHUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXJldHVybiB1Ll9wb3M7dS5fcG9zPVt0LG4scl0sdS5fbm9kZSYmKHUuX3Bhbm5lciYmIXUuX3Bhbm5lci5wYW58fGUodSxcInNwYXRpYWxcIiksdm9pZCAwIT09dS5fcGFubmVyLnBvc2l0aW9uWD8odS5fcGFubmVyLnBvc2l0aW9uWC5zZXRWYWx1ZUF0VGltZSh0LEhvd2xlci5jdHguY3VycmVudFRpbWUpLHUuX3Bhbm5lci5wb3NpdGlvblkuc2V0VmFsdWVBdFRpbWUobixIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKSx1Ll9wYW5uZXIucG9zaXRpb25aLnNldFZhbHVlQXRUaW1lKHIsSG93bGVyLmN0eC5jdXJyZW50VGltZSkpOnUuX3Bhbm5lci5zZXRQb3NpdGlvbih0LG4scikpLGkuX2VtaXQoXCJwb3NcIix1Ll9pZCl9fXJldHVybiBpfSxIb3dsLnByb3RvdHlwZS5vcmllbnRhdGlvbj1mdW5jdGlvbih0LG4scixvKXt2YXIgaT10aGlzO2lmKCFpLl93ZWJBdWRpbylyZXR1cm4gaTtpZihcImxvYWRlZFwiIT09aS5fc3RhdGUpcmV0dXJuIGkuX3F1ZXVlLnB1c2goe2V2ZW50Olwib3JpZW50YXRpb25cIixhY3Rpb246ZnVuY3Rpb24oKXtpLm9yaWVudGF0aW9uKHQsbixyLG8pfX0pLGk7aWYobj1cIm51bWJlclwiIT10eXBlb2Ygbj9pLl9vcmllbnRhdGlvblsxXTpuLHI9XCJudW1iZXJcIiE9dHlwZW9mIHI/aS5fb3JpZW50YXRpb25bMl06cix2b2lkIDA9PT1vKXtpZihcIm51bWJlclwiIT10eXBlb2YgdClyZXR1cm4gaS5fb3JpZW50YXRpb247aS5fb3JpZW50YXRpb249W3QsbixyXX1mb3IodmFyIGE9aS5fZ2V0U291bmRJZHMobykscz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgdT1pLl9zb3VuZEJ5SWQoYVtzXSk7aWYodSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpcmV0dXJuIHUuX29yaWVudGF0aW9uO3UuX29yaWVudGF0aW9uPVt0LG4scl0sdS5fbm9kZSYmKHUuX3Bhbm5lcnx8KHUuX3Bvc3x8KHUuX3Bvcz1pLl9wb3N8fFswLDAsLS41XSksZSh1LFwic3BhdGlhbFwiKSksdm9pZCAwIT09dS5fcGFubmVyLm9yaWVudGF0aW9uWD8odS5fcGFubmVyLm9yaWVudGF0aW9uWC5zZXRWYWx1ZUF0VGltZSh0LEhvd2xlci5jdHguY3VycmVudFRpbWUpLHUuX3Bhbm5lci5vcmllbnRhdGlvblkuc2V0VmFsdWVBdFRpbWUobixIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKSx1Ll9wYW5uZXIub3JpZW50YXRpb25aLnNldFZhbHVlQXRUaW1lKHIsSG93bGVyLmN0eC5jdXJyZW50VGltZSkpOnUuX3Bhbm5lci5zZXRPcmllbnRhdGlvbih0LG4scikpLGkuX2VtaXQoXCJvcmllbnRhdGlvblwiLHUuX2lkKX19cmV0dXJuIGl9LEhvd2wucHJvdG90eXBlLnBhbm5lckF0dHI9ZnVuY3Rpb24oKXt2YXIgdCxuLHIsbz10aGlzLGk9YXJndW1lbnRzO2lmKCFvLl93ZWJBdWRpbylyZXR1cm4gbztpZigwPT09aS5sZW5ndGgpcmV0dXJuIG8uX3Bhbm5lckF0dHI7aWYoMT09PWkubGVuZ3RoKXtpZihcIm9iamVjdFwiIT10eXBlb2YgaVswXSlyZXR1cm4ocj1vLl9zb3VuZEJ5SWQocGFyc2VJbnQoaVswXSwxMCkpKT9yLl9wYW5uZXJBdHRyOm8uX3Bhbm5lckF0dHI7dD1pWzBdLHZvaWQgMD09PW4mJih0LnBhbm5lckF0dHJ8fCh0LnBhbm5lckF0dHI9e2NvbmVJbm5lckFuZ2xlOnQuY29uZUlubmVyQW5nbGUsY29uZU91dGVyQW5nbGU6dC5jb25lT3V0ZXJBbmdsZSxjb25lT3V0ZXJHYWluOnQuY29uZU91dGVyR2FpbixkaXN0YW5jZU1vZGVsOnQuZGlzdGFuY2VNb2RlbCxtYXhEaXN0YW5jZTp0Lm1heERpc3RhbmNlLHJlZkRpc3RhbmNlOnQucmVmRGlzdGFuY2Uscm9sbG9mZkZhY3Rvcjp0LnJvbGxvZmZGYWN0b3IscGFubmluZ01vZGVsOnQucGFubmluZ01vZGVsfSksby5fcGFubmVyQXR0cj17Y29uZUlubmVyQW5nbGU6dm9pZCAwIT09dC5wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlP3QucGFubmVyQXR0ci5jb25lSW5uZXJBbmdsZTpvLl9jb25lSW5uZXJBbmdsZSxjb25lT3V0ZXJBbmdsZTp2b2lkIDAhPT10LnBhbm5lckF0dHIuY29uZU91dGVyQW5nbGU/dC5wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlOm8uX2NvbmVPdXRlckFuZ2xlLGNvbmVPdXRlckdhaW46dm9pZCAwIT09dC5wYW5uZXJBdHRyLmNvbmVPdXRlckdhaW4/dC5wYW5uZXJBdHRyLmNvbmVPdXRlckdhaW46by5fY29uZU91dGVyR2FpbixkaXN0YW5jZU1vZGVsOnZvaWQgMCE9PXQucGFubmVyQXR0ci5kaXN0YW5jZU1vZGVsP3QucGFubmVyQXR0ci5kaXN0YW5jZU1vZGVsOm8uX2Rpc3RhbmNlTW9kZWwsbWF4RGlzdGFuY2U6dm9pZCAwIT09dC5wYW5uZXJBdHRyLm1heERpc3RhbmNlP3QucGFubmVyQXR0ci5tYXhEaXN0YW5jZTpvLl9tYXhEaXN0YW5jZSxyZWZEaXN0YW5jZTp2b2lkIDAhPT10LnBhbm5lckF0dHIucmVmRGlzdGFuY2U/dC5wYW5uZXJBdHRyLnJlZkRpc3RhbmNlOm8uX3JlZkRpc3RhbmNlLHJvbGxvZmZGYWN0b3I6dm9pZCAwIT09dC5wYW5uZXJBdHRyLnJvbGxvZmZGYWN0b3I/dC5wYW5uZXJBdHRyLnJvbGxvZmZGYWN0b3I6by5fcm9sbG9mZkZhY3RvcixwYW5uaW5nTW9kZWw6dm9pZCAwIT09dC5wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbD90LnBhbm5lckF0dHIucGFubmluZ01vZGVsOm8uX3Bhbm5pbmdNb2RlbH0pfWVsc2UgMj09PWkubGVuZ3RoJiYodD1pWzBdLG49cGFyc2VJbnQoaVsxXSwxMCkpO2Zvcih2YXIgYT1vLl9nZXRTb3VuZElkcyhuKSxzPTA7czxhLmxlbmd0aDtzKyspaWYocj1vLl9zb3VuZEJ5SWQoYVtzXSkpe3ZhciB1PXIuX3Bhbm5lckF0dHI7dT17Y29uZUlubmVyQW5nbGU6dm9pZCAwIT09dC5jb25lSW5uZXJBbmdsZT90LmNvbmVJbm5lckFuZ2xlOnUuY29uZUlubmVyQW5nbGUsY29uZU91dGVyQW5nbGU6dm9pZCAwIT09dC5jb25lT3V0ZXJBbmdsZT90LmNvbmVPdXRlckFuZ2xlOnUuY29uZU91dGVyQW5nbGUsY29uZU91dGVyR2Fpbjp2b2lkIDAhPT10LmNvbmVPdXRlckdhaW4/dC5jb25lT3V0ZXJHYWluOnUuY29uZU91dGVyR2FpbixkaXN0YW5jZU1vZGVsOnZvaWQgMCE9PXQuZGlzdGFuY2VNb2RlbD90LmRpc3RhbmNlTW9kZWw6dS5kaXN0YW5jZU1vZGVsLG1heERpc3RhbmNlOnZvaWQgMCE9PXQubWF4RGlzdGFuY2U/dC5tYXhEaXN0YW5jZTp1Lm1heERpc3RhbmNlLHJlZkRpc3RhbmNlOnZvaWQgMCE9PXQucmVmRGlzdGFuY2U/dC5yZWZEaXN0YW5jZTp1LnJlZkRpc3RhbmNlLHJvbGxvZmZGYWN0b3I6dm9pZCAwIT09dC5yb2xsb2ZmRmFjdG9yP3Qucm9sbG9mZkZhY3Rvcjp1LnJvbGxvZmZGYWN0b3IscGFubmluZ01vZGVsOnZvaWQgMCE9PXQucGFubmluZ01vZGVsP3QucGFubmluZ01vZGVsOnUucGFubmluZ01vZGVsfTt2YXIgYz1yLl9wYW5uZXI7Y3x8KHIuX3Bvc3x8KHIuX3Bvcz1vLl9wb3N8fFswLDAsLS41XSksZShyLFwic3BhdGlhbFwiKSxjPXIuX3Bhbm5lciksYy5jb25lSW5uZXJBbmdsZT11LmNvbmVJbm5lckFuZ2xlLGMuY29uZU91dGVyQW5nbGU9dS5jb25lT3V0ZXJBbmdsZSxjLmNvbmVPdXRlckdhaW49dS5jb25lT3V0ZXJHYWluLGMuZGlzdGFuY2VNb2RlbD11LmRpc3RhbmNlTW9kZWwsYy5tYXhEaXN0YW5jZT11Lm1heERpc3RhbmNlLGMucmVmRGlzdGFuY2U9dS5yZWZEaXN0YW5jZSxjLnJvbGxvZmZGYWN0b3I9dS5yb2xsb2ZmRmFjdG9yLGMucGFubmluZ01vZGVsPXUucGFubmluZ01vZGVsfXJldHVybiBvfSxTb3VuZC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49ZS5fcGFyZW50O2UuX29yaWVudGF0aW9uPW4uX29yaWVudGF0aW9uLGUuX3N0ZXJlbz1uLl9zdGVyZW8sZS5fcG9zPW4uX3BvcyxlLl9wYW5uZXJBdHRyPW4uX3Bhbm5lckF0dHIsdC5jYWxsKHRoaXMpLGUuX3N0ZXJlbz9uLnN0ZXJlbyhlLl9zdGVyZW8pOmUuX3BvcyYmbi5wb3MoZS5fcG9zWzBdLGUuX3Bvc1sxXSxlLl9wb3NbMl0sZS5faWQpfX0oU291bmQucHJvdG90eXBlLmluaXQpLFNvdW5kLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49ZS5fcGFyZW50O3JldHVybiBlLl9vcmllbnRhdGlvbj1uLl9vcmllbnRhdGlvbixlLl9zdGVyZW89bi5fc3RlcmVvLGUuX3Bvcz1uLl9wb3MsZS5fcGFubmVyQXR0cj1uLl9wYW5uZXJBdHRyLGUuX3N0ZXJlbz9uLnN0ZXJlbyhlLl9zdGVyZW8pOmUuX3Bvcz9uLnBvcyhlLl9wb3NbMF0sZS5fcG9zWzFdLGUuX3Bvc1syXSxlLl9pZCk6ZS5fcGFubmVyJiYoZS5fcGFubmVyLmRpc2Nvbm5lY3QoMCksZS5fcGFubmVyPXZvaWQgMCxuLl9yZWZyZXNoQnVmZmVyKGUpKSx0LmNhbGwodGhpcyl9fShTb3VuZC5wcm90b3R5cGUucmVzZXQpO3ZhciBlPWZ1bmN0aW9uKHQsZSl7XCJzcGF0aWFsXCI9PT0oZT1lfHxcInNwYXRpYWxcIik/KHQuX3Bhbm5lcj1Ib3dsZXIuY3R4LmNyZWF0ZVBhbm5lcigpLHQuX3Bhbm5lci5jb25lSW5uZXJBbmdsZT10Ll9wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlLHQuX3Bhbm5lci5jb25lT3V0ZXJBbmdsZT10Ll9wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlLHQuX3Bhbm5lci5jb25lT3V0ZXJHYWluPXQuX3Bhbm5lckF0dHIuY29uZU91dGVyR2Fpbix0Ll9wYW5uZXIuZGlzdGFuY2VNb2RlbD10Ll9wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWwsdC5fcGFubmVyLm1heERpc3RhbmNlPXQuX3Bhbm5lckF0dHIubWF4RGlzdGFuY2UsdC5fcGFubmVyLnJlZkRpc3RhbmNlPXQuX3Bhbm5lckF0dHIucmVmRGlzdGFuY2UsdC5fcGFubmVyLnJvbGxvZmZGYWN0b3I9dC5fcGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yLHQuX3Bhbm5lci5wYW5uaW5nTW9kZWw9dC5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWwsdm9pZCAwIT09dC5fcGFubmVyLnBvc2l0aW9uWD8odC5fcGFubmVyLnBvc2l0aW9uWC5zZXRWYWx1ZUF0VGltZSh0Ll9wb3NbMF0sSG93bGVyLmN0eC5jdXJyZW50VGltZSksdC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZSh0Ll9wb3NbMV0sSG93bGVyLmN0eC5jdXJyZW50VGltZSksdC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZSh0Ll9wb3NbMl0sSG93bGVyLmN0eC5jdXJyZW50VGltZSkpOnQuX3Bhbm5lci5zZXRQb3NpdGlvbih0Ll9wb3NbMF0sdC5fcG9zWzFdLHQuX3Bvc1syXSksdm9pZCAwIT09dC5fcGFubmVyLm9yaWVudGF0aW9uWD8odC5fcGFubmVyLm9yaWVudGF0aW9uWC5zZXRWYWx1ZUF0VGltZSh0Ll9vcmllbnRhdGlvblswXSxIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKSx0Ll9wYW5uZXIub3JpZW50YXRpb25ZLnNldFZhbHVlQXRUaW1lKHQuX29yaWVudGF0aW9uWzFdLEhvd2xlci5jdHguY3VycmVudFRpbWUpLHQuX3Bhbm5lci5vcmllbnRhdGlvblouc2V0VmFsdWVBdFRpbWUodC5fb3JpZW50YXRpb25bMl0sSG93bGVyLmN0eC5jdXJyZW50VGltZSkpOnQuX3Bhbm5lci5zZXRPcmllbnRhdGlvbih0Ll9vcmllbnRhdGlvblswXSx0Ll9vcmllbnRhdGlvblsxXSx0Ll9vcmllbnRhdGlvblsyXSkpOih0Ll9wYW5uZXI9SG93bGVyLmN0eC5jcmVhdGVTdGVyZW9QYW5uZXIoKSx0Ll9wYW5uZXIucGFuLnNldFZhbHVlQXRUaW1lKHQuX3N0ZXJlbyxIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKSksdC5fcGFubmVyLmNvbm5lY3QodC5fbm9kZSksdC5fcGF1c2VkfHx0Ll9wYXJlbnQucGF1c2UodC5faWQsITApLnBsYXkodC5faWQsITApfX0oKX0sMjA6KHQsZSxuKT0+e1widXNlIHN0cmljdFwiO3ZhciByPW4oMTIpLG89U3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIiksaT1TeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHM9ci5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRC5SZWFjdEN1cnJlbnRPd25lcix1PXtrZXk6ITAscmVmOiEwLF9fc2VsZjohMCxfX3NvdXJjZTohMH07XG4vKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1qc3gtcnVudGltZS5wcm9kdWN0aW9uLm1pbi5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovZnVuY3Rpb24gYyh0LGUsbil7dmFyIHIsaT17fSxjPW51bGwsbD1udWxsO2ZvcihyIGluIHZvaWQgMCE9PW4mJihjPVwiXCIrbiksdm9pZCAwIT09ZS5rZXkmJihjPVwiXCIrZS5rZXkpLHZvaWQgMCE9PWUucmVmJiYobD1lLnJlZiksZSlhLmNhbGwoZSxyKSYmIXUuaGFzT3duUHJvcGVydHkocikmJihpW3JdPWVbcl0pO2lmKHQmJnQuZGVmYXVsdFByb3BzKWZvcihyIGluIGU9dC5kZWZhdWx0UHJvcHMpdm9pZCAwPT09aVtyXSYmKGlbcl09ZVtyXSk7cmV0dXJueyQkdHlwZW9mOm8sdHlwZTp0LGtleTpjLHJlZjpsLHByb3BzOmksX293bmVyOnMuY3VycmVudH19ZS5qc3g9YyxlLmpzeHM9Y30sODQ4Oih0LGUsbik9PntcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9bigyMCl9LDcyOnQ9PntcInVzZSBzdHJpY3RcIjt2YXIgZT1bXTtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgbj0tMSxyPTA7cjxlLmxlbmd0aDtyKyspaWYoZVtyXS5pZGVudGlmaWVyPT09dCl7bj1yO2JyZWFrfXJldHVybiBufWZ1bmN0aW9uIHIodCxyKXtmb3IodmFyIGk9e30sYT1bXSxzPTA7czx0Lmxlbmd0aDtzKyspe3ZhciB1PXRbc10sYz1yLmJhc2U/dVswXStyLmJhc2U6dVswXSxsPWlbY118fDAsZj1cIlwiLmNvbmNhdChjLFwiIFwiKS5jb25jYXQobCk7aVtjXT1sKzE7dmFyIHA9bihmKSxkPXtjc3M6dVsxXSxtZWRpYTp1WzJdLHNvdXJjZU1hcDp1WzNdLHN1cHBvcnRzOnVbNF0sbGF5ZXI6dVs1XX07aWYoLTEhPT1wKWVbcF0ucmVmZXJlbmNlcysrLGVbcF0udXBkYXRlcihkKTtlbHNle3ZhciBoPW8oZCxyKTtyLmJ5SW5kZXg9cyxlLnNwbGljZShzLDAse2lkZW50aWZpZXI6Zix1cGRhdGVyOmgscmVmZXJlbmNlczoxfSl9YS5wdXNoKGYpfXJldHVybiBhfWZ1bmN0aW9uIG8odCxlKXt2YXIgbj1lLmRvbUFQSShlKTtuLnVwZGF0ZSh0KTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoZSl7aWYoZS5jc3M9PT10LmNzcyYmZS5tZWRpYT09PXQubWVkaWEmJmUuc291cmNlTWFwPT09dC5zb3VyY2VNYXAmJmUuc3VwcG9ydHM9PT10LnN1cHBvcnRzJiZlLmxheWVyPT09dC5sYXllcilyZXR1cm47bi51cGRhdGUodD1lKX1lbHNlIG4ucmVtb3ZlKCl9fXQuZXhwb3J0cz1mdW5jdGlvbih0LG8pe3ZhciBpPXIodD10fHxbXSxvPW98fHt9KTtyZXR1cm4gZnVuY3Rpb24odCl7dD10fHxbXTtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHM9bihpW2FdKTtlW3NdLnJlZmVyZW5jZXMtLX1mb3IodmFyIHU9cih0LG8pLGM9MDtjPGkubGVuZ3RoO2MrKyl7dmFyIGw9bihpW2NdKTswPT09ZVtsXS5yZWZlcmVuY2VzJiYoZVtsXS51cGRhdGVyKCksZS5zcGxpY2UobCwxKSl9aT11fX19LDY1OTp0PT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9e307dC5leHBvcnRzPWZ1bmN0aW9uKHQsbil7dmFyIHI9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09ZVt0XSl7dmFyIG49ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KTtpZih3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQmJm4gaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpdHJ5e249bi5jb250ZW50RG9jdW1lbnQuaGVhZH1jYXRjaCh0KXtuPW51bGx9ZVt0XT1ufXJldHVybiBlW3RdfSh0KTtpZighcil0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO3IuYXBwZW5kQ2hpbGQobil9fSw1NDA6dD0+e1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHQuc2V0QXR0cmlidXRlcyhlLHQuYXR0cmlidXRlcyksdC5pbnNlcnQoZSx0Lm9wdGlvbnMpLGV9fSw1NjoodCxlLG4pPT57XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPW4ubmM7ZSYmdC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLGUpfX0sODI1OnQ9PntcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50KXJldHVybnt1cGRhdGU6ZnVuY3Rpb24oKXt9LHJlbW92ZTpmdW5jdGlvbigpe319O3ZhciBlPXQuaW5zZXJ0U3R5bGVFbGVtZW50KHQpO3JldHVybnt1cGRhdGU6ZnVuY3Rpb24obil7IWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1cIlwiO24uc3VwcG9ydHMmJihyKz1cIkBzdXBwb3J0cyAoXCIuY29uY2F0KG4uc3VwcG9ydHMsXCIpIHtcIikpLG4ubWVkaWEmJihyKz1cIkBtZWRpYSBcIi5jb25jYXQobi5tZWRpYSxcIiB7XCIpKTt2YXIgbz12b2lkIDAhPT1uLmxheWVyO28mJihyKz1cIkBsYXllclwiLmNvbmNhdChuLmxheWVyLmxlbmd0aD4wP1wiIFwiLmNvbmNhdChuLmxheWVyKTpcIlwiLFwiIHtcIikpLHIrPW4uY3NzLG8mJihyKz1cIn1cIiksbi5tZWRpYSYmKHIrPVwifVwiKSxuLnN1cHBvcnRzJiYocis9XCJ9XCIpO3ZhciBpPW4uc291cmNlTWFwO2kmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBidG9hJiYocis9XCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShpKSkpKSxcIiAqL1wiKSksZS5zdHlsZVRhZ1RyYW5zZm9ybShyLHQsZS5vcHRpb25zKX0oZSx0LG4pfSxyZW1vdmU6ZnVuY3Rpb24oKXshZnVuY3Rpb24odCl7aWYobnVsbD09PXQucGFyZW50Tm9kZSlyZXR1cm4hMTt0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9KGUpfX19fSwxMTM6dD0+e1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKGUuc3R5bGVTaGVldCllLnN0eWxlU2hlZXQuY3NzVGV4dD10O2Vsc2V7Zm9yKDtlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpKX19fSwxMjplPT57XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPXR9LDMzOnQ9PntcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZX19LHI9e307ZnVuY3Rpb24gbyh0KXt2YXIgZT1yW3RdO2lmKHZvaWQgMCE9PWUpcmV0dXJuIGUuZXhwb3J0czt2YXIgaT1yW3RdPXtpZDp0LGV4cG9ydHM6e319O3JldHVybiBuW3RdKGksaS5leHBvcnRzLG8pLGkuZXhwb3J0c31vLm49dD0+e3ZhciBlPXQmJnQuX19lc01vZHVsZT8oKT0+dC5kZWZhdWx0OigpPT50O3JldHVybiBvLmQoZSx7YTplfSksZX0sby5kPSh0LGUpPT57Zm9yKHZhciBuIGluIGUpby5vKGUsbikmJiFvLm8odCxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7ZW51bWVyYWJsZTohMCxnZXQ6ZVtuXX0pfSxvLmc9ZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcylyZXR1cm4gZ2xvYmFsVGhpczt0cnl7cmV0dXJuIHRoaXN8fG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9Y2F0Y2godCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdylyZXR1cm4gd2luZG93fX0oKSxvLm89KHQsZSk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpLG8ucj10PT57XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sby5uYz12b2lkIDA7dmFyIGk9e307cmV0dXJuKCgpPT57XCJ1c2Ugc3RyaWN0XCI7by5yKGkpLG8uZChpLHtBbGlnbjooKT0+UGUsQmFzZUltYWdlVHJhbnNpdGlvbjooKT0+TWMsQmFzZVRleHRUcmFuc2l0aW9uOigpPT5SYyxCYXNlVHJhbnNpdGlvbjooKT0+TmMsQ2hhcmFjdGVyOigpPT51dSxDb21tb25Qb3NpdGlvbjooKT0+VGUsQ29tbW9uUG9zaXRpb25UeXBlOigpPT5oZSxDb25kaXRpb246KCk9Pkl1LENvbnRyb2w6KCk9PlZhLENvb3JkMkQ6KCk9PkVlLERpc3NvbHZlOigpPT4kaCxGYWRlOigpPT5qaCxGYWRlSW46KCk9PkRoLEdhbWU6KCk9PlZmLEdhbWVQcm92aWRlcnM6KCk9PlNoLEdhbWVTdGF0ZTooKT0+ZWYsSW1hZ2U6KCk9PnFhLElzb2xhdGVkOigpPT5tZixMYW1iZGE6KCk9Pkx1LExpdmVHYW1lOigpPT5HZixNZW51OigpPT5RdSxOYW1lc3BhY2U6KCk9PnpsLFBhdXNlOigpPT5OcyxQbGF5ZXI6KCk9PndoLFNheTooKT0+VGYsU2NlbmU6KCk9PmxsLFNjcmlwdDooKT0+RWwsU2VudGVuY2U6KCk9PnpzLFNvdW5kOigpPT5qcyxTb3VuZFR5cGU6KCk9PndzLFN0b3JhYmxlOigpPT5XbCxTdG9yeTooKT0+UmwsVGV4dDooKT0+UWMsVHJhbnNmb3JtOigpPT5MYSxVdGlsczooKT0+YnMsV29yZDooKT0+RHMsdXNlR2FtZTooKT0+TGZ9KTt2YXIgdD17c2F5OlwiY2hhcmFjdGVyOnNheVwiLGFjdGlvbjpcImNoYXJhY3RlcjphY3Rpb25cIixzZXROYW1lOlwiY2hhcmFjdGVyOnNldE5hbWVcIn0sZT17YWN0aW9uOlwic2NlbmU6YWN0aW9uXCIsc2V0QmFja2dyb3VuZDpcInNjZW5lOnNldEJhY2tncm91bmRcIixzbGVlcDpcInNjZW5lOnNsZWVwXCIsc2V0VHJhbnNpdGlvbjpcInNjZW5lOnNldFRyYW5zaXRpb25cIixhcHBseVRyYW5zaXRpb246XCJzY2VuZTphcHBseVRyYW5zaXRpb25cIixpbml0Olwic2NlbmU6aW5pdFwiLGV4aXQ6XCJzY2VuZTpleGl0XCIsanVtcFRvOlwic2NlbmU6anVtcFRvXCIsc2V0QmFja2dyb3VuZE11c2ljOlwic2NlbmU6c2V0QmFja2dyb3VuZE11c2ljXCIscHJlVW5tb3VudDpcInNjZW5lOnByZVVubW91bnRcIixhcHBseVRyYW5zZm9ybTpcInNjZW5lOmFwcGx5VHJhbnNmb3JtXCJ9LG49e2FjdGlvbjpcImltYWdlOmFjdGlvblwiLHNldFNyYzpcImltYWdlOnNldFNyY1wiLHNldFBvc2l0aW9uOlwiaW1hZ2U6c2V0UG9zaXRpb25cIixzaG93OlwiaW1hZ2U6c2hvd1wiLGhpZGU6XCJpbWFnZTpoaWRlXCIsYXBwbHlUcmFuc2Zvcm06XCJpbWFnZTphcHBseVRyYW5zZm9ybVwiLGluaXQ6XCJpbWFnZTppbml0XCIsZGlzcG9zZTpcImltYWdlOmRpc3Bvc2VcIixzZXRUcmFuc2l0aW9uOlwiaW1hZ2U6c2V0VHJhbnNpdGlvblwiLGFwcGx5VHJhbnNpdGlvbjpcImltYWdlOmFwcGx5VHJhbnNpdGlvblwiLGZsdXNoOlwiaW1hZ2U6Zmx1c2hcIn0scj17YWN0aW9uOlwic291bmQ6YWN0aW9uXCIscGxheTpcInNvdW5kOnBsYXlcIixzdG9wOlwic291bmQ6c3RvcFwiLGZhZGU6XCJzb3VuZDpmYWRlXCIsc2V0Vm9sdW1lOlwic291bmQ6c2V0Vm9sdW1lXCIsc2V0UmF0ZTpcInNvdW5kOnNldFJhdGVcIixwYXVzZTpcInNvdW5kOnBhdXNlXCIscmVzdW1lOlwic291bmQ6cmVzdW1lXCJ9LGE9e2FjdGlvbjpcImNvbnRyb2w6YWN0aW9uXCIsZG86XCJjb250cm9sOmRvXCIsZG9Bc3luYzpcImNvbnRyb2w6ZG9Bc3luY1wiLGFueTpcImNvbnRyb2w6YW55XCIsYWxsOlwiY29udHJvbDphbGxcIixhbGxBc3luYzpcImNvbnRyb2w6YWxsQXN5bmNcIixyZXBlYXQ6XCJjb250cm9sOnJlcGVhdFwiLHNsZWVwOlwiY29udHJvbDpzbGVlcFwifSxzPXthY3Rpb246XCJ0ZXh0OmFjdGlvblwiLHNldFRleHQ6XCJ0ZXh0OnNldFRleHRcIixzaG93OlwidGV4dDpzaG93XCIsaGlkZTpcInRleHQ6aGlkZVwiLGFwcGx5VHJhbnNmb3JtOlwidGV4dDphcHBseVRyYW5zZm9ybVwiLGluaXQ6XCJ0ZXh0OmluaXRcIixhcHBseVRyYW5zaXRpb246XCJ0ZXh0OmFwcGx5VHJhbnNpdGlvblwiLHNldEZvbnRTaXplOlwidGV4dDpzZXRGb250U2l6ZVwifTtmdW5jdGlvbiB1KCl7LyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqL3U9ZnVuY3Rpb24oKXtyZXR1cm4gZX07dmFyIHQsZT17fSxuPU9iamVjdC5wcm90b3R5cGUscj1uLmhhc093blByb3BlcnR5LG89T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbih0LGUsbil7dFtlXT1uLnZhbHVlfSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYT1pLml0ZXJhdG9yfHxcIkBAaXRlcmF0b3JcIixzPWkuYXN5bmNJdGVyYXRvcnx8XCJAQGFzeW5jSXRlcmF0b3JcIixjPWkudG9TdHJpbmdUYWd8fFwiQEB0b1N0cmluZ1RhZ1wiO2Z1bmN0aW9uIGwodCxlLG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksdFtlXX10cnl7bCh7fSxcIlwiKX1jYXRjaCh0KXtsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1ufX1mdW5jdGlvbiBmKHQsZSxuLHIpe3ZhciBpPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgYj9lOmIsYT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxzPW5ldyBMKHJ8fFtdKTtyZXR1cm4gbyhhLFwiX2ludm9rZVwiLHt2YWx1ZTpFKHQsbixzKX0pLGF9ZnVuY3Rpb24gcCh0LGUsbil7dHJ5e3JldHVybnt0eXBlOlwibm9ybWFsXCIsYXJnOnQuY2FsbChlLG4pfX1jYXRjaCh0KXtyZXR1cm57dHlwZTpcInRocm93XCIsYXJnOnR9fX1lLndyYXA9Zjt2YXIgZD1cInN1c3BlbmRlZFN0YXJ0XCIsaD1cInN1c3BlbmRlZFlpZWxkXCIseT1cImV4ZWN1dGluZ1wiLHY9XCJjb21wbGV0ZWRcIixnPXt9O2Z1bmN0aW9uIGIoKXt9ZnVuY3Rpb24gdygpe31mdW5jdGlvbiBfKCl7fXZhciBTPXt9O2woUyxhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBrPU9iamVjdC5nZXRQcm90b3R5cGVPZix4PWsmJmsoayhJKFtdKSkpO3gmJnghPT1uJiZyLmNhbGwoeCxhKSYmKFM9eCk7dmFyIEE9Xy5wcm90b3R5cGU9Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTKTtmdW5jdGlvbiBPKHQpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7bCh0LGUsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX0pKX0pKX1mdW5jdGlvbiBUKHQsZSl7ZnVuY3Rpb24gbihvLGksYSxzKXt2YXIgdT1wKHRbb10sdCxpKTtpZihcInRocm93XCIhPT11LnR5cGUpe3ZhciBjPXUuYXJnLGw9Yy52YWx1ZTtyZXR1cm4gbCYmXCJvYmplY3RcIj09bShsKSYmci5jYWxsKGwsXCJfX2F3YWl0XCIpP2UucmVzb2x2ZShsLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKHQpe24oXCJuZXh0XCIsdCxhLHMpfSksKGZ1bmN0aW9uKHQpe24oXCJ0aHJvd1wiLHQsYSxzKX0pKTplLnJlc29sdmUobCkudGhlbigoZnVuY3Rpb24odCl7Yy52YWx1ZT10LGEoYyl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIG4oXCJ0aHJvd1wiLHQsYSxzKX0pKX1zKHUuYXJnKX12YXIgaTtvKHRoaXMsXCJfaW52b2tlXCIse3ZhbHVlOmZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gbygpe3JldHVybiBuZXcgZSgoZnVuY3Rpb24oZSxvKXtuKHQscixlLG8pfSkpfXJldHVybiBpPWk/aS50aGVuKG8sbyk6bygpfX0pfWZ1bmN0aW9uIEUoZSxuLHIpe3ZhciBvPWQ7cmV0dXJuIGZ1bmN0aW9uKGksYSl7aWYobz09PXkpdGhyb3cgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2lmKG89PT12KXtpZihcInRocm93XCI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgcz1yLmRlbGVnYXRlO2lmKHMpe3ZhciB1PVAocyxyKTtpZih1KXtpZih1PT09Zyljb250aW51ZTtyZXR1cm4gdX19aWYoXCJuZXh0XCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKFwidGhyb3dcIj09PXIubWV0aG9kKXtpZihvPT09ZCl0aHJvdyBvPXYsci5hcmc7ci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZyl9ZWxzZVwicmV0dXJuXCI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoXCJyZXR1cm5cIixyLmFyZyk7bz15O3ZhciBjPXAoZSxuLHIpO2lmKFwibm9ybWFsXCI9PT1jLnR5cGUpe2lmKG89ci5kb25lP3Y6aCxjLmFyZz09PWcpY29udGludWU7cmV0dXJue3ZhbHVlOmMuYXJnLGRvbmU6ci5kb25lfX1cInRocm93XCI9PT1jLnR5cGUmJihvPXYsci5tZXRob2Q9XCJ0aHJvd1wiLHIuYXJnPWMuYXJnKX19fWZ1bmN0aW9uIFAoZSxuKXt2YXIgcj1uLm1ldGhvZCxvPWUuaXRlcmF0b3Jbcl07aWYobz09PXQpcmV0dXJuIG4uZGVsZWdhdGU9bnVsbCxcInRocm93XCI9PT1yJiZlLml0ZXJhdG9yLnJldHVybiYmKG4ubWV0aG9kPVwicmV0dXJuXCIsbi5hcmc9dCxQKGUsbiksXCJ0aHJvd1wiPT09bi5tZXRob2QpfHxcInJldHVyblwiIT09ciYmKG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIrcitcIicgbWV0aG9kXCIpKSxnO3ZhciBpPXAobyxlLml0ZXJhdG9yLG4uYXJnKTtpZihcInRocm93XCI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1pLmFyZyxuLmRlbGVnYXRlPW51bGwsZzt2YXIgYT1pLmFyZztyZXR1cm4gYT9hLmRvbmU/KG5bZS5yZXN1bHROYW1lXT1hLnZhbHVlLG4ubmV4dD1lLm5leHRMb2MsXCJyZXR1cm5cIiE9PW4ubWV0aG9kJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9dCksbi5kZWxlZ2F0ZT1udWxsLGcpOmE6KG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksbi5kZWxlZ2F0ZT1udWxsLGcpfWZ1bmN0aW9uIGoodCl7dmFyIGU9e3RyeUxvYzp0WzBdfTsxIGluIHQmJihlLmNhdGNoTG9jPXRbMV0pLDIgaW4gdCYmKGUuZmluYWxseUxvYz10WzJdLGUuYWZ0ZXJMb2M9dFszXSksdGhpcy50cnlFbnRyaWVzLnB1c2goZSl9ZnVuY3Rpb24gQyh0KXt2YXIgZT10LmNvbXBsZXRpb258fHt9O2UudHlwZT1cIm5vcm1hbFwiLGRlbGV0ZSBlLmFyZyx0LmNvbXBsZXRpb249ZX1mdW5jdGlvbiBMKHQpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzpcInJvb3RcIn1dLHQuZm9yRWFjaChqLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIEkoZSl7aWYoZXx8XCJcIj09PWUpe3ZhciBuPWVbYV07aWYobilyZXR1cm4gbi5jYWxsKGUpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUubmV4dClyZXR1cm4gZTtpZighaXNOYU4oZS5sZW5ndGgpKXt2YXIgbz0tMSxpPWZ1bmN0aW9uIG4oKXtmb3IoOysrbzxlLmxlbmd0aDspaWYoci5jYWxsKGUsbykpcmV0dXJuIG4udmFsdWU9ZVtvXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT10LG4uZG9uZT0hMCxufTtyZXR1cm4gaS5uZXh0PWl9fXRocm93IG5ldyBUeXBlRXJyb3IobShlKStcIiBpcyBub3QgaXRlcmFibGVcIil9cmV0dXJuIHcucHJvdG90eXBlPV8sbyhBLFwiY29uc3RydWN0b3JcIix7dmFsdWU6Xyxjb25maWd1cmFibGU6ITB9KSxvKF8sXCJjb25zdHJ1Y3RvclwiLHt2YWx1ZTp3LGNvbmZpZ3VyYWJsZTohMH0pLHcuZGlzcGxheU5hbWU9bChfLGMsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSxlLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4hIWUmJihlPT09d3x8XCJHZW5lcmF0b3JGdW5jdGlvblwiPT09KGUuZGlzcGxheU5hbWV8fGUubmFtZSkpfSxlLm1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxfKToodC5fX3Byb3RvX189XyxsKHQsYyxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEEpLHR9LGUuYXdyYXA9ZnVuY3Rpb24odCl7cmV0dXJue19fYXdhaXQ6dH19LE8oVC5wcm90b3R5cGUpLGwoVC5wcm90b3R5cGUscywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxlLkFzeW5jSXRlcmF0b3I9VCxlLmFzeW5jPWZ1bmN0aW9uKHQsbixyLG8saSl7dm9pZCAwPT09aSYmKGk9UHJvbWlzZSk7dmFyIGE9bmV3IFQoZih0LG4scixvKSxpKTtyZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKG4pP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9uZT90LnZhbHVlOmEubmV4dCgpfSkpfSxPKEEpLGwoQSxjLFwiR2VuZXJhdG9yXCIpLGwoQSxhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGwoQSxcInRvU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEdlbmVyYXRvcl1cIn0pKSxlLmtleXM9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHQpLG49W107Zm9yKHZhciByIGluIGUpbi5wdXNoKHIpO3JldHVybiBuLnJldmVyc2UoKSxmdW5jdGlvbiB0KCl7Zm9yKDtuLmxlbmd0aDspe3ZhciByPW4ucG9wKCk7aWYociBpbiBlKXJldHVybiB0LnZhbHVlPXIsdC5kb25lPSExLHR9cmV0dXJuIHQuZG9uZT0hMCx0fX0sZS52YWx1ZXM9SSxMLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TCxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5hcmc9dCx0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChDKSwhZSlmb3IodmFyIG4gaW4gdGhpcylcInRcIj09PW4uY2hhckF0KDApJiZyLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09dCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIHQ9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciBuPXRoaXM7ZnVuY3Rpb24gbyhyLG8pe3JldHVybiBzLnR5cGU9XCJ0aHJvd1wiLHMuYXJnPWUsbi5uZXh0PXIsbyYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPXQpLCEhb31mb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbaV0scz1hLmNvbXBsZXRpb247aWYoXCJyb290XCI9PT1hLnRyeUxvYylyZXR1cm4gbyhcImVuZFwiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgdT1yLmNhbGwoYSxcImNhdGNoTG9jXCIpLGM9ci5jYWxsKGEsXCJmaW5hbGx5TG9jXCIpO2lmKHUmJmMpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBvKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX1lbHNlIGlmKHUpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBvKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIWMpdGhyb3cgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciBvPXRoaXMudHJ5RW50cmllc1tuXTtpZihvLnRyeUxvYzw9dGhpcy5wcmV2JiZyLmNhbGwobyxcImZpbmFsbHlMb2NcIikmJnRoaXMucHJldjxvLmZpbmFsbHlMb2Mpe3ZhciBpPW87YnJlYWt9fWkmJihcImJyZWFrXCI9PT10fHxcImNvbnRpbnVlXCI9PT10KSYmaS50cnlMb2M8PWUmJmU8PWkuZmluYWxseUxvYyYmKGk9bnVsbCk7dmFyIGE9aT9pLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT10LGEuYXJnPWUsaT8odGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyxnKTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbih0LGUpe2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm5cImJyZWFrXCI9PT10LnR5cGV8fFwiY29udGludWVcIj09PXQudHlwZT90aGlzLm5leHQ9dC5hcmc6XCJyZXR1cm5cIj09PXQudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPXQuYXJnLHRoaXMubWV0aG9kPVwicmV0dXJuXCIsdGhpcy5uZXh0PVwiZW5kXCIpOlwibm9ybWFsXCI9PT10LnR5cGUmJmUmJih0aGlzLm5leHQ9ZSksZ30sZmluaXNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLmZpbmFsbHlMb2M9PT10KXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxDKG4pLGd9fSxjYXRjaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi50cnlMb2M9PT10KXt2YXIgcj1uLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09ci50eXBlKXt2YXIgbz1yLmFyZztDKG4pfXJldHVybiBvfX10aHJvdyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLG4scil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOkkoZSkscmVzdWx0TmFtZTpuLG5leHRMb2M6cn0sXCJuZXh0XCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXQpLGd9fSxlfWZ1bmN0aW9uIGModCxlKXt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KHQpfHwobj15KHQpKXx8ZSYmdCYmXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKXtuJiYodD1uKTt2YXIgcj0wLG89ZnVuY3Rpb24oKXt9O3JldHVybntzOm8sbjpmdW5jdGlvbigpe3JldHVybiByPj10Lmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6dFtyKytdfX0sZTpmdW5jdGlvbih0KXt0aHJvdyB0fSxmOm99fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgaSxhPSEwLHM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtuPW4uY2FsbCh0KX0sbjpmdW5jdGlvbigpe3ZhciB0PW4ubmV4dCgpO3JldHVybiBhPXQuZG9uZSx0fSxlOmZ1bmN0aW9uKHQpe3M9ITAsaT10fSxmOmZ1bmN0aW9uKCl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBpfX19fWZ1bmN0aW9uIGwodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGYodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZChyLmtleSkscil9fWZ1bmN0aW9uIHAodCxlLG4pe3JldHVybiBlJiZmKHQucHJvdG90eXBlLGUpLG4mJmYodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9ZnVuY3Rpb24gZCh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPW0odCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9bShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PW0oZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdih0KX0odCl8fGZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPXRbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9dFtcIkBAaXRlcmF0b3JcIl0pcmV0dXJuIEFycmF5LmZyb20odCl9KHQpfHx5KHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIHkodCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdih0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP3YodCxlKTp2b2lkIDB9fWZ1bmN0aW9uIHYodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIG0odCl7cmV0dXJuIG09XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sbSh0KX12YXIgZz1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiBhKHQpe3RyeXt1KHIubmV4dCh0KSl9Y2F0Y2godCl7aSh0KX19ZnVuY3Rpb24gcyh0KXt0cnl7dShyLnRocm93KHQpKX1jYXRjaCh0KXtpKHQpfX1mdW5jdGlvbiB1KHQpe3ZhciBlO3QuZG9uZT9vKHQudmFsdWUpOihlPXQudmFsdWUsZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbigoZnVuY3Rpb24odCl7dChlKX0pKSkudGhlbihhLHMpfXUoKHI9ci5hcHBseSh0LGV8fFtdKSkubmV4dCgpKX0pKX07ZnVuY3Rpb24gYih0LGUpe3ZhciBuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxyPXt9LG89ZnVuY3Rpb24odCxlLG4pe3JldHVyblwib2JqZWN0XCIhPT1tKGUpfHxudWxsPT09ZXx8QXJyYXkuaXNBcnJheShlKXx8XCJvYmplY3RcIiE9PW0obil8fG51bGw9PT1ufHxBcnJheS5pc0FycmF5KG4pP0FycmF5LmlzQXJyYXkoZSkmJkFycmF5LmlzQXJyYXkobik/ZS5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJvYmplY3RcIj09PW0odCkmJm51bGwhPT10JiYhQXJyYXkuaXNBcnJheSh0KSYmbltlXT9iKHQsbltlXSk6dH0pKTp2b2lkIDA9PT1uP2U6bjplLmNvbnN0cnVjdG9yIT09T2JqZWN0fHxuLmNvbnN0cnVjdG9yIT09T2JqZWN0P258fGU6YihlLG4pfTtmb3IodmFyIGkgaW4gdCluKHQsaSkmJihyW2ldPW8oMCx0W2ldLGVbaV0pKTtmb3IodmFyIGEgaW4gZSluKGUsYSkmJiFuKHIsYSkmJihcIm9iamVjdFwiPT09bShlW2FdKSYmbnVsbCE9PWVbYV0mJmVbYV0uY29uc3RydWN0b3I9PT1PYmplY3Q/clthXT1iKHt9LGVbYV0pOnJbYV09ZVthXSk7Zm9yKHZhciBzPWFyZ3VtZW50cy5sZW5ndGgsdT1uZXcgQXJyYXkocz4yP3MtMjowKSxjPTI7YzxzO2MrKyl1W2MtMl09YXJndW1lbnRzW2NdO2lmKHUubGVuZ3RoKXt2YXIgbD11WzBdLGY9dS5zbGljZSgxKTtyZXR1cm4gYi5hcHBseSh2b2lkIDAsW3IsbF0uY29uY2F0KGgoZikpKX1yZXR1cm4gcn12YXIgdz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ZnVuY3Rpb24odCl7cmV0dXJuIHR9LG49YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7bCh0aGlzLHQpLHRoaXMuc29sdmVkPSExLHRoaXMubGlzdGVuZXJzPVtdLHRoaXMucmVjZWl2ZXI9ZSx0aGlzLnNraXBDb250cm9sbGVyPW59cmV0dXJuIHAodCxbe2tleTpcInJlZ2lzdGVyU2tpcENvbnRyb2xsZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5za2lwQ29udHJvbGxlcj10LHRoaXN9fSx7a2V5OlwicmVzb2x2ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLnNvbHZlZCl7dGhpcy5yZXN1bHQ9dGhpcy5yZWNlaXZlcih0KSx0aGlzLnNvbHZlZD0hMCx0aGlzLnNraXBDb250cm9sbGVyJiZ0aGlzLnNraXBDb250cm9sbGVyLmNhbmNlbCgpO3ZhciBlLG49Yyh0aGlzLmxpc3RlbmVycyk7dHJ5e2ZvcihuLnMoKTshKGU9bi5uKCkpLmRvbmU7KXsoMCxlLnZhbHVlKSh0aGlzLnJlc3VsdCl9fWNhdGNoKHQpe24uZSh0KX1maW5hbGx5e24uZigpfX19fSx7a2V5OlwidGhlblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucmVzdWx0P3QodGhpcy5yZXN1bHQpOnRoaXMubGlzdGVuZXJzLnB1c2godCl9fSx7a2V5OlwiYWJvcnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNraXBDb250cm9sbGVyP3RoaXMuc2tpcENvbnRyb2xsZXIuYWJvcnQoKTp0aGlzLnJlc3VsdH19XSxbe2tleTpcImlzQXdhaXRhYmxlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0fX1dKX0oKTtmdW5jdGlvbiBfKHQpe3ZhciBlPW5ldyBXZWFrU2V0O3JldHVybiBmdW5jdGlvbiB0KG4pe2lmKG51bGw9PT1ufHxcIm9iamVjdFwiIT09bShuKSlyZXR1cm4gbjtpZighZS5oYXMobikpe2lmKGUuYWRkKG4pLEFycmF5LmlzQXJyYXkobikpe3ZhciByLG89W10saT1jKG4pO3RyeXtmb3IoaS5zKCk7IShyPWkubigpKS5kb25lOyl7dmFyIGE9ci52YWx1ZTtvLnB1c2godChhKSl9fWNhdGNoKHQpe2kuZSh0KX1maW5hbGx5e2kuZigpfXJldHVybiBvfXZhciBzPXt9O2Zvcih2YXIgdSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHUpJiYoc1t1XT10KG5bdV0pKTtyZXR1cm4gc319KHQpfWZ1bmN0aW9uIFModCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDpcIiNcIi5jb25jYXQoKHQucnx8MCkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKS5jb25jYXQoKHQuZ3x8MCkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKS5jb25jYXQoKHQuYnx8MCkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKS5jb25jYXQodm9pZCAwPT09dC5hP1wiXCI6dC5hLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLFwiMFwiKSl9dy5ub3RoaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0fTt2YXIgaz1mdW5jdGlvbigpe3JldHVybiBwKChmdW5jdGlvbiB0KCl7bCh0aGlzLHQpLHRoaXMuZXZlbnRzPXt9fSksW3trZXk6XCJvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZXZlbnRzW3RdfHwodGhpcy5ldmVudHNbdF09W10pLHRoaXMuZXZlbnRzW3RdLnB1c2goZSksdGhpcy5lbWl0KFwiZXZlbnQ6RXZlbnREaXNwYXRjaGVyLnJlZ2lzdGVyXCIsdCxlKSxlfX0se2tleTpcIm9uRXZlbnRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQubWFwKChmdW5jdGlvbih0KXt2YXIgbj10LnR5cGUscj10Lmxpc3RlbmVyO3JldHVybnt0eXBlOm4sbGlzdGVuZXI6cixjYW5jZWw6ZnVuY3Rpb24oKXtlLm9mZihuLHIpfX19KSk7cmV0dXJue3Rva2VuczpuLGNhbmNlbDpmdW5jdGlvbigpe24uZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FuY2VsKCl9KSl9fX19LHtrZXk6XCJvZmZcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuZXZlbnRzW3RdJiYodGhpcy5ldmVudHNbdF09dGhpcy5ldmVudHNbdF0uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWV9KSkpfX0se2tleTpcImVtaXRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlPjE/ZS0xOjApLHI9MTtyPGU7cisrKW5bci0xXT1hcmd1bWVudHNbcl07dGhpcy5ldmVudHNbdF0mJnRoaXMuZXZlbnRzW3RdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuYXBwbHkodm9pZCAwLG4pfSkpfX0se2tleTpcIm9uY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1mdW5jdGlvbigpe2UuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyksbi5vZmYodCxyKX07cmV0dXJuIHRoaXMub24odCxyKX19LHtrZXk6XCJhbnlcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlPjE/ZS0xOjApLHI9MTtyPGU7cisrKW5bci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIGcodGhpcyx2b2lkIDAsdm9pZCAwLHUoKS5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIHIsbyxpLGEscyxsPXRoaXM7cmV0dXJuIHUoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDp0aGlzLmV2ZW50c1t0XXx8KHRoaXMuZXZlbnRzW3RdPVtdKSxyPVtdLG89Yyh0aGlzLmV2ZW50c1t0XSk7dHJ5e2ZvcihvLnMoKTshKGk9by5uKCkpLmRvbmU7KWE9aS52YWx1ZSwocz1hLmFwcGx5KHZvaWQgMCxuKSkmJlwib2JqZWN0XCI9PT1tKHMpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBzLnRoZW4mJnIucHVzaChzKX1jYXRjaCh0KXtvLmUodCl9ZmluYWxseXtvLmYoKX1pZih0aGlzLmV2ZW50c1t0XT10aGlzLmV2ZW50c1t0XS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiFyLmluY2x1ZGVzKHQpfSkpLDAhPT1yLmxlbmd0aCl7ZS5uZXh0PTc7YnJlYWt9cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3ZhciByPWwub24oXCJldmVudDpFdmVudERpc3BhdGNoZXIucmVnaXN0ZXJcIiwoZnVuY3Rpb24obyxpKXtpZihvPT09dCl7bC5vZmYobyxyKTt2YXIgYT1udWxsPT1pP3ZvaWQgMDppLmFwcGx5KHZvaWQgMCxuKTthJiZhLnRoZW4/YS50aGVuKGUpOmUoYSl9fSkpfSkpKTtjYXNlIDc6cmV0dXJuIGUubmV4dD05LFByb21pc2UuYWxsKHIpO2Nhc2UgOTpyZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIix2b2lkIDApO2Nhc2UgMTA6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpfX0se2tleTpcImNsZWFyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cz17fX19XSl9KCk7ZnVuY3Rpb24geCgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToxLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj0obmV3IEVycm9yKS5zdGFjaztyZXR1cm4gbj9uLnNwbGl0KFwiXFxuXCIpLnNsaWNlKHQrMSwtZSkuam9pbihcIlxcblwiKS50cmltKCk6XCJcIn1mdW5jdGlvbiBBKHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSx0KX0pKX1mdW5jdGlvbiBPKHQsZSl7aWYodD09PWUpcmV0dXJuITA7aWYoXCJvYmplY3RcIiE9PW0odCl8fFwib2JqZWN0XCIhPT1tKGUpfHxudWxsPT09dHx8bnVsbD09PWUpcmV0dXJuITE7dmFyIG49T2JqZWN0LmtleXModCkscj1PYmplY3Qua2V5cyhlKTtpZihuLmxlbmd0aCE9PXIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbz0wLGk9bjtvPGkubGVuZ3RoO28rKyl7dmFyIGE9aVtvXTtpZighci5pbmNsdWRlcyhhKXx8IU8odFthXSxlW2FdKSlyZXR1cm4hMX1yZXR1cm4hMH12YXIgVD1mdW5jdGlvbigpe3JldHVybiBwKChmdW5jdGlvbiB0KGUsbil7bCh0aGlzLHQpLHRoaXMuZ2FtZT1lLHRoaXMucHJlZml4PW59KSxbe2tleTpcImxvZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZ2FtZS5jb25maWcuYXBwLmxvZ2dlci5sb2cpe2Zvcih2YXIgZSxuPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkobj4xP24tMTowKSxvPTE7bzxuO28rKylyW28tMV09YXJndW1lbnRzW29dOyhlPWNvbnNvbGUpLmxvZy5hcHBseShlLGgodGhpcy5fbG9nLmFwcGx5KHRoaXMsW3RdLmNvbmNhdChyKSkpKX19fSx7a2V5OlwiaW5mb1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZ2FtZS5jb25maWcuYXBwLmxvZ2dlci5pbmZvKXtmb3IodmFyIGUsbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksbz0xO288bjtvKyspcltvLTFdPWFyZ3VtZW50c1tvXTsoZT1jb25zb2xlKS5pbmZvLmFwcGx5KGUsaCh0aGlzLl9sb2cuYXBwbHkodGhpcyxbdF0uY29uY2F0KHIpKSkpfX19LHtrZXk6XCJ3YXJuXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5nYW1lLmNvbmZpZy5hcHAubG9nZ2VyLndhcm4pe2Zvcih2YXIgZSxuPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkobj4xP24tMTowKSxvPTE7bzxuO28rKylyW28tMV09YXJndW1lbnRzW29dOyhlPWNvbnNvbGUpLndhcm4uYXBwbHkoZSxoKHRoaXMuX2xvZy5hcHBseSh0aGlzLFt0XS5jb25jYXQocikpKSl9fX0se2tleTpcImVycm9yXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5nYW1lLmNvbmZpZy5hcHAubG9nZ2VyLmVycm9yKXtmb3IodmFyIGUsbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksbz0xO288bjtvKyspcltvLTFdPWFyZ3VtZW50c1tvXTsoZT1jb25zb2xlKS5lcnJvci5hcHBseShlLGgodGhpcy5fbG9nLmFwcGx5KHRoaXMsW3RdLmNvbmNhdChyKSkpKX19fSx7a2V5OlwiZGVidWdcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmdhbWUuY29uZmlnLmFwcC5sb2dnZXIuZGVidWcpe2Zvcih2YXIgZSxuPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkobj4xP24tMTowKSxvPTE7bzxuO28rKylyW28tMV09YXJndW1lbnRzW29dOyhlPWNvbnNvbGUpLmRlYnVnLmFwcGx5KGUsaCh0aGlzLl9sb2cuYXBwbHkodGhpcyxbdF0uY29uY2F0KHIpKSkpfX19LHtrZXk6XCJ0cmFjZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZ2FtZS5jb25maWcuYXBwLmxvZ2dlci50cmFjZSl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZT4xP2UtMTowKSxyPTE7cjxlO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO2NvbnNvbGUudHJhY2UodGhpcy5fbG9nLmFwcGx5KHRoaXMsW3RdLmNvbmNhdChuKSkpfX19LHtrZXk6XCJfbG9nXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZT4xP2UtMTowKSxyPTE7cjxlO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiAwPT09bi5sZW5ndGg/W3RoaXMucHJlZml4fHxcIlwiLHRdOltcIlwiLmNvbmNhdCh0aGlzLnByZWZpeHx8XCJcIixcIiBbXCIpLmNvbmNhdCh0LFwiXVwiKV0uY29uY2F0KG4pfX1dKX0oKSxFPWZ1bmN0aW9uKCl7cmV0dXJuIHAoKGZ1bmN0aW9uIHQoZSl7bCh0aGlzLHQpLHRoaXMuYWJvcnRIYW5kbGVyPWUsdGhpcy5ldmVudHM9bmV3IGssdGhpcy5hYm9ydGVkPSExfSksW3trZXk6XCJhYm9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWJvcnRlZHx8KHRoaXMuYWJvcnRlZD0hMCx0aGlzLnJlc3VsdD10aGlzLmFib3J0SGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cykpLHRoaXMucmVzdWx0fX0se2tleTpcImlzQWJvcnRlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWJvcnRlZH19LHtrZXk6XCJjYW5jZWxcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYWJvcnRlZD0hMH19XSl9KCk7RS5FdmVudFR5cGVzPXtcImV2ZW50OnNraXBDb250cm9sbGVyLmFib3J0XCI6XCJldmVudDpza2lwQ29udHJvbGxlci5hYm9ydFwifTt2YXIgUD1mdW5jdGlvbigpe3JldHVybiBwKChmdW5jdGlvbiB0KCl7bCh0aGlzLHQpLHRoaXMubG9ja2VkPSExLHRoaXMubGlzdGVuZXJzPVtdLHRoaXMudW5sb2NrTGlzdGVuZXJzPVtdfSksW3trZXk6XCJsb2NrXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NrZWQ9ITAsdGhpc319LHtrZXk6XCJ1bmxvY2tcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubG9ja2VkPSExO3ZhciB0LGU9Yyh0aGlzLmxpc3RlbmVycyk7dHJ5e2ZvcihlLnMoKTshKHQ9ZS5uKCkpLmRvbmU7KXsoMCx0LnZhbHVlKSgpfX1jYXRjaCh0KXtlLmUodCl9ZmluYWxseXtlLmYoKX12YXIgbixyPWModGhpcy51bmxvY2tMaXN0ZW5lcnMpO3RyeXtmb3Ioci5zKCk7IShuPXIubigpKS5kb25lOyl7KDAsbi52YWx1ZSkoKX19Y2F0Y2godCl7ci5lKHQpfWZpbmFsbHl7ci5mKCl9cmV0dXJuIHRoaXMubGlzdGVuZXJzPVtdLHRoaXN9fSx7a2V5Olwib25VbmxvY2tcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51bmxvY2tMaXN0ZW5lcnMucHVzaCh0KSx0fX0se2tleTpcIm9mZlVubG9ja1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMudW5sb2NrTGlzdGVuZXJzPXRoaXMudW5sb2NrTGlzdGVuZXJzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT10fSkpfX0se2tleTpcIm5leHRVbmxvY2tcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsdm9pZCAwLHZvaWQgMCx1KCkubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXM7cmV0dXJuIHUoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZih0aGlzLmxvY2tlZCl7dC5uZXh0PTI7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMjpyZXR1cm4gdC5hYnJ1cHQoXCJyZXR1cm5cIixuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7ZS5saXN0ZW5lcnMucHVzaCh0KX0pKSk7Y2FzZSAzOmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKX19LHtrZXk6XCJpc0xvY2tlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9ja2VkfX1dKX0oKSxqPWZ1bmN0aW9uKCl7cmV0dXJuIHAoKGZ1bmN0aW9uIHQoKXtsKHRoaXMsdCksdGhpcy5sb2Nrcz1bXX0pLFt7a2V5OlwidW5sb2NrXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQudW5sb2NrKCksdGhpcy5vZmYodCksdH19LHtrZXk6XCJyZWdpc3RlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXR8fG5ldyBQO3JldHVybiB0aGlzLmxvY2tzLnB1c2goZSksZX19LHtrZXk6XCJvZmZcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmxvY2tzPXRoaXMubG9ja3MuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXR9KSl9fSx7a2V5OlwibmV4dFVubG9ja1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyx2b2lkIDAsdm9pZCAwLHUoKS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGU7cmV0dXJuIHUoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gZT10aGlzLmxvY2tzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmV4dFVubG9jaygpfSkpLHQuYWJydXB0KFwicmV0dXJuXCIsUHJvbWlzZS5hbGwoZSkpO2Nhc2UgMjpjYXNlXCJlbmRcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSl9fSx7a2V5OlwiaXNMb2NrZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2tzLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzTG9ja2VkKCl9KSl9fV0pfSgpO2Z1bmN0aW9uIEModCl7cmV0dXJuIEM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sQyh0KX1mdW5jdGlvbiBMKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LEkoci5rZXkpLHIpfX1mdW5jdGlvbiBJKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9Qyh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1DKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09QyhlKT9lOmUrXCJcIn12YXIgTj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJkwodC5wcm90b3R5cGUsZSksbiYmTCh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKGZ1bmN0aW9uIHQoZSxuLHIpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5jYWxsZWU9ZSx0aGlzLnR5cGU9bix0aGlzLmNvbnRlbnROb2RlPXIsdGhpcy5fX3N0YWNrPXgoKSx0aGlzLl9pZD1cIlwifSksW3trZXk6XCJleGVjdXRlQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6dGhpcy50eXBlLG5vZGU6dGhpcy5jb250ZW50Tm9kZS5nZXRDaGlsZCgpfX19LHtrZXk6XCJnZXRJZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfX0se2tleTpcInNldElkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5faWQ9dH19LHtrZXk6XCJnZXRGdXR1cmVBY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRlbnROb2RlLmdldENoaWxkKCk7cmV0dXJuIHQmJnQuYWN0aW9uP1t0LmFjdGlvbl06W119fV0pfSgpO2Z1bmN0aW9uIE0odCl7cmV0dXJuIE09XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sTSh0KX1mdW5jdGlvbiBSKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LEYoci5rZXkpLHIpfX1mdW5jdGlvbiBGKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9TSh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1NKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09TShlKT9lOmUrXCJcIn1mdW5jdGlvbiBEKHQsZSxuKXtyZXR1cm4gZT1WKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PU0oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsQigpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sVih0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBCKCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oQj1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gVih0KXtyZXR1cm4gVj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sVih0KX1mdW5jdGlvbiBHKHQsZSl7cmV0dXJuIEc9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxHKHQsZSl9Ti5BY3Rpb25UeXBlcz17YWN0aW9uOlwiYWN0aW9uXCJ9O3ZhciBVPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxuLHIpe3ZhciBvO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksKG89RCh0aGlzLGUsW3QsbixyXSkpLmNhbGxlZT10LmdldFNlbGYoKSxvLmNvbnRlbnROb2RlLmFjdGlvbj1vLG99cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkcodCxlKX0oZSx0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJlIodC5wcm90b3R5cGUsZSksbiYmUih0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcInVua25vd25UeXBlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGFjdGlvbiB0eXBlOiBcIit0aGlzLnR5cGUpfX1dKX0oTik7ZnVuY3Rpb24gSCh0KXtyZXR1cm4gSD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxIKHQpfWZ1bmN0aW9uIHoodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbD09dD9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYobnVsbCE9bil7dmFyIHIsbyxpLGEscz1bXSx1PSEwLGM9ITE7dHJ5e2lmKGk9KG49bi5jYWxsKHQpKS5uZXh0LDA9PT1lKXtpZihPYmplY3QobikhPT1uKXJldHVybjt1PSExfWVsc2UgZm9yKDshKHU9KHI9aS5jYWxsKG4pKS5kb25lKSYmKHMucHVzaChyLnZhbHVlKSxzLmxlbmd0aCE9PWUpO3U9ITApO31jYXRjaCh0KXtjPSEwLG89dH1maW5hbGx5e3RyeXtpZighdSYmbnVsbCE9bi5yZXR1cm4mJihhPW4ucmV0dXJuKCksT2JqZWN0KGEpIT09YSkpcmV0dXJufWZpbmFsbHl7aWYoYyl0aHJvdyBvfX1yZXR1cm4gc319KHQsZSl8fGZ1bmN0aW9uKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIFcodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9XKHQsZSk6dm9pZCAwfX0odCxlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIFcodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uICQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsWShyLmtleSkscil9fWZ1bmN0aW9uIFkodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1IKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPUgocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1IKGUpP2U6ZStcIlwifWZ1bmN0aW9uIHEodCxlLG4pe3JldHVybiBlPVEoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09SChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxYKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxRKHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIFgoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihYPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBLKHQsZSxuLHIpe3ZhciBvPVooUSgxJnI/dC5wcm90b3R5cGU6dCksZSxuKTtyZXR1cm4gMiZyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvP2Z1bmN0aW9uKHQpe3JldHVybiBvLmFwcGx5KG4sdCl9Om99ZnVuY3Rpb24gWigpe3JldHVybiBaPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldC5iaW5kKCk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQsZSl7Zm9yKDshe30uaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9USh0KSk7KTtyZXR1cm4gdH0odCxlKTtpZihyKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsZSk7cmV0dXJuIG8uZ2V0P28uZ2V0LmNhbGwoYXJndW1lbnRzLmxlbmd0aDwzP3Q6bik6by52YWx1ZX19LFouYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIFEodCl7cmV0dXJuIFE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFEodCl9ZnVuY3Rpb24gSih0LGUpe3JldHVybiBKPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sSih0LGUpfXZhciB0dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSxxKHRoaXMsZSxhcmd1bWVudHMpfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZKKHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiYkKHQucHJvdG90eXBlLGUpLG4mJiQodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJleGVjdXRlQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49dGhpcztpZih0aGlzLnR5cGU9PT1yLnBsYXkpe2lmKGUuaW5pdFNvdW5kKHQsdGhpcy5jYWxsZWUpLCF0aGlzLmNhbGxlZS5nZXRQbGF5aW5nKCkpdGhyb3cgbmV3IEVycm9yKFwiSG93bCBpcyBub3QgaW5pdGlhbGl6ZWRcIik7aWYodGhpcy5jYWxsZWUuY29uZmlnLnN5bmMmJiF0aGlzLmNhbGxlZS5jb25maWcubG9vcCl7dmFyIG89bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpO3JldHVybiB0LnBsYXlTb3VuZCh0aGlzLmNhbGxlZSwoZnVuY3Rpb24oKXt2YXIgZTt0LnN0b3BTb3VuZChuLmNhbGxlZSksby5yZXNvbHZlKHt0eXBlOm4udHlwZSxub2RlOm51bGw9PT0oZT1uLmNvbnRlbnROb2RlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRDaGlsZCgpfSl9KSksb31yZXR1cm4gdC5wbGF5U291bmQodGhpcy5jYWxsZWUsKGZ1bmN0aW9uKCl7dC5zdG9wU291bmQobi5jYWxsZWUpfSkpLEsoZSxcImV4ZWN1dGVBY3Rpb25cIix0aGlzLDMpKFt0XSl9aWYodGhpcy50eXBlPT09ci5zdG9wKXJldHVybiB0LnN0b3BTb3VuZCh0aGlzLmNhbGxlZSksSyhlLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKTtpZih0aGlzLnR5cGU9PT1yLmZhZGUpe3ZhciBpPXoodGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KCksMSlbMF0sYT1pLnN0YXJ0LHM9aS5lbmQsdT1pLmR1cmF0aW9uO2lmKHRoaXMuY2FsbGVlLmdldFBsYXlpbmcoKSl7dmFyIGM9dm9pZCAwPT09YT90aGlzLmNhbGxlZS5nZXRQbGF5aW5nKCkudm9sdW1lKCk6YTt0aGlzLmNhbGxlZS5nZXRQbGF5aW5nKCkuZmFkZShjLHMsdSx0aGlzLmNhbGxlZS5nZXRUb2tlbigpKX1yZXR1cm4gSyhlLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKX1pZih0aGlzLnR5cGU9PT1yLnNldFZvbHVtZSl7dmFyIGw9eih0aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKSwxKVswXTtyZXR1cm4gdGhpcy5jYWxsZWUuZ2V0UGxheWluZygpJiZ0aGlzLmNhbGxlZS5nZXRQbGF5aW5nKCkudm9sdW1lKGwsdGhpcy5jYWxsZWUuZ2V0VG9rZW4oKSksSyhlLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKX1pZih0aGlzLnR5cGU9PT1yLnNldFJhdGUpe3ZhciBmPXoodGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KCksMSlbMF07cmV0dXJuIHRoaXMuY2FsbGVlLmdldFBsYXlpbmcoKSYmdGhpcy5jYWxsZWUuZ2V0UGxheWluZygpLnJhdGUoZix0aGlzLmNhbGxlZS5nZXRUb2tlbigpKSxLKGUsXCJleGVjdXRlQWN0aW9uXCIsdGhpcywzKShbdF0pfWlmKHRoaXMudHlwZT09PXIucGF1c2UpcmV0dXJuIHRoaXMuY2FsbGVlLmdldFBsYXlpbmcoKSYmdGhpcy5jYWxsZWUuZ2V0UGxheWluZygpLnBhdXNlKHRoaXMuY2FsbGVlLmdldFRva2VuKCkpLEsoZSxcImV4ZWN1dGVBY3Rpb25cIix0aGlzLDMpKFt0XSk7aWYodGhpcy50eXBlPT09ci5yZXN1bWUpcmV0dXJuIHRoaXMuY2FsbGVlLmdldFBsYXlpbmcoKSYmdGhpcy5jYWxsZWUuZ2V0UGxheWluZygpLnBsYXkodGhpcy5jYWxsZWUuZ2V0VG9rZW4oKSksSyhlLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKTt0aHJvdyBLKGUsXCJ1bmtub3duVHlwZVwiLHRoaXMsMykoW10pfX1dLFt7a2V5OlwiaW5pdFNvdW5kXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtlLmdldFBsYXlpbmcoKXx8ZS5zZXRQbGF5aW5nKG5ldyh0LmdldEhvd2woKSkoZS5nZXRIb3dsT3B0aW9ucygpKSl9fV0pfShVKTtmdW5jdGlvbiBldCh0KXtyZXR1cm4gZXQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sZXQodCl9ZnVuY3Rpb24gbnQodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbD09dD9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYobnVsbCE9bil7dmFyIHIsbyxpLGEscz1bXSx1PSEwLGM9ITE7dHJ5e2lmKGk9KG49bi5jYWxsKHQpKS5uZXh0LDA9PT1lKXtpZihPYmplY3QobikhPT1uKXJldHVybjt1PSExfWVsc2UgZm9yKDshKHU9KHI9aS5jYWxsKG4pKS5kb25lKSYmKHMucHVzaChyLnZhbHVlKSxzLmxlbmd0aCE9PWUpO3U9ITApO31jYXRjaCh0KXtjPSEwLG89dH1maW5hbGx5e3RyeXtpZighdSYmbnVsbCE9bi5yZXR1cm4mJihhPW4ucmV0dXJuKCksT2JqZWN0KGEpIT09YSkpcmV0dXJufWZpbmFsbHl7aWYoYyl0aHJvdyBvfX1yZXR1cm4gc319KHQsZSl8fGZ1bmN0aW9uKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHJ0KHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/cnQodCxlKTp2b2lkIDB9fSh0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gcnQodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIG90KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGl0KHIua2V5KSxyKX19ZnVuY3Rpb24gaXQodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1ldCh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1ldChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PWV0KGUpP2U6ZStcIlwifWZ1bmN0aW9uIGF0KHQsZSxuKXtyZXR1cm4gZT1sdChlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1ldChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxzdCgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sbHQodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gc3QoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihzdD1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gdXQodCxlLG4scil7dmFyIG89Y3QobHQoMSZyP3QucHJvdG90eXBlOnQpLGUsbik7cmV0dXJuIDImciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbz9mdW5jdGlvbih0KXtyZXR1cm4gby5hcHBseShuLHQpfTpvfWZ1bmN0aW9uIGN0KCl7cmV0dXJuIGN0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldC5iaW5kKCk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQsZSl7Zm9yKDshe30uaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9bHQodCkpOyk7cmV0dXJuIHR9KHQsZSk7aWYocil7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpO3JldHVybiBvLmdldD9vLmdldC5jYWxsKGFyZ3VtZW50cy5sZW5ndGg8Mz90Om4pOm8udmFsdWV9fSxjdC5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbHQodCl7cmV0dXJuIGx0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxsdCh0KX1mdW5jdGlvbiBmdCh0LGUpe3JldHVybiBmdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGZ0KHQsZSl9dHQuQWN0aW9uVHlwZXM9cjt2YXIgcHQsZHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbigpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsbiksYXQodGhpcyxuLGFyZ3VtZW50cyl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmZ0KHQsZSl9KG4sdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZvdCh0LnByb3RvdHlwZSxlKSxuJiZvdCh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0obixbe2tleTpcImV4ZWN1dGVBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcixvPXRoaXM7aWYodGhpcy50eXBlPT09ZS5hY3Rpb24pcmV0dXJuIHV0KG4sXCJleGVjdXRlQWN0aW9uXCIsdGhpcywzKShbdF0pO2lmKHRoaXMudHlwZT09PWUuc2V0QmFja2dyb3VuZClyZXR1cm4gdGhpcy5jYWxsZWUuc3RhdGUuYmFja2dyb3VuZD10aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKVswXSx1dChuLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKTtpZih0aGlzLnR5cGU9PT1lLnNsZWVwKXt2YXIgaT1uZXcgdygoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSksYT10aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe1wibnVtYmVyXCI9PXR5cGVvZiBhP3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dCgpfSksYSk6dy5pc0F3YWl0YWJsZShhKT9hLnRoZW4odCk6bnVsbD09YXx8YS50aGVuKHQpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aS5yZXNvbHZlKHt0eXBlOm8udHlwZSxub2RlOm8uY29udGVudE5vZGUuZ2V0Q2hpbGQoKX0pLHQuc3RhZ2UubmV4dCgpfSkpLGl9aWYodGhpcy50eXBlPT09ZS5hcHBseVRyYW5zaXRpb24pe3ZhciBzPShuZXcgdykucmVnaXN0ZXJTa2lwQ29udHJvbGxlcihuZXcgRSgoZnVuY3Rpb24oKXtyZXR1cm4gdC5sb2dnZXIuaW5mbyhcIk5hcnJhTGVhZi1SZWFjdDogQmFja2dyb3VuZCBUcmFuc2l0aW9uXCIsXCJTa2lwcGVkXCIpLHt0eXBlOm8udHlwZSxub2RlOm8uY29udGVudE5vZGUuZ2V0Q2hpbGQoKX19KSkpLHU9dGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KClbMF07cmV0dXJuIHRoaXMuY2FsbGVlLmV2ZW50cy5hbnkoXCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zaXRpb25cIix1KS50aGVuKChmdW5jdGlvbigpe3MucmVzb2x2ZSh7dHlwZTpvLnR5cGUsbm9kZTpvLmNvbnRlbnROb2RlLmdldENoaWxkKCl9KSx0LnN0YWdlLm5leHQoKX0pKSxzfWlmKHRoaXMudHlwZT09PWUuaW5pdCl7dmFyIGM9bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpO3JldHVybiBuLmhhbmRsZVNjZW5lSW5pdCh0aGlzLHQsYyl9aWYodGhpcy50eXBlPT09ZS5leGl0KXt0Lm9mZlNyY01hbmFnZXIodGhpcy5jYWxsZWUuc3JjTWFuYWdlcikucmVtb3ZlU2NlbmUodGhpcy5jYWxsZWUpO3ZhciBsPW5ldyB3KChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKTtyZXR1cm4gdGhpcy5jYWxsZWUuZXZlbnRzLm9uY2UoXCJldmVudDpzY2VuZS51bm1vdW50XCIsKGZ1bmN0aW9uKCl7bC5yZXNvbHZlKHt0eXBlOm8udHlwZSxub2RlOm8uY29udGVudE5vZGUuZ2V0Q2hpbGQoKX0pLHQuc3RhZ2UubmV4dCgpfSkpLGx9aWYodGhpcy50eXBlPT09ZS5qdW1wVG8pe3ZhciBmPXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdLHA9dGhpcy5jb250ZW50Tm9kZSxkPShudWxsPT09KHI9Zi5zY2VuZVJvb3QpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmNvbnRlbnROb2RlKXx8bnVsbDtyZXR1cm4gZCYmcC5hZGRDaGlsZChkKSx1dChuLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKX1pZih0aGlzLnR5cGU9PT1lLnNldEJhY2tncm91bmRNdXNpYyl7dmFyIGg9bnQodGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KCksMikseT1oWzBdLHY9aFsxXTtyZXR1cm4gdGhpcy5jYWxsZWUuZXZlbnRzLmVtaXQoXCJldmVudDpzY2VuZS5zZXRCYWNrZ3JvdW5kTXVzaWNcIix5LHZ8fDApLHV0KG4sXCJleGVjdXRlQWN0aW9uXCIsdGhpcywzKShbdF0pfWlmKHRoaXMudHlwZT09PWUucHJlVW5tb3VudClyZXR1cm4gdGhpcy5jYWxsZWUuZXZlbnRzLmVtaXQoXCJldmVudDpzY2VuZS5wcmVVbm1vdW50XCIpLHV0KG4sXCJleGVjdXRlQWN0aW9uXCIsdGhpcywzKShbdF0pO2lmKHRoaXMudHlwZT09PWUuYXBwbHlUcmFuc2Zvcm0pe3ZhciBtPW50KHRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpLDEpWzBdLGc9bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLnJlZ2lzdGVyU2tpcENvbnRyb2xsZXIobmV3IEUoKGZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6by50eXBlLG5vZGU6by5jb250ZW50Tm9kZS5nZXRDaGlsZCgpfX0pKSk7cmV0dXJuIHRoaXMuY2FsbGVlLmV2ZW50cy5hbnkoXCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zZm9ybVwiLG0pLnRoZW4oKGZ1bmN0aW9uKCl7Zy5yZXNvbHZlKHt0eXBlOm8udHlwZSxub2RlOm8uY29udGVudE5vZGUuZ2V0Q2hpbGQoKX0pLHQuc3RhZ2UubmV4dCgpfSkpLGd9dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBzY2VuZSBhY3Rpb24gdHlwZTogXCIrdGhpcy50eXBlKX19LHtrZXk6XCJnZXRGdXR1cmVBY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxuLHI7aWYodGhpcy50eXBlPT09ZS5qdW1wVG8pe3ZhciBvPW51bGw9PT0obj1udWxsPT09KHQ9dGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KClbMF0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNjZW5lUm9vdCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uY29udGVudE5vZGU7cmV0dXJuKG51bGw9PW8/dm9pZCAwOm8uYWN0aW9uKT9bby5hY3Rpb25dOltdfXZhciBpPW51bGw9PT0ocj10aGlzLmNvbnRlbnROb2RlLmdldENoaWxkKCkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmFjdGlvbjtyZXR1cm4gaT9baV06W119fV0sW3trZXk6XCJoYW5kbGVTY2VuZUluaXRcIix2YWx1ZTpmdW5jdGlvbih0LGUscil7cmV0dXJuIGUuaXNTY2VuZUFjdGl2ZSh0LmNhbGxlZSk/e3R5cGU6dC50eXBlLG5vZGU6dC5jb250ZW50Tm9kZS5nZXRDaGlsZCgpfTooZS5yZWdpc3RlclNyY01hbmFnZXIodC5jYWxsZWUuc3JjTWFuYWdlcikuYWRkU2NlbmUodC5jYWxsZWUpLG4ucmVnaXN0ZXJFdmVudExpc3RlbmVycyh0LmNhbGxlZSxlLChmdW5jdGlvbigpe3IucmVzb2x2ZSh7dHlwZTp0LnR5cGUsbm9kZTp0LmNvbnRlbnROb2RlLmdldENoaWxkKCl9KSxlLnN0YWdlLm5leHQoKX0pKSxyKX19LHtrZXk6XCJyZWdpc3RlckV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3QuZXZlbnRzLm9uY2UoXCJldmVudDpzY2VuZS51bm1vdW50XCIsKGZ1bmN0aW9uKCl7ZS5vZmZTcmNNYW5hZ2VyKHQuc3JjTWFuYWdlcil9KSksdC5ldmVudHMub25jZShcImV2ZW50OnNjZW5lLm1vdW50XCIsKGZ1bmN0aW9uKCl7dC5zdGF0ZS5iYWNrZ3JvdW5kTXVzaWMmJih0dC5pbml0U291bmQoZSx0LnN0YXRlLmJhY2tncm91bmRNdXNpYyksdC5ldmVudHMuZW1pdChcImV2ZW50OnNjZW5lLnNldEJhY2tncm91bmRNdXNpY1wiLHQuc3RhdGUuYmFja2dyb3VuZE11c2ljLHQuY29uZmlnLmJhY2tncm91bmRNdXNpY0ZhZGUpKX0pKSx0LmV2ZW50cy5hbnkoXCJldmVudDpkaXNwbGF5YWJsZS5pbml0XCIpLnRoZW4oKGZ1bmN0aW9uKCl7biYmbigpfSkpfX1dKX0oVSk7ZnVuY3Rpb24gaHQodCl7cmV0dXJuIGh0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGh0KHQpfWZ1bmN0aW9uIHl0KHQsZSxuKXtyZXR1cm4gZT1tdChlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1odChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCx2dCgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sbXQodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gdnQoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybih2dD1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gbXQodCl7cmV0dXJuIG10PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxtdCh0KX1mdW5jdGlvbiBndCh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZidCh0LGUpfWZ1bmN0aW9uIGJ0KHQsZSl7cmV0dXJuIGJ0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sYnQodCxlKX1mdW5jdGlvbiB3dCh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3QodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsa3Qoci5rZXkpLHIpfX1mdW5jdGlvbiBTdCh0LGUsbil7cmV0dXJuIGUmJl90KHQucHJvdG90eXBlLGUpLG4mJl90KHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fWZ1bmN0aW9uIGt0KHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9aHQodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9aHQocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1odChlKT9lOmUrXCJcIn1kdC5BY3Rpb25UeXBlcz1lLGZ1bmN0aW9uKHQpe3QuVHJlZU5vZGU9XCJUcmVlTm9kZVwiLHQuQ29udGVudE5vZGU9XCJDb250ZW50Tm9kZVwifShwdHx8KHB0PXt9KSk7dmFyIHh0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxuLHIpe3ZhciBvO3JldHVybiB3dCh0aGlzLGUpLChvPXl0KHRoaXMsZSxbcHQuQ29udGVudE5vZGVdKSkuY2hpbGQ9cnx8bnVsbCxvLnBhcmVudD1ufHxudWxsLG8uYWN0aW9uPXR8fG51bGwsb31yZXR1cm4gZ3QoZSx0KSxTdChlLFt7a2V5Olwic2V0UGFyZW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodD09PXRoaXMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNldCBwYXJlbnQgdG8gaXRzZWxmXCIpO3JldHVybiB0aGlzLnBhcmVudD10LHRoaXN9fSx7a2V5Olwic2V0Q2hpbGRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0PT09dGhpcyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc2V0IGNoaWxkIHRvIGl0c2VsZlwiKTtyZXR1cm4gdGhpcy5jaGlsZD10LHQmJnQucGFyZW50IT09dGhpcyYmdC5yZW1vdmUoKS5zZXRQYXJlbnQodGhpcyksdGhpc319LHtrZXk6XCJnZXRDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGR8fG51bGx9fSx7a2V5OlwiZ2V0UGFyZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnR8fG51bGx9fSx7a2V5OlwiYWRkQ2hpbGRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRDaGlsZCh0KSx0aGlzfX0se2tleTpcInJlbW92ZUNoaWxkXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuY2hpbGQ9PT10Pyh0aGlzLmNoaWxkPW51bGwsdC5zZXRQYXJlbnQobnVsbCkpOnR8fCh0aGlzLmNoaWxkPW51bGwpLHRoaXN9fSx7a2V5OlwicmVtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMucGFyZW50KXx8dm9pZCAwPT09dHx8dC5yZW1vdmVDaGlsZCh0aGlzKSx0aGlzfX0se2tleTpcImhhc0NoaWxkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuY2hpbGR9fV0sW3trZXk6XCJmb3JFYWNoUGFyZW50XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bmV3IFNldCxyPXQ7ciYmIW4uaGFzKHIpOyluLmFkZChyKSxlKHIpLHI9ci5nZXRQYXJlbnQoKX19LHtrZXk6XCJmb3JFYWNoQ2hpbGRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1uZXcgU2V0LHI9dDtyJiYhbi5oYXMocik7KW4uYWRkKHIpLGUocikscj1yLmdldENoaWxkKCl9fV0pfShmdW5jdGlvbigpe3JldHVybiBTdCgoZnVuY3Rpb24gdChlKXt3dCh0aGlzLHQpLHRoaXMudHlwZT1lLHRoaXMuY29udGVudD12b2lkIDB9KSxbe2tleTpcInNldENvbnRlbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZW50PXQsdGhpc319LHtrZXk6XCJnZXRDb250ZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50fX1dKX0oKSk7ZnVuY3Rpb24gQXQodCl7cmV0dXJuIEF0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEF0KHQpfWZ1bmN0aW9uIE90KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFR0KHIua2V5KSxyKX19ZnVuY3Rpb24gVHQodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1BdCh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1BdChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PUF0KGUpP2U6ZStcIlwifXZhciBFdD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJk90KHQucHJvdG90eXBlLGUpLG4mJk90KHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgoZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5pZD1cIlwifSksW3trZXk6XCJzZXRJZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuaWQ9dH19LHtrZXk6XCJnZXRJZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR9fSx7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJmcm9tRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzfX0se2tleTpcImNvbnN0cnVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07MCE9PW4mJihudWxsPT09KGU9dFtuLTFdKXx8dm9pZCAwPT09ZXx8ZS5jb250ZW50Tm9kZS5zZXRDaGlsZChyLmNvbnRlbnROb2RlKSl9cmV0dXJuIHR9fV0pfSgpO2Z1bmN0aW9uIFB0KHQpe3JldHVybiBQdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxQdCh0KX1mdW5jdGlvbiBqdCh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gTnQodCl9KHQpfHxmdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT10W1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPXRbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8SXQodCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gQ3QodCxlKXt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KHQpfHwobj1JdCh0KSl8fGUmJnQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aCl7biYmKHQ9bik7dmFyIHI9MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpvLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49dC5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOnRbcisrXX19LGU6ZnVuY3Rpb24odCl7dGhyb3cgdH0sZjpvfX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIGksYT0hMCxzPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwodCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1uLm5leHQoKTtyZXR1cm4gYT10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXtzPSEwLGk9dH0sZjpmdW5jdGlvbigpe3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgaX19fX1mdW5jdGlvbiBMdCh0LGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fSh0KXx8ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsPT10P251bGw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZihudWxsIT1uKXt2YXIgcixvLGksYSxzPVtdLHU9ITAsYz0hMTt0cnl7aWYoaT0obj1uLmNhbGwodCkpLm5leHQsMD09PWUpe2lmKE9iamVjdChuKSE9PW4pcmV0dXJuO3U9ITF9ZWxzZSBmb3IoOyEodT0ocj1pLmNhbGwobikpLmRvbmUpJiYocy5wdXNoKHIudmFsdWUpLHMubGVuZ3RoIT09ZSk7dT0hMCk7fWNhdGNoKHQpe2M9ITAsbz10fWZpbmFsbHl7dHJ5e2lmKCF1JiZudWxsIT1uLnJldHVybiYmKGE9bi5yZXR1cm4oKSxPYmplY3QoYSkhPT1hKSlyZXR1cm59ZmluYWxseXtpZihjKXRocm93IG99fXJldHVybiBzfX0odCxlKXx8SXQodCxlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIEl0KHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIE50KHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/TnQodCxlKTp2b2lkIDB9fWZ1bmN0aW9uIE50KHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBNdCgpey8qISByZWdlbmVyYXRvci1ydW50aW1lIC0tIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLiAtLSBsaWNlbnNlIChNSVQpOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL0xJQ0VOU0UgKi9NdD1mdW5jdGlvbigpe3JldHVybiBlfTt2YXIgdCxlPXt9LG49T2JqZWN0LnByb3RvdHlwZSxyPW4uaGFzT3duUHJvcGVydHksbz1PYmplY3QuZGVmaW5lUHJvcGVydHl8fGZ1bmN0aW9uKHQsZSxuKXt0W2VdPW4udmFsdWV9LGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxhPWkuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLHM9aS5hc3luY0l0ZXJhdG9yfHxcIkBAYXN5bmNJdGVyYXRvclwiLHU9aS50b1N0cmluZ1RhZ3x8XCJAQHRvU3RyaW5nVGFnXCI7ZnVuY3Rpb24gYyh0LGUsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSx0W2VdfXRyeXtjKHt9LFwiXCIpfWNhdGNoKHQpe2M9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW59fWZ1bmN0aW9uIGwodCxlLG4scil7dmFyIGk9ZSYmZS5wcm90b3R5cGUgaW5zdGFuY2VvZiBtP2U6bSxhPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLHM9bmV3IGoocnx8W10pO3JldHVybiBvKGEsXCJfaW52b2tlXCIse3ZhbHVlOk8odCxuLHMpfSksYX1mdW5jdGlvbiBmKHQsZSxuKXt0cnl7cmV0dXJue3R5cGU6XCJub3JtYWxcIixhcmc6dC5jYWxsKGUsbil9fWNhdGNoKHQpe3JldHVybnt0eXBlOlwidGhyb3dcIixhcmc6dH19fWUud3JhcD1sO3ZhciBwPVwic3VzcGVuZGVkU3RhcnRcIixkPVwic3VzcGVuZGVkWWllbGRcIixoPVwiZXhlY3V0aW5nXCIseT1cImNvbXBsZXRlZFwiLHY9e307ZnVuY3Rpb24gbSgpe31mdW5jdGlvbiBnKCl7fWZ1bmN0aW9uIGIoKXt9dmFyIHc9e307Yyh3LGEsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIF89T2JqZWN0LmdldFByb3RvdHlwZU9mLFM9XyYmXyhfKEMoW10pKSk7UyYmUyE9PW4mJnIuY2FsbChTLGEpJiYodz1TKTt2YXIgaz1iLnByb3RvdHlwZT1tLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpO2Z1bmN0aW9uIHgodCl7W1wibmV4dFwiLFwidGhyb3dcIixcInJldHVyblwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtjKHQsZSwoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ludm9rZShlLHQpfSkpfSkpfWZ1bmN0aW9uIEEodCxlKXtmdW5jdGlvbiBuKG8saSxhLHMpe3ZhciB1PWYodFtvXSx0LGkpO2lmKFwidGhyb3dcIiE9PXUudHlwZSl7dmFyIGM9dS5hcmcsbD1jLnZhbHVlO3JldHVybiBsJiZcIm9iamVjdFwiPT1QdChsKSYmci5jYWxsKGwsXCJfX2F3YWl0XCIpP2UucmVzb2x2ZShsLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKHQpe24oXCJuZXh0XCIsdCxhLHMpfSksKGZ1bmN0aW9uKHQpe24oXCJ0aHJvd1wiLHQsYSxzKX0pKTplLnJlc29sdmUobCkudGhlbigoZnVuY3Rpb24odCl7Yy52YWx1ZT10LGEoYyl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIG4oXCJ0aHJvd1wiLHQsYSxzKX0pKX1zKHUuYXJnKX12YXIgaTtvKHRoaXMsXCJfaW52b2tlXCIse3ZhbHVlOmZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gbygpe3JldHVybiBuZXcgZSgoZnVuY3Rpb24oZSxvKXtuKHQscixlLG8pfSkpfXJldHVybiBpPWk/aS50aGVuKG8sbyk6bygpfX0pfWZ1bmN0aW9uIE8oZSxuLHIpe3ZhciBvPXA7cmV0dXJuIGZ1bmN0aW9uKGksYSl7aWYobz09PWgpdGhyb3cgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2lmKG89PT15KXtpZihcInRocm93XCI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgcz1yLmRlbGVnYXRlO2lmKHMpe3ZhciB1PVQocyxyKTtpZih1KXtpZih1PT09diljb250aW51ZTtyZXR1cm4gdX19aWYoXCJuZXh0XCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKFwidGhyb3dcIj09PXIubWV0aG9kKXtpZihvPT09cCl0aHJvdyBvPXksci5hcmc7ci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZyl9ZWxzZVwicmV0dXJuXCI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoXCJyZXR1cm5cIixyLmFyZyk7bz1oO3ZhciBjPWYoZSxuLHIpO2lmKFwibm9ybWFsXCI9PT1jLnR5cGUpe2lmKG89ci5kb25lP3k6ZCxjLmFyZz09PXYpY29udGludWU7cmV0dXJue3ZhbHVlOmMuYXJnLGRvbmU6ci5kb25lfX1cInRocm93XCI9PT1jLnR5cGUmJihvPXksci5tZXRob2Q9XCJ0aHJvd1wiLHIuYXJnPWMuYXJnKX19fWZ1bmN0aW9uIFQoZSxuKXt2YXIgcj1uLm1ldGhvZCxvPWUuaXRlcmF0b3Jbcl07aWYobz09PXQpcmV0dXJuIG4uZGVsZWdhdGU9bnVsbCxcInRocm93XCI9PT1yJiZlLml0ZXJhdG9yLnJldHVybiYmKG4ubWV0aG9kPVwicmV0dXJuXCIsbi5hcmc9dCxUKGUsbiksXCJ0aHJvd1wiPT09bi5tZXRob2QpfHxcInJldHVyblwiIT09ciYmKG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIrcitcIicgbWV0aG9kXCIpKSx2O3ZhciBpPWYobyxlLml0ZXJhdG9yLG4uYXJnKTtpZihcInRocm93XCI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1pLmFyZyxuLmRlbGVnYXRlPW51bGwsdjt2YXIgYT1pLmFyZztyZXR1cm4gYT9hLmRvbmU/KG5bZS5yZXN1bHROYW1lXT1hLnZhbHVlLG4ubmV4dD1lLm5leHRMb2MsXCJyZXR1cm5cIiE9PW4ubWV0aG9kJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9dCksbi5kZWxlZ2F0ZT1udWxsLHYpOmE6KG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksbi5kZWxlZ2F0ZT1udWxsLHYpfWZ1bmN0aW9uIEUodCl7dmFyIGU9e3RyeUxvYzp0WzBdfTsxIGluIHQmJihlLmNhdGNoTG9jPXRbMV0pLDIgaW4gdCYmKGUuZmluYWxseUxvYz10WzJdLGUuYWZ0ZXJMb2M9dFszXSksdGhpcy50cnlFbnRyaWVzLnB1c2goZSl9ZnVuY3Rpb24gUCh0KXt2YXIgZT10LmNvbXBsZXRpb258fHt9O2UudHlwZT1cIm5vcm1hbFwiLGRlbGV0ZSBlLmFyZyx0LmNvbXBsZXRpb249ZX1mdW5jdGlvbiBqKHQpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzpcInJvb3RcIn1dLHQuZm9yRWFjaChFLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIEMoZSl7aWYoZXx8XCJcIj09PWUpe3ZhciBuPWVbYV07aWYobilyZXR1cm4gbi5jYWxsKGUpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUubmV4dClyZXR1cm4gZTtpZighaXNOYU4oZS5sZW5ndGgpKXt2YXIgbz0tMSxpPWZ1bmN0aW9uIG4oKXtmb3IoOysrbzxlLmxlbmd0aDspaWYoci5jYWxsKGUsbykpcmV0dXJuIG4udmFsdWU9ZVtvXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT10LG4uZG9uZT0hMCxufTtyZXR1cm4gaS5uZXh0PWl9fXRocm93IG5ldyBUeXBlRXJyb3IoUHQoZSkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpfXJldHVybiBnLnByb3RvdHlwZT1iLG8oayxcImNvbnN0cnVjdG9yXCIse3ZhbHVlOmIsY29uZmlndXJhYmxlOiEwfSksbyhiLFwiY29uc3RydWN0b3JcIix7dmFsdWU6Zyxjb25maWd1cmFibGU6ITB9KSxnLmRpc3BsYXlOYW1lPWMoYix1LFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksZS5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFlJiYoZT09PWd8fFwiR2VuZXJhdG9yRnVuY3Rpb25cIj09PShlLmRpc3BsYXlOYW1lfHxlLm5hbWUpKX0sZS5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsYik6KHQuX19wcm90b19fPWIsYyh0LHUsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrKSx0fSxlLmF3cmFwPWZ1bmN0aW9uKHQpe3JldHVybntfX2F3YWl0OnR9fSx4KEEucHJvdG90eXBlKSxjKEEucHJvdG90eXBlLHMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksZS5Bc3luY0l0ZXJhdG9yPUEsZS5hc3luYz1mdW5jdGlvbih0LG4scixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBBKGwodCxuLHIsbyksaSk7cmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRvbmU/dC52YWx1ZTphLm5leHQoKX0pKX0seChrKSxjKGssdSxcIkdlbmVyYXRvclwiKSxjKGssYSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxjKGssXCJ0b1N0cmluZ1wiLChmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBHZW5lcmF0b3JdXCJ9KSksZS5rZXlzPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdCh0KSxuPVtdO2Zvcih2YXIgciBpbiBlKW4ucHVzaChyKTtyZXR1cm4gbi5yZXZlcnNlKCksZnVuY3Rpb24gdCgpe2Zvcig7bi5sZW5ndGg7KXt2YXIgcj1uLnBvcCgpO2lmKHIgaW4gZSlyZXR1cm4gdC52YWx1ZT1yLHQuZG9uZT0hMSx0fXJldHVybiB0LmRvbmU9ITAsdH19LGUudmFsdWVzPUMsai5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmoscmVzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9dCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goUCksIWUpZm9yKHZhciBuIGluIHRoaXMpXCJ0XCI9PT1uLmNoYXJBdCgwKSYmci5jYWxsKHRoaXMsbikmJiFpc05hTigrbi5zbGljZSgxKSkmJih0aGlzW25dPXQpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciB0PXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLmRvbmUpdGhyb3cgZTt2YXIgbj10aGlzO2Z1bmN0aW9uIG8ocixvKXtyZXR1cm4gcy50eXBlPVwidGhyb3dcIixzLmFyZz1lLG4ubmV4dD1yLG8mJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz10KSwhIW99Zm9yKHZhciBpPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtpPj0wOy0taSl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW2ldLHM9YS5jb21wbGV0aW9uO2lmKFwicm9vdFwiPT09YS50cnlMb2MpcmV0dXJuIG8oXCJlbmRcIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIHU9ci5jYWxsKGEsXCJjYXRjaExvY1wiKSxjPXIuY2FsbChhLFwiZmluYWxseUxvY1wiKTtpZih1JiZjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9ZWxzZSBpZih1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCFjKXRocm93IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gbyhhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgbz10aGlzLnRyeUVudHJpZXNbbl07aWYoby50cnlMb2M8PXRoaXMucHJldiYmci5jYWxsKG8sXCJmaW5hbGx5TG9jXCIpJiZ0aGlzLnByZXY8by5maW5hbGx5TG9jKXt2YXIgaT1vO2JyZWFrfX1pJiYoXCJicmVha1wiPT09dHx8XCJjb250aW51ZVwiPT09dCkmJmkudHJ5TG9jPD1lJiZlPD1pLmZpbmFsbHlMb2MmJihpPW51bGwpO3ZhciBhPWk/aS5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9dCxhLmFyZz1lLGk/KHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMubmV4dD1pLmZpbmFsbHlMb2Msdik6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24odCxlKXtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuXCJicmVha1wiPT09dC50eXBlfHxcImNvbnRpbnVlXCI9PT10LnR5cGU/dGhpcy5uZXh0PXQuYXJnOlwicmV0dXJuXCI9PT10LnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz10LmFyZyx0aGlzLm1ldGhvZD1cInJldHVyblwiLHRoaXMubmV4dD1cImVuZFwiKTpcIm5vcm1hbFwiPT09dC50eXBlJiZlJiYodGhpcy5uZXh0PWUpLHZ9LGZpbmlzaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi5maW5hbGx5TG9jPT09dClyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksUChuKSx2fX0sY2F0Y2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4udHJ5TG9jPT09dCl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXIudHlwZSl7dmFyIG89ci5hcmc7UChuKX1yZXR1cm4gb319dGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpDKGUpLHJlc3VsdE5hbWU6bixuZXh0TG9jOnJ9LFwibmV4dFwiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz10KSx2fX0sZX1mdW5jdGlvbiBSdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxGdChyLmtleSkscil9fWZ1bmN0aW9uIEZ0KHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9UHQodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9UHQocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1QdChlKT9lOmUrXCJcIn1mdW5jdGlvbiBEdCh0LGUsbil7cmV0dXJuIGU9VXQoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09UHQoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsQnQoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLFV0KHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIEJ0KCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oQnQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIFZ0KHQsZSxuLHIpe3ZhciBvPUd0KFV0KDEmcj90LnByb3RvdHlwZTp0KSxlLG4pO3JldHVybiAyJnImJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8/ZnVuY3Rpb24odCl7cmV0dXJuIG8uYXBwbHkobix0KX06b31mdW5jdGlvbiBHdCgpe3JldHVybiBHdD1cInVuZGVmaW5lZFwiIT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5nZXQ/UmVmbGVjdC5nZXQuYmluZCgpOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1mdW5jdGlvbih0LGUpe2Zvcig7IXt9Lmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbnVsbCE9PSh0PVV0KHQpKTspO3JldHVybiB0fSh0LGUpO2lmKHIpe3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixlKTtyZXR1cm4gby5nZXQ/by5nZXQuY2FsbChhcmd1bWVudHMubGVuZ3RoPDM/dDpuKTpvLnZhbHVlfX0sR3QuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIFV0KHQpe3JldHVybiBVdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sVXQodCl9ZnVuY3Rpb24gSHQodCxlKXtyZXR1cm4gSHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxIdCh0LGUpfXZhciB6dCxXdD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiBhKHQpe3RyeXt1KHIubmV4dCh0KSl9Y2F0Y2godCl7aSh0KX19ZnVuY3Rpb24gcyh0KXt0cnl7dShyLnRocm93KHQpKX1jYXRjaCh0KXtpKHQpfX1mdW5jdGlvbiB1KHQpe3ZhciBlO3QuZG9uZT9vKHQudmFsdWUpOihlPXQudmFsdWUsZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbigoZnVuY3Rpb24odCl7dChlKX0pKSkudGhlbihhLHMpfXUoKHI9ci5hcHBseSh0LGV8fFtdKSkubmV4dCgpKX0pKX0sJHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksRHQodGhpcyxlLGFyZ3VtZW50cyl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkh0KHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZSdCh0LnByb3RvdHlwZSxlKSxuJiZSdCh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcImV4ZWN1dGVBbGxBY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gV3QodGhpcyx2b2lkIDAsdm9pZCAwLE10KCkubWFyaygoZnVuY3Rpb24gbigpe3ZhciByLG8saTtyZXR1cm4gTXQoKS53cmFwKChmdW5jdGlvbihuKXtmb3IoOzspc3dpdGNoKG4ucHJldj1uLm5leHQpe2Nhc2UgMDpyPSExLG89ZSxpPU10KCkubWFyaygoZnVuY3Rpb24gZSgpe3ZhciBuLHIsaTtyZXR1cm4gTXQoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihuPXQuZ2FtZS5nZXRMaXZlR2FtZSgpLmV4ZWN1dGVBY3Rpb24odCxvKSx0LmxvZ2dlci5kZWJ1ZyhcIkNvbnRyb2wgLSBOZXh0IEFjdGlvblwiLG4pLG4pe2UubmV4dD00O2JyZWFrfXJldHVybiBlLmFicnVwdChcInJldHVyblwiLDApO2Nhc2UgNDppZighdy5pc0F3YWl0YWJsZShuKSl7ZS5uZXh0PTE2O2JyZWFrfXJldHVybiBlLm5leHQ9NyxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7bi50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gdChuLnJlc3VsdCl9KSl9KSk7Y2FzZSA3OmlmKHI9ZS5zZW50LCEoaT1yLm5vZGUpKXtlLm5leHQ9MTM7YnJlYWt9bz1pLmFjdGlvbixlLm5leHQ9MTQ7YnJlYWs7Y2FzZSAxMzpyZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIiwwKTtjYXNlIDE0OmUubmV4dD0xNzticmVhaztjYXNlIDE2Om89bjtjYXNlIDE3OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKTtjYXNlIDM6aWYocnx8IW8pe24ubmV4dD0xMDticmVha31yZXR1cm4gbi5kZWxlZ2F0ZVlpZWxkKGkoKSxcInQwXCIsNSk7Y2FzZSA1OmlmKDAhPT1uLnQwKXtuLm5leHQ9ODticmVha31yZXR1cm4gbi5hYnJ1cHQoXCJicmVha1wiLDEwKTtjYXNlIDg6bi5uZXh0PTM7YnJlYWs7Y2FzZSAxMDpjYXNlXCJlbmRcIjpyZXR1cm4gbi5zdG9wKCl9fSksbil9KSkpfX0se2tleTpcImV4ZWN1dGVTaW5nbGVBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBXdCh0aGlzLHZvaWQgMCx2b2lkIDAsTXQoKS5tYXJrKChmdW5jdGlvbiBuKCl7dmFyIHIsbyxpO3JldHVybiBNdCgpLndyYXAoKGZ1bmN0aW9uKG4pe2Zvcig7Oylzd2l0Y2gobi5wcmV2PW4ubmV4dCl7Y2FzZSAwOmlmKHI9dC5nYW1lLmdldExpdmVHYW1lKCkuZXhlY3V0ZUFjdGlvbih0LGUpLCF3LmlzQXdhaXRhYmxlKHIpKXtuLm5leHQ9OTticmVha31yZXR1cm4gbi5uZXh0PTQsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3IudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIHQoci5yZXN1bHQpfSkpfSkpO2Nhc2UgNDpyZXR1cm4gbz1uLnNlbnQsaT1vLm5vZGUsbi5hYnJ1cHQoXCJyZXR1cm5cIixpKTtjYXNlIDk6cmV0dXJuIG4uYWJydXB0KFwicmV0dXJuXCIscik7Y2FzZSAxMDpjYXNlXCJlbmRcIjpyZXR1cm4gbi5zdG9wKCl9fSksbil9KSkpfX0se2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0LG4scil7dmFyIG89dGhpcztyZXR1cm4gci5sZW5ndGg+MD8odGhpcy5leGVjdXRlQWxsQWN0aW9ucyh0LHJbMF0pLnRoZW4oKGZ1bmN0aW9uKCl7bi5yZXNvbHZlKHt0eXBlOm8udHlwZSxub2RlOm8uY29udGVudE5vZGUuZ2V0Q2hpbGQoKX0pLHQuc3RhZ2UubmV4dCgpfSkpLG4pOlZ0KGUsXCJleGVjdXRlQWN0aW9uXCIsdGhpcywzKShbdF0pfX0se2tleTpcImV4ZWN1dGVBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10aGlzLHI9THQodGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KCksMSlbMF07aWYodGhpcy50eXBlPT09YS5kbyl7dmFyIG89bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpO3JldHVybiB0aGlzLmV4ZWN1dGUodCxvLHIpfWlmKHRoaXMudHlwZT09PWEuZG9Bc3luYylyZXR1cm4gV3Qobix2b2lkIDAsdm9pZCAwLE10KCkubWFyaygoZnVuY3Rpb24gZSgpe3JldHVybiBNdCgpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKCEoci5sZW5ndGg+MCkpe2UubmV4dD0zO2JyZWFrfXJldHVybiBlLm5leHQ9Myx0aGlzLmV4ZWN1dGVBbGxBY3Rpb25zKHQsclswXSk7Y2FzZSAzOmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxWdChlLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKTtpZih0aGlzLnR5cGU9PT1hLmFueSl7dmFyIGk9bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLHM9ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmV4ZWN1dGVTaW5nbGVBY3Rpb24odCxlKX0pKTtyZXR1cm4gUHJvbWlzZS5hbnkocykudGhlbigoZnVuY3Rpb24oKXtpLnJlc29sdmUoe3R5cGU6bi50eXBlLG5vZGU6bi5jb250ZW50Tm9kZS5nZXRDaGlsZCgpfSksdC5zdGFnZS5uZXh0KCl9KSksaX1pZih0aGlzLnR5cGU9PT1hLmFsbCl7dmFyIHU9bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpO3JldHVybiBXdChuLHZvaWQgMCx2b2lkIDAsTXQoKS5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIG49dGhpcztyZXR1cm4gTXQoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsUHJvbWlzZS5hbGwoci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmV4ZWN1dGVTaW5nbGVBY3Rpb24odCxlKX0pKSk7Y2FzZSAyOnUucmVzb2x2ZSh7dHlwZTp0aGlzLnR5cGUsbm9kZTp0aGlzLmNvbnRlbnROb2RlLmdldENoaWxkKCl9KSx0LnN0YWdlLm5leHQoKTtjYXNlIDQ6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLHV9aWYodGhpcy50eXBlPT09YS5hbGxBc3luYylyZXR1cm4gV3Qobix2b2lkIDAsdm9pZCAwLE10KCkubWFyaygoZnVuY3Rpb24gZSgpe3ZhciBuLG8saTtyZXR1cm4gTXQoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpuPUN0KHIpO3RyeXtmb3Iobi5zKCk7IShvPW4ubigpKS5kb25lOylpPW8udmFsdWUsdGhpcy5leGVjdXRlU2luZ2xlQWN0aW9uKHQsaSkudGhlbigoZnVuY3Rpb24odCl7fSkpfWNhdGNoKHQpe24uZSh0KX1maW5hbGx5e24uZigpfWNhc2UgMjpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksVnQoZSxcImV4ZWN1dGVBY3Rpb25cIix0aGlzLDMpKFt0XSk7aWYodGhpcy50eXBlPT09YS5yZXBlYXQpe3ZhciBjPUx0KHRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpLDIpLGw9Y1swXSxmPWNbMV0scD1uZXcgdygoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSk7cmV0dXJuIFd0KG4sdm9pZCAwLHZvaWQgMCxNdCgpLm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgbjtyZXR1cm4gTXQoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpuPTA7Y2FzZSAxOmlmKCEobjxmKSl7ZS5uZXh0PTg7YnJlYWt9aWYoIShsLmxlbmd0aD4wKSl7ZS5uZXh0PTU7YnJlYWt9cmV0dXJuIGUubmV4dD01LHRoaXMuZXhlY3V0ZUFsbEFjdGlvbnModCxsWzBdKTtjYXNlIDU6bisrLGUubmV4dD0xO2JyZWFrO2Nhc2UgODpwLnJlc29sdmUoe3R5cGU6dGhpcy50eXBlLG5vZGU6dGhpcy5jb250ZW50Tm9kZS5nZXRDaGlsZCgpfSksdC5zdGFnZS5uZXh0KCk7Y2FzZSAxMDpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSkscH1pZih0aGlzLnR5cGU9PT1hLnNsZWVwKXt2YXIgZD1uZXcgdygoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSksaD1MdCh0aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKSwyKVsxXTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe1wibnVtYmVyXCI9PXR5cGVvZiBoP3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dCgpfSksaCk6dy5pc0F3YWl0YWJsZShoKT9oLnRoZW4odCk6bnVsbD09aHx8aC50aGVuKHQpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7ZC5yZXNvbHZlKHt0eXBlOm4udHlwZSxub2RlOm4uY29udGVudE5vZGUuZ2V0Q2hpbGQoKX0pLHQuc3RhZ2UubmV4dCgpfSkpLGR9dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb250cm9sIGFjdGlvbiB0eXBlOiBcIit0aGlzLnR5cGUpfX0se2tleTpcImdldEZ1dHVyZUFjdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdLG49VnQoZSxcImdldEZ1dHVyZUFjdGlvbnNcIix0aGlzLDMpKFtdKTtyZXR1cm5bXS5jb25jYXQoanQodCksanQobikpfX1dKX0oVSk7ZnVuY3Rpb24gWXQodCl7cmV0dXJuIFl0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFl0KHQpfWZ1bmN0aW9uIHF0KHQpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBYdCh0KX0odCl8fGZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPXRbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9dFtcIkBAaXRlcmF0b3JcIl0pcmV0dXJuIEFycmF5LmZyb20odCl9KHQpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBYdCh0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP1h0KHQsZSk6dm9pZCAwfX0odCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gWHQodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIEt0KHQsZSxuKXtyZXR1cm4gZT1RdChlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1ZdChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxadCgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sUXQodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gWnQoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihadD1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gUXQodCl7cmV0dXJuIFF0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxRdCh0KX1mdW5jdGlvbiBKdCh0LGUpe3JldHVybiBKdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEp0KHQsZSl9ZnVuY3Rpb24gdGUodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGVlKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHJlKHIua2V5KSxyKX19ZnVuY3Rpb24gbmUodCxlLG4pe3JldHVybiBlJiZlZSh0LnByb3RvdHlwZSxlKSxuJiZlZSh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH1mdW5jdGlvbiByZSh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPVl0KHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPVl0KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09WXQoZSk/ZTplK1wiXCJ9JHQuQWN0aW9uVHlwZXM9YTt2YXIgb2U9U3ltYm9sKFwiX0NoYWluZWRcIiksaWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3RlKHRoaXMsdCksdGhpc1t6dF09ITAsdGhpcy5fX2FjdGlvbnM9W10sdGhpcy5fX3NlbGY9ZX1yZXR1cm4gbmUodCxbe2tleTpcInB1c2hcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0Oyh0PXRoaXMuX19hY3Rpb25zKS5wdXNoLmFwcGx5KHQsYXJndW1lbnRzKX19LHtrZXk6XCJnZXRBY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2FjdGlvbnN9fSx7a2V5OlwiZ2V0U2VsZlwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19zZWxmfX0se2tleTpcIm5ld0NoYWluXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTZWxmKCkuY2hhaW4oKX19XSxbe2tleTpcImlzQ2hhaW5lZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0W29lXX19LHtrZXk6XCJ0b0FjdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5mbGF0KDIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaXNDaGFpbmVkKGUpP2UuZnJvbUNoYWluZWQoZSk6ZX0pKS5mbGF0KDMpfX1dKX0oKTt6dD1vZTt2YXIgYWU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB0ZSh0aGlzLGUpLEt0KHRoaXMsZSxhcmd1bWVudHMpfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZKdCh0LGUpfShlLHQpLG5lKGUsW3trZXk6XCJjaGFpblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWllLmlzQ2hhaW5lZCh0aGlzKT90aGlzOnRoaXMucHJveHkodGhpcyxuZXcgaWUodGhpcykpO2lmKCF0KXJldHVybiBlO3ZhciBuPUFycmF5LmlzQXJyYXkodCk/dDpbdF07cmV0dXJuIGUucHVzaC5hcHBseShlLHF0KG4pKSxlfX0se2tleTpcInByb3h5XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgUHJveHkodCx7Z2V0OmZ1bmN0aW9uKHQscil7aWYociBpbiBlKXJldHVybiBlW3JdO3ZhciBvPXRbcl07cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbz9vLmJpbmQobik6b30sc2V0OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1uLCEwfX0pO3JldHVybiBufX0se2tleTpcImNvbWJpbmVBY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lKHRoaXMuY2hhaW4oKS5uZXdDaGFpbigpKSxyPW5ldyAkdCh0LmNoYWluKCksJHQuQWN0aW9uVHlwZXMuZG8sKG5ldyB4dCkuc2V0Q29udGVudChbdGhpcy5jb25zdHJ1Y3QoaWUudG9BY3Rpb25zKFtuXSkpXSkpO3JldHVybiB0aGlzLmNoYWluKHIpfX1dKX0oRXQpO2Z1bmN0aW9uIHNlKHQpe3JldHVybiBzZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxzZSh0KX1mdW5jdGlvbiB1ZSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxjZShyLmtleSkscil9fWZ1bmN0aW9uIGNlKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9c2UodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9c2UocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1zZShlKT9lOmUrXCJcIn1mdW5jdGlvbiBsZSh0LGUsbil7cmV0dXJuIGU9cGUoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09c2UoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsZmUoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLHBlKHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIGZlKCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oZmU9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIHBlKHQpe3JldHVybiBwZT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0scGUodCl9ZnVuY3Rpb24gZGUodCxlKXtyZXR1cm4gZGU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxkZSh0LGUpfXZhciBoZSx5ZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSxsZSh0aGlzLGUpfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZkZSh0LGUpfShlLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmdWUodC5wcm90b3R5cGUsZSksbiYmdWUodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJ0b0RhdGFcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsfX0se2tleTpcImZyb21DaGFpbmVkXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0QWN0aW9ucygpfX1dKX0oYWUpLHZlPVwiY2VudGVyXCIsbWU9XCJsZWZ0XCIsZ2U9XCJyaWdodFwiO2Z1bmN0aW9uIGJlKHQpe3JldHVybiBiZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxiZSh0KX1mdW5jdGlvbiB3ZSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX2UodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQseGUoci5rZXkpLHIpfX1mdW5jdGlvbiBTZSh0LGUsbil7cmV0dXJuIGUmJl9lKHQucHJvdG90eXBlLGUpLG4mJl9lKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fWZ1bmN0aW9uIGtlKHQsZSxuKXtyZXR1cm4oZT14ZShlKSlpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH1mdW5jdGlvbiB4ZSh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPWJlKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPWJlKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09YmUoZSk/ZTplK1wiXCJ9IWZ1bmN0aW9uKHQpe3QuTGVmdD1cImxlZnRcIix0LkNlbnRlcj1cImNlbnRlclwiLHQuUmlnaHQ9XCJyaWdodFwifShoZXx8KGhlPXt9KSk7dmFyIEFlPWtlKGtlKGtlKHt9LGhlLkxlZnQsXCIzMy4zMyVcIiksaGUuQ2VudGVyLFwiNTAlXCIpLGhlLlJpZ2h0LFwiNjYuNjYlXCIpLE9lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3dlKHRoaXMsdCl9cmV0dXJuIFNlKHQsbnVsbCxbe2tleTpcImlzVW5rbm93blwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09dC5Vbmtub3dufX0se2tleTpcIndyYXBcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmFzc2lnbih7bGVmdDpcImF1dG9cIix0b3A6XCJhdXRvXCIscmlnaHQ6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wifSx0KX19LHtrZXk6XCJEMlBvc2l0aW9uVG9DU1NcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxyPXRoaXMuY2FsYyh0LnksdC55b2Zmc2V0KSxvPXRoaXMuY2FsYyh0LngsdC54b2Zmc2V0KSxpPW4/e2JvdHRvbTpyfTp7dG9wOnJ9LGE9ZT97cmlnaHQ6b306e2xlZnQ6b307cmV0dXJuIHRoaXMud3JhcChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30saSksYSkpfX0se2tleTpcImNhbGNcIix2YWx1ZTpmdW5jdGlvbihlLG4pe2lmKCFlfHx0LmlzVW5rbm93bihlKSlyZXR1cm5cImF1dG9cIjtpZih2b2lkIDA9PT1ufHx0LmlzVW5rbm93bihuKSlyZXR1cm5cImNhbGMoXCIuY29uY2F0KGUsXCIgKyAwcHgpXCIpO3ZhciByPVwibnVtYmVyXCI9PXR5cGVvZiBlP1wiXCIuY29uY2F0KGUsXCJweFwiKTplO3JldHVyblwiY2FsYyhcIi5jb25jYXQocixcIiArIChcIikuY29uY2F0KG4sXCJweCkpXCIpfX0se2tleTpcInRvQ29vcmQyRFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKFRlLmlzQ29tbW9uUG9zaXRpb25UeXBlKHQpKXJldHVybiBFZS5mcm9tQ29tbW9uUG9zaXRpb24odCk7aWYoRWUuaXNDb29yZDJEUG9zaXRpb24odCkpcmV0dXJuIHQ7aWYoUGUuaXNBbGlnblBvc2l0aW9uKHQpKXJldHVybiBFZS5mcm9tQWxpZ25Qb3NpdGlvbih0KTtpZihcIm9iamVjdFwiPT09YmUodCkmJltcInhcIixcInlcIixcInhvZmZzZXRcIixcInlvZmZzZXRcIl0uc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW4gdH0pKSlyZXR1cm4gbmV3IEVlKHQpO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgcG9zaXRpb24gdHlwZVwiKX19LHtrZXk6XCJvclVua25vd25cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdC5pc1Vua25vd24oZSl8fHZvaWQgMD09PWU/dC5Vbmtub3duOmV9fSx7a2V5OlwibWVyZ2VQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy50b0Nvb3JkMkQodCkscj10aGlzLnRvQ29vcmQyRChlKTtyZXR1cm4gRWUubWVyZ2UobixyKX19LHtrZXk6XCJzZXJpYWxpemVQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMudG9Db29yZDJEKGUpO3JldHVybnt4OnQuaXNVbmtub3duKG4ueCk/MDpuLngseTp0LmlzVW5rbm93bihuLnkpPzA6bi55LHhvZmZzZXQ6dC5pc1Vua25vd24obi54b2Zmc2V0KT8wOm4ueG9mZnNldCx5b2Zmc2V0OnQuaXNVbmtub3duKG4ueW9mZnNldCk/MDpuLnlvZmZzZXR9fX0se2tleTpcImlzUmF3Q29tbW9uUG9zaXRpb25UeXBlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC52YWx1ZXMoaGUpLmluY2x1ZGVzKHQpfX0se2tleTpcImlzUmF3Q29vcmQyRFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJvYmplY3RcIj09PWJlKHQpJiYoXCJ4XCJpbiB0fHxcInlcImluIHR8fFwieG9mZnNldFwiaW4gdHx8XCJ5b2Zmc2V0XCJpbiB0KX19LHtrZXk6XCJpc1Jhd0FsaWduUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT09YmUodCkmJihcInhhbGlnblwiaW4gdHx8XCJ5YWxpZ25cImluIHR8fFwieG9mZnNldFwiaW4gdHx8XCJ5b2Zmc2V0XCJpbiB0KX19LHtrZXk6XCJpc1Jhd1Bvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXNSYXdDb21tb25Qb3NpdGlvblR5cGUodCl8fHRoaXMuaXNSYXdDb29yZDJEUG9zaXRpb24odCl8fHRoaXMuaXNSYXdBbGlnblBvc2l0aW9uKHQpfX0se2tleTpcImlzUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFRlfHx0IGluc3RhbmNlb2YgRWV8fHQgaW5zdGFuY2VvZiBQZX19LHtrZXk6XCJyYXdQb3NpdGlvblRvQ29vcmQyRFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNSYXdDb21tb25Qb3NpdGlvblR5cGUodCkpcmV0dXJuIEVlLmZyb21Db21tb25Qb3NpdGlvbihuZXcgVGUodCkpO2lmKHRoaXMuaXNSYXdDb29yZDJEUG9zaXRpb24odCkpcmV0dXJuIG5ldyBFZSh0KTtpZih0aGlzLmlzUmF3QWxpZ25Qb3NpdGlvbih0KSlyZXR1cm4gRWUuZnJvbUFsaWduUG9zaXRpb24odCk7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwb3NpdGlvbiB0eXBlXCIpfX0se2tleTpcInRyeVBhcnNlUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmlzUG9zaXRpb24odCkpcmV0dXJuIHQ7aWYodGhpcy5pc1Jhd1Bvc2l0aW9uKHQpKXJldHVybiB0aGlzLnJhd1Bvc2l0aW9uVG9Db29yZDJEKHQpO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgcG9zaXRpb24gdHlwZVwiKX19XSl9KCk7T2UuVW5rbm93bj1TeW1ib2woXCJVbmtub3duXCIpO3ZhciBUZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7d2UodGhpcyx0KSx0aGlzLnBvc2l0aW9uPWV9cmV0dXJuIFNlKHQsW3trZXk6XCJ0b0NTU1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3g6QWVbdGhpcy5wb3NpdGlvbl0seTpcIjUwJVwiLHhvZmZzZXQ6MCx5b2Zmc2V0OjB9fX1dLFt7a2V5OlwiaXNDb21tb25Qb3NpdGlvblR5cGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHR9fV0pfSgpO1RlLlBvc2l0aW9ucz1oZTt2YXIgRWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7d2UodGhpcyx0KSxcIm9iamVjdFwiPT09YmUoZSk/KHRoaXMueD1PZS5vclVua25vd24oZS54KSx0aGlzLnk9T2Uub3JVbmtub3duKGUueSksdGhpcy54b2Zmc2V0PU9lLm9yVW5rbm93bihlLnhvZmZzZXQpLHRoaXMueW9mZnNldD1PZS5vclVua25vd24oZS55b2Zmc2V0KSk6KHRoaXMueD1PZS5vclVua25vd24oZSksdGhpcy55PU9lLm9yVW5rbm93bihuKSx0aGlzLnhvZmZzZXQ9T2UuVW5rbm93bix0aGlzLnlvZmZzZXQ9T2UuVW5rbm93bil9cmV0dXJuIFNlKHQsW3trZXk6XCJ0b0NTU1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3g6dGhpcy54LHk6dGhpcy55LHhvZmZzZXQ6dGhpcy54b2Zmc2V0LHlvZmZzZXQ6dGhpcy55b2Zmc2V0fX19XSxbe2tleTpcImlzQ29vcmQyRFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0fX0se2tleTpcImZyb21Db21tb25Qb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdCh7eDpBZVtlLnBvc2l0aW9uXSx5OlwiNTAlXCJ9KX19LHtrZXk6XCJmcm9tQWxpZ25Qb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdCh7eDpPZS5pc1Vua25vd24oZS54YWxpZ24pP09lLlVua25vd246XCJcIi5jb25jYXQoMTAwKmUueGFsaWduLFwiJVwiKSx5Ok9lLmlzVW5rbm93bihlLnlhbGlnbik/T2UuVW5rbm93bjpcIlwiLmNvbmNhdCgxMDAqZS55YWxpZ24sXCIlXCIpLHhvZmZzZXQ6ZS54b2Zmc2V0LHlvZmZzZXQ6ZS55b2Zmc2V0fSl9fSx7a2V5OlwibWVyZ2VcIix2YWx1ZTpmdW5jdGlvbihlLG4pe3JldHVybiBuZXcgdCh7eDpPZS5pc1Vua25vd24obi54KT9lLng6bi54LHk6T2UuaXNVbmtub3duKG4ueSk/ZS55Om4ueSx4b2Zmc2V0Ok9lLmlzVW5rbm93bihuLnhvZmZzZXQpP2UueG9mZnNldDpuLnhvZmZzZXQseW9mZnNldDpPZS5pc1Vua25vd24obi55b2Zmc2V0KT9lLnlvZmZzZXQ6bi55b2Zmc2V0fSl9fV0pfSgpLFBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3dlKHRoaXMsdCksXCJvYmplY3RcIj09PWJlKGUpPyh0aGlzLnhhbGlnbj1PZS5vclVua25vd24oZS54YWxpZ24pLHRoaXMueWFsaWduPU9lLm9yVW5rbm93bihlLnlhbGlnbiksdGhpcy54b2Zmc2V0PU9lLm9yVW5rbm93bihlLnhvZmZzZXQpLHRoaXMueW9mZnNldD1PZS5vclVua25vd24oZS55b2Zmc2V0KSk6KHRoaXMueGFsaWduPU9lLm9yVW5rbm93bihlKSx0aGlzLnlhbGlnbj1PZS5vclVua25vd24obiksdGhpcy54b2Zmc2V0PU9lLlVua25vd24sdGhpcy55b2Zmc2V0PU9lLlVua25vd24pfXJldHVybiBTZSh0LFt7a2V5OlwidG9DU1NcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybnt4Ok9lLmlzVW5rbm93bih0aGlzLnhhbGlnbik/dGhpcy54YWxpZ246XCJcIi5jb25jYXQoMTAwKnRoaXMueGFsaWduLFwiJVwiKSx5Ok9lLmlzVW5rbm93bih0aGlzLnlhbGlnbik/dGhpcy55YWxpZ246XCJcIi5jb25jYXQoMTAwKnRoaXMueWFsaWduLFwiJVwiKSx4b2Zmc2V0OnRoaXMueG9mZnNldCx5b2Zmc2V0OnRoaXMueW9mZnNldH19fV0sW3trZXk6XCJpc0FsaWduUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHR9fV0pfSgpO2Z1bmN0aW9uIGplKHQpe2xldCBlO3JldHVybigpPT4odm9pZCAwPT09ZSYmKGU9dCgpKSxlKX1jb25zdCBDZT1qZSgoKCk9PnZvaWQgMCE9PXdpbmRvdy5TY3JvbGxUaW1lbGluZSkpO2NsYXNzIExle2NvbnN0cnVjdG9yKHQpe3RoaXMuc3RvcD0oKT0+dGhpcy5ydW5BbGwoXCJzdG9wXCIpLHRoaXMuYW5pbWF0aW9ucz10LmZpbHRlcihCb29sZWFuKX10aGVuKHQsZSl7cmV0dXJuIFByb21pc2UuYWxsKHRoaXMuYW5pbWF0aW9ucykudGhlbih0KS5jYXRjaChlKX1nZXRBbGwodCl7cmV0dXJuIHRoaXMuYW5pbWF0aW9uc1swXVt0XX1zZXRBbGwodCxlKXtmb3IobGV0IG49MDtuPHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7bisrKXRoaXMuYW5pbWF0aW9uc1tuXVt0XT1lfWF0dGFjaFRpbWVsaW5lKHQsZSl7Y29uc3Qgbj10aGlzLmFuaW1hdGlvbnMubWFwKChuPT5DZSgpJiZuLmF0dGFjaFRpbWVsaW5lP24uYXR0YWNoVGltZWxpbmUodCk6ZShuKSkpO3JldHVybigpPT57bi5mb3JFYWNoKCgodCxlKT0+e3QmJnQoKSx0aGlzLmFuaW1hdGlvbnNbZV0uc3RvcCgpfSkpfX1nZXQgdGltZSgpe3JldHVybiB0aGlzLmdldEFsbChcInRpbWVcIil9c2V0IHRpbWUodCl7dGhpcy5zZXRBbGwoXCJ0aW1lXCIsdCl9Z2V0IHNwZWVkKCl7cmV0dXJuIHRoaXMuZ2V0QWxsKFwic3BlZWRcIil9c2V0IHNwZWVkKHQpe3RoaXMuc2V0QWxsKFwic3BlZWRcIix0KX1nZXQgc3RhcnRUaW1lKCl7cmV0dXJuIHRoaXMuZ2V0QWxsKFwic3RhcnRUaW1lXCIpfWdldCBkdXJhdGlvbigpe2xldCB0PTA7Zm9yKGxldCBlPTA7ZTx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO2UrKyl0PU1hdGgubWF4KHQsdGhpcy5hbmltYXRpb25zW2VdLmR1cmF0aW9uKTtyZXR1cm4gdH1ydW5BbGwodCl7dGhpcy5hbmltYXRpb25zLmZvckVhY2goKGU9PmVbdF0oKSkpfXBsYXkoKXt0aGlzLnJ1bkFsbChcInBsYXlcIil9cGF1c2UoKXt0aGlzLnJ1bkFsbChcInBhdXNlXCIpfWNhbmNlbCgpe3RoaXMucnVuQWxsKFwiY2FuY2VsXCIpfWNvbXBsZXRlKCl7dGhpcy5ydW5BbGwoXCJjb21wbGV0ZVwiKX19Y29uc3QgSWU9dD0+MWUzKnQsTmU9dD0+dC8xZTM7ZnVuY3Rpb24gTWUodCxlKXtyZXR1cm4gZT90KigxZTMvZSk6MH1jb25zdCBSZT01O2Z1bmN0aW9uIEZlKHQsZSxuKXtjb25zdCByPU1hdGgubWF4KGUtUmUsMCk7cmV0dXJuIE1lKG4tdChyKSxlLXIpfWNvbnN0IERlPXQ9PnQ7bGV0IEJlPURlLFZlPURlO2NvbnN0IEdlPSh0LGUsbik9Pm4+ZT9lOm48dD90Om4sVWU9LjAwMSxIZT0uMDEsemU9MTAsV2U9LjA1LCRlPTE7ZnVuY3Rpb24gWWUoe2R1cmF0aW9uOnQ9ODAwLGJvdW5jZTplPS4yNSx2ZWxvY2l0eTpuPTAsbWFzczpyPTF9KXtsZXQgbyxpO0JlKHQ8PUllKHplKSxcIlNwcmluZyBkdXJhdGlvbiBtdXN0IGJlIDEwIHNlY29uZHMgb3IgbGVzc1wiKTtsZXQgYT0xLWU7YT1HZShXZSwkZSxhKSx0PUdlKEhlLHplLE5lKHQpKSxhPDE/KG89ZT0+e2NvbnN0IHI9ZSphLG89cip0LGk9ci1uLHM9WGUoZSxhKSx1PU1hdGguZXhwKC1vKTtyZXR1cm4gVWUtaS9zKnV9LGk9ZT0+e2NvbnN0IHI9ZSphKnQsaT1yKm4rbixzPU1hdGgucG93KGEsMikqTWF0aC5wb3coZSwyKSp0LHU9TWF0aC5leHAoLXIpLGM9WGUoTWF0aC5wb3coZSwyKSxhKTtyZXR1cm4oLW8oZSkrVWU+MD8tMToxKSooKGktcykqdSkvY30pOihvPWU9Pk1hdGguZXhwKC1lKnQpKigoZS1uKSp0KzEpLVVlLGk9ZT0+TWF0aC5leHAoLWUqdCkqKHQqdCoobi1lKSkpO2NvbnN0IHM9ZnVuY3Rpb24odCxlLG4pe2xldCByPW47Zm9yKGxldCBuPTE7bjxxZTtuKyspci09dChyKS9lKHIpO3JldHVybiByfShvLGksNS90KTtpZih0PUllKHQpLGlzTmFOKHMpKXJldHVybntzdGlmZm5lc3M6MTAwLGRhbXBpbmc6MTAsZHVyYXRpb246dH07e2NvbnN0IGU9TWF0aC5wb3cocywyKSpyO3JldHVybntzdGlmZm5lc3M6ZSxkYW1waW5nOjIqYSpNYXRoLnNxcnQociplKSxkdXJhdGlvbjp0fX19Y29uc3QgcWU9MTI7ZnVuY3Rpb24gWGUodCxlKXtyZXR1cm4gdCpNYXRoLnNxcnQoMS1lKmUpfWNvbnN0IEtlPVtcImR1cmF0aW9uXCIsXCJib3VuY2VcIl0sWmU9W1wic3RpZmZuZXNzXCIsXCJkYW1waW5nXCIsXCJtYXNzXCJdO2Z1bmN0aW9uIFFlKHQsZSl7cmV0dXJuIGUuc29tZSgoZT0+dm9pZCAwIT09dFtlXSkpfWZ1bmN0aW9uIEplKHtrZXlmcmFtZXM6dCxyZXN0RGVsdGE6ZSxyZXN0U3BlZWQ6biwuLi5yfSl7Y29uc3Qgbz10WzBdLGk9dFt0Lmxlbmd0aC0xXSxhPXtkb25lOiExLHZhbHVlOm99LHtzdGlmZm5lc3M6cyxkYW1waW5nOnUsbWFzczpjLGR1cmF0aW9uOmwsdmVsb2NpdHk6Zixpc1Jlc29sdmVkRnJvbUR1cmF0aW9uOnB9PWZ1bmN0aW9uKHQpe2xldCBlPXt2ZWxvY2l0eTowLHN0aWZmbmVzczoxMDAsZGFtcGluZzoxMCxtYXNzOjEsaXNSZXNvbHZlZEZyb21EdXJhdGlvbjohMSwuLi50fTtpZighUWUodCxaZSkmJlFlKHQsS2UpKXtjb25zdCBuPVllKHQpO2U9ey4uLmUsLi4ubixtYXNzOjF9LGUuaXNSZXNvbHZlZEZyb21EdXJhdGlvbj0hMH1yZXR1cm4gZX0oey4uLnIsdmVsb2NpdHk6LU5lKHIudmVsb2NpdHl8fDApfSksZD1mfHwwLGg9dS8oMipNYXRoLnNxcnQocypjKSkseT1pLW8sdj1OZShNYXRoLnNxcnQocy9jKSksbT1NYXRoLmFicyh5KTw1O2xldCBnO2lmKG58fChuPW0/LjAxOjIpLGV8fChlPW0/LjAwNTouNSksaDwxKXtjb25zdCB0PVhlKHYsaCk7Zz1lPT57Y29uc3Qgbj1NYXRoLmV4cCgtaCp2KmUpO3JldHVybiBpLW4qKChkK2gqdip5KS90Kk1hdGguc2luKHQqZSkreSpNYXRoLmNvcyh0KmUpKX19ZWxzZSBpZigxPT09aClnPXQ9PmktTWF0aC5leHAoLXYqdCkqKHkrKGQrdip5KSp0KTtlbHNle2NvbnN0IHQ9dipNYXRoLnNxcnQoaCpoLTEpO2c9ZT0+e2NvbnN0IG49TWF0aC5leHAoLWgqdiplKSxyPU1hdGgubWluKHQqZSwzMDApO3JldHVybiBpLW4qKChkK2gqdip5KSpNYXRoLnNpbmgocikrdCp5Kk1hdGguY29zaChyKSkvdH19cmV0dXJue2NhbGN1bGF0ZWREdXJhdGlvbjpwJiZsfHxudWxsLG5leHQ6dD0+e2NvbnN0IHI9Zyh0KTtpZihwKWEuZG9uZT10Pj1sO2Vsc2V7bGV0IG89MDtoPDEmJihvPTA9PT10P0llKGQpOkZlKGcsdCxyKSk7Y29uc3Qgcz1NYXRoLmFicyhvKTw9bix1PU1hdGguYWJzKGktcik8PWU7YS5kb25lPXMmJnV9cmV0dXJuIGEudmFsdWU9YS5kb25lP2k6cixhfX19Y29uc3QgdG49MmU0O2Z1bmN0aW9uIGVuKHQpe2xldCBlPTA7bGV0IG49dC5uZXh0KGUpO2Zvcig7IW4uZG9uZSYmZTx0bjspZSs9NTAsbj10Lm5leHQoZSk7cmV0dXJuIGU+PXRuPzEvMDplfWZ1bmN0aW9uIG5uKHQsZT0xMDAsbil7Y29uc3Qgcj1uKHsuLi50LGtleWZyYW1lczpbMCxlXX0pLG89TWF0aC5taW4oZW4ociksdG4pO3JldHVybnt0eXBlOlwia2V5ZnJhbWVzXCIsZWFzZTp0PT5yLm5leHQobyp0KS52YWx1ZS9lLGR1cmF0aW9uOk5lKG8pfX1jb25zdCBybj0odCxlLG4pPT50KyhlLXQpKm4sb249KHQsZSxuKT0+e2NvbnN0IHI9ZS10O3JldHVybiAwPT09cj8xOihuLXQpL3J9O2Z1bmN0aW9uIGFuKHQsZSl7Y29uc3Qgbj10W3QubGVuZ3RoLTFdO2ZvcihsZXQgcj0xO3I8PWU7cisrKXtjb25zdCBvPW9uKDAsZSxyKTt0LnB1c2gocm4obiwxLG8pKX19ZnVuY3Rpb24gc24odCl7Y29uc3QgZT1bMF07cmV0dXJuIGFuKGUsdC5sZW5ndGgtMSksZX1jb25zdCB1bj10PT5Cb29sZWFuKHQmJnQuZ2V0VmVsb2NpdHkpO2Z1bmN0aW9uIGNuKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0JiYhQXJyYXkuaXNBcnJheSh0KX1mdW5jdGlvbiBsbih0LGUsbixyKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmY24oZSk/ZnVuY3Rpb24odCxlLG4pe3ZhciByO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtsZXQgbz1kb2N1bWVudDtlJiYoVmUoQm9vbGVhbihlLmN1cnJlbnQpLFwiU2NvcGUgcHJvdmlkZWQsIGJ1dCBubyBlbGVtZW50IGRldGVjdGVkLlwiKSxvPWUuY3VycmVudCksbj8obnVsbCE9PShyPW5bdF0pJiZ2b2lkIDAhPT1yfHwoblt0XT1vLnF1ZXJ5U2VsZWN0b3JBbGwodCkpLHQ9blt0XSk6dD1vLnF1ZXJ5U2VsZWN0b3JBbGwodCl9ZWxzZSB0IGluc3RhbmNlb2YgRWxlbWVudCYmKHQ9W3RdKTtyZXR1cm4gQXJyYXkuZnJvbSh0fHxbXSl9KHQsbixyKTp0IGluc3RhbmNlb2YgTm9kZUxpc3Q/QXJyYXkuZnJvbSh0KTpBcnJheS5pc0FycmF5KHQpP3Q6W3RdfWZ1bmN0aW9uIGZuKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR9ZnVuY3Rpb24gcG4odCxlLG4scil7dmFyIG87cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGU/ZTplLnN0YXJ0c1dpdGgoXCItXCIpfHxlLnN0YXJ0c1dpdGgoXCIrXCIpP01hdGgubWF4KDAsdCtwYXJzZUZsb2F0KGUpKTpcIjxcIj09PWU/bjpudWxsIT09KG89ci5nZXQoZSkpJiZ2b2lkIDAhPT1vP286dH1jb25zdCBkbj0odCxlLG4pPT57Y29uc3Qgcj1lLXQ7cmV0dXJuKChuLXQpJXIrciklcit0fSxobj10PT5BcnJheS5pc0FycmF5KHQpJiZcIm51bWJlclwiIT10eXBlb2YgdFswXTtmdW5jdGlvbiB5bih0LGUpe3JldHVybiBobih0KT90W2RuKDAsdC5sZW5ndGgsZSldOnR9ZnVuY3Rpb24gdm4odCxlKXtjb25zdCBuPXQuaW5kZXhPZihlKTtuPi0xJiZ0LnNwbGljZShuLDEpfWZ1bmN0aW9uIG1uKHQsZSxuLHIsbyxpKXshZnVuY3Rpb24odCxlLG4pe2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBvPXRbcl07by5hdD5lJiZvLmF0PG4mJih2bih0LG8pLHItLSl9fSh0LG8saSk7Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspdC5wdXNoKHt2YWx1ZTplW2FdLGF0OnJuKG8saSxyW2FdKSxlYXNpbmc6eW4obixhKX0pfWZ1bmN0aW9uIGduKHQsZSl7cmV0dXJuIHQuYXQ9PT1lLmF0P251bGw9PT10LnZhbHVlPzE6bnVsbD09PWUudmFsdWU/LTE6MDp0LmF0LWUuYXR9Y29uc3QgYm49XCJlYXNlSW5PdXRcIjtmdW5jdGlvbiB3bih0LGUpe3JldHVybiFlLmhhcyh0KSYmZS5zZXQodCx7fSksZS5nZXQodCl9ZnVuY3Rpb24gX24odCxlKXtyZXR1cm4gZVt0XXx8KGVbdF09W10pLGVbdF19ZnVuY3Rpb24gU24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dDpbdF19ZnVuY3Rpb24ga24odCxlKXtyZXR1cm4gdCYmdFtlXT97Li4udCwuLi50W2VdfTp7Li4udH19Y29uc3QgeG49dD0+XCJudW1iZXJcIj09dHlwZW9mIHQsQW49dD0+dC5ldmVyeSh4biksT249bmV3IFdlYWtNYXAsVG49W1widHJhbnNmb3JtUGVyc3BlY3RpdmVcIixcInhcIixcInlcIixcInpcIixcInRyYW5zbGF0ZVhcIixcInRyYW5zbGF0ZVlcIixcInRyYW5zbGF0ZVpcIixcInNjYWxlXCIsXCJzY2FsZVhcIixcInNjYWxlWVwiLFwicm90YXRlXCIsXCJyb3RhdGVYXCIsXCJyb3RhdGVZXCIsXCJyb3RhdGVaXCIsXCJza2V3XCIsXCJza2V3WFwiLFwic2tld1lcIl0sRW49bmV3IFNldChUbiksUG49e3R5cGU6XCJzcHJpbmdcIixzdGlmZm5lc3M6NTAwLGRhbXBpbmc6MjUscmVzdFNwZWVkOjEwfSxqbj17dHlwZTpcImtleWZyYW1lc1wiLGR1cmF0aW9uOi44fSxDbj17dHlwZTpcImtleWZyYW1lc1wiLGVhc2U6Wy4yNSwuMSwuMzUsMV0sZHVyYXRpb246LjN9LExuPSh0LHtrZXlmcmFtZXM6ZX0pPT5lLmxlbmd0aD4yP2puOkVuLmhhcyh0KT90LnN0YXJ0c1dpdGgoXCJzY2FsZVwiKT97dHlwZTpcInNwcmluZ1wiLHN0aWZmbmVzczo1NTAsZGFtcGluZzowPT09ZVsxXT8yKk1hdGguc3FydCg1NTApOjMwLHJlc3RTcGVlZDoxMH06UG46Q247ZnVuY3Rpb24gSW4odCxlKXtyZXR1cm4gdD90W2VdfHx0LmRlZmF1bHR8fHQ6dm9pZCAwfWNvbnN0IE5uPSExLE1uPSExLFJuPSExLEZuPXQ9Pm51bGwhPT10O2Z1bmN0aW9uIERuKHQse3JlcGVhdDplLHJlcGVhdFR5cGU6bj1cImxvb3BcIn0scil7Y29uc3Qgbz10LmZpbHRlcihGbiksaT1lJiZcImxvb3BcIiE9PW4mJmUlMj09MT8wOm8ubGVuZ3RoLTE7cmV0dXJuIGkmJnZvaWQgMCE9PXI/cjpvW2ldfWNvbnN0IEJuPVtcInJlYWRcIixcInJlc29sdmVLZXlmcmFtZXNcIixcInVwZGF0ZVwiLFwicHJlUmVuZGVyXCIsXCJyZW5kZXJcIixcInBvc3RSZW5kZXJcIl07ZnVuY3Rpb24gVm4odCxlKXtsZXQgbj0hMSxyPSEwO2NvbnN0IG89e2RlbHRhOjAsdGltZXN0YW1wOjAsaXNQcm9jZXNzaW5nOiExfSxpPSgpPT5uPSEwLGE9Qm4ucmVkdWNlKCgodCxlKT0+KHRbZV09ZnVuY3Rpb24odCl7bGV0IGU9bmV3IFNldCxuPW5ldyBTZXQscj0hMSxvPSExO2NvbnN0IGk9bmV3IFdlYWtTZXQ7bGV0IGE9e2RlbHRhOjAsdGltZXN0YW1wOjAsaXNQcm9jZXNzaW5nOiExfTtmdW5jdGlvbiBzKGUpe2kuaGFzKGUpJiYodS5zY2hlZHVsZShlKSx0KCkpLGUoYSl9Y29uc3QgdT17c2NoZWR1bGU6KHQsbz0hMSxhPSExKT0+e2NvbnN0IHM9YSYmcj9lOm47cmV0dXJuIG8mJmkuYWRkKHQpLHMuaGFzKHQpfHxzLmFkZCh0KSx0fSxjYW5jZWw6dD0+e24uZGVsZXRlKHQpLGkuZGVsZXRlKHQpfSxwcm9jZXNzOnQ9PnthPXQscj9vPSEwOihyPSEwLFtlLG5dPVtuLGVdLG4uY2xlYXIoKSxlLmZvckVhY2gocykscj0hMSxvJiYobz0hMSx1LnByb2Nlc3ModCkpKX19O3JldHVybiB1fShpKSx0KSkse30pLHtyZWFkOnMscmVzb2x2ZUtleWZyYW1lczp1LHVwZGF0ZTpjLHByZVJlbmRlcjpsLHJlbmRlcjpmLHBvc3RSZW5kZXI6cH09YSxkPSgpPT57Y29uc3QgaT1Nbj9vLnRpbWVzdGFtcDpwZXJmb3JtYW5jZS5ub3coKTtuPSExLG8uZGVsdGE9cj8xZTMvNjA6TWF0aC5tYXgoTWF0aC5taW4oaS1vLnRpbWVzdGFtcCw0MCksMSksby50aW1lc3RhbXA9aSxvLmlzUHJvY2Vzc2luZz0hMCxzLnByb2Nlc3MobyksdS5wcm9jZXNzKG8pLGMucHJvY2VzcyhvKSxsLnByb2Nlc3MobyksZi5wcm9jZXNzKG8pLHAucHJvY2VzcyhvKSxvLmlzUHJvY2Vzc2luZz0hMSxuJiZlJiYocj0hMSx0KGQpKX07cmV0dXJue3NjaGVkdWxlOkJuLnJlZHVjZSgoKGUsaSk9Pntjb25zdCBzPWFbaV07cmV0dXJuIGVbaV09KGUsaT0hMSxhPSExKT0+KG58fChuPSEwLHI9ITAsby5pc1Byb2Nlc3Npbmd8fHQoZCkpLHMuc2NoZWR1bGUoZSxpLGEpKSxlfSkse30pLGNhbmNlbDp0PT57Zm9yKGxldCBlPTA7ZTxCbi5sZW5ndGg7ZSsrKWFbQm5bZV1dLmNhbmNlbCh0KX0sc3RhdGU6byxzdGVwczphfX1jb25zdHtzY2hlZHVsZTpHbixjYW5jZWw6VW4sc3RhdGU6SG4sc3RlcHM6em59PVZuKFwidW5kZWZpbmVkXCIhPXR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWU/cmVxdWVzdEFuaW1hdGlvbkZyYW1lOkRlLCEwKSxXbj0odCxlLG4pPT4oKCgxLTMqbiszKmUpKnQrKDMqbi02KmUpKSp0KzMqZSkqdCwkbj0xZS03LFluPTEyO2Z1bmN0aW9uIHFuKHQsZSxuLHIpe2lmKHQ9PT1lJiZuPT09cilyZXR1cm4gRGU7Y29uc3Qgbz1lPT5mdW5jdGlvbih0LGUsbixyLG8pe2xldCBpLGEscz0wO2Rve2E9ZSsobi1lKS8yLGk9V24oYSxyLG8pLXQsaT4wP249YTplPWF9d2hpbGUoTWF0aC5hYnMoaSk+JG4mJisrczxZbik7cmV0dXJuIGF9KGUsMCwxLHQsbik7cmV0dXJuIHQ9PjA9PT10fHwxPT09dD90OlduKG8odCksZSxyKX1jb25zdCBYbj10PT5lPT5lPD0uNT90KDIqZSkvMjooMi10KDIqKDEtZSkpKS8yLEtuPXQ9PmU9PjEtdCgxLWUpLFpuPXFuKC4zMywxLjUzLC42OSwuOTkpLFFuPUtuKFpuKSxKbj1YbihRbiksdHI9dD0+KHQqPTIpPDE/LjUqUW4odCk6LjUqKDItTWF0aC5wb3coMiwtMTAqKHQtMSkpKSxlcj10PT4xLU1hdGguc2luKE1hdGguYWNvcyh0KSksbnI9S24oZXIpLHJyPVhuKGVyKSxvcj10PT4vXjBbXi5cXHNdKyQvdS50ZXN0KHQpO2NvbnN0IGlyPXQ9Pi9eLT8oPzpcXGQrKD86XFwuXFxkKyk/fFxcLlxcZCspJC91LnRlc3QodCksYXI9dD0+ZT0+XCJzdHJpbmdcIj09dHlwZW9mIGUmJmUuc3RhcnRzV2l0aCh0KSxzcj1hcihcIi0tXCIpLHVyPWFyKFwidmFyKC0tXCIpLGNyPXQ9PiEhdXIodCkmJmxyLnRlc3QodC5zcGxpdChcIi8qXCIpWzBdLnRyaW0oKSksbHI9L3ZhclxcKC0tKD86W1xcdy1dK1xccyp8W1xcdy1dK1xccyosKD86XFxzKlteKShcXHNdfFxccypcXCgoPzpbXikoXXxcXChbXikoXSpcXCkpKlxcKSkrXFxzKilcXCkkL2l1LGZyPS9edmFyXFwoLS0oPzooW1xcdy1dKyl8KFtcXHctXSspLCA/KFthLXpBLVpcXGQgKCklIy4sLV0rKSlcXCkvdTtmdW5jdGlvbiBwcih0LGUsbj0xKXtWZShuPD00LGBNYXggQ1NTIHZhcmlhYmxlIGZhbGxiYWNrIGRlcHRoIGRldGVjdGVkIGluIHByb3BlcnR5IFwiJHt0fVwiLiBUaGlzIG1heSBpbmRpY2F0ZSBhIGNpcmN1bGFyIGZhbGxiYWNrIGRlcGVuZGVuY3kuYCk7Y29uc3RbcixvXT1mdW5jdGlvbih0KXtjb25zdCBlPWZyLmV4ZWModCk7aWYoIWUpcmV0dXJuWyxdO2NvbnN0WyxuLHIsb109ZTtyZXR1cm5bYC0tJHtudWxsIT1uP246cn1gLG9dfSh0KTtpZighcilyZXR1cm47Y29uc3QgaT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKS5nZXRQcm9wZXJ0eVZhbHVlKHIpO2lmKGkpe2NvbnN0IHQ9aS50cmltKCk7cmV0dXJuIGlyKHQpP3BhcnNlRmxvYXQodCk6dH1yZXR1cm4gY3Iobyk/cHIobyxlLG4rMSk6b31jb25zdCBkcj17dGVzdDp0PT5cIm51bWJlclwiPT10eXBlb2YgdCxwYXJzZTpwYXJzZUZsb2F0LHRyYW5zZm9ybTp0PT50fSxocj17Li4uZHIsdHJhbnNmb3JtOnQ9PkdlKDAsMSx0KX0seXI9ey4uLmRyLGRlZmF1bHQ6MX0sdnI9dD0+KHt0ZXN0OmU9Plwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLmVuZHNXaXRoKHQpJiYxPT09ZS5zcGxpdChcIiBcIikubGVuZ3RoLHBhcnNlOnBhcnNlRmxvYXQsdHJhbnNmb3JtOmU9PmAke2V9JHt0fWB9KSxtcj12cihcImRlZ1wiKSxncj12cihcIiVcIiksYnI9dnIoXCJweFwiKSx3cj12cihcInZoXCIpLF9yPXZyKFwidndcIiksU3I9ey4uLmdyLHBhcnNlOnQ9PmdyLnBhcnNlKHQpLzEwMCx0cmFuc2Zvcm06dD0+Z3IudHJhbnNmb3JtKDEwMCp0KX0sa3I9bmV3IFNldChbXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJ0b3BcIixcImxlZnRcIixcInJpZ2h0XCIsXCJib3R0b21cIixcInhcIixcInlcIixcInRyYW5zbGF0ZVhcIixcInRyYW5zbGF0ZVlcIl0pLHhyPXQ9PnQ9PT1kcnx8dD09PWJyLEFyPSh0LGUpPT5wYXJzZUZsb2F0KHQuc3BsaXQoXCIsIFwiKVtlXSksT3I9KHQsZSk9PihuLHt0cmFuc2Zvcm06cn0pPT57aWYoXCJub25lXCI9PT1yfHwhcilyZXR1cm4gMDtjb25zdCBvPXIubWF0Y2goL15tYXRyaXgzZFxcKCguKylcXCkkL3UpO2lmKG8pcmV0dXJuIEFyKG9bMV0sZSk7e2NvbnN0IGU9ci5tYXRjaCgvXm1hdHJpeFxcKCguKylcXCkkL3UpO3JldHVybiBlP0FyKGVbMV0sdCk6MH19LFRyPW5ldyBTZXQoW1wieFwiLFwieVwiLFwielwiXSksRXI9VG4uZmlsdGVyKCh0PT4hVHIuaGFzKHQpKSk7Y29uc3QgUHI9e3dpZHRoOih7eDp0fSx7cGFkZGluZ0xlZnQ6ZT1cIjBcIixwYWRkaW5nUmlnaHQ6bj1cIjBcIn0pPT50Lm1heC10Lm1pbi1wYXJzZUZsb2F0KGUpLXBhcnNlRmxvYXQobiksaGVpZ2h0Oih7eTp0fSx7cGFkZGluZ1RvcDplPVwiMFwiLHBhZGRpbmdCb3R0b206bj1cIjBcIn0pPT50Lm1heC10Lm1pbi1wYXJzZUZsb2F0KGUpLXBhcnNlRmxvYXQobiksdG9wOih0LHt0b3A6ZX0pPT5wYXJzZUZsb2F0KGUpLGxlZnQ6KHQse2xlZnQ6ZX0pPT5wYXJzZUZsb2F0KGUpLGJvdHRvbTooe3k6dH0se3RvcDplfSk9PnBhcnNlRmxvYXQoZSkrKHQubWF4LXQubWluKSxyaWdodDooe3g6dH0se2xlZnQ6ZX0pPT5wYXJzZUZsb2F0KGUpKyh0Lm1heC10Lm1pbikseDpPcig0LDEzKSx5Ok9yKDUsMTQpfTtQci50cmFuc2xhdGVYPVByLngsUHIudHJhbnNsYXRlWT1Qci55O2NvbnN0IGpyPXQ9PmU9PmUudGVzdCh0KSxDcj1bZHIsYnIsZ3IsbXIsX3Isd3Ise3Rlc3Q6dD0+XCJhdXRvXCI9PT10LHBhcnNlOnQ9PnR9XSxMcj10PT5Dci5maW5kKGpyKHQpKSxJcj1uZXcgU2V0O2xldCBOcj0hMSxNcj0hMTtmdW5jdGlvbiBScigpe2lmKE1yKXtjb25zdCB0PUFycmF5LmZyb20oSXIpLmZpbHRlcigodD0+dC5uZWVkc01lYXN1cmVtZW50KSksZT1uZXcgU2V0KHQubWFwKCh0PT50LmVsZW1lbnQpKSksbj1uZXcgTWFwO2UuZm9yRWFjaCgodD0+e2NvbnN0IGU9ZnVuY3Rpb24odCl7Y29uc3QgZT1bXTtyZXR1cm4gRXIuZm9yRWFjaCgobj0+e2NvbnN0IHI9dC5nZXRWYWx1ZShuKTt2b2lkIDAhPT1yJiYoZS5wdXNoKFtuLHIuZ2V0KCldKSxyLnNldChuLnN0YXJ0c1dpdGgoXCJzY2FsZVwiKT8xOjApKX0pKSxlfSh0KTtlLmxlbmd0aCYmKG4uc2V0KHQsZSksdC5yZW5kZXIoKSl9KSksdC5mb3JFYWNoKCh0PT50Lm1lYXN1cmVJbml0aWFsU3RhdGUoKSkpLGUuZm9yRWFjaCgodD0+e3QucmVuZGVyKCk7Y29uc3QgZT1uLmdldCh0KTtlJiZlLmZvckVhY2goKChbZSxuXSk9Pnt2YXIgcjtudWxsPT09KHI9dC5nZXRWYWx1ZShlKSl8fHZvaWQgMD09PXJ8fHIuc2V0KG4pfSkpfSkpLHQuZm9yRWFjaCgodD0+dC5tZWFzdXJlRW5kU3RhdGUoKSkpLHQuZm9yRWFjaCgodD0+e3ZvaWQgMCE9PXQuc3VzcGVuZGVkU2Nyb2xsWSYmd2luZG93LnNjcm9sbFRvKDAsdC5zdXNwZW5kZWRTY3JvbGxZKX0pKX1Ncj0hMSxOcj0hMSxJci5mb3JFYWNoKCh0PT50LmNvbXBsZXRlKCkpKSxJci5jbGVhcigpfWZ1bmN0aW9uIEZyKCl7SXIuZm9yRWFjaCgodD0+e3QucmVhZEtleWZyYW1lcygpLHQubmVlZHNNZWFzdXJlbWVudCYmKE1yPSEwKX0pKX1jbGFzcyBEcntjb25zdHJ1Y3Rvcih0LGUsbixyLG8saT0hMSl7dGhpcy5pc0NvbXBsZXRlPSExLHRoaXMuaXNBc3luYz0hMSx0aGlzLm5lZWRzTWVhc3VyZW1lbnQ9ITEsdGhpcy5pc1NjaGVkdWxlZD0hMSx0aGlzLnVucmVzb2x2ZWRLZXlmcmFtZXM9Wy4uLnRdLHRoaXMub25Db21wbGV0ZT1lLHRoaXMubmFtZT1uLHRoaXMubW90aW9uVmFsdWU9cix0aGlzLmVsZW1lbnQ9byx0aGlzLmlzQXN5bmM9aX1zY2hlZHVsZVJlc29sdmUoKXt0aGlzLmlzU2NoZWR1bGVkPSEwLHRoaXMuaXNBc3luYz8oSXIuYWRkKHRoaXMpLE5yfHwoTnI9ITAsR24ucmVhZChGciksR24ucmVzb2x2ZUtleWZyYW1lcyhScikpKToodGhpcy5yZWFkS2V5ZnJhbWVzKCksdGhpcy5jb21wbGV0ZSgpKX1yZWFkS2V5ZnJhbWVzKCl7Y29uc3R7dW5yZXNvbHZlZEtleWZyYW1lczp0LG5hbWU6ZSxlbGVtZW50Om4sbW90aW9uVmFsdWU6cn09dGhpcztmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKylpZihudWxsPT09dFtvXSlpZigwPT09byl7Y29uc3Qgbz1udWxsPT1yP3ZvaWQgMDpyLmdldCgpLGk9dFt0Lmxlbmd0aC0xXTtpZih2b2lkIDAhPT1vKXRbMF09bztlbHNlIGlmKG4mJmUpe2NvbnN0IHI9bi5yZWFkVmFsdWUoZSxpKTtudWxsIT1yJiYodFswXT1yKX12b2lkIDA9PT10WzBdJiYodFswXT1pKSxyJiZ2b2lkIDA9PT1vJiZyLnNldCh0WzBdKX1lbHNlIHRbb109dFtvLTFdfXNldEZpbmFsS2V5ZnJhbWUoKXt9bWVhc3VyZUluaXRpYWxTdGF0ZSgpe31yZW5kZXJFbmRTdHlsZXMoKXt9bWVhc3VyZUVuZFN0YXRlKCl7fWNvbXBsZXRlKCl7dGhpcy5pc0NvbXBsZXRlPSEwLHRoaXMub25Db21wbGV0ZSh0aGlzLnVucmVzb2x2ZWRLZXlmcmFtZXMsdGhpcy5maW5hbEtleWZyYW1lKSxJci5kZWxldGUodGhpcyl9Y2FuY2VsKCl7dGhpcy5pc0NvbXBsZXRlfHwodGhpcy5pc1NjaGVkdWxlZD0hMSxJci5kZWxldGUodGhpcykpfXJlc3VtZSgpe3RoaXMuaXNDb21wbGV0ZXx8dGhpcy5zY2hlZHVsZVJlc29sdmUoKX19Y29uc3QgQnI9dD0+TWF0aC5yb3VuZCgxZTUqdCkvMWU1LFZyPS8tPyg/OlxcZCsoPzpcXC5cXGQrKT98XFwuXFxkKykvZ3U7Y29uc3QgR3I9L14oPzojW1xcZGEtZl17Myw4fXwoPzpyZ2J8aHNsKWE/XFwoKD86LT9bXFxkLl0rJT9bLFxcc10rKXsyfS0/W1xcZC5dKyU/XFxzKig/OlssL11cXHMqKT8oPzpcXGJcXGQrKD86XFwuXFxkKyk/fFxcLlxcZCspPyU/XFwpKSQvaXUsVXI9KHQsZSk9Pm49PkJvb2xlYW4oXCJzdHJpbmdcIj09dHlwZW9mIG4mJkdyLnRlc3QobikmJm4uc3RhcnRzV2l0aCh0KXx8ZSYmIWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10fShuKSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sZSkpLEhyPSh0LGUsbik9PnI9PntpZihcInN0cmluZ1wiIT10eXBlb2YgcilyZXR1cm4gcjtjb25zdFtvLGksYSxzXT1yLm1hdGNoKFZyKTtyZXR1cm57W3RdOnBhcnNlRmxvYXQobyksW2VdOnBhcnNlRmxvYXQoaSksW25dOnBhcnNlRmxvYXQoYSksYWxwaGE6dm9pZCAwIT09cz9wYXJzZUZsb2F0KHMpOjF9fSx6cj17Li4uZHIsdHJhbnNmb3JtOnQ9Pk1hdGgucm91bmQoKHQ9PkdlKDAsMjU1LHQpKSh0KSl9LFdyPXt0ZXN0OlVyKFwicmdiXCIsXCJyZWRcIikscGFyc2U6SHIoXCJyZWRcIixcImdyZWVuXCIsXCJibHVlXCIpLHRyYW5zZm9ybTooe3JlZDp0LGdyZWVuOmUsYmx1ZTpuLGFscGhhOnI9MX0pPT5cInJnYmEoXCIrenIudHJhbnNmb3JtKHQpK1wiLCBcIit6ci50cmFuc2Zvcm0oZSkrXCIsIFwiK3pyLnRyYW5zZm9ybShuKStcIiwgXCIrQnIoaHIudHJhbnNmb3JtKHIpKStcIilcIn07Y29uc3QgJHI9e3Rlc3Q6VXIoXCIjXCIpLHBhcnNlOmZ1bmN0aW9uKHQpe2xldCBlPVwiXCIsbj1cIlwiLHI9XCJcIixvPVwiXCI7cmV0dXJuIHQubGVuZ3RoPjU/KGU9dC5zdWJzdHJpbmcoMSwzKSxuPXQuc3Vic3RyaW5nKDMsNSkscj10LnN1YnN0cmluZyg1LDcpLG89dC5zdWJzdHJpbmcoNyw5KSk6KGU9dC5zdWJzdHJpbmcoMSwyKSxuPXQuc3Vic3RyaW5nKDIsMykscj10LnN1YnN0cmluZygzLDQpLG89dC5zdWJzdHJpbmcoNCw1KSxlKz1lLG4rPW4scis9cixvKz1vKSx7cmVkOnBhcnNlSW50KGUsMTYpLGdyZWVuOnBhcnNlSW50KG4sMTYpLGJsdWU6cGFyc2VJbnQociwxNiksYWxwaGE6bz9wYXJzZUludChvLDE2KS8yNTU6MX19LHRyYW5zZm9ybTpXci50cmFuc2Zvcm19LFlyPXt0ZXN0OlVyKFwiaHNsXCIsXCJodWVcIikscGFyc2U6SHIoXCJodWVcIixcInNhdHVyYXRpb25cIixcImxpZ2h0bmVzc1wiKSx0cmFuc2Zvcm06KHtodWU6dCxzYXR1cmF0aW9uOmUsbGlnaHRuZXNzOm4sYWxwaGE6cj0xfSk9PlwiaHNsYShcIitNYXRoLnJvdW5kKHQpK1wiLCBcIitnci50cmFuc2Zvcm0oQnIoZSkpK1wiLCBcIitnci50cmFuc2Zvcm0oQnIobikpK1wiLCBcIitCcihoci50cmFuc2Zvcm0ocikpK1wiKVwifSxxcj17dGVzdDp0PT5Xci50ZXN0KHQpfHwkci50ZXN0KHQpfHxZci50ZXN0KHQpLHBhcnNlOnQ9PldyLnRlc3QodCk/V3IucGFyc2UodCk6WXIudGVzdCh0KT9Zci5wYXJzZSh0KTokci5wYXJzZSh0KSx0cmFuc2Zvcm06dD0+XCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0Lmhhc093blByb3BlcnR5KFwicmVkXCIpP1dyLnRyYW5zZm9ybSh0KTpZci50cmFuc2Zvcm0odCl9LFhyPS8oPzojW1xcZGEtZl17Myw4fXwoPzpyZ2J8aHNsKWE/XFwoKD86LT9bXFxkLl0rJT9bLFxcc10rKXsyfS0/W1xcZC5dKyU/XFxzKig/OlssL11cXHMqKT8oPzpcXGJcXGQrKD86XFwuXFxkKyk/fFxcLlxcZCspPyU/XFwpKS9naXU7Y29uc3QgS3I9XCJudW1iZXJcIixacj1cImNvbG9yXCIsUXI9XCJ2YXJcIixKcj1cInZhcihcIix0bz1cIiR7fVwiLGVvPS92YXJcXHMqXFwoXFxzKi0tKD86W1xcdy1dK1xccyp8W1xcdy1dK1xccyosKD86XFxzKlteKShcXHNdfFxccypcXCgoPzpbXikoXXxcXChbXikoXSpcXCkpKlxcKSkrXFxzKilcXCl8I1tcXGRhLWZdezMsOH18KD86cmdifGhzbClhP1xcKCg/Oi0/W1xcZC5dKyU/WyxcXHNdKyl7Mn0tP1tcXGQuXSslP1xccyooPzpbLC9dXFxzKik/KD86XFxiXFxkKyg/OlxcLlxcZCspP3xcXC5cXGQrKT8lP1xcKXwtPyg/OlxcZCsoPzpcXC5cXGQrKT98XFwuXFxkKykvZ2l1O2Z1bmN0aW9uIG5vKHQpe2NvbnN0IGU9dC50b1N0cmluZygpLG49W10scj17Y29sb3I6W10sbnVtYmVyOltdLHZhcjpbXX0sbz1bXTtsZXQgaT0wO2NvbnN0IGE9ZS5yZXBsYWNlKGVvLCh0PT4ocXIudGVzdCh0KT8oci5jb2xvci5wdXNoKGkpLG8ucHVzaChaciksbi5wdXNoKHFyLnBhcnNlKHQpKSk6dC5zdGFydHNXaXRoKEpyKT8oci52YXIucHVzaChpKSxvLnB1c2goUXIpLG4ucHVzaCh0KSk6KHIubnVtYmVyLnB1c2goaSksby5wdXNoKEtyKSxuLnB1c2gocGFyc2VGbG9hdCh0KSkpLCsraSx0bykpKS5zcGxpdCh0byk7cmV0dXJue3ZhbHVlczpuLHNwbGl0OmEsaW5kZXhlczpyLHR5cGVzOm99fWZ1bmN0aW9uIHJvKHQpe3JldHVybiBubyh0KS52YWx1ZXN9ZnVuY3Rpb24gb28odCl7Y29uc3R7c3BsaXQ6ZSx0eXBlczpufT1ubyh0KSxyPWUubGVuZ3RoO3JldHVybiB0PT57bGV0IG89XCJcIjtmb3IobGV0IGk9MDtpPHI7aSsrKWlmKG8rPWVbaV0sdm9pZCAwIT09dFtpXSl7Y29uc3QgZT1uW2ldO28rPWU9PT1Lcj9Ccih0W2ldKTplPT09WnI/cXIudHJhbnNmb3JtKHRbaV0pOnRbaV19cmV0dXJuIG99fWNvbnN0IGlvPXQ9PlwibnVtYmVyXCI9PXR5cGVvZiB0PzA6dDtjb25zdCBhbz17dGVzdDpmdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBpc05hTih0KSYmXCJzdHJpbmdcIj09dHlwZW9mIHQmJigobnVsbD09PShlPXQubWF0Y2goVnIpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5sZW5ndGgpfHwwKSsoKG51bGw9PT0obj10Lm1hdGNoKFhyKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4ubGVuZ3RoKXx8MCk+MH0scGFyc2U6cm8sY3JlYXRlVHJhbnNmb3JtZXI6b28sZ2V0QW5pbWF0YWJsZU5vbmU6ZnVuY3Rpb24odCl7Y29uc3QgZT1ybyh0KTtyZXR1cm4gb28odCkoZS5tYXAoaW8pKX19LHNvPW5ldyBTZXQoW1wiYnJpZ2h0bmVzc1wiLFwiY29udHJhc3RcIixcInNhdHVyYXRlXCIsXCJvcGFjaXR5XCJdKTtmdW5jdGlvbiB1byh0KXtjb25zdFtlLG5dPXQuc2xpY2UoMCwtMSkuc3BsaXQoXCIoXCIpO2lmKFwiZHJvcC1zaGFkb3dcIj09PWUpcmV0dXJuIHQ7Y29uc3Rbcl09bi5tYXRjaChWcil8fFtdO2lmKCFyKXJldHVybiB0O2NvbnN0IG89bi5yZXBsYWNlKHIsXCJcIik7bGV0IGk9c28uaGFzKGUpPzE6MDtyZXR1cm4gciE9PW4mJihpKj0xMDApLGUrXCIoXCIraStvK1wiKVwifWNvbnN0IGNvPS9cXGIoW2Etei1dKilcXCguKj9cXCkvZ3UsbG89ey4uLmFvLGdldEFuaW1hdGFibGVOb25lOnQ9Pntjb25zdCBlPXQubWF0Y2goY28pO3JldHVybiBlP2UubWFwKHVvKS5qb2luKFwiIFwiKTp0fX0sZm89e2JvcmRlcldpZHRoOmJyLGJvcmRlclRvcFdpZHRoOmJyLGJvcmRlclJpZ2h0V2lkdGg6YnIsYm9yZGVyQm90dG9tV2lkdGg6YnIsYm9yZGVyTGVmdFdpZHRoOmJyLGJvcmRlclJhZGl1czpicixyYWRpdXM6YnIsYm9yZGVyVG9wTGVmdFJhZGl1czpicixib3JkZXJUb3BSaWdodFJhZGl1czpicixib3JkZXJCb3R0b21SaWdodFJhZGl1czpicixib3JkZXJCb3R0b21MZWZ0UmFkaXVzOmJyLHdpZHRoOmJyLG1heFdpZHRoOmJyLGhlaWdodDpicixtYXhIZWlnaHQ6YnIsdG9wOmJyLHJpZ2h0OmJyLGJvdHRvbTpicixsZWZ0OmJyLHBhZGRpbmc6YnIscGFkZGluZ1RvcDpicixwYWRkaW5nUmlnaHQ6YnIscGFkZGluZ0JvdHRvbTpicixwYWRkaW5nTGVmdDpicixtYXJnaW46YnIsbWFyZ2luVG9wOmJyLG1hcmdpblJpZ2h0OmJyLG1hcmdpbkJvdHRvbTpicixtYXJnaW5MZWZ0OmJyLGJhY2tncm91bmRQb3NpdGlvblg6YnIsYmFja2dyb3VuZFBvc2l0aW9uWTpicn0scG89e3JvdGF0ZTptcixyb3RhdGVYOm1yLHJvdGF0ZVk6bXIscm90YXRlWjptcixzY2FsZTp5cixzY2FsZVg6eXIsc2NhbGVZOnlyLHNjYWxlWjp5cixza2V3Om1yLHNrZXdYOm1yLHNrZXdZOm1yLGRpc3RhbmNlOmJyLHRyYW5zbGF0ZVg6YnIsdHJhbnNsYXRlWTpicix0cmFuc2xhdGVaOmJyLHg6YnIseTpicix6OmJyLHBlcnNwZWN0aXZlOmJyLHRyYW5zZm9ybVBlcnNwZWN0aXZlOmJyLG9wYWNpdHk6aHIsb3JpZ2luWDpTcixvcmlnaW5ZOlNyLG9yaWdpblo6YnJ9LGhvPXsuLi5kcix0cmFuc2Zvcm06TWF0aC5yb3VuZH0seW89ey4uLmZvLC4uLnBvLHpJbmRleDpobyxzaXplOmJyLGZpbGxPcGFjaXR5OmhyLHN0cm9rZU9wYWNpdHk6aHIsbnVtT2N0YXZlczpob30sdm89ey4uLnlvLGNvbG9yOnFyLGJhY2tncm91bmRDb2xvcjpxcixvdXRsaW5lQ29sb3I6cXIsZmlsbDpxcixzdHJva2U6cXIsYm9yZGVyQ29sb3I6cXIsYm9yZGVyVG9wQ29sb3I6cXIsYm9yZGVyUmlnaHRDb2xvcjpxcixib3JkZXJCb3R0b21Db2xvcjpxcixib3JkZXJMZWZ0Q29sb3I6cXIsZmlsdGVyOmxvLFdlYmtpdEZpbHRlcjpsb30sbW89dD0+dm9bdF07ZnVuY3Rpb24gZ28odCxlKXtsZXQgbj1tbyh0KTtyZXR1cm4gbiE9PWxvJiYobj1hbyksbi5nZXRBbmltYXRhYmxlTm9uZT9uLmdldEFuaW1hdGFibGVOb25lKGUpOnZvaWQgMH1jb25zdCBibz1uZXcgU2V0KFtcImF1dG9cIixcIm5vbmVcIixcIjBcIl0pO2NsYXNzIHdvIGV4dGVuZHMgRHJ7Y29uc3RydWN0b3IodCxlLG4scixvKXtzdXBlcih0LGUsbixyLG8sITApfXJlYWRLZXlmcmFtZXMoKXtjb25zdHt1bnJlc29sdmVkS2V5ZnJhbWVzOnQsZWxlbWVudDplLG5hbWU6bn09dGhpcztpZighZXx8IWUuY3VycmVudClyZXR1cm47c3VwZXIucmVhZEtleWZyYW1lcygpO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtsZXQgcj10W25dO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByJiYocj1yLnRyaW0oKSxjcihyKSkpe2NvbnN0IG89cHIocixlLmN1cnJlbnQpO3ZvaWQgMCE9PW8mJih0W25dPW8pLG49PT10Lmxlbmd0aC0xJiYodGhpcy5maW5hbEtleWZyYW1lPXIpfX1pZih0aGlzLnJlc29sdmVOb25lS2V5ZnJhbWVzKCksIWtyLmhhcyhuKXx8MiE9PXQubGVuZ3RoKXJldHVybjtjb25zdFtyLG9dPXQsaT1McihyKSxhPUxyKG8pO2lmKGkhPT1hKWlmKHhyKGkpJiZ4cihhKSlmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgbj10W2VdO1wic3RyaW5nXCI9PXR5cGVvZiBuJiYodFtlXT1wYXJzZUZsb2F0KG4pKX1lbHNlIHRoaXMubmVlZHNNZWFzdXJlbWVudD0hMH1yZXNvbHZlTm9uZUtleWZyYW1lcygpe2NvbnN0e3VucmVzb2x2ZWRLZXlmcmFtZXM6dCxuYW1lOmV9PXRoaXMsbj1bXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKykoXCJudW1iZXJcIj09dHlwZW9mKHI9dFtlXSk/MD09PXI6bnVsbD09PXJ8fFwibm9uZVwiPT09cnx8XCIwXCI9PT1yfHxvcihyKSkmJm4ucHVzaChlKTt2YXIgcjtuLmxlbmd0aCYmZnVuY3Rpb24odCxlLG4pe2xldCByLG89MDtmb3IoO288dC5sZW5ndGgmJiFyOyl7Y29uc3QgZT10W29dO1wic3RyaW5nXCI9PXR5cGVvZiBlJiYhYm8uaGFzKGUpJiZubyhlKS52YWx1ZXMubGVuZ3RoJiYocj10W29dKSxvKyt9aWYociYmbilmb3IoY29uc3QgbyBvZiBlKXRbb109Z28obixyKX0odCxuLGUpfW1lYXN1cmVJbml0aWFsU3RhdGUoKXtjb25zdHtlbGVtZW50OnQsdW5yZXNvbHZlZEtleWZyYW1lczplLG5hbWU6bn09dGhpcztpZighdHx8IXQuY3VycmVudClyZXR1cm47XCJoZWlnaHRcIj09PW4mJih0aGlzLnN1c3BlbmRlZFNjcm9sbFk9d2luZG93LnBhZ2VZT2Zmc2V0KSx0aGlzLm1lYXN1cmVkT3JpZ2luPVByW25dKHQubWVhc3VyZVZpZXdwb3J0Qm94KCksd2luZG93LmdldENvbXB1dGVkU3R5bGUodC5jdXJyZW50KSksZVswXT10aGlzLm1lYXN1cmVkT3JpZ2luO2NvbnN0IHI9ZVtlLmxlbmd0aC0xXTt2b2lkIDAhPT1yJiZ0LmdldFZhbHVlKG4scikuanVtcChyLCExKX1tZWFzdXJlRW5kU3RhdGUoKXt2YXIgdDtjb25zdHtlbGVtZW50OmUsbmFtZTpuLHVucmVzb2x2ZWRLZXlmcmFtZXM6cn09dGhpcztpZighZXx8IWUuY3VycmVudClyZXR1cm47Y29uc3Qgbz1lLmdldFZhbHVlKG4pO28mJm8uanVtcCh0aGlzLm1lYXN1cmVkT3JpZ2luLCExKTtjb25zdCBpPXIubGVuZ3RoLTEsYT1yW2ldO3JbaV09UHJbbl0oZS5tZWFzdXJlVmlld3BvcnRCb3goKSx3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLmN1cnJlbnQpKSxudWxsIT09YSYmdm9pZCAwPT09dGhpcy5maW5hbEtleWZyYW1lJiYodGhpcy5maW5hbEtleWZyYW1lPWEpLChudWxsPT09KHQ9dGhpcy5yZW1vdmVkVHJhbnNmb3Jtcyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubGVuZ3RoKSYmdGhpcy5yZW1vdmVkVHJhbnNmb3Jtcy5mb3JFYWNoKCgoW3Qsbl0pPT57ZS5nZXRWYWx1ZSh0KS5zZXQobil9KSksdGhpcy5yZXNvbHZlTm9uZUtleWZyYW1lcygpfX1sZXQgX287ZnVuY3Rpb24gU28oKXtfbz12b2lkIDB9Y29uc3Qga289e25vdzooKT0+KHZvaWQgMD09PV9vJiZrby5zZXQoSG4uaXNQcm9jZXNzaW5nfHxNbj9Ibi50aW1lc3RhbXA6cGVyZm9ybWFuY2Uubm93KCkpLF9vKSxzZXQ6dD0+e19vPXQscXVldWVNaWNyb3Rhc2soU28pfX0seG89KHQsZSk9PlwiekluZGV4XCIhPT1lJiYoIShcIm51bWJlclwiIT10eXBlb2YgdCYmIUFycmF5LmlzQXJyYXkodCkpfHwhKFwic3RyaW5nXCIhPXR5cGVvZiB0fHwhYW8udGVzdCh0KSYmXCIwXCIhPT10fHx0LnN0YXJ0c1dpdGgoXCJ1cmwoXCIpKSk7ZnVuY3Rpb24gQW8odCxlLG4scil7Y29uc3Qgbz10WzBdO2lmKG51bGw9PT1vKXJldHVybiExO2lmKFwiZGlzcGxheVwiPT09ZXx8XCJ2aXNpYmlsaXR5XCI9PT1lKXJldHVybiEwO2NvbnN0IGk9dFt0Lmxlbmd0aC0xXSxhPXhvKG8sZSkscz14byhpLGUpO3JldHVybiBCZShhPT09cyxgWW91IGFyZSB0cnlpbmcgdG8gYW5pbWF0ZSAke2V9IGZyb20gXCIke299XCIgdG8gXCIke2l9XCIuICR7b30gaXMgbm90IGFuIGFuaW1hdGFibGUgdmFsdWUgLSB0byBlbmFibGUgdGhpcyBhbmltYXRpb24gc2V0ICR7b30gdG8gYSB2YWx1ZSBhbmltYXRhYmxlIHRvICR7aX0gdmlhIHRoZSBcXGBzdHlsZVxcYCBwcm9wZXJ0eS5gKSwhKCFhfHwhcykmJihmdW5jdGlvbih0KXtjb25zdCBlPXRbMF07aWYoMT09PXQubGVuZ3RoKXJldHVybiEwO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl0hPT1lKXJldHVybiEwfSh0KXx8KFwic3ByaW5nXCI9PT1ufHxmbihuKSkmJnIpfWNsYXNzIE9ve2NvbnN0cnVjdG9yKHthdXRvcGxheTp0PSEwLGRlbGF5OmU9MCx0eXBlOm49XCJrZXlmcmFtZXNcIixyZXBlYXQ6cj0wLHJlcGVhdERlbGF5Om89MCxyZXBlYXRUeXBlOmk9XCJsb29wXCIsLi4uYX0pe3RoaXMuaXNTdG9wcGVkPSExLHRoaXMuaGFzQXR0ZW1wdGVkUmVzb2x2ZT0hMSx0aGlzLmNyZWF0ZWRBdD1rby5ub3coKSx0aGlzLm9wdGlvbnM9e2F1dG9wbGF5OnQsZGVsYXk6ZSx0eXBlOm4scmVwZWF0OnIscmVwZWF0RGVsYXk6byxyZXBlYXRUeXBlOmksLi4uYX0sdGhpcy51cGRhdGVGaW5pc2hlZFByb21pc2UoKX1jYWxjU3RhcnRUaW1lKCl7cmV0dXJuIHRoaXMucmVzb2x2ZWRBdCYmdGhpcy5yZXNvbHZlZEF0LXRoaXMuY3JlYXRlZEF0PjQwP3RoaXMucmVzb2x2ZWRBdDp0aGlzLmNyZWF0ZWRBdH1nZXQgcmVzb2x2ZWQoKXtyZXR1cm4gdGhpcy5fcmVzb2x2ZWR8fHRoaXMuaGFzQXR0ZW1wdGVkUmVzb2x2ZXx8KEZyKCksUnIoKSksdGhpcy5fcmVzb2x2ZWR9b25LZXlmcmFtZXNSZXNvbHZlZCh0LGUpe3RoaXMucmVzb2x2ZWRBdD1rby5ub3coKSx0aGlzLmhhc0F0dGVtcHRlZFJlc29sdmU9ITA7Y29uc3R7bmFtZTpuLHR5cGU6cix2ZWxvY2l0eTpvLGRlbGF5Omksb25Db21wbGV0ZTphLG9uVXBkYXRlOnMsaXNHZW5lcmF0b3I6dX09dGhpcy5vcHRpb25zO2lmKCF1JiYhQW8odCxuLHIsbykpe2lmKFJufHwhaSlyZXR1cm4gbnVsbD09c3x8cyhEbih0LHRoaXMub3B0aW9ucyxlKSksbnVsbD09YXx8YSgpLHZvaWQgdGhpcy5yZXNvbHZlRmluaXNoZWRQcm9taXNlKCk7dGhpcy5vcHRpb25zLmR1cmF0aW9uPTB9Y29uc3QgYz10aGlzLmluaXRQbGF5YmFjayh0LGUpOyExIT09YyYmKHRoaXMuX3Jlc29sdmVkPXtrZXlmcmFtZXM6dCxmaW5hbEtleWZyYW1lOmUsLi4uY30sdGhpcy5vblBvc3RSZXNvbHZlZCgpKX1vblBvc3RSZXNvbHZlZCgpe310aGVuKHQsZSl7cmV0dXJuIHRoaXMuY3VycmVudEZpbmlzaGVkUHJvbWlzZS50aGVuKHQsZSl9dXBkYXRlRmluaXNoZWRQcm9taXNlKCl7dGhpcy5jdXJyZW50RmluaXNoZWRQcm9taXNlPW5ldyBQcm9taXNlKCh0PT57dGhpcy5yZXNvbHZlRmluaXNoZWRQcm9taXNlPXR9KSl9fWZ1bmN0aW9uIFRvKHtrZXlmcmFtZXM6dCx2ZWxvY2l0eTplPTAscG93ZXI6bj0uOCx0aW1lQ29uc3RhbnQ6cj0zMjUsYm91bmNlRGFtcGluZzpvPTEwLGJvdW5jZVN0aWZmbmVzczppPTUwMCxtb2RpZnlUYXJnZXQ6YSxtaW46cyxtYXg6dSxyZXN0RGVsdGE6Yz0uNSxyZXN0U3BlZWQ6bH0pe2NvbnN0IGY9dFswXSxwPXtkb25lOiExLHZhbHVlOmZ9LGQ9dD0+dm9pZCAwPT09cz91OnZvaWQgMD09PXV8fE1hdGguYWJzKHMtdCk8TWF0aC5hYnModS10KT9zOnU7bGV0IGg9biplO2NvbnN0IHk9ZitoLHY9dm9pZCAwPT09YT95OmEoeSk7diE9PXkmJihoPXYtZik7Y29uc3QgbT10PT4taCpNYXRoLmV4cCgtdC9yKSxnPXQ9PnYrbSh0KSxiPXQ9Pntjb25zdCBlPW0odCksbj1nKHQpO3AuZG9uZT1NYXRoLmFicyhlKTw9YyxwLnZhbHVlPXAuZG9uZT92Om59O2xldCB3LF87Y29uc3QgUz10PT57dmFyIGU7KGU9cC52YWx1ZSx2b2lkIDAhPT1zJiZlPHN8fHZvaWQgMCE9PXUmJmU+dSkmJih3PXQsXz1KZSh7a2V5ZnJhbWVzOltwLnZhbHVlLGQocC52YWx1ZSldLHZlbG9jaXR5OkZlKGcsdCxwLnZhbHVlKSxkYW1waW5nOm8sc3RpZmZuZXNzOmkscmVzdERlbHRhOmMscmVzdFNwZWVkOmx9KSl9O3JldHVybiBTKDApLHtjYWxjdWxhdGVkRHVyYXRpb246bnVsbCxuZXh0OnQ9PntsZXQgZT0hMTtyZXR1cm4gX3x8dm9pZCAwIT09d3x8KGU9ITAsYih0KSxTKHQpKSx2b2lkIDAhPT13JiZ0Pj13P18ubmV4dCh0LXcpOighZSYmYih0KSxwKX19fWNvbnN0IEVvPXFuKC40MiwwLDEsMSksUG89cW4oMCwwLC41OCwxKSxqbz1xbiguNDIsMCwuNTgsMSksQ289dD0+QXJyYXkuaXNBcnJheSh0KSYmXCJudW1iZXJcIj09dHlwZW9mIHRbMF0sTG89e2xpbmVhcjpEZSxlYXNlSW46RW8sZWFzZUluT3V0OmpvLGVhc2VPdXQ6UG8sY2lyY0luOmVyLGNpcmNJbk91dDpycixjaXJjT3V0Om5yLGJhY2tJbjpRbixiYWNrSW5PdXQ6Sm4sYmFja091dDpabixhbnRpY2lwYXRlOnRyfSxJbz10PT57aWYoQ28odCkpe1ZlKDQ9PT10Lmxlbmd0aCxcIkN1YmljIGJlemllciBhcnJheXMgbXVzdCBjb250YWluIGZvdXIgbnVtZXJpY2FsIHZhbHVlcy5cIik7Y29uc3RbZSxuLHIsb109dDtyZXR1cm4gcW4oZSxuLHIsbyl9cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/KFZlKHZvaWQgMCE9PUxvW3RdLGBJbnZhbGlkIGVhc2luZyB0eXBlICcke3R9J2ApLExvW3RdKTp0fSxObz0odCxlKT0+bj0+ZSh0KG4pKSxNbz0oLi4udCk9PnQucmVkdWNlKE5vKTtmdW5jdGlvbiBSbyh0LGUsbil7cmV0dXJuIG48MCYmKG4rPTEpLG4+MSYmKG4tPTEpLG48MS82P3QrNiooZS10KSpuOm48LjU/ZTpuPDIvMz90KyhlLXQpKigyLzMtbikqNjp0fWZ1bmN0aW9uIEZvKHQsZSl7cmV0dXJuIG49Pm4+MD9lOnR9Y29uc3QgRG89KHQsZSxuKT0+e2NvbnN0IHI9dCp0LG89biooZSplLXIpK3I7cmV0dXJuIG88MD8wOk1hdGguc3FydChvKX0sQm89WyRyLFdyLFlyXTtmdW5jdGlvbiBWbyh0KXtjb25zdCBlPShuPXQsQm8uZmluZCgodD0+dC50ZXN0KG4pKSkpO3ZhciBuO2lmKEJlKEJvb2xlYW4oZSksYCcke3R9JyBpcyBub3QgYW4gYW5pbWF0YWJsZSBjb2xvci4gVXNlIHRoZSBlcXVpdmFsZW50IGNvbG9yIGNvZGUgaW5zdGVhZC5gKSwhQm9vbGVhbihlKSlyZXR1cm4hMTtsZXQgcj1lLnBhcnNlKHQpO3JldHVybiBlPT09WXImJihyPWZ1bmN0aW9uKHtodWU6dCxzYXR1cmF0aW9uOmUsbGlnaHRuZXNzOm4sYWxwaGE6cn0pe3QvPTM2MCxuLz0xMDA7bGV0IG89MCxpPTAsYT0wO2lmKGUvPTEwMCl7Y29uc3Qgcj1uPC41P24qKDErZSk6bitlLW4qZSxzPTIqbi1yO289Um8ocyxyLHQrMS8zKSxpPVJvKHMscix0KSxhPVJvKHMscix0LTEvMyl9ZWxzZSBvPWk9YT1uO3JldHVybntyZWQ6TWF0aC5yb3VuZCgyNTUqbyksZ3JlZW46TWF0aC5yb3VuZCgyNTUqaSksYmx1ZTpNYXRoLnJvdW5kKDI1NSphKSxhbHBoYTpyfX0ocikpLHJ9Y29uc3QgR289KHQsZSk9Pntjb25zdCBuPVZvKHQpLHI9Vm8oZSk7aWYoIW58fCFyKXJldHVybiBGbyh0LGUpO2NvbnN0IG89ey4uLm59O3JldHVybiB0PT4oby5yZWQ9RG8obi5yZWQsci5yZWQsdCksby5ncmVlbj1EbyhuLmdyZWVuLHIuZ3JlZW4sdCksby5ibHVlPURvKG4uYmx1ZSxyLmJsdWUsdCksby5hbHBoYT1ybihuLmFscGhhLHIuYWxwaGEsdCksV3IudHJhbnNmb3JtKG8pKX0sVW89bmV3IFNldChbXCJub25lXCIsXCJoaWRkZW5cIl0pO2Z1bmN0aW9uIEhvKHQsZSl7cmV0dXJuIG49PnJuKHQsZSxuKX1mdW5jdGlvbiB6byh0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD9IbzpcInN0cmluZ1wiPT10eXBlb2YgdD9jcih0KT9Gbzpxci50ZXN0KHQpP0dvOllvOkFycmF5LmlzQXJyYXkodCk/V286XCJvYmplY3RcIj09dHlwZW9mIHQ/cXIudGVzdCh0KT9HbzokbzpGb31mdW5jdGlvbiBXbyh0LGUpe2NvbnN0IG49Wy4uLnRdLHI9bi5sZW5ndGgsbz10Lm1hcCgoKHQsbik9PnpvKHQpKHQsZVtuXSkpKTtyZXR1cm4gdD0+e2ZvcihsZXQgZT0wO2U8cjtlKyspbltlXT1vW2VdKHQpO3JldHVybiBufX1mdW5jdGlvbiAkbyh0LGUpe2NvbnN0IG49ey4uLnQsLi4uZX0scj17fTtmb3IoY29uc3QgbyBpbiBuKXZvaWQgMCE9PXRbb10mJnZvaWQgMCE9PWVbb10mJihyW29dPXpvKHRbb10pKHRbb10sZVtvXSkpO3JldHVybiB0PT57Zm9yKGNvbnN0IGUgaW4gciluW2VdPXJbZV0odCk7cmV0dXJuIG59fWNvbnN0IFlvPSh0LGUpPT57Y29uc3Qgbj1hby5jcmVhdGVUcmFuc2Zvcm1lcihlKSxyPW5vKHQpLG89bm8oZSk7cmV0dXJuIHIuaW5kZXhlcy52YXIubGVuZ3RoPT09by5pbmRleGVzLnZhci5sZW5ndGgmJnIuaW5kZXhlcy5jb2xvci5sZW5ndGg9PT1vLmluZGV4ZXMuY29sb3IubGVuZ3RoJiZyLmluZGV4ZXMubnVtYmVyLmxlbmd0aD49by5pbmRleGVzLm51bWJlci5sZW5ndGg/VW8uaGFzKHQpJiYhby52YWx1ZXMubGVuZ3RofHxVby5oYXMoZSkmJiFyLnZhbHVlcy5sZW5ndGg/ZnVuY3Rpb24odCxlKXtyZXR1cm4gVW8uaGFzKHQpP249Pm48PTA/dDplOm49Pm4+PTE/ZTp0fSh0LGUpOk1vKFdvKGZ1bmN0aW9uKHQsZSl7dmFyIG47Y29uc3Qgcj1bXSxvPXtjb2xvcjowLHZhcjowLG51bWJlcjowfTtmb3IobGV0IGk9MDtpPGUudmFsdWVzLmxlbmd0aDtpKyspe2NvbnN0IGE9ZS50eXBlc1tpXSxzPXQuaW5kZXhlc1thXVtvW2FdXSx1PW51bGwhPT0obj10LnZhbHVlc1tzXSkmJnZvaWQgMCE9PW4/bjowO3JbaV09dSxvW2FdKyt9cmV0dXJuIHJ9KHIsbyksby52YWx1ZXMpLG4pOihCZSghMCxgQ29tcGxleCB2YWx1ZXMgJyR7dH0nIGFuZCAnJHtlfScgdG9vIGRpZmZlcmVudCB0byBtaXguIEVuc3VyZSBhbGwgY29sb3JzIGFyZSBvZiB0aGUgc2FtZSB0eXBlLCBhbmQgdGhhdCBlYWNoIGNvbnRhaW5zIHRoZSBzYW1lIHF1YW50aXR5IG9mIG51bWJlciBhbmQgY29sb3IgdmFsdWVzLiBGYWxsaW5nIGJhY2sgdG8gaW5zdGFudCB0cmFuc2l0aW9uLmApLEZvKHQsZSkpfTtmdW5jdGlvbiBxbyh0LGUsbil7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQmJlwibnVtYmVyXCI9PXR5cGVvZiBlJiZcIm51bWJlclwiPT10eXBlb2YgbilyZXR1cm4gcm4odCxlLG4pO3JldHVybiB6byh0KSh0LGUpfWZ1bmN0aW9uIFhvKHQsZSx7Y2xhbXA6bj0hMCxlYXNlOnIsbWl4ZXI6b309e30pe2NvbnN0IGk9dC5sZW5ndGg7aWYoVmUoaT09PWUubGVuZ3RoLFwiQm90aCBpbnB1dCBhbmQgb3V0cHV0IHJhbmdlcyBtdXN0IGJlIHRoZSBzYW1lIGxlbmd0aFwiKSwxPT09aSlyZXR1cm4oKT0+ZVswXTtpZigyPT09aSYmdFswXT09PXRbMV0pcmV0dXJuKCk9PmVbMV07dFswXT50W2ktMV0mJih0PVsuLi50XS5yZXZlcnNlKCksZT1bLi4uZV0ucmV2ZXJzZSgpKTtjb25zdCBhPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPVtdLG89bnx8cW8saT10Lmxlbmd0aC0xO2ZvcihsZXQgbj0wO248aTtuKyspe2xldCBpPW8odFtuXSx0W24rMV0pO2lmKGUpe2NvbnN0IHQ9QXJyYXkuaXNBcnJheShlKT9lW25dfHxEZTplO2k9TW8odCxpKX1yLnB1c2goaSl9cmV0dXJuIHJ9KGUscixvKSxzPWEubGVuZ3RoLHU9ZT0+e2xldCBuPTA7aWYocz4xKWZvcig7bjx0Lmxlbmd0aC0yJiYhKGU8dFtuKzFdKTtuKyspO2NvbnN0IHI9b24odFtuXSx0W24rMV0sZSk7cmV0dXJuIGFbbl0ocil9O3JldHVybiBuP2U9PnUoR2UodFswXSx0W2ktMV0sZSkpOnV9ZnVuY3Rpb24gS28oe2R1cmF0aW9uOnQ9MzAwLGtleWZyYW1lczplLHRpbWVzOm4sZWFzZTpyPVwiZWFzZUluT3V0XCJ9KXtjb25zdCBvPWhuKHIpP3IubWFwKElvKTpJbyhyKSxpPXtkb25lOiExLHZhbHVlOmVbMF19LGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5tYXAoKHQ9PnQqZSkpfShuJiZuLmxlbmd0aD09PWUubGVuZ3RoP246c24oZSksdCkscz1YbyhhLGUse2Vhc2U6QXJyYXkuaXNBcnJheShvKT9vOih1PWUsYz1vLHUubWFwKCgoKT0+Y3x8am8pKS5zcGxpY2UoMCx1Lmxlbmd0aC0xKSl9KTt2YXIgdSxjO3JldHVybntjYWxjdWxhdGVkRHVyYXRpb246dCxuZXh0OmU9PihpLnZhbHVlPXMoZSksaS5kb25lPWU+PXQsaSl9fWNvbnN0IFpvPXQ9Pntjb25zdCBlPSh7dGltZXN0YW1wOmV9KT0+dChlKTtyZXR1cm57c3RhcnQ6KCk9PkduLnVwZGF0ZShlLCEwKSxzdG9wOigpPT5VbihlKSxub3c6KCk9PkhuLmlzUHJvY2Vzc2luZz9Ibi50aW1lc3RhbXA6a28ubm93KCl9fSxRbz17ZGVjYXk6VG8saW5lcnRpYTpUbyx0d2VlbjpLbyxrZXlmcmFtZXM6S28sc3ByaW5nOkplfSxKbz10PT50LzEwMDtjbGFzcyB0aSBleHRlbmRzIE9ve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuaG9sZFRpbWU9bnVsbCx0aGlzLmNhbmNlbFRpbWU9bnVsbCx0aGlzLmN1cnJlbnRUaW1lPTAsdGhpcy5wbGF5YmFja1NwZWVkPTEsdGhpcy5wZW5kaW5nUGxheVN0YXRlPVwicnVubmluZ1wiLHRoaXMuc3RhcnRUaW1lPW51bGwsdGhpcy5zdGF0ZT1cImlkbGVcIix0aGlzLnN0b3A9KCk9PntpZih0aGlzLnJlc29sdmVyLmNhbmNlbCgpLHRoaXMuaXNTdG9wcGVkPSEwLFwiaWRsZVwiPT09dGhpcy5zdGF0ZSlyZXR1cm47dGhpcy50ZWFyZG93bigpO2NvbnN0e29uU3RvcDp0fT10aGlzLm9wdGlvbnM7dCYmdCgpfTtjb25zdHtuYW1lOmUsbW90aW9uVmFsdWU6bixlbGVtZW50OnIsa2V5ZnJhbWVzOm99PXRoaXMub3B0aW9ucyxpPShudWxsPT1yP3ZvaWQgMDpyLktleWZyYW1lUmVzb2x2ZXIpfHxEcjt0aGlzLnJlc29sdmVyPW5ldyBpKG8sKCh0LGUpPT50aGlzLm9uS2V5ZnJhbWVzUmVzb2x2ZWQodCxlKSksZSxuLHIpLHRoaXMucmVzb2x2ZXIuc2NoZWR1bGVSZXNvbHZlKCl9aW5pdFBsYXliYWNrKHQpe2NvbnN0e3R5cGU6ZT1cImtleWZyYW1lc1wiLHJlcGVhdDpuPTAscmVwZWF0RGVsYXk6cj0wLHJlcGVhdFR5cGU6byx2ZWxvY2l0eTppPTB9PXRoaXMub3B0aW9ucyxhPWZuKGUpP2U6UW9bZV18fEtvO2xldCBzLHU7YSE9PUtvJiZcIm51bWJlclwiIT10eXBlb2YgdFswXSYmKHM9TW8oSm8scW8odFswXSx0WzFdKSksdD1bMCwxMDBdKTtjb25zdCBjPWEoey4uLnRoaXMub3B0aW9ucyxrZXlmcmFtZXM6dH0pO1wibWlycm9yXCI9PT1vJiYodT1hKHsuLi50aGlzLm9wdGlvbnMsa2V5ZnJhbWVzOlsuLi50XS5yZXZlcnNlKCksdmVsb2NpdHk6LWl9KSksbnVsbD09PWMuY2FsY3VsYXRlZER1cmF0aW9uJiYoYy5jYWxjdWxhdGVkRHVyYXRpb249ZW4oYykpO2NvbnN0e2NhbGN1bGF0ZWREdXJhdGlvbjpsfT1jLGY9bCtyO3JldHVybntnZW5lcmF0b3I6YyxtaXJyb3JlZEdlbmVyYXRvcjp1LG1hcFBlcmNlbnRUb0tleWZyYW1lczpzLGNhbGN1bGF0ZWREdXJhdGlvbjpsLHJlc29sdmVkRHVyYXRpb246Zix0b3RhbER1cmF0aW9uOmYqKG4rMSktcn19b25Qb3N0UmVzb2x2ZWQoKXtjb25zdHthdXRvcGxheTp0PSEwfT10aGlzLm9wdGlvbnM7dGhpcy5wbGF5KCksXCJwYXVzZWRcIiE9PXRoaXMucGVuZGluZ1BsYXlTdGF0ZSYmdD90aGlzLnN0YXRlPXRoaXMucGVuZGluZ1BsYXlTdGF0ZTp0aGlzLnBhdXNlKCl9dGljayh0LGU9ITEpe2NvbnN0e3Jlc29sdmVkOm59PXRoaXM7aWYoIW4pe2NvbnN0e2tleWZyYW1lczp0fT10aGlzLm9wdGlvbnM7cmV0dXJue2RvbmU6ITAsdmFsdWU6dFt0Lmxlbmd0aC0xXX19Y29uc3R7ZmluYWxLZXlmcmFtZTpyLGdlbmVyYXRvcjpvLG1pcnJvcmVkR2VuZXJhdG9yOmksbWFwUGVyY2VudFRvS2V5ZnJhbWVzOmEsa2V5ZnJhbWVzOnMsY2FsY3VsYXRlZER1cmF0aW9uOnUsdG90YWxEdXJhdGlvbjpjLHJlc29sdmVkRHVyYXRpb246bH09bjtpZihudWxsPT09dGhpcy5zdGFydFRpbWUpcmV0dXJuIG8ubmV4dCgwKTtjb25zdHtkZWxheTpmLHJlcGVhdDpwLHJlcGVhdFR5cGU6ZCxyZXBlYXREZWxheTpoLG9uVXBkYXRlOnl9PXRoaXMub3B0aW9uczt0aGlzLnNwZWVkPjA/dGhpcy5zdGFydFRpbWU9TWF0aC5taW4odGhpcy5zdGFydFRpbWUsdCk6dGhpcy5zcGVlZDwwJiYodGhpcy5zdGFydFRpbWU9TWF0aC5taW4odC1jL3RoaXMuc3BlZWQsdGhpcy5zdGFydFRpbWUpKSxlP3RoaXMuY3VycmVudFRpbWU9dDpudWxsIT09dGhpcy5ob2xkVGltZT90aGlzLmN1cnJlbnRUaW1lPXRoaXMuaG9sZFRpbWU6dGhpcy5jdXJyZW50VGltZT1NYXRoLnJvdW5kKHQtdGhpcy5zdGFydFRpbWUpKnRoaXMuc3BlZWQ7Y29uc3Qgdj10aGlzLmN1cnJlbnRUaW1lLWYqKHRoaXMuc3BlZWQ+PTA/MTotMSksbT10aGlzLnNwZWVkPj0wP3Y8MDp2PmM7dGhpcy5jdXJyZW50VGltZT1NYXRoLm1heCh2LDApLFwiZmluaXNoZWRcIj09PXRoaXMuc3RhdGUmJm51bGw9PT10aGlzLmhvbGRUaW1lJiYodGhpcy5jdXJyZW50VGltZT1jKTtsZXQgZz10aGlzLmN1cnJlbnRUaW1lLGI9bztpZihwKXtjb25zdCB0PU1hdGgubWluKHRoaXMuY3VycmVudFRpbWUsYykvbDtsZXQgZT1NYXRoLmZsb29yKHQpLG49dCUxOyFuJiZ0Pj0xJiYobj0xKSwxPT09biYmZS0tLGU9TWF0aC5taW4oZSxwKzEpO0Jvb2xlYW4oZSUyKSYmKFwicmV2ZXJzZVwiPT09ZD8obj0xLW4saCYmKG4tPWgvbCkpOlwibWlycm9yXCI9PT1kJiYoYj1pKSksZz1HZSgwLDEsbikqbH1jb25zdCB3PW0/e2RvbmU6ITEsdmFsdWU6c1swXX06Yi5uZXh0KGcpO2EmJih3LnZhbHVlPWEody52YWx1ZSkpO2xldHtkb25lOl99PXc7bXx8bnVsbD09PXV8fChfPXRoaXMuc3BlZWQ+PTA/dGhpcy5jdXJyZW50VGltZT49Yzp0aGlzLmN1cnJlbnRUaW1lPD0wKTtjb25zdCBTPW51bGw9PT10aGlzLmhvbGRUaW1lJiYoXCJmaW5pc2hlZFwiPT09dGhpcy5zdGF0ZXx8XCJydW5uaW5nXCI9PT10aGlzLnN0YXRlJiZfKTtyZXR1cm4gUyYmdm9pZCAwIT09ciYmKHcudmFsdWU9RG4ocyx0aGlzLm9wdGlvbnMscikpLHkmJnkody52YWx1ZSksUyYmdGhpcy5maW5pc2goKSx3fWdldCBkdXJhdGlvbigpe2NvbnN0e3Jlc29sdmVkOnR9PXRoaXM7cmV0dXJuIHQ/TmUodC5jYWxjdWxhdGVkRHVyYXRpb24pOjB9Z2V0IHRpbWUoKXtyZXR1cm4gTmUodGhpcy5jdXJyZW50VGltZSl9c2V0IHRpbWUodCl7dD1JZSh0KSx0aGlzLmN1cnJlbnRUaW1lPXQsbnVsbCE9PXRoaXMuaG9sZFRpbWV8fDA9PT10aGlzLnNwZWVkP3RoaXMuaG9sZFRpbWU9dDp0aGlzLmRyaXZlciYmKHRoaXMuc3RhcnRUaW1lPXRoaXMuZHJpdmVyLm5vdygpLXQvdGhpcy5zcGVlZCl9Z2V0IHNwZWVkKCl7cmV0dXJuIHRoaXMucGxheWJhY2tTcGVlZH1zZXQgc3BlZWQodCl7Y29uc3QgZT10aGlzLnBsYXliYWNrU3BlZWQhPT10O3RoaXMucGxheWJhY2tTcGVlZD10LGUmJih0aGlzLnRpbWU9TmUodGhpcy5jdXJyZW50VGltZSkpfXBsYXkoKXtpZih0aGlzLnJlc29sdmVyLmlzU2NoZWR1bGVkfHx0aGlzLnJlc29sdmVyLnJlc3VtZSgpLCF0aGlzLl9yZXNvbHZlZClyZXR1cm4gdm9pZCh0aGlzLnBlbmRpbmdQbGF5U3RhdGU9XCJydW5uaW5nXCIpO2lmKHRoaXMuaXNTdG9wcGVkKXJldHVybjtjb25zdHtkcml2ZXI6dD1abyxvblBsYXk6ZSxzdGFydFRpbWU6bn09dGhpcy5vcHRpb25zO3RoaXMuZHJpdmVyfHwodGhpcy5kcml2ZXI9dCgodD0+dGhpcy50aWNrKHQpKSkpLGUmJmUoKTtjb25zdCByPXRoaXMuZHJpdmVyLm5vdygpO251bGwhPT10aGlzLmhvbGRUaW1lP3RoaXMuc3RhcnRUaW1lPXItdGhpcy5ob2xkVGltZTp0aGlzLnN0YXJ0VGltZT9cImZpbmlzaGVkXCI9PT10aGlzLnN0YXRlJiYodGhpcy5zdGFydFRpbWU9cik6dGhpcy5zdGFydFRpbWU9bnVsbCE9bj9uOnRoaXMuY2FsY1N0YXJ0VGltZSgpLFwiZmluaXNoZWRcIj09PXRoaXMuc3RhdGUmJnRoaXMudXBkYXRlRmluaXNoZWRQcm9taXNlKCksdGhpcy5jYW5jZWxUaW1lPXRoaXMuc3RhcnRUaW1lLHRoaXMuaG9sZFRpbWU9bnVsbCx0aGlzLnN0YXRlPVwicnVubmluZ1wiLHRoaXMuZHJpdmVyLnN0YXJ0KCl9cGF1c2UoKXt2YXIgdDt0aGlzLl9yZXNvbHZlZD8odGhpcy5zdGF0ZT1cInBhdXNlZFwiLHRoaXMuaG9sZFRpbWU9bnVsbCE9PSh0PXRoaXMuY3VycmVudFRpbWUpJiZ2b2lkIDAhPT10P3Q6MCk6dGhpcy5wZW5kaW5nUGxheVN0YXRlPVwicGF1c2VkXCJ9Y29tcGxldGUoKXtcInJ1bm5pbmdcIiE9PXRoaXMuc3RhdGUmJnRoaXMucGxheSgpLHRoaXMucGVuZGluZ1BsYXlTdGF0ZT10aGlzLnN0YXRlPVwiZmluaXNoZWRcIix0aGlzLmhvbGRUaW1lPW51bGx9ZmluaXNoKCl7dGhpcy50ZWFyZG93bigpLHRoaXMuc3RhdGU9XCJmaW5pc2hlZFwiO2NvbnN0e29uQ29tcGxldGU6dH09dGhpcy5vcHRpb25zO3QmJnQoKX1jYW5jZWwoKXtudWxsIT09dGhpcy5jYW5jZWxUaW1lJiZ0aGlzLnRpY2sodGhpcy5jYW5jZWxUaW1lKSx0aGlzLnRlYXJkb3duKCksdGhpcy51cGRhdGVGaW5pc2hlZFByb21pc2UoKX10ZWFyZG93bigpe3RoaXMuc3RhdGU9XCJpZGxlXCIsdGhpcy5zdG9wRHJpdmVyKCksdGhpcy5yZXNvbHZlRmluaXNoZWRQcm9taXNlKCksdGhpcy51cGRhdGVGaW5pc2hlZFByb21pc2UoKSx0aGlzLnN0YXJ0VGltZT10aGlzLmNhbmNlbFRpbWU9bnVsbCx0aGlzLnJlc29sdmVyLmNhbmNlbCgpfXN0b3BEcml2ZXIoKXt0aGlzLmRyaXZlciYmKHRoaXMuZHJpdmVyLnN0b3AoKSx0aGlzLmRyaXZlcj12b2lkIDApfXNhbXBsZSh0KXtyZXR1cm4gdGhpcy5zdGFydFRpbWU9MCx0aGlzLnRpY2sodCwhMCl9fWNvbnN0IGVpPW5ldyBTZXQoW1wib3BhY2l0eVwiLFwiY2xpcFBhdGhcIixcImZpbHRlclwiLFwidHJhbnNmb3JtXCJdKSxuaT0odCxlKT0+e2xldCBuPVwiXCI7Y29uc3Qgcj1NYXRoLm1heChNYXRoLnJvdW5kKGUvMTApLDIpO2ZvcihsZXQgZT0wO2U8cjtlKyspbis9dChvbigwLHItMSxlKSkrXCIsIFwiO3JldHVybmBsaW5lYXIoJHtuLnN1YnN0cmluZygwLG4ubGVuZ3RoLTIpfSlgfSxyaT17bGluZWFyRWFzaW5nOnZvaWQgMH07ZnVuY3Rpb24gb2kodCxlKXtjb25zdCBuPWplKHQpO3JldHVybigpPT57dmFyIHQ7cmV0dXJuIG51bGwhPT0odD1yaVtlXSkmJnZvaWQgMCE9PXQ/dDpuKCl9fWNvbnN0IGlpPW9pKCgoKT0+e3RyeXtkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLmFuaW1hdGUoe29wYWNpdHk6MH0se2Vhc2luZzpcImxpbmVhcigwLCAxKVwifSl9Y2F0Y2godCl7cmV0dXJuITF9cmV0dXJuITB9KSxcImxpbmVhckVhc2luZ1wiKTtmdW5jdGlvbiBhaSh0KXtyZXR1cm4gQm9vbGVhbihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZpaSgpfHwhdHx8XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0IGluIHVpfHxpaSgpKXx8Q28odCl8fEFycmF5LmlzQXJyYXkodCkmJnQuZXZlcnkoYWkpKX1jb25zdCBzaT0oW3QsZSxuLHJdKT0+YGN1YmljLWJlemllcigke3R9LCAke2V9LCAke259LCAke3J9KWAsdWk9e2xpbmVhcjpcImxpbmVhclwiLGVhc2U6XCJlYXNlXCIsZWFzZUluOlwiZWFzZS1pblwiLGVhc2VPdXQ6XCJlYXNlLW91dFwiLGVhc2VJbk91dDpcImVhc2UtaW4tb3V0XCIsY2lyY0luOnNpKFswLC42NSwuNTUsMV0pLGNpcmNPdXQ6c2koWy41NSwwLDEsLjQ1XSksYmFja0luOnNpKFsuMzEsLjAxLC42NiwtLjU5XSksYmFja091dDpzaShbLjMzLDEuNTMsLjY5LC45OV0pfTtmdW5jdGlvbiBjaSh0LGUpe3JldHVybiB0P1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJmlpKCk/bmkodCxlKTpDbyh0KT9zaSh0KTpBcnJheS5pc0FycmF5KHQpP3QubWFwKCh0PT5jaSh0LGUpfHx1aS5lYXNlT3V0KSk6dWlbdF06dm9pZCAwfWZ1bmN0aW9uIGxpKHQsZSxuLHtkZWxheTpyPTAsZHVyYXRpb246bz0zMDAscmVwZWF0Omk9MCxyZXBlYXRUeXBlOmE9XCJsb29wXCIsZWFzZTpzLHRpbWVzOnV9PXt9KXtjb25zdCBjPXtbZV06bn07dSYmKGMub2Zmc2V0PXUpO2NvbnN0IGw9Y2kocyxvKTtyZXR1cm4gQXJyYXkuaXNBcnJheShsKSYmKGMuZWFzaW5nPWwpLHQuYW5pbWF0ZShjLHtkZWxheTpyLGR1cmF0aW9uOm8sZWFzaW5nOkFycmF5LmlzQXJyYXkobCk/XCJsaW5lYXJcIjpsLGZpbGw6XCJib3RoXCIsaXRlcmF0aW9uczppKzEsZGlyZWN0aW9uOlwicmV2ZXJzZVwiPT09YT9cImFsdGVybmF0ZVwiOlwibm9ybWFsXCJ9KX1mdW5jdGlvbiBmaSh0LGUpe3QudGltZWxpbmU9ZSx0Lm9uZmluaXNoPW51bGx9Y29uc3QgcGk9amUoKCgpPT5PYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChFbGVtZW50LnByb3RvdHlwZSxcImFuaW1hdGVcIikpKTtjb25zdCBkaT17YW50aWNpcGF0ZTp0cixiYWNrSW5PdXQ6Sm4sY2lyY0luT3V0OnJyfTtjbGFzcyBoaSBleHRlbmRzIE9ve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0e25hbWU6ZSxtb3Rpb25WYWx1ZTpuLGVsZW1lbnQ6cixrZXlmcmFtZXM6b309dGhpcy5vcHRpb25zO3RoaXMucmVzb2x2ZXI9bmV3IHdvKG8sKCh0LGUpPT50aGlzLm9uS2V5ZnJhbWVzUmVzb2x2ZWQodCxlKSksZSxuLHIpLHRoaXMucmVzb2x2ZXIuc2NoZWR1bGVSZXNvbHZlKCl9aW5pdFBsYXliYWNrKHQsZSl7dmFyIG47bGV0e2R1cmF0aW9uOnI9MzAwLHRpbWVzOm8sZWFzZTppLHR5cGU6YSxtb3Rpb25WYWx1ZTpzLG5hbWU6dSxzdGFydFRpbWU6Y309dGhpcy5vcHRpb25zO2lmKCEobnVsbD09PShuPXMub3duZXIpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmN1cnJlbnQpKXJldHVybiExO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBpJiZpaSgpJiZpIGluIGRpJiYoaT1kaVtpXSksZnVuY3Rpb24odCl7cmV0dXJuIGZuKHQudHlwZSl8fFwic3ByaW5nXCI9PT10LnR5cGV8fCFhaSh0LmVhc2UpfSh0aGlzLm9wdGlvbnMpKXtjb25zdHtvbkNvbXBsZXRlOmUsb25VcGRhdGU6bixtb3Rpb25WYWx1ZTpzLGVsZW1lbnQ6dSwuLi5jfT10aGlzLm9wdGlvbnMsbD1mdW5jdGlvbih0LGUpe2NvbnN0IG49bmV3IHRpKHsuLi5lLGtleWZyYW1lczp0LHJlcGVhdDowLGRlbGF5OjAsaXNHZW5lcmF0b3I6ITB9KTtsZXQgcj17ZG9uZTohMSx2YWx1ZTp0WzBdfTtjb25zdCBvPVtdO2xldCBpPTA7Zm9yKDshci5kb25lJiZpPDJlNDspcj1uLnNhbXBsZShpKSxvLnB1c2goci52YWx1ZSksaSs9MTA7cmV0dXJue3RpbWVzOnZvaWQgMCxrZXlmcmFtZXM6byxkdXJhdGlvbjppLTEwLGVhc2U6XCJsaW5lYXJcIn19KHQsYyk7MT09PSh0PWwua2V5ZnJhbWVzKS5sZW5ndGgmJih0WzFdPXRbMF0pLHI9bC5kdXJhdGlvbixvPWwudGltZXMsaT1sLmVhc2UsYT1cImtleWZyYW1lc1wifWNvbnN0IGw9bGkocy5vd25lci5jdXJyZW50LHUsdCx7Li4udGhpcy5vcHRpb25zLGR1cmF0aW9uOnIsdGltZXM6byxlYXNlOml9KTtyZXR1cm4gbC5zdGFydFRpbWU9bnVsbCE9Yz9jOnRoaXMuY2FsY1N0YXJ0VGltZSgpLHRoaXMucGVuZGluZ1RpbWVsaW5lPyhmaShsLHRoaXMucGVuZGluZ1RpbWVsaW5lKSx0aGlzLnBlbmRpbmdUaW1lbGluZT12b2lkIDApOmwub25maW5pc2g9KCk9Pntjb25zdHtvbkNvbXBsZXRlOm59PXRoaXMub3B0aW9ucztzLnNldChEbih0LHRoaXMub3B0aW9ucyxlKSksbiYmbigpLHRoaXMuY2FuY2VsKCksdGhpcy5yZXNvbHZlRmluaXNoZWRQcm9taXNlKCl9LHthbmltYXRpb246bCxkdXJhdGlvbjpyLHRpbWVzOm8sdHlwZTphLGVhc2U6aSxrZXlmcmFtZXM6dH19Z2V0IGR1cmF0aW9uKCl7Y29uc3R7cmVzb2x2ZWQ6dH09dGhpcztpZighdClyZXR1cm4gMDtjb25zdHtkdXJhdGlvbjplfT10O3JldHVybiBOZShlKX1nZXQgdGltZSgpe2NvbnN0e3Jlc29sdmVkOnR9PXRoaXM7aWYoIXQpcmV0dXJuIDA7Y29uc3R7YW5pbWF0aW9uOmV9PXQ7cmV0dXJuIE5lKGUuY3VycmVudFRpbWV8fDApfXNldCB0aW1lKHQpe2NvbnN0e3Jlc29sdmVkOmV9PXRoaXM7aWYoIWUpcmV0dXJuO2NvbnN0e2FuaW1hdGlvbjpufT1lO24uY3VycmVudFRpbWU9SWUodCl9Z2V0IHNwZWVkKCl7Y29uc3R7cmVzb2x2ZWQ6dH09dGhpcztpZighdClyZXR1cm4gMTtjb25zdHthbmltYXRpb246ZX09dDtyZXR1cm4gZS5wbGF5YmFja1JhdGV9c2V0IHNwZWVkKHQpe2NvbnN0e3Jlc29sdmVkOmV9PXRoaXM7aWYoIWUpcmV0dXJuO2NvbnN0e2FuaW1hdGlvbjpufT1lO24ucGxheWJhY2tSYXRlPXR9Z2V0IHN0YXRlKCl7Y29uc3R7cmVzb2x2ZWQ6dH09dGhpcztpZighdClyZXR1cm5cImlkbGVcIjtjb25zdHthbmltYXRpb246ZX09dDtyZXR1cm4gZS5wbGF5U3RhdGV9Z2V0IHN0YXJ0VGltZSgpe2NvbnN0e3Jlc29sdmVkOnR9PXRoaXM7aWYoIXQpcmV0dXJuIG51bGw7Y29uc3R7YW5pbWF0aW9uOmV9PXQ7cmV0dXJuIGUuc3RhcnRUaW1lfWF0dGFjaFRpbWVsaW5lKHQpe2lmKHRoaXMuX3Jlc29sdmVkKXtjb25zdHtyZXNvbHZlZDplfT10aGlzO2lmKCFlKXJldHVybiBEZTtjb25zdHthbmltYXRpb246bn09ZTtmaShuLHQpfWVsc2UgdGhpcy5wZW5kaW5nVGltZWxpbmU9dDtyZXR1cm4gRGV9cGxheSgpe2lmKHRoaXMuaXNTdG9wcGVkKXJldHVybjtjb25zdHtyZXNvbHZlZDp0fT10aGlzO2lmKCF0KXJldHVybjtjb25zdHthbmltYXRpb246ZX09dDtcImZpbmlzaGVkXCI9PT1lLnBsYXlTdGF0ZSYmdGhpcy51cGRhdGVGaW5pc2hlZFByb21pc2UoKSxlLnBsYXkoKX1wYXVzZSgpe2NvbnN0e3Jlc29sdmVkOnR9PXRoaXM7aWYoIXQpcmV0dXJuO2NvbnN0e2FuaW1hdGlvbjplfT10O2UucGF1c2UoKX1zdG9wKCl7aWYodGhpcy5yZXNvbHZlci5jYW5jZWwoKSx0aGlzLmlzU3RvcHBlZD0hMCxcImlkbGVcIj09PXRoaXMuc3RhdGUpcmV0dXJuO3RoaXMucmVzb2x2ZUZpbmlzaGVkUHJvbWlzZSgpLHRoaXMudXBkYXRlRmluaXNoZWRQcm9taXNlKCk7Y29uc3R7cmVzb2x2ZWQ6dH09dGhpcztpZighdClyZXR1cm47Y29uc3R7YW5pbWF0aW9uOmUsa2V5ZnJhbWVzOm4sZHVyYXRpb246cix0eXBlOm8sZWFzZTppLHRpbWVzOmF9PXQ7aWYoXCJpZGxlXCI9PT1lLnBsYXlTdGF0ZXx8XCJmaW5pc2hlZFwiPT09ZS5wbGF5U3RhdGUpcmV0dXJuO2lmKHRoaXMudGltZSl7Y29uc3R7bW90aW9uVmFsdWU6dCxvblVwZGF0ZTplLG9uQ29tcGxldGU6cyxlbGVtZW50OnUsLi4uY309dGhpcy5vcHRpb25zLGw9bmV3IHRpKHsuLi5jLGtleWZyYW1lczpuLGR1cmF0aW9uOnIsdHlwZTpvLGVhc2U6aSx0aW1lczphLGlzR2VuZXJhdG9yOiEwfSksZj1JZSh0aGlzLnRpbWUpO3Quc2V0V2l0aFZlbG9jaXR5KGwuc2FtcGxlKGYtMTApLnZhbHVlLGwuc2FtcGxlKGYpLnZhbHVlLDEwKX1jb25zdHtvblN0b3A6c309dGhpcy5vcHRpb25zO3MmJnMoKSx0aGlzLmNhbmNlbCgpfWNvbXBsZXRlKCl7Y29uc3R7cmVzb2x2ZWQ6dH09dGhpczt0JiZ0LmFuaW1hdGlvbi5maW5pc2goKX1jYW5jZWwoKXtjb25zdHtyZXNvbHZlZDp0fT10aGlzO3QmJnQuYW5pbWF0aW9uLmNhbmNlbCgpfXN0YXRpYyBzdXBwb3J0cyh0KXtjb25zdHttb3Rpb25WYWx1ZTplLG5hbWU6bixyZXBlYXREZWxheTpyLHJlcGVhdFR5cGU6byxkYW1waW5nOmksdHlwZTphfT10O3JldHVybiBwaSgpJiZuJiZlaS5oYXMobikmJmUmJmUub3duZXImJmUub3duZXIuY3VycmVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiYhZS5vd25lci5nZXRQcm9wcygpLm9uVXBkYXRlJiYhciYmXCJtaXJyb3JcIiE9PW8mJjAhPT1pJiZcImluZXJ0aWFcIiE9PWF9fWNvbnN0IHlpPSh0LGUsbixyPXt9LG8saSk9PmE9Pntjb25zdCBzPUluKHIsdCl8fHt9LHU9cy5kZWxheXx8ci5kZWxheXx8MDtsZXR7ZWxhcHNlZDpjPTB9PXI7Yy09SWUodSk7bGV0IGw9e2tleWZyYW1lczpBcnJheS5pc0FycmF5KG4pP246W251bGwsbl0sZWFzZTpcImVhc2VPdXRcIix2ZWxvY2l0eTplLmdldFZlbG9jaXR5KCksLi4ucyxkZWxheTotYyxvblVwZGF0ZTp0PT57ZS5zZXQodCkscy5vblVwZGF0ZSYmcy5vblVwZGF0ZSh0KX0sb25Db21wbGV0ZTooKT0+e2EoKSxzLm9uQ29tcGxldGUmJnMub25Db21wbGV0ZSgpfSxuYW1lOnQsbW90aW9uVmFsdWU6ZSxlbGVtZW50Omk/dm9pZCAwOm99OyhmdW5jdGlvbih7d2hlbjp0LGRlbGF5OmUsZGVsYXlDaGlsZHJlbjpuLHN0YWdnZXJDaGlsZHJlbjpyLHN0YWdnZXJEaXJlY3Rpb246byxyZXBlYXQ6aSxyZXBlYXRUeXBlOmEscmVwZWF0RGVsYXk6cyxmcm9tOnUsZWxhcHNlZDpjLC4uLmx9KXtyZXR1cm4hIU9iamVjdC5rZXlzKGwpLmxlbmd0aH0pKHMpfHwobD17Li4ubCwuLi5Mbih0LGwpfSksbC5kdXJhdGlvbiYmKGwuZHVyYXRpb249SWUobC5kdXJhdGlvbikpLGwucmVwZWF0RGVsYXkmJihsLnJlcGVhdERlbGF5PUllKGwucmVwZWF0RGVsYXkpKSx2b2lkIDAhPT1sLmZyb20mJihsLmtleWZyYW1lc1swXT1sLmZyb20pO2xldCBmPSExO2lmKCghMT09PWwudHlwZXx8MD09PWwuZHVyYXRpb24mJiFsLnJlcGVhdERlbGF5KSYmKGwuZHVyYXRpb249MCwwPT09bC5kZWxheSYmKGY9ITApKSwoUm58fE5uKSYmKGY9ITAsbC5kdXJhdGlvbj0wLGwuZGVsYXk9MCksZiYmIWkmJnZvaWQgMCE9PWUuZ2V0KCkpe2NvbnN0IHQ9RG4obC5rZXlmcmFtZXMscyk7aWYodm9pZCAwIT09dClyZXR1cm4gR24udXBkYXRlKCgoKT0+e2wub25VcGRhdGUodCksbC5vbkNvbXBsZXRlKCl9KSksbmV3IExlKFtdKX1yZXR1cm4haSYmaGkuc3VwcG9ydHMobCk/bmV3IGhpKGwpOm5ldyB0aShsKX0sdmk9dD0+QXJyYXkuaXNBcnJheSh0KSxtaT10PT5Cb29sZWFuKHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0Lm1peCYmdC50b1ZhbHVlKSxnaT10PT52aSh0KT90W3QubGVuZ3RoLTFdfHwwOnQ7Y2xhc3MgYml7Y29uc3RydWN0b3IoKXt0aGlzLnN1YnNjcmlwdGlvbnM9W119YWRkKHQpe3ZhciBlLG47cmV0dXJuIGU9dGhpcy5zdWJzY3JpcHRpb25zLG49dCwtMT09PWUuaW5kZXhPZihuKSYmZS5wdXNoKG4pLCgpPT52bih0aGlzLnN1YnNjcmlwdGlvbnMsdCl9bm90aWZ5KHQsZSxuKXtjb25zdCByPXRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGg7aWYocilpZigxPT09cil0aGlzLnN1YnNjcmlwdGlvbnNbMF0odCxlLG4pO2Vsc2UgZm9yKGxldCBvPTA7bzxyO28rKyl7Y29uc3Qgcj10aGlzLnN1YnNjcmlwdGlvbnNbb107ciYmcih0LGUsbil9fWdldFNpemUoKXtyZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aH1jbGVhcigpe3RoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGg9MH19Y29uc3Qgd2k9e2N1cnJlbnQ6dm9pZCAwfTtjbGFzcyBfaXtjb25zdHJ1Y3Rvcih0LGU9e30pe3RoaXMudmVyc2lvbj1cIjExLjExLjlcIix0aGlzLmNhblRyYWNrVmVsb2NpdHk9bnVsbCx0aGlzLmV2ZW50cz17fSx0aGlzLnVwZGF0ZUFuZE5vdGlmeT0odCxlPSEwKT0+e2NvbnN0IG49a28ubm93KCk7dGhpcy51cGRhdGVkQXQhPT1uJiZ0aGlzLnNldFByZXZGcmFtZVZhbHVlKCksdGhpcy5wcmV2PXRoaXMuY3VycmVudCx0aGlzLnNldEN1cnJlbnQodCksdGhpcy5jdXJyZW50IT09dGhpcy5wcmV2JiZ0aGlzLmV2ZW50cy5jaGFuZ2UmJnRoaXMuZXZlbnRzLmNoYW5nZS5ub3RpZnkodGhpcy5jdXJyZW50KSxlJiZ0aGlzLmV2ZW50cy5yZW5kZXJSZXF1ZXN0JiZ0aGlzLmV2ZW50cy5yZW5kZXJSZXF1ZXN0Lm5vdGlmeSh0aGlzLmN1cnJlbnQpfSx0aGlzLmhhc0FuaW1hdGVkPSExLHRoaXMuc2V0Q3VycmVudCh0KSx0aGlzLm93bmVyPWUub3duZXJ9c2V0Q3VycmVudCh0KXt2YXIgZTt0aGlzLmN1cnJlbnQ9dCx0aGlzLnVwZGF0ZWRBdD1rby5ub3coKSxudWxsPT09dGhpcy5jYW5UcmFja1ZlbG9jaXR5JiZ2b2lkIDAhPT10JiYodGhpcy5jYW5UcmFja1ZlbG9jaXR5PShlPXRoaXMuY3VycmVudCwhaXNOYU4ocGFyc2VGbG9hdChlKSkpKX1zZXRQcmV2RnJhbWVWYWx1ZSh0PXRoaXMuY3VycmVudCl7dGhpcy5wcmV2RnJhbWVWYWx1ZT10LHRoaXMucHJldlVwZGF0ZWRBdD10aGlzLnVwZGF0ZWRBdH1vbkNoYW5nZSh0KXtyZXR1cm4gdGhpcy5vbihcImNoYW5nZVwiLHQpfW9uKHQsZSl7dGhpcy5ldmVudHNbdF18fCh0aGlzLmV2ZW50c1t0XT1uZXcgYmkpO2NvbnN0IG49dGhpcy5ldmVudHNbdF0uYWRkKGUpO3JldHVyblwiY2hhbmdlXCI9PT10PygpPT57bigpLEduLnJlYWQoKCgpPT57dGhpcy5ldmVudHMuY2hhbmdlLmdldFNpemUoKXx8dGhpcy5zdG9wKCl9KSl9Om59Y2xlYXJMaXN0ZW5lcnMoKXtmb3IoY29uc3QgdCBpbiB0aGlzLmV2ZW50cyl0aGlzLmV2ZW50c1t0XS5jbGVhcigpfWF0dGFjaCh0LGUpe3RoaXMucGFzc2l2ZUVmZmVjdD10LHRoaXMuc3RvcFBhc3NpdmVFZmZlY3Q9ZX1zZXQodCxlPSEwKXtlJiZ0aGlzLnBhc3NpdmVFZmZlY3Q/dGhpcy5wYXNzaXZlRWZmZWN0KHQsdGhpcy51cGRhdGVBbmROb3RpZnkpOnRoaXMudXBkYXRlQW5kTm90aWZ5KHQsZSl9c2V0V2l0aFZlbG9jaXR5KHQsZSxuKXt0aGlzLnNldChlKSx0aGlzLnByZXY9dm9pZCAwLHRoaXMucHJldkZyYW1lVmFsdWU9dCx0aGlzLnByZXZVcGRhdGVkQXQ9dGhpcy51cGRhdGVkQXQtbn1qdW1wKHQsZT0hMCl7dGhpcy51cGRhdGVBbmROb3RpZnkodCksdGhpcy5wcmV2PXQsdGhpcy5wcmV2VXBkYXRlZEF0PXRoaXMucHJldkZyYW1lVmFsdWU9dm9pZCAwLGUmJnRoaXMuc3RvcCgpLHRoaXMuc3RvcFBhc3NpdmVFZmZlY3QmJnRoaXMuc3RvcFBhc3NpdmVFZmZlY3QoKX1nZXQoKXtyZXR1cm4gd2kuY3VycmVudCYmd2kuY3VycmVudC5wdXNoKHRoaXMpLHRoaXMuY3VycmVudH1nZXRQcmV2aW91cygpe3JldHVybiB0aGlzLnByZXZ9Z2V0VmVsb2NpdHkoKXtjb25zdCB0PWtvLm5vdygpO2lmKCF0aGlzLmNhblRyYWNrVmVsb2NpdHl8fHZvaWQgMD09PXRoaXMucHJldkZyYW1lVmFsdWV8fHQtdGhpcy51cGRhdGVkQXQ+MzApcmV0dXJuIDA7Y29uc3QgZT1NYXRoLm1pbih0aGlzLnVwZGF0ZWRBdC10aGlzLnByZXZVcGRhdGVkQXQsMzApO3JldHVybiBNZShwYXJzZUZsb2F0KHRoaXMuY3VycmVudCktcGFyc2VGbG9hdCh0aGlzLnByZXZGcmFtZVZhbHVlKSxlKX1zdGFydCh0KXtyZXR1cm4gdGhpcy5zdG9wKCksbmV3IFByb21pc2UoKGU9Pnt0aGlzLmhhc0FuaW1hdGVkPSEwLHRoaXMuYW5pbWF0aW9uPXQoZSksdGhpcy5ldmVudHMuYW5pbWF0aW9uU3RhcnQmJnRoaXMuZXZlbnRzLmFuaW1hdGlvblN0YXJ0Lm5vdGlmeSgpfSkpLnRoZW4oKCgpPT57dGhpcy5ldmVudHMuYW5pbWF0aW9uQ29tcGxldGUmJnRoaXMuZXZlbnRzLmFuaW1hdGlvbkNvbXBsZXRlLm5vdGlmeSgpLHRoaXMuY2xlYXJBbmltYXRpb24oKX0pKX1zdG9wKCl7dGhpcy5hbmltYXRpb24mJih0aGlzLmFuaW1hdGlvbi5zdG9wKCksdGhpcy5ldmVudHMuYW5pbWF0aW9uQ2FuY2VsJiZ0aGlzLmV2ZW50cy5hbmltYXRpb25DYW5jZWwubm90aWZ5KCkpLHRoaXMuY2xlYXJBbmltYXRpb24oKX1pc0FuaW1hdGluZygpe3JldHVybiEhdGhpcy5hbmltYXRpb259Y2xlYXJBbmltYXRpb24oKXtkZWxldGUgdGhpcy5hbmltYXRpb259ZGVzdHJveSgpe3RoaXMuY2xlYXJMaXN0ZW5lcnMoKSx0aGlzLnN0b3AoKSx0aGlzLnN0b3BQYXNzaXZlRWZmZWN0JiZ0aGlzLnN0b3BQYXNzaXZlRWZmZWN0KCl9fWZ1bmN0aW9uIFNpKHQsZSl7cmV0dXJuIG5ldyBfaSh0LGUpfWZ1bmN0aW9uIGtpKHQpe2NvbnN0IGU9W3t9LHt9XTtyZXR1cm4gbnVsbD09dHx8dC52YWx1ZXMuZm9yRWFjaCgoKHQsbik9PntlWzBdW25dPXQuZ2V0KCksZVsxXVtuXT10LmdldFZlbG9jaXR5KCl9KSksZX1mdW5jdGlvbiB4aSh0LGUsbixyKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXtjb25zdFtvLGldPWtpKHIpO2U9ZSh2b2lkIDAhPT1uP246dC5jdXN0b20sbyxpKX1pZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9dC52YXJpYW50cyYmdC52YXJpYW50c1tlXSksXCJmdW5jdGlvblwiPT10eXBlb2YgZSl7Y29uc3RbbyxpXT1raShyKTtlPWUodm9pZCAwIT09bj9uOnQuY3VzdG9tLG8saSl9cmV0dXJuIGV9ZnVuY3Rpb24gQWkodCxlLG4pe2NvbnN0IHI9dC5nZXRQcm9wcygpO3JldHVybiB4aShyLGUsdm9pZCAwIT09bj9uOnIuY3VzdG9tLHQpfWZ1bmN0aW9uIE9pKHQsZSxuKXt0Lmhhc1ZhbHVlKGUpP3QuZ2V0VmFsdWUoZSkuc2V0KG4pOnQuYWRkVmFsdWUoZSxTaShuKSl9Y29uc3QgVGk9dD0+dC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9ndSxcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCksRWk9XCJkYXRhLVwiK1RpKFwiZnJhbWVyQXBwZWFySWRcIik7ZnVuY3Rpb24gUGkodCl7cmV0dXJuIHQucHJvcHNbRWldfWZ1bmN0aW9uIGppKHQsZSl7aWYoIXQuYXBwbHlXaWxsQ2hhbmdlKXJldHVybjtjb25zdCBuPXQuZ2V0VmFsdWUoXCJ3aWxsQ2hhbmdlXCIpO3JldHVybiByPW4sQm9vbGVhbih1bihyKSYmci5hZGQpP24uYWRkKGUpOnZvaWQgMDt2YXIgcn1mdW5jdGlvbiBDaSh7cHJvdGVjdGVkS2V5czp0LG5lZWRzQW5pbWF0aW5nOmV9LG4pe2NvbnN0IHI9dC5oYXNPd25Qcm9wZXJ0eShuKSYmITAhPT1lW25dO3JldHVybiBlW25dPSExLHJ9ZnVuY3Rpb24gTGkodCxlLHtkZWxheTpuPTAsdHJhbnNpdGlvbk92ZXJyaWRlOnIsdHlwZTpvfT17fSl7dmFyIGk7bGV0e3RyYW5zaXRpb246YT10LmdldERlZmF1bHRUcmFuc2l0aW9uKCksdHJhbnNpdGlvbkVuZDpzLC4uLnV9PWU7ciYmKGE9cik7Y29uc3QgYz1bXSxsPW8mJnQuYW5pbWF0aW9uU3RhdGUmJnQuYW5pbWF0aW9uU3RhdGUuZ2V0U3RhdGUoKVtvXTtmb3IoY29uc3QgZSBpbiB1KXtjb25zdCByPXQuZ2V0VmFsdWUoZSxudWxsIT09KGk9dC5sYXRlc3RWYWx1ZXNbZV0pJiZ2b2lkIDAhPT1pP2k6bnVsbCksbz11W2VdO2lmKHZvaWQgMD09PW98fGwmJkNpKGwsZSkpY29udGludWU7Y29uc3Qgcz17ZGVsYXk6biwuLi5JbihhfHx7fSxlKX07bGV0IGY9ITE7aWYod2luZG93Lk1vdGlvbkhhbmRvZmZBbmltYXRpb24pe2NvbnN0IG49UGkodCk7aWYobil7Y29uc3QgdD13aW5kb3cuTW90aW9uSGFuZG9mZkFuaW1hdGlvbihuLGUsR24pO251bGwhPT10JiYocy5zdGFydFRpbWU9dCxmPSEwKX19amkodCxlKSxyLnN0YXJ0KHlpKGUscixvLHQuc2hvdWxkUmVkdWNlTW90aW9uJiZFbi5oYXMoZSk/e3R5cGU6ITF9OnMsdCxmKSk7Y29uc3QgcD1yLmFuaW1hdGlvbjtwJiZjLnB1c2gocCl9cmV0dXJuIHMmJlByb21pc2UuYWxsKGMpLnRoZW4oKCgpPT57R24udXBkYXRlKCgoKT0+e3MmJmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1BaSh0LGUpO2xldHt0cmFuc2l0aW9uRW5kOnI9e30sdHJhbnNpdGlvbjpvPXt9LC4uLml9PW58fHt9O2k9ey4uLmksLi4ucn07Zm9yKGNvbnN0IGUgaW4gaSlPaSh0LGUsZ2koaVtlXSkpfSh0LHMpfSkpfSkpLGN9Y29uc3QgSWk9e307ZnVuY3Rpb24gTmkodCx7bGF5b3V0OmUsbGF5b3V0SWQ6bn0pe3JldHVybiBFbi5oYXModCl8fHQuc3RhcnRzV2l0aChcIm9yaWdpblwiKXx8KGV8fHZvaWQgMCE9PW4pJiYoISFJaVt0XXx8XCJvcGFjaXR5XCI9PT10KX1mdW5jdGlvbiBNaSh0LGUsbil7dmFyIHI7Y29uc3R7c3R5bGU6b309dCxpPXt9O2Zvcihjb25zdCBhIGluIG8pKHVuKG9bYV0pfHxlLnN0eWxlJiZ1bihlLnN0eWxlW2FdKXx8TmkoYSx0KXx8dm9pZCAwIT09KG51bGw9PT0ocj1udWxsPT1uP3ZvaWQgMDpuLmdldFZhbHVlKGEpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5saXZlU3R5bGUpKSYmKGlbYV09b1thXSk7cmV0dXJuIG4mJm8mJlwic3RyaW5nXCI9PXR5cGVvZiBvLndpbGxDaGFuZ2UmJihuLmFwcGx5V2lsbENoYW5nZT0hMSksaX1mdW5jdGlvbiBSaSh0LGUsbil7Y29uc3Qgcj1NaSh0LGUsbik7Zm9yKGNvbnN0IG4gaW4gdClpZih1bih0W25dKXx8dW4oZVtuXSkpe3JbLTEhPT1Ubi5pbmRleE9mKG4pP1wiYXR0clwiK24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zdWJzdHJpbmcoMSk6bl09dFtuXX1yZXR1cm4gcn1jb25zdCBGaT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93LERpPXtjdXJyZW50Om51bGx9LEJpPXtjdXJyZW50OiExfTtmdW5jdGlvbiBWaSh0KXtyZXR1cm4gbnVsbCE9PXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnN0YXJ0fWZ1bmN0aW9uIEdpKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fHxBcnJheS5pc0FycmF5KHQpfWNvbnN0IFVpPVtcImFuaW1hdGVcIixcIndoaWxlSW5WaWV3XCIsXCJ3aGlsZUZvY3VzXCIsXCJ3aGlsZUhvdmVyXCIsXCJ3aGlsZVRhcFwiLFwid2hpbGVEcmFnXCIsXCJleGl0XCJdLEhpPVtcImluaXRpYWxcIiwuLi5VaV07ZnVuY3Rpb24gemkodCl7cmV0dXJuIFZpKHQuYW5pbWF0ZSl8fEhpLnNvbWUoKGU9PkdpKHRbZV0pKSl9ZnVuY3Rpb24gV2kodCl7cmV0dXJuIEJvb2xlYW4oemkodCl8fHQudmFyaWFudHMpfWNvbnN0ICRpPXthbmltYXRpb246W1wiYW5pbWF0ZVwiLFwidmFyaWFudHNcIixcIndoaWxlSG92ZXJcIixcIndoaWxlVGFwXCIsXCJleGl0XCIsXCJ3aGlsZUluVmlld1wiLFwid2hpbGVGb2N1c1wiLFwid2hpbGVEcmFnXCJdLGV4aXQ6W1wiZXhpdFwiXSxkcmFnOltcImRyYWdcIixcImRyYWdDb250cm9sc1wiXSxmb2N1czpbXCJ3aGlsZUZvY3VzXCJdLGhvdmVyOltcIndoaWxlSG92ZXJcIixcIm9uSG92ZXJTdGFydFwiLFwib25Ib3ZlckVuZFwiXSx0YXA6W1wid2hpbGVUYXBcIixcIm9uVGFwXCIsXCJvblRhcFN0YXJ0XCIsXCJvblRhcENhbmNlbFwiXSxwYW46W1wib25QYW5cIixcIm9uUGFuU3RhcnRcIixcIm9uUGFuU2Vzc2lvblN0YXJ0XCIsXCJvblBhbkVuZFwiXSxpblZpZXc6W1wid2hpbGVJblZpZXdcIixcIm9uVmlld3BvcnRFbnRlclwiLFwib25WaWV3cG9ydExlYXZlXCJdLGxheW91dDpbXCJsYXlvdXRcIixcImxheW91dElkXCJdfSxZaT17fTtmb3IoY29uc3QgdCBpbiAkaSlZaVt0XT17aXNFbmFibGVkOmU9PiRpW3RdLnNvbWUoKHQ9PiEhZVt0XSkpfTtjb25zdCBxaT1bLi4uQ3IscXIsYW9dLFhpPSgpPT4oe3g6e21pbjowLG1heDowfSx5OnttaW46MCxtYXg6MH19KSxLaT1bXCJBbmltYXRpb25TdGFydFwiLFwiQW5pbWF0aW9uQ29tcGxldGVcIixcIlVwZGF0ZVwiLFwiQmVmb3JlTGF5b3V0TWVhc3VyZVwiLFwiTGF5b3V0TWVhc3VyZVwiLFwiTGF5b3V0QW5pbWF0aW9uU3RhcnRcIixcIkxheW91dEFuaW1hdGlvbkNvbXBsZXRlXCJdO2NsYXNzIFppe3NjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyh0LGUsbil7cmV0dXJue319Y29uc3RydWN0b3Ioe3BhcmVudDp0LHByb3BzOmUscHJlc2VuY2VDb250ZXh0Om4scmVkdWNlZE1vdGlvbkNvbmZpZzpyLGJsb2NrSW5pdGlhbEFuaW1hdGlvbjpvLHZpc3VhbFN0YXRlOml9LGE9e30pe3RoaXMuYXBwbHlXaWxsQ2hhbmdlPSExLHRoaXMuY3VycmVudD1udWxsLHRoaXMuY2hpbGRyZW49bmV3IFNldCx0aGlzLmlzVmFyaWFudE5vZGU9ITEsdGhpcy5pc0NvbnRyb2xsaW5nVmFyaWFudHM9ITEsdGhpcy5zaG91bGRSZWR1Y2VNb3Rpb249bnVsbCx0aGlzLnZhbHVlcz1uZXcgTWFwLHRoaXMuS2V5ZnJhbWVSZXNvbHZlcj1Ecix0aGlzLmZlYXR1cmVzPXt9LHRoaXMudmFsdWVTdWJzY3JpcHRpb25zPW5ldyBNYXAsdGhpcy5wcmV2TW90aW9uVmFsdWVzPXt9LHRoaXMuZXZlbnRzPXt9LHRoaXMucHJvcEV2ZW50U3Vic2NyaXB0aW9ucz17fSx0aGlzLm5vdGlmeVVwZGF0ZT0oKT0+dGhpcy5ub3RpZnkoXCJVcGRhdGVcIix0aGlzLmxhdGVzdFZhbHVlcyksdGhpcy5yZW5kZXI9KCk9Pnt0aGlzLmN1cnJlbnQmJih0aGlzLnRyaWdnZXJCdWlsZCgpLHRoaXMucmVuZGVySW5zdGFuY2UodGhpcy5jdXJyZW50LHRoaXMucmVuZGVyU3RhdGUsdGhpcy5wcm9wcy5zdHlsZSx0aGlzLnByb2plY3Rpb24pKX0sdGhpcy5yZW5kZXJTY2hlZHVsZWRBdD0wLHRoaXMuc2NoZWR1bGVSZW5kZXI9KCk9Pntjb25zdCB0PWtvLm5vdygpO3RoaXMucmVuZGVyU2NoZWR1bGVkQXQ8dCYmKHRoaXMucmVuZGVyU2NoZWR1bGVkQXQ9dCxHbi5yZW5kZXIodGhpcy5yZW5kZXIsITEsITApKX07Y29uc3R7bGF0ZXN0VmFsdWVzOnMscmVuZGVyU3RhdGU6dX09aTt0aGlzLmxhdGVzdFZhbHVlcz1zLHRoaXMuYmFzZVRhcmdldD17Li4uc30sdGhpcy5pbml0aWFsVmFsdWVzPWUuaW5pdGlhbD97Li4uc306e30sdGhpcy5yZW5kZXJTdGF0ZT11LHRoaXMucGFyZW50PXQsdGhpcy5wcm9wcz1lLHRoaXMucHJlc2VuY2VDb250ZXh0PW4sdGhpcy5kZXB0aD10P3QuZGVwdGgrMTowLHRoaXMucmVkdWNlZE1vdGlvbkNvbmZpZz1yLHRoaXMub3B0aW9ucz1hLHRoaXMuYmxvY2tJbml0aWFsQW5pbWF0aW9uPUJvb2xlYW4obyksdGhpcy5pc0NvbnRyb2xsaW5nVmFyaWFudHM9emkoZSksdGhpcy5pc1ZhcmlhbnROb2RlPVdpKGUpLHRoaXMuaXNWYXJpYW50Tm9kZSYmKHRoaXMudmFyaWFudENoaWxkcmVuPW5ldyBTZXQpLHRoaXMubWFudWFsbHlBbmltYXRlT25Nb3VudD1Cb29sZWFuKHQmJnQuY3VycmVudCk7Y29uc3R7d2lsbENoYW5nZTpjLC4uLmx9PXRoaXMuc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzKGUse30sdGhpcyk7Zm9yKGNvbnN0IHQgaW4gbCl7Y29uc3QgZT1sW3RdO3ZvaWQgMCE9PXNbdF0mJnVuKGUpJiZlLnNldChzW3RdLCExKX19bW91bnQodCl7dGhpcy5jdXJyZW50PXQsT24uc2V0KHQsdGhpcyksdGhpcy5wcm9qZWN0aW9uJiYhdGhpcy5wcm9qZWN0aW9uLmluc3RhbmNlJiZ0aGlzLnByb2plY3Rpb24ubW91bnQodCksdGhpcy5wYXJlbnQmJnRoaXMuaXNWYXJpYW50Tm9kZSYmIXRoaXMuaXNDb250cm9sbGluZ1ZhcmlhbnRzJiYodGhpcy5yZW1vdmVGcm9tVmFyaWFudFRyZWU9dGhpcy5wYXJlbnQuYWRkVmFyaWFudENoaWxkKHRoaXMpKSx0aGlzLnZhbHVlcy5mb3JFYWNoKCgodCxlKT0+dGhpcy5iaW5kVG9Nb3Rpb25WYWx1ZShlLHQpKSksQmkuY3VycmVudHx8ZnVuY3Rpb24oKXtpZihCaS5jdXJyZW50PSEwLEZpKWlmKHdpbmRvdy5tYXRjaE1lZGlhKXtjb25zdCB0PXdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb24pXCIpLGU9KCk9PkRpLmN1cnJlbnQ9dC5tYXRjaGVzO3QuYWRkTGlzdGVuZXIoZSksZSgpfWVsc2UgRGkuY3VycmVudD0hMX0oKSx0aGlzLnNob3VsZFJlZHVjZU1vdGlvbj1cIm5ldmVyXCIhPT10aGlzLnJlZHVjZWRNb3Rpb25Db25maWcmJihcImFsd2F5c1wiPT09dGhpcy5yZWR1Y2VkTW90aW9uQ29uZmlnfHxEaS5jdXJyZW50KSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuY2hpbGRyZW4uYWRkKHRoaXMpLHRoaXMudXBkYXRlKHRoaXMucHJvcHMsdGhpcy5wcmVzZW5jZUNvbnRleHQpfXVubW91bnQoKXtPbi5kZWxldGUodGhpcy5jdXJyZW50KSx0aGlzLnByb2plY3Rpb24mJnRoaXMucHJvamVjdGlvbi51bm1vdW50KCksVW4odGhpcy5ub3RpZnlVcGRhdGUpLFVuKHRoaXMucmVuZGVyKSx0aGlzLnZhbHVlU3Vic2NyaXB0aW9ucy5mb3JFYWNoKCh0PT50KCkpKSx0aGlzLnZhbHVlU3Vic2NyaXB0aW9ucy5jbGVhcigpLHRoaXMucmVtb3ZlRnJvbVZhcmlhbnRUcmVlJiZ0aGlzLnJlbW92ZUZyb21WYXJpYW50VHJlZSgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5jaGlsZHJlbi5kZWxldGUodGhpcyk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5ldmVudHMpdGhpcy5ldmVudHNbdF0uY2xlYXIoKTtmb3IoY29uc3QgdCBpbiB0aGlzLmZlYXR1cmVzKXtjb25zdCBlPXRoaXMuZmVhdHVyZXNbdF07ZSYmKGUudW5tb3VudCgpLGUuaXNNb3VudGVkPSExKX10aGlzLmN1cnJlbnQ9bnVsbH1iaW5kVG9Nb3Rpb25WYWx1ZSh0LGUpe3RoaXMudmFsdWVTdWJzY3JpcHRpb25zLmhhcyh0KSYmdGhpcy52YWx1ZVN1YnNjcmlwdGlvbnMuZ2V0KHQpKCk7Y29uc3Qgbj1Fbi5oYXModCkscj1lLm9uKFwiY2hhbmdlXCIsKGU9Pnt0aGlzLmxhdGVzdFZhbHVlc1t0XT1lLHRoaXMucHJvcHMub25VcGRhdGUmJkduLnByZVJlbmRlcih0aGlzLm5vdGlmeVVwZGF0ZSksbiYmdGhpcy5wcm9qZWN0aW9uJiYodGhpcy5wcm9qZWN0aW9uLmlzVHJhbnNmb3JtRGlydHk9ITApfSkpLG89ZS5vbihcInJlbmRlclJlcXVlc3RcIix0aGlzLnNjaGVkdWxlUmVuZGVyKTtsZXQgaTt3aW5kb3cuTW90aW9uQ2hlY2tBcHBlYXJTeW5jJiYoaT13aW5kb3cuTW90aW9uQ2hlY2tBcHBlYXJTeW5jKHRoaXMsdCxlKSksdGhpcy52YWx1ZVN1YnNjcmlwdGlvbnMuc2V0KHQsKCgpPT57cigpLG8oKSxpJiZpKCksZS5vd25lciYmZS5zdG9wKCl9KSl9c29ydE5vZGVQb3NpdGlvbih0KXtyZXR1cm4gdGhpcy5jdXJyZW50JiZ0aGlzLnNvcnRJbnN0YW5jZU5vZGVQb3NpdGlvbiYmdGhpcy50eXBlPT09dC50eXBlP3RoaXMuc29ydEluc3RhbmNlTm9kZVBvc2l0aW9uKHRoaXMuY3VycmVudCx0LmN1cnJlbnQpOjB9dXBkYXRlRmVhdHVyZXMoKXtsZXQgdD1cImFuaW1hdGlvblwiO2Zvcih0IGluIFlpKXtjb25zdCBlPVlpW3RdO2lmKCFlKWNvbnRpbnVlO2NvbnN0e2lzRW5hYmxlZDpuLEZlYXR1cmU6cn09ZTtpZighdGhpcy5mZWF0dXJlc1t0XSYmciYmbih0aGlzLnByb3BzKSYmKHRoaXMuZmVhdHVyZXNbdF09bmV3IHIodGhpcykpLHRoaXMuZmVhdHVyZXNbdF0pe2NvbnN0IGU9dGhpcy5mZWF0dXJlc1t0XTtlLmlzTW91bnRlZD9lLnVwZGF0ZSgpOihlLm1vdW50KCksZS5pc01vdW50ZWQ9ITApfX19dHJpZ2dlckJ1aWxkKCl7dGhpcy5idWlsZCh0aGlzLnJlbmRlclN0YXRlLHRoaXMubGF0ZXN0VmFsdWVzLHRoaXMucHJvcHMpfW1lYXN1cmVWaWV3cG9ydEJveCgpe3JldHVybiB0aGlzLmN1cnJlbnQ/dGhpcy5tZWFzdXJlSW5zdGFuY2VWaWV3cG9ydEJveCh0aGlzLmN1cnJlbnQsdGhpcy5wcm9wcyk6e3g6e21pbjowLG1heDowfSx5OnttaW46MCxtYXg6MH19fWdldFN0YXRpY1ZhbHVlKHQpe3JldHVybiB0aGlzLmxhdGVzdFZhbHVlc1t0XX1zZXRTdGF0aWNWYWx1ZSh0LGUpe3RoaXMubGF0ZXN0VmFsdWVzW3RdPWV9dXBkYXRlKHQsZSl7KHQudHJhbnNmb3JtVGVtcGxhdGV8fHRoaXMucHJvcHMudHJhbnNmb3JtVGVtcGxhdGUpJiZ0aGlzLnNjaGVkdWxlUmVuZGVyKCksdGhpcy5wcmV2UHJvcHM9dGhpcy5wcm9wcyx0aGlzLnByb3BzPXQsdGhpcy5wcmV2UHJlc2VuY2VDb250ZXh0PXRoaXMucHJlc2VuY2VDb250ZXh0LHRoaXMucHJlc2VuY2VDb250ZXh0PWU7Zm9yKGxldCBlPTA7ZTxLaS5sZW5ndGg7ZSsrKXtjb25zdCBuPUtpW2VdO3RoaXMucHJvcEV2ZW50U3Vic2NyaXB0aW9uc1tuXSYmKHRoaXMucHJvcEV2ZW50U3Vic2NyaXB0aW9uc1tuXSgpLGRlbGV0ZSB0aGlzLnByb3BFdmVudFN1YnNjcmlwdGlvbnNbbl0pO2NvbnN0IHI9dFtcIm9uXCIrbl07ciYmKHRoaXMucHJvcEV2ZW50U3Vic2NyaXB0aW9uc1tuXT10aGlzLm9uKG4scikpfXRoaXMucHJldk1vdGlvblZhbHVlcz1mdW5jdGlvbih0LGUsbil7Zm9yKGNvbnN0IHIgaW4gZSl7Y29uc3Qgbz1lW3JdLGk9bltyXTtpZih1bihvKSl0LmFkZFZhbHVlKHIsbyk7ZWxzZSBpZih1bihpKSl0LmFkZFZhbHVlKHIsU2kobyx7b3duZXI6dH0pKTtlbHNlIGlmKGkhPT1vKWlmKHQuaGFzVmFsdWUocikpe2NvbnN0IGU9dC5nZXRWYWx1ZShyKTshMD09PWUubGl2ZVN0eWxlP2UuanVtcChvKTplLmhhc0FuaW1hdGVkfHxlLnNldChvKX1lbHNle2NvbnN0IGU9dC5nZXRTdGF0aWNWYWx1ZShyKTt0LmFkZFZhbHVlKHIsU2kodm9pZCAwIT09ZT9lOm8se293bmVyOnR9KSl9fWZvcihjb25zdCByIGluIG4pdm9pZCAwPT09ZVtyXSYmdC5yZW1vdmVWYWx1ZShyKTtyZXR1cm4gZX0odGhpcyx0aGlzLnNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyh0LHRoaXMucHJldlByb3BzLHRoaXMpLHRoaXMucHJldk1vdGlvblZhbHVlcyksdGhpcy5oYW5kbGVDaGlsZE1vdGlvblZhbHVlJiZ0aGlzLmhhbmRsZUNoaWxkTW90aW9uVmFsdWUoKX1nZXRQcm9wcygpe3JldHVybiB0aGlzLnByb3BzfWdldFZhcmlhbnQodCl7cmV0dXJuIHRoaXMucHJvcHMudmFyaWFudHM/dGhpcy5wcm9wcy52YXJpYW50c1t0XTp2b2lkIDB9Z2V0RGVmYXVsdFRyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy50cmFuc2l0aW9ufWdldFRyYW5zZm9ybVBhZ2VQb2ludCgpe3JldHVybiB0aGlzLnByb3BzLnRyYW5zZm9ybVBhZ2VQb2ludH1nZXRDbG9zZXN0VmFyaWFudE5vZGUoKXtyZXR1cm4gdGhpcy5pc1ZhcmlhbnROb2RlP3RoaXM6dGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQuZ2V0Q2xvc2VzdFZhcmlhbnROb2RlKCk6dm9pZCAwfWFkZFZhcmlhbnRDaGlsZCh0KXtjb25zdCBlPXRoaXMuZ2V0Q2xvc2VzdFZhcmlhbnROb2RlKCk7aWYoZSlyZXR1cm4gZS52YXJpYW50Q2hpbGRyZW4mJmUudmFyaWFudENoaWxkcmVuLmFkZCh0KSwoKT0+ZS52YXJpYW50Q2hpbGRyZW4uZGVsZXRlKHQpfWFkZFZhbHVlKHQsZSl7Y29uc3Qgbj10aGlzLnZhbHVlcy5nZXQodCk7ZSE9PW4mJihuJiZ0aGlzLnJlbW92ZVZhbHVlKHQpLHRoaXMuYmluZFRvTW90aW9uVmFsdWUodCxlKSx0aGlzLnZhbHVlcy5zZXQodCxlKSx0aGlzLmxhdGVzdFZhbHVlc1t0XT1lLmdldCgpKX1yZW1vdmVWYWx1ZSh0KXt0aGlzLnZhbHVlcy5kZWxldGUodCk7Y29uc3QgZT10aGlzLnZhbHVlU3Vic2NyaXB0aW9ucy5nZXQodCk7ZSYmKGUoKSx0aGlzLnZhbHVlU3Vic2NyaXB0aW9ucy5kZWxldGUodCkpLGRlbGV0ZSB0aGlzLmxhdGVzdFZhbHVlc1t0XSx0aGlzLnJlbW92ZVZhbHVlRnJvbVJlbmRlclN0YXRlKHQsdGhpcy5yZW5kZXJTdGF0ZSl9aGFzVmFsdWUodCl7cmV0dXJuIHRoaXMudmFsdWVzLmhhcyh0KX1nZXRWYWx1ZSh0LGUpe2lmKHRoaXMucHJvcHMudmFsdWVzJiZ0aGlzLnByb3BzLnZhbHVlc1t0XSlyZXR1cm4gdGhpcy5wcm9wcy52YWx1ZXNbdF07bGV0IG49dGhpcy52YWx1ZXMuZ2V0KHQpO3JldHVybiB2b2lkIDA9PT1uJiZ2b2lkIDAhPT1lJiYobj1TaShudWxsPT09ZT92b2lkIDA6ZSx7b3duZXI6dGhpc30pLHRoaXMuYWRkVmFsdWUodCxuKSksbn1yZWFkVmFsdWUodCxlKXt2YXIgbjtsZXQgcj12b2lkIDA9PT10aGlzLmxhdGVzdFZhbHVlc1t0XSYmdGhpcy5jdXJyZW50P251bGwhPT0obj10aGlzLmdldEJhc2VUYXJnZXRGcm9tUHJvcHModGhpcy5wcm9wcyx0KSkmJnZvaWQgMCE9PW4/bjp0aGlzLnJlYWRWYWx1ZUZyb21JbnN0YW5jZSh0aGlzLmN1cnJlbnQsdCx0aGlzLm9wdGlvbnMpOnRoaXMubGF0ZXN0VmFsdWVzW3RdO3ZhciBvO3JldHVybiBudWxsIT1yJiYoXCJzdHJpbmdcIj09dHlwZW9mIHImJihpcihyKXx8b3IocikpP3I9cGFyc2VGbG9hdChyKToobz1yLCFxaS5maW5kKGpyKG8pKSYmYW8udGVzdChlKSYmKHI9Z28odCxlKSkpLHRoaXMuc2V0QmFzZVRhcmdldCh0LHVuKHIpP3IuZ2V0KCk6cikpLHVuKHIpP3IuZ2V0KCk6cn1zZXRCYXNlVGFyZ2V0KHQsZSl7dGhpcy5iYXNlVGFyZ2V0W3RdPWV9Z2V0QmFzZVRhcmdldCh0KXt2YXIgZTtjb25zdHtpbml0aWFsOm59PXRoaXMucHJvcHM7bGV0IHI7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG58fFwib2JqZWN0XCI9PXR5cGVvZiBuKXtjb25zdCBvPXhpKHRoaXMucHJvcHMsbixudWxsPT09KGU9dGhpcy5wcmVzZW5jZUNvbnRleHQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmN1c3RvbSk7byYmKHI9b1t0XSl9aWYobiYmdm9pZCAwIT09cilyZXR1cm4gcjtjb25zdCBvPXRoaXMuZ2V0QmFzZVRhcmdldEZyb21Qcm9wcyh0aGlzLnByb3BzLHQpO3JldHVybiB2b2lkIDA9PT1vfHx1bihvKT92b2lkIDAhPT10aGlzLmluaXRpYWxWYWx1ZXNbdF0mJnZvaWQgMD09PXI/dm9pZCAwOnRoaXMuYmFzZVRhcmdldFt0XTpvfW9uKHQsZSl7cmV0dXJuIHRoaXMuZXZlbnRzW3RdfHwodGhpcy5ldmVudHNbdF09bmV3IGJpKSx0aGlzLmV2ZW50c1t0XS5hZGQoZSl9bm90aWZ5KHQsLi4uZSl7dGhpcy5ldmVudHNbdF0mJnRoaXMuZXZlbnRzW3RdLm5vdGlmeSguLi5lKX19Y2xhc3MgUWkgZXh0ZW5kcyBaaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5LZXlmcmFtZVJlc29sdmVyPXdvfXNvcnRJbnN0YW5jZU5vZGVQb3NpdGlvbih0LGUpe3JldHVybiAyJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSk/MTotMX1nZXRCYXNlVGFyZ2V0RnJvbVByb3BzKHQsZSl7cmV0dXJuIHQuc3R5bGU/dC5zdHlsZVtlXTp2b2lkIDB9cmVtb3ZlVmFsdWVGcm9tUmVuZGVyU3RhdGUodCx7dmFyczplLHN0eWxlOm59KXtkZWxldGUgZVt0XSxkZWxldGUgblt0XX19Y29uc3QgSmk9KHQsZSk9PmUmJlwibnVtYmVyXCI9PXR5cGVvZiB0P2UudHJhbnNmb3JtKHQpOnQsdGE9e3g6XCJ0cmFuc2xhdGVYXCIseTpcInRyYW5zbGF0ZVlcIix6OlwidHJhbnNsYXRlWlwiLHRyYW5zZm9ybVBlcnNwZWN0aXZlOlwicGVyc3BlY3RpdmVcIn0sZWE9VG4ubGVuZ3RoO2Z1bmN0aW9uIG5hKHQsZSxuKXtjb25zdHtzdHlsZTpyLHZhcnM6byx0cmFuc2Zvcm1PcmlnaW46aX09dDtsZXQgYT0hMSxzPSExO2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IG49ZVt0XTtpZihFbi5oYXModCkpYT0hMDtlbHNlIGlmKHNyKHQpKW9bdF09bjtlbHNle2NvbnN0IGU9Smkobix5b1t0XSk7dC5zdGFydHNXaXRoKFwib3JpZ2luXCIpPyhzPSEwLGlbdF09ZSk6clt0XT1lfX1pZihlLnRyYW5zZm9ybXx8KGF8fG4/ci50cmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe2xldCByPVwiXCIsbz0hMDtmb3IobGV0IGk9MDtpPGVhO2krKyl7Y29uc3QgYT1UbltpXSxzPXRbYV07aWYodm9pZCAwPT09cyljb250aW51ZTtsZXQgdT0hMDtpZih1PVwibnVtYmVyXCI9PXR5cGVvZiBzP3M9PT0oYS5zdGFydHNXaXRoKFwic2NhbGVcIik/MTowKTowPT09cGFyc2VGbG9hdChzKSwhdXx8bil7Y29uc3QgdD1KaShzLHlvW2FdKTt1fHwobz0hMSxyKz1gJHt0YVthXXx8YX0oJHt0fSkgYCksbiYmKGVbYV09dCl9fXJldHVybiByPXIudHJpbSgpLG4/cj1uKGUsbz9cIlwiOnIpOm8mJihyPVwibm9uZVwiKSxyfShlLHQudHJhbnNmb3JtLG4pOnIudHJhbnNmb3JtJiYoci50cmFuc2Zvcm09XCJub25lXCIpKSxzKXtjb25zdHtvcmlnaW5YOnQ9XCI1MCVcIixvcmlnaW5ZOmU9XCI1MCVcIixvcmlnaW5aOm49MH09aTtyLnRyYW5zZm9ybU9yaWdpbj1gJHt0fSAke2V9ICR7bn1gfX1mdW5jdGlvbiByYSh0LGUsbil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDpici50cmFuc2Zvcm0oZStuKnQpfWNvbnN0IG9hPXtvZmZzZXQ6XCJzdHJva2UtZGFzaG9mZnNldFwiLGFycmF5Olwic3Ryb2tlLWRhc2hhcnJheVwifSxpYT17b2Zmc2V0Olwic3Ryb2tlRGFzaG9mZnNldFwiLGFycmF5Olwic3Ryb2tlRGFzaGFycmF5XCJ9O2Z1bmN0aW9uIGFhKHQse2F0dHJYOmUsYXR0clk6bixhdHRyU2NhbGU6cixvcmlnaW5YOm8sb3JpZ2luWTppLHBhdGhMZW5ndGg6YSxwYXRoU3BhY2luZzpzPTEscGF0aE9mZnNldDp1PTAsLi4uY30sbCxmKXtpZihuYSh0LGMsZiksbClyZXR1cm4gdm9pZCh0LnN0eWxlLnZpZXdCb3gmJih0LmF0dHJzLnZpZXdCb3g9dC5zdHlsZS52aWV3Qm94KSk7dC5hdHRycz10LnN0eWxlLHQuc3R5bGU9e307Y29uc3R7YXR0cnM6cCxzdHlsZTpkLGRpbWVuc2lvbnM6aH09dDtwLnRyYW5zZm9ybSYmKGgmJihkLnRyYW5zZm9ybT1wLnRyYW5zZm9ybSksZGVsZXRlIHAudHJhbnNmb3JtKSxoJiYodm9pZCAwIT09b3x8dm9pZCAwIT09aXx8ZC50cmFuc2Zvcm0pJiYoZC50cmFuc2Zvcm1PcmlnaW49ZnVuY3Rpb24odCxlLG4pe3JldHVybmAke3JhKGUsdC54LHQud2lkdGgpfSAke3JhKG4sdC55LHQuaGVpZ2h0KX1gfShoLHZvaWQgMCE9PW8/bzouNSx2b2lkIDAhPT1pP2k6LjUpKSx2b2lkIDAhPT1lJiYocC54PWUpLHZvaWQgMCE9PW4mJihwLnk9biksdm9pZCAwIT09ciYmKHAuc2NhbGU9ciksdm9pZCAwIT09YSYmZnVuY3Rpb24odCxlLG49MSxyPTAsbz0hMCl7dC5wYXRoTGVuZ3RoPTE7Y29uc3QgaT1vP29hOmlhO3RbaS5vZmZzZXRdPWJyLnRyYW5zZm9ybSgtcik7Y29uc3QgYT1ici50cmFuc2Zvcm0oZSkscz1ici50cmFuc2Zvcm0obik7dFtpLmFycmF5XT1gJHthfSAke3N9YH0ocCxhLHMsdSwhMSl9Y29uc3Qgc2E9bmV3IFNldChbXCJiYXNlRnJlcXVlbmN5XCIsXCJkaWZmdXNlQ29uc3RhbnRcIixcImtlcm5lbE1hdHJpeFwiLFwia2VybmVsVW5pdExlbmd0aFwiLFwia2V5U3BsaW5lc1wiLFwia2V5VGltZXNcIixcImxpbWl0aW5nQ29uZUFuZ2xlXCIsXCJtYXJrZXJIZWlnaHRcIixcIm1hcmtlcldpZHRoXCIsXCJudW1PY3RhdmVzXCIsXCJ0YXJnZXRYXCIsXCJ0YXJnZXRZXCIsXCJzdXJmYWNlU2NhbGVcIixcInNwZWN1bGFyQ29uc3RhbnRcIixcInNwZWN1bGFyRXhwb25lbnRcIixcInN0ZERldmlhdGlvblwiLFwidGFibGVWYWx1ZXNcIixcInZpZXdCb3hcIixcImdyYWRpZW50VHJhbnNmb3JtXCIsXCJwYXRoTGVuZ3RoXCIsXCJzdGFydE9mZnNldFwiLFwidGV4dExlbmd0aFwiLFwibGVuZ3RoQWRqdXN0XCJdKTtmdW5jdGlvbiB1YSh0LHtzdHlsZTplLHZhcnM6bn0scixvKXtPYmplY3QuYXNzaWduKHQuc3R5bGUsZSxvJiZvLmdldFByb2plY3Rpb25TdHlsZXMocikpO2Zvcihjb25zdCBlIGluIG4pdC5zdHlsZS5zZXRQcm9wZXJ0eShlLG5bZV0pfWZ1bmN0aW9uIGNhKHQsZSxuLHIpe3VhKHQsZSx2b2lkIDAscik7Zm9yKGNvbnN0IG4gaW4gZS5hdHRycyl0LnNldEF0dHJpYnV0ZShzYS5oYXMobik/bjpUaShuKSxlLmF0dHJzW25dKX1jb25zdCBsYT10PT5cInN0cmluZ1wiPT10eXBlb2YgdCYmXCJzdmdcIj09PXQudG9Mb3dlckNhc2UoKTtjbGFzcyBmYSBleHRlbmRzIFFpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnR5cGU9XCJzdmdcIix0aGlzLmlzU1ZHVGFnPSExLHRoaXMubWVhc3VyZUluc3RhbmNlVmlld3BvcnRCb3g9WGl9Z2V0QmFzZVRhcmdldEZyb21Qcm9wcyh0LGUpe3JldHVybiB0W2VdfXJlYWRWYWx1ZUZyb21JbnN0YW5jZSh0LGUpe2lmKEVuLmhhcyhlKSl7Y29uc3QgdD1tbyhlKTtyZXR1cm4gdCYmdC5kZWZhdWx0fHwwfXJldHVybiBlPXNhLmhhcyhlKT9lOlRpKGUpLHQuZ2V0QXR0cmlidXRlKGUpfXNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyh0LGUsbil7cmV0dXJuIFJpKHQsZSxuKX1idWlsZCh0LGUsbil7YWEodCxlLHRoaXMuaXNTVkdUYWcsbi50cmFuc2Zvcm1UZW1wbGF0ZSl9cmVuZGVySW5zdGFuY2UodCxlLG4scil7Y2EodCxlLDAscil9bW91bnQodCl7dGhpcy5pc1NWR1RhZz1sYSh0LnRhZ05hbWUpLHN1cGVyLm1vdW50KHQpfX1mdW5jdGlvbiBwYSh0LGUpe3JldHVybiBmdW5jdGlvbih7dG9wOnQsbGVmdDplLHJpZ2h0Om4sYm90dG9tOnJ9KXtyZXR1cm57eDp7bWluOmUsbWF4Om59LHk6e21pbjp0LG1heDpyfX19KGZ1bmN0aW9uKHQsZSl7aWYoIWUpcmV0dXJuIHQ7Y29uc3Qgbj1lKHt4OnQubGVmdCx5OnQudG9wfSkscj1lKHt4OnQucmlnaHQseTp0LmJvdHRvbX0pO3JldHVybnt0b3A6bi55LGxlZnQ6bi54LGJvdHRvbTpyLnkscmlnaHQ6ci54fX0odC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxlKSl9Y2xhc3MgZGEgZXh0ZW5kcyBRaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50eXBlPVwiaHRtbFwiLHRoaXMuYXBwbHlXaWxsQ2hhbmdlPSEwLHRoaXMucmVuZGVySW5zdGFuY2U9dWF9cmVhZFZhbHVlRnJvbUluc3RhbmNlKHQsZSl7aWYoRW4uaGFzKGUpKXtjb25zdCB0PW1vKGUpO3JldHVybiB0JiZ0LmRlZmF1bHR8fDB9e2NvbnN0IHI9KG49dCx3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuKSksbz0oc3IoZSk/ci5nZXRQcm9wZXJ0eVZhbHVlKGUpOnJbZV0pfHwwO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBvP28udHJpbSgpOm99dmFyIG59bWVhc3VyZUluc3RhbmNlVmlld3BvcnRCb3godCx7dHJhbnNmb3JtUGFnZVBvaW50OmV9KXtyZXR1cm4gcGEodCxlKX1idWlsZCh0LGUsbil7bmEodCxlLG4udHJhbnNmb3JtVGVtcGxhdGUpfXNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyh0LGUsbil7cmV0dXJuIE1pKHQsZSxuKX1oYW5kbGVDaGlsZE1vdGlvblZhbHVlKCl7dGhpcy5jaGlsZFN1YnNjcmlwdGlvbiYmKHRoaXMuY2hpbGRTdWJzY3JpcHRpb24oKSxkZWxldGUgdGhpcy5jaGlsZFN1YnNjcmlwdGlvbik7Y29uc3R7Y2hpbGRyZW46dH09dGhpcy5wcm9wczt1bih0KSYmKHRoaXMuY2hpbGRTdWJzY3JpcHRpb249dC5vbihcImNoYW5nZVwiLCh0PT57dGhpcy5jdXJyZW50JiYodGhpcy5jdXJyZW50LnRleHRDb250ZW50PWAke3R9YCl9KSkpfX1jbGFzcyBoYSBleHRlbmRzIFppe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnR5cGU9XCJvYmplY3RcIn1yZWFkVmFsdWVGcm9tSW5zdGFuY2UodCxlKXtpZihmdW5jdGlvbih0LGUpe3JldHVybiB0IGluIGV9KGUsdCkpe2NvbnN0IG49dFtlXTtpZihcInN0cmluZ1wiPT10eXBlb2Ygbnx8XCJudW1iZXJcIj09dHlwZW9mIG4pcmV0dXJuIG59fWdldEJhc2VUYXJnZXRGcm9tUHJvcHMoKXt9cmVtb3ZlVmFsdWVGcm9tUmVuZGVyU3RhdGUodCxlKXtkZWxldGUgZS5vdXRwdXRbdF19bWVhc3VyZUluc3RhbmNlVmlld3BvcnRCb3goKXtyZXR1cm57eDp7bWluOjAsbWF4OjB9LHk6e21pbjowLG1heDowfX19YnVpbGQodCxlKXtPYmplY3QuYXNzaWduKHQub3V0cHV0LGUpfXJlbmRlckluc3RhbmNlKHQse291dHB1dDplfSl7T2JqZWN0LmFzc2lnbih0LGUpfXNvcnRJbnN0YW5jZU5vZGVQb3NpdGlvbigpe3JldHVybiAwfX1mdW5jdGlvbiB5YSh0KXtjb25zdCBlPXtwcmVzZW5jZUNvbnRleHQ6bnVsbCxwcm9wczp7fSx2aXN1YWxTdGF0ZTp7cmVuZGVyU3RhdGU6e3RyYW5zZm9ybTp7fSx0cmFuc2Zvcm1PcmlnaW46e30sc3R5bGU6e30sdmFyczp7fSxhdHRyczp7fX0sbGF0ZXN0VmFsdWVzOnt9fX0sbj1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQmJlwic3ZnXCIhPT10LnRhZ05hbWV9KHQpP25ldyBmYShlKTpuZXcgZGEoZSk7bi5tb3VudCh0KSxPbi5zZXQodCxuKX1mdW5jdGlvbiB2YSh0KXtjb25zdCBlPW5ldyBoYSh7cHJlc2VuY2VDb250ZXh0Om51bGwscHJvcHM6e30sdmlzdWFsU3RhdGU6e3JlbmRlclN0YXRlOntvdXRwdXQ6e319LGxhdGVzdFZhbHVlczp7fX19KTtlLm1vdW50KHQpLE9uLnNldCh0LGUpfWZ1bmN0aW9uIG1hKHQsZSxuLHIpe2NvbnN0IG89W107aWYoZnVuY3Rpb24odCxlKXtyZXR1cm4gdW4odCl8fFwibnVtYmVyXCI9PXR5cGVvZiB0fHxcInN0cmluZ1wiPT10eXBlb2YgdCYmIWNuKGUpfSh0LGUpKW8ucHVzaChmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj11bih0KT90OlNpKHQpO3JldHVybiByLnN0YXJ0KHlpKFwiXCIscixlLG4pKSxyLmFuaW1hdGlvbn0odCxjbihlKSYmZS5kZWZhdWx0fHxlLG4mJm4uZGVmYXVsdHx8bikpO2Vsc2V7Y29uc3QgaT1sbih0LGUsciksYT1pLmxlbmd0aDtWZShCb29sZWFuKGEpLFwiTm8gdmFsaWQgZWxlbWVudHMgcHJvdmlkZWQuXCIpO2ZvcihsZXQgdD0wO3Q8YTt0Kyspe2NvbnN0IHI9aVt0XSxzPXIgaW5zdGFuY2VvZiBFbGVtZW50P3lhOnZhO09uLmhhcyhyKXx8cyhyKTtjb25zdCB1PU9uLmdldChyKSxjPXsuLi5ufTtcImRlbGF5XCJpbiBjJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLmRlbGF5JiYoYy5kZWxheT1jLmRlbGF5KHQsYSkpLG8ucHVzaCguLi5MaSh1LHsuLi5lLHRyYW5zaXRpb246Y30se30pKX19cmV0dXJuIG99ZnVuY3Rpb24gZ2EodCxlLG4pe2NvbnN0IHI9W10sbz1mdW5jdGlvbih0LHtkZWZhdWx0VHJhbnNpdGlvbjplPXt9LC4uLm59PXt9LHIsbyl7Y29uc3QgaT1lLmR1cmF0aW9ufHwuMyxhPW5ldyBNYXAscz1uZXcgTWFwLHU9e30sYz1uZXcgTWFwO2xldCBsPTAsZj0wLHA9MDtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3QgYT10W25dO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXtjLnNldChhLGYpO2NvbnRpbnVlfWlmKCFBcnJheS5pc0FycmF5KGEpKXtjLnNldChhLm5hbWUscG4oZixhLmF0LGwsYykpO2NvbnRpbnVlfWxldFtkLGgseT17fV09YTt2b2lkIDAhPT15LmF0JiYoZj1wbihmLHkuYXQsbCxjKSk7bGV0IHY9MDtjb25zdCBtPSh0LG4scixhPTAscz0wKT0+e2NvbnN0IHU9U24odCkse2RlbGF5OmM9MCx0aW1lczpsPXNuKHUpLHR5cGU6ZD1cImtleWZyYW1lc1wiLC4uLmh9PW47bGV0e2Vhc2U6eT1lLmVhc2V8fFwiZWFzZU91dFwiLGR1cmF0aW9uOm19PW47Y29uc3QgZz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjP2MoYSxzKTpjLGI9dS5sZW5ndGgsdz1mbihkKT9kOm51bGw9PW8/dm9pZCAwOm9bZF07aWYoYjw9MiYmdyl7bGV0IHQ9MTAwO2lmKDI9PT1iJiZBbih1KSl7Y29uc3QgZT11WzFdLXVbMF07dD1NYXRoLmFicyhlKX1jb25zdCBlPXsuLi5ofTt2b2lkIDAhPT1tJiYoZS5kdXJhdGlvbj1JZShtKSk7Y29uc3Qgbj1ubihlLHQsdyk7eT1uLmVhc2UsbT1uLmR1cmF0aW9ufW51bGwhPW18fChtPWkpO2NvbnN0IF89ZitnLFM9XyttOzE9PT1sLmxlbmd0aCYmMD09PWxbMF0mJihsWzFdPTEpO2NvbnN0IGs9bC5sZW5ndGgtdS5sZW5ndGg7az4wJiZhbihsLGspLDE9PT11Lmxlbmd0aCYmdS51bnNoaWZ0KG51bGwpLG1uKHIsdSx5LGwsXyxTKSx2PU1hdGgubWF4KGcrbSx2KSxwPU1hdGgubWF4KFMscCl9O2lmKHVuKGQpKW0oaCx5LF9uKFwiZGVmYXVsdFwiLHduKGQscykpKTtlbHNle2NvbnN0IHQ9bG4oZCxoLHIsdSksZT10Lmxlbmd0aDtmb3IobGV0IG49MDtuPGU7bisrKXtjb25zdCByPXduKHRbbl0scyk7Zm9yKGNvbnN0IHQgaW4gaCltKGhbdF0sa24oeSx0KSxfbih0LHIpLG4sZSl9fWw9ZixmKz12fXJldHVybiBzLmZvckVhY2goKCh0LHIpPT57Zm9yKGNvbnN0IG8gaW4gdCl7Y29uc3QgaT10W29dO2kuc29ydChnbik7Y29uc3Qgcz1bXSx1PVtdLGM9W107Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kyspe2NvbnN0e2F0OmUsdmFsdWU6bixlYXNpbmc6cn09aVt0XTtzLnB1c2gobiksdS5wdXNoKG9uKDAscCxlKSksYy5wdXNoKHJ8fFwiZWFzZU91dFwiKX0wIT09dVswXSYmKHUudW5zaGlmdCgwKSxzLnVuc2hpZnQoc1swXSksYy51bnNoaWZ0KGJuKSksMSE9PXVbdS5sZW5ndGgtMV0mJih1LnB1c2goMSkscy5wdXNoKG51bGwpKSxhLmhhcyhyKXx8YS5zZXQocix7a2V5ZnJhbWVzOnt9LHRyYW5zaXRpb246e319KTtjb25zdCBsPWEuZ2V0KHIpO2wua2V5ZnJhbWVzW29dPXMsbC50cmFuc2l0aW9uW29dPXsuLi5lLGR1cmF0aW9uOnAsZWFzZTpjLHRpbWVzOnUsLi4ubn19fSkpLGF9KHQsZSxuLHtzcHJpbmc6SmV9KTtyZXR1cm4gby5mb3JFYWNoKCgoe2tleWZyYW1lczp0LHRyYW5zaXRpb246ZX0sbik9PntyLnB1c2goLi4ubWEobix0LGUpKX0pKSxyfWNvbnN0IGJhPWZ1bmN0aW9uKHQsZSxuKXtsZXQgcj1bXTt2YXIgbztvPXQscj1BcnJheS5pc0FycmF5KG8pJiZBcnJheS5pc0FycmF5KG9bMF0pP2dhKHQsZSx3YSk6bWEodCxlLG4sd2EpO2NvbnN0IGk9bmV3IExlKHIpO3JldHVybiB3YSYmd2EuYW5pbWF0aW9ucy5wdXNoKGkpLGl9O3ZhciB3YTtmdW5jdGlvbiBfYSh0KXtyZXR1cm4gX2E9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sX2EodCl9ZnVuY3Rpb24gU2EoKXsvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovU2E9ZnVuY3Rpb24oKXtyZXR1cm4gZX07dmFyIHQsZT17fSxuPU9iamVjdC5wcm90b3R5cGUscj1uLmhhc093blByb3BlcnR5LG89T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbih0LGUsbil7dFtlXT1uLnZhbHVlfSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYT1pLml0ZXJhdG9yfHxcIkBAaXRlcmF0b3JcIixzPWkuYXN5bmNJdGVyYXRvcnx8XCJAQGFzeW5jSXRlcmF0b3JcIix1PWkudG9TdHJpbmdUYWd8fFwiQEB0b1N0cmluZ1RhZ1wiO2Z1bmN0aW9uIGModCxlLG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksdFtlXX10cnl7Yyh7fSxcIlwiKX1jYXRjaCh0KXtjPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1ufX1mdW5jdGlvbiBsKHQsZSxuLHIpe3ZhciBpPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgbT9lOm0sYT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxzPW5ldyBqKHJ8fFtdKTtyZXR1cm4gbyhhLFwiX2ludm9rZVwiLHt2YWx1ZTpPKHQsbixzKX0pLGF9ZnVuY3Rpb24gZih0LGUsbil7dHJ5e3JldHVybnt0eXBlOlwibm9ybWFsXCIsYXJnOnQuY2FsbChlLG4pfX1jYXRjaCh0KXtyZXR1cm57dHlwZTpcInRocm93XCIsYXJnOnR9fX1lLndyYXA9bDt2YXIgcD1cInN1c3BlbmRlZFN0YXJ0XCIsZD1cInN1c3BlbmRlZFlpZWxkXCIsaD1cImV4ZWN1dGluZ1wiLHk9XCJjb21wbGV0ZWRcIix2PXt9O2Z1bmN0aW9uIG0oKXt9ZnVuY3Rpb24gZygpe31mdW5jdGlvbiBiKCl7fXZhciB3PXt9O2ModyxhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBfPU9iamVjdC5nZXRQcm90b3R5cGVPZixTPV8mJl8oXyhDKFtdKSkpO1MmJlMhPT1uJiZyLmNhbGwoUyxhKSYmKHc9Uyk7dmFyIGs9Yi5wcm90b3R5cGU9bS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3KTtmdW5jdGlvbiB4KHQpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Yyh0LGUsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX0pKX0pKX1mdW5jdGlvbiBBKHQsZSl7ZnVuY3Rpb24gbihvLGksYSxzKXt2YXIgdT1mKHRbb10sdCxpKTtpZihcInRocm93XCIhPT11LnR5cGUpe3ZhciBjPXUuYXJnLGw9Yy52YWx1ZTtyZXR1cm4gbCYmXCJvYmplY3RcIj09X2EobCkmJnIuY2FsbChsLFwiX19hd2FpdFwiKT9lLnJlc29sdmUobC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih0KXtuKFwibmV4dFwiLHQsYSxzKX0pLChmdW5jdGlvbih0KXtuKFwidGhyb3dcIix0LGEscyl9KSk6ZS5yZXNvbHZlKGwpLnRoZW4oKGZ1bmN0aW9uKHQpe2MudmFsdWU9dCxhKGMpfSksKGZ1bmN0aW9uKHQpe3JldHVybiBuKFwidGhyb3dcIix0LGEscyl9KSl9cyh1LmFyZyl9dmFyIGk7byh0aGlzLFwiX2ludm9rZVwiLHt2YWx1ZTpmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIG8oKXtyZXR1cm4gbmV3IGUoKGZ1bmN0aW9uKGUsbyl7bih0LHIsZSxvKX0pKX1yZXR1cm4gaT1pP2kudGhlbihvLG8pOm8oKX19KX1mdW5jdGlvbiBPKGUsbixyKXt2YXIgbz1wO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1oKXRocm93IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtpZihvPT09eSl7aWYoXCJ0aHJvd1wiPT09aSl0aHJvdyBhO3JldHVybnt2YWx1ZTp0LGRvbmU6ITB9fWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgdT1UKHMscik7aWYodSl7aWYodT09PXYpY29udGludWU7cmV0dXJuIHV9fWlmKFwibmV4dFwiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZihcInRocm93XCI9PT1yLm1ldGhvZCl7aWYobz09PXApdGhyb3cgbz15LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2VcInJldHVyblwiPT09ci5tZXRob2QmJnIuYWJydXB0KFwicmV0dXJuXCIsci5hcmcpO289aDt2YXIgYz1mKGUsbixyKTtpZihcIm5vcm1hbFwiPT09Yy50eXBlKXtpZihvPXIuZG9uZT95OmQsYy5hcmc9PT12KWNvbnRpbnVlO3JldHVybnt2YWx1ZTpjLmFyZyxkb25lOnIuZG9uZX19XCJ0aHJvd1wiPT09Yy50eXBlJiYobz15LHIubWV0aG9kPVwidGhyb3dcIixyLmFyZz1jLmFyZyl9fX1mdW5jdGlvbiBUKGUsbil7dmFyIHI9bi5tZXRob2Qsbz1lLml0ZXJhdG9yW3JdO2lmKG89PT10KXJldHVybiBuLmRlbGVnYXRlPW51bGwsXCJ0aHJvd1wiPT09ciYmZS5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD1cInJldHVyblwiLG4uYXJnPXQsVChlLG4pLFwidGhyb3dcIj09PW4ubWV0aG9kKXx8XCJyZXR1cm5cIiE9PXImJihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiK3IrXCInIG1ldGhvZFwiKSksdjt2YXIgaT1mKG8sZS5pdGVyYXRvcixuLmFyZyk7aWYoXCJ0aHJvd1wiPT09aS50eXBlKXJldHVybiBuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHY7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW2UucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9ZS5uZXh0TG9jLFwicmV0dXJuXCIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPXQpLG4uZGVsZWdhdGU9bnVsbCx2KTphOihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLG4uZGVsZWdhdGU9bnVsbCx2KX1mdW5jdGlvbiBFKHQpe3ZhciBlPXt0cnlMb2M6dFswXX07MSBpbiB0JiYoZS5jYXRjaExvYz10WzFdKSwyIGluIHQmJihlLmZpbmFsbHlMb2M9dFsyXSxlLmFmdGVyTG9jPXRbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKGUpfWZ1bmN0aW9uIFAodCl7dmFyIGU9dC5jb21wbGV0aW9ufHx7fTtlLnR5cGU9XCJub3JtYWxcIixkZWxldGUgZS5hcmcsdC5jb21wbGV0aW9uPWV9ZnVuY3Rpb24gaih0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XCJyb290XCJ9XSx0LmZvckVhY2goRSx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBDKGUpe2lmKGV8fFwiXCI9PT1lKXt2YXIgbj1lW2FdO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG89LTEsaT1mdW5jdGlvbiBuKCl7Zm9yKDsrK288ZS5sZW5ndGg7KWlmKHIuY2FsbChlLG8pKXJldHVybiBuLnZhbHVlPWVbb10sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9dCxuLmRvbmU9ITAsbn07cmV0dXJuIGkubmV4dD1pfX10aHJvdyBuZXcgVHlwZUVycm9yKF9hKGUpK1wiIGlzIG5vdCBpdGVyYWJsZVwiKX1yZXR1cm4gZy5wcm90b3R5cGU9YixvKGssXCJjb25zdHJ1Y3RvclwiLHt2YWx1ZTpiLGNvbmZpZ3VyYWJsZTohMH0pLG8oYixcImNvbnN0cnVjdG9yXCIse3ZhbHVlOmcsY29uZmlndXJhYmxlOiEwfSksZy5kaXNwbGF5TmFtZT1jKGIsdSxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLGUuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbih0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNvbnN0cnVjdG9yO3JldHVybiEhZSYmKGU9PT1nfHxcIkdlbmVyYXRvckZ1bmN0aW9uXCI9PT0oZS5kaXNwbGF5TmFtZXx8ZS5uYW1lKSl9LGUubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGIpOih0Ll9fcHJvdG9fXz1iLGModCx1LFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoayksdH0sZS5hd3JhcD1mdW5jdGlvbih0KXtyZXR1cm57X19hd2FpdDp0fX0seChBLnByb3RvdHlwZSksYyhBLnByb3RvdHlwZSxzLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGUuQXN5bmNJdGVyYXRvcj1BLGUuYXN5bmM9ZnVuY3Rpb24odCxuLHIsbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgQShsKHQsbixyLG8pLGkpO3JldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24obik/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kb25lP3QudmFsdWU6YS5uZXh0KCl9KSl9LHgoayksYyhrLHUsXCJHZW5lcmF0b3JcIiksYyhrLGEsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksYyhrLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgR2VuZXJhdG9yXVwifSkpLGUua2V5cz1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QodCksbj1bXTtmb3IodmFyIHIgaW4gZSluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIHQoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5wb3AoKTtpZihyIGluIGUpcmV0dXJuIHQudmFsdWU9cix0LmRvbmU9ITEsdH1yZXR1cm4gdC5kb25lPSEwLHR9fSxlLnZhbHVlcz1DLGoucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpqLHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PXQsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLmFyZz10LHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKFApLCFlKWZvcih2YXIgbiBpbiB0aGlzKVwidFwiPT09bi5jaGFyQXQoMCkmJnIuY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgdD10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIG49dGhpcztmdW5jdGlvbiBvKHIsbyl7cmV0dXJuIHMudHlwZT1cInRocm93XCIscy5hcmc9ZSxuLm5leHQ9cixvJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9dCksISFvfWZvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBhPXRoaXMudHJ5RW50cmllc1tpXSxzPWEuY29tcGxldGlvbjtpZihcInJvb3RcIj09PWEudHJ5TG9jKXJldHVybiBvKFwiZW5kXCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciB1PXIuY2FsbChhLFwiY2F0Y2hMb2NcIiksYz1yLmNhbGwoYSxcImZpbmFsbHlMb2NcIik7aWYodSYmYyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIG8oYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gbyhhLmZpbmFsbHlMb2MpfWVsc2UgaWYodSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIG8oYS5jYXRjaExvYywhMCl9ZWxzZXtpZighYyl0aHJvdyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIG89dGhpcy50cnlFbnRyaWVzW25dO2lmKG8udHJ5TG9jPD10aGlzLnByZXYmJnIuY2FsbChvLFwiZmluYWxseUxvY1wiKSYmdGhpcy5wcmV2PG8uZmluYWxseUxvYyl7dmFyIGk9bzticmVha319aSYmKFwiYnJlYWtcIj09PXR8fFwiY29udGludWVcIj09PXQpJiZpLnRyeUxvYzw9ZSYmZTw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgYT1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPXQsYS5hcmc9ZSxpPyh0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLm5leHQ9aS5maW5hbGx5TG9jLHYpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVyblwiYnJlYWtcIj09PXQudHlwZXx8XCJjb250aW51ZVwiPT09dC50eXBlP3RoaXMubmV4dD10LmFyZzpcInJldHVyblwiPT09dC50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9dC5hcmcsdGhpcy5tZXRob2Q9XCJyZXR1cm5cIix0aGlzLm5leHQ9XCJlbmRcIik6XCJub3JtYWxcIj09PXQudHlwZSYmZSYmKHRoaXMubmV4dD1lKSx2fSxmaW5pc2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4uZmluYWxseUxvYz09PXQpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLFAobiksdn19LGNhdGNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLnRyeUxvYz09PXQpe3ZhciByPW4uY29tcGxldGlvbjtpZihcInRocm93XCI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO1Aobil9cmV0dXJuIG99fXRocm93IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6QyhlKSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSxcIm5leHRcIj09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dCksdn19LGV9ZnVuY3Rpb24ga2EodCxlKXt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KHQpfHwobj1BYSh0KSl8fGUmJnQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aCl7biYmKHQ9bik7dmFyIHI9MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpvLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49dC5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOnRbcisrXX19LGU6ZnVuY3Rpb24odCl7dGhyb3cgdH0sZjpvfX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIGksYT0hMCxzPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwodCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1uLm5leHQoKTtyZXR1cm4gYT10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXtzPSEwLGk9dH0sZjpmdW5jdGlvbigpe3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgaX19fX1mdW5jdGlvbiB4YSh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gT2EodCl9KHQpfHxmdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT10W1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPXRbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8QWEodCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gQWEodCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gT2EodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9PYSh0LGUpOnZvaWQgMH19ZnVuY3Rpb24gT2EodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIFRhKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFBhKHIua2V5KSxyKX19ZnVuY3Rpb24gRWEodCxlLG4pe3JldHVybihlPVBhKGUpKWluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fWZ1bmN0aW9uIFBhKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9X2EodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9X2EocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1fYShlKT9lOmUrXCJcIn12YXIgamE9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gYSh0KXt0cnl7dShyLm5leHQodCkpfWNhdGNoKHQpe2kodCl9fWZ1bmN0aW9uIHModCl7dHJ5e3Uoci50aHJvdyh0KSl9Y2F0Y2godCl7aSh0KX19ZnVuY3Rpb24gdSh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oKGZ1bmN0aW9uKHQpe3QoZSl9KSkpLnRoZW4oYSxzKX11KChyPXIuYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9LENhPUVhKEVhKEVhKHt9LG1lLFwiMjUuMzMlXCIpLHZlLFwiNTAlXCIpLGdlLFwiNzUuNjYlXCIpLExhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe2lmKGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLnNlcXVlbmNlcz1bXSx0aGlzLmNvbnRyb2w9bnVsbCx0aGlzLnRyYW5zZm9ybWVycz17fSxBcnJheS5pc0FycmF5KGUpKXt2YXIgcjsocj10aGlzLnNlcXVlbmNlcykucHVzaC5hcHBseShyLHhhKGUpKSx0aGlzLnNlcXVlbmNlT3B0aW9ucz1PYmplY3QuYXNzaWduKHt9LHQuZGVmYXVsdFNlcXVlbmNlT3B0aW9ucyxufHx7fSl9ZWxzZXt2YXIgbz1lLGk9bnx8dC5kZWZhdWx0T3B0aW9uczt0aGlzLnNlcXVlbmNlcy5wdXNoKHtwcm9wczpvLG9wdGlvbnM6aXx8e319KSx0aGlzLnNlcXVlbmNlT3B0aW9ucz1PYmplY3QuYXNzaWduKHt9LHQuZGVmYXVsdFNlcXVlbmNlT3B0aW9ucyl9fXJldHVybiBmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJlRhKHQucHJvdG90eXBlLGUpLG4mJlRhKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSh0LFt7a2V5OlwiYW5pbWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsbixyKXt2YXIgbz1lLnNjb3BlLGk9ZS5vdmVyd3JpdGVzLGE9ZS50YXJnZXQ7cmV0dXJuIGphKHRoaXMsdm9pZCAwLHZvaWQgMCxTYSgpLm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgcz10aGlzO3JldHVybiBTYSgpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLmFicnVwdChcInJldHVyblwiLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtqYShzLHZvaWQgMCx2b2lkIDAsU2EoKS5tYXJrKChmdW5jdGlvbiBzKCl7dmFyIHUsYyxsLGYscD10aGlzO3JldHVybiBTYSgpLndyYXAoKGZ1bmN0aW9uKHMpe2Zvcig7Oylzd2l0Y2gocy5wcmV2PXMubmV4dCl7Y2FzZSAwOnRoaXMuc2VxdWVuY2VPcHRpb25zLnN5bmN8fGUoKSx1PTA7Y2FzZSAyOmlmKCEodTx0aGlzLnNlcXVlbmNlT3B0aW9ucy5yZXBlYXQpKXtzLm5leHQ9MjI7YnJlYWt9Yz1rYSh0aGlzLnNlcXVlbmNlcykscy5wcmV2PTQsZj1TYSgpLm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgcixzLHUsYyxmLGQ7cmV0dXJuIFNhKCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYocj1sLnZhbHVlLHM9ci5wcm9wcyx1PXIub3B0aW9ucyxjPWIoe30scC5wcm9wVG9DU1MobixhLnN0YXRlKSksby5jdXJyZW50KXtlLm5leHQ9NDticmVha310aHJvdyBuZXcgRXJyb3IoXCJObyBzY29wZSBmb3VuZCB3aGVuIGFuaW1hdGluZy5cIik7Y2FzZSA0OmlmKGY9by5jdXJyZW50LE9iamVjdC5hc3NpZ24oZi5zdHlsZSxjKSxhLnN0YXRlPXQubWVyZ2VTdGF0ZShhLnN0YXRlLHMpLGQ9YmEoZixwLnByb3BUb0NTUyhuLGEuc3RhdGUsaSkscC5vcHRpb25zVG9GcmFtZXJNb3Rpb25PcHRpb25zKHUpfHx7fSkscC5zZXRDb250cm9sKGQpLG4ubG9nZ2VyLmRlYnVnKFwiQW5pbWF0aW5nXCIscC5wcm9wVG9DU1MobixhLnN0YXRlLGkpKSwhMSE9PShudWxsPT11P3ZvaWQgMDp1LnN5bmMpKXtlLm5leHQ9MTQ7YnJlYWt9ZC50aGVuKChmdW5jdGlvbigpe09iamVjdC5hc3NpZ24oZi5zdHlsZSxwLnByb3BUb0NTUyhuLGEuc3RhdGUsaSkpLHAuc2V0Q29udHJvbChudWxsKX0pKSxlLm5leHQ9MTg7YnJlYWs7Y2FzZSAxNDpyZXR1cm4gZS5uZXh0PTE2LG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtyZXR1cm4gZC50aGVuKChmdW5jdGlvbigpe3JldHVybiB0KCl9KSl9KSk7Y2FzZSAxNjpPYmplY3QuYXNzaWduKGYuc3R5bGUscC5wcm9wVG9DU1MobixhLnN0YXRlLGkpKSxwLnNldENvbnRyb2wobnVsbCk7Y2FzZSAxODpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSksYy5zKCk7Y2FzZSA3OmlmKChsPWMubigpKS5kb25lKXtzLm5leHQ9MTE7YnJlYWt9cmV0dXJuIHMuZGVsZWdhdGVZaWVsZChmKCksXCJ0MFwiLDkpO2Nhc2UgOTpzLm5leHQ9NzticmVhaztjYXNlIDExOnMubmV4dD0xNjticmVhaztjYXNlIDEzOnMucHJldj0xMyxzLnQxPXMuY2F0Y2goNCksYy5lKHMudDEpO2Nhc2UgMTY6cmV0dXJuIHMucHJldj0xNixjLmYoKSxzLmZpbmlzaCgxNik7Y2FzZSAxOTp1Kysscy5uZXh0PTI7YnJlYWs7Y2FzZSAyMjpyZXR1cm4gcy5uZXh0PTI0LEEoMik7Y2FzZSAyNDp0aGlzLnNldENvbnRyb2wobnVsbCksZSgpLHImJnIoYS5zdGF0ZSk7Y2FzZSAyNzpjYXNlXCJlbmRcIjpyZXR1cm4gcy5zdG9wKCl9fSkscyx0aGlzLFtbNCwxMywxNiwxOV1dKX0pKSl9KSkpO2Nhc2UgMTpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpfX0se2tleTpcInJlcGVhdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNlcXVlbmNlT3B0aW9ucy5yZXBlYXQqPXQsdGhpc319LHtrZXk6XCJvdmVyd3JpdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRyYW5zZm9ybWVyc1t0XT1lLHRoaXN9fSx7a2V5OlwicHJvcFRvQ1NTXCIsdmFsdWU6ZnVuY3Rpb24oZSxuLHIpe3ZhciBvLGk9KG51bGw9PT0obz1lLmdldExhc3RTY2VuZSgpKXx8dm9pZCAwPT09bz92b2lkIDA6by5jb25maWcpfHx7fSxhPWkuaW52ZXJ0WSxzPWkuaW52ZXJ0WCx1PXtwb3NpdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gdC5wb3NpdGlvblRvQ1NTKGUsYSxzKX0sYmFja2dyb3VuZENvbG9yOmZ1bmN0aW9uKGUpe3JldHVybiB0LmJhY2tncm91bmRUb0NTUyhlKX0sYmFja2dyb3VuZE9wYWNpdHk6ZnVuY3Rpb24odCl7cmV0dXJue29wYWNpdHk6dH19LG9wYWNpdHk6ZnVuY3Rpb24odCl7cmV0dXJue29wYWNpdHk6dH19LHNjYWxlOmZ1bmN0aW9uKCl7cmV0dXJuXCJzY2FsZVwiaW4gbj97d2lkdGg6XCJcIi5jb25jYXQoMTAwKm4uc2NhbGUsXCIlXCIpfTp7fX0scm90YXRpb246ZnVuY3Rpb24oKXtyZXR1cm57fX0sZGlzcGxheTpmdW5jdGlvbigpe3JldHVybnt9fSxzcmM6ZnVuY3Rpb24oKXtyZXR1cm57fX0sZm9udFNpemU6ZnVuY3Rpb24odCl7cmV0dXJue2ZvbnRTaXplOnR9fSxmb250Q29sb3I6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/e2NvbG9yOnR9Ontjb2xvcjpTKHQpfX19LGM9e307Zm9yKHZhciBsIGluIGMudHJhbnNmb3JtPXQucHJvcFRvQ1NTVHJhbnNmb3JtKGUsbiksdGhpcy50cmFuc2Zvcm1lcnMudHJhbnNmb3JtJiZPYmplY3QuYXNzaWduKGMsdGhpcy50cmFuc2Zvcm1lcnMudHJhbnNmb3JtKG4pKSxyJiZyLnRyYW5zZm9ybSYmT2JqZWN0LmFzc2lnbihjLHIudHJhbnNmb3JtKG4pKSxuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGwpJiYociYmcltsXT9PYmplY3QuYXNzaWduKGMscltsXShuW2xdKSk6dGhpcy50cmFuc2Zvcm1lcnNbbF0/T2JqZWN0LmFzc2lnbihjLHRoaXMudHJhbnNmb3JtZXJzW2xdKG5bbF0pKTp1W2xdJiZPYmplY3QuYXNzaWduKGMsdVtsXShuW2xdKSkpO3JldHVybiBjfX0se2tleTpcIm9wdGlvbnNUb0ZyYW1lck1vdGlvbk9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdClyZXR1cm4gdDt2YXIgZT10LmR1cmF0aW9uO3JldHVybntkdXJhdGlvbjplP2UvMWUzOjAsZWFzZTp0LmVhc2V9fX0se2tleTpcInNldENvbnRyb2xcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250cm9sPXQsdGhpc319LHtrZXk6XCJnZXRDb250cm9sXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250cm9sfX0se2tleTpcImNvcHlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLnNlcXVlbmNlcyx0aGlzLnNlcXVlbmNlT3B0aW9ucyl9fV0sW3trZXk6XCJpc1Bvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIFRlLmlzQ29tbW9uUG9zaXRpb25UeXBlKHQpfHxFZS5pc0Nvb3JkMkRQb3NpdGlvbih0KXx8UGUuaXNBbGlnblBvc2l0aW9uKHQpfX0se2tleTpcInBvc2l0aW9uVG9DU1NcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ/T2UuaXNSYXdQb3NpdGlvbih0KT9PZS5EMlBvc2l0aW9uVG9DU1MoT2UucmF3UG9zaXRpb25Ub0Nvb3JkMkQodCksbixlKTpPZS5EMlBvc2l0aW9uVG9DU1ModC50b0NTUygpLG4sZSk6e319fSx7a2V5OlwiYmFja2dyb3VuZFRvQ1NTXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/e306YnMuaXNTdGF0aWNJbWFnZURhdGEodCk/e2JhY2tncm91bmRJbWFnZTpcInVybChcIi5jb25jYXQodC5zcmMsXCIpXCIpfTpcInN0cmluZ1wiPT10eXBlb2YgdD97YmFja2dyb3VuZENvbG9yOnR9OltcInJcIixcImdcIixcImJcIl0uZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluIHR9KSk/e2JhY2tncm91bmRDb2xvcjpTKHQpfTp7YmFja2dyb3VuZEltYWdlOlwidXJsKFwiK3QudXJsK1wiKVwifX19LHtrZXk6XCJtZXJnZVBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZighdCYmIWUpdGhyb3cgbmV3IEVycm9yKFwiTm8gcG9zaXRpb24gZm91bmQuXCIpO3JldHVybiB0JiZlP09lLm1lcmdlUG9zaXRpb24oT2UudHJ5UGFyc2VQb3NpdGlvbih0KSxPZS50cnlQYXJzZVBvc2l0aW9uKGUpKTpPZS50b0Nvb3JkMkQoT2UudHJ5UGFyc2VQb3NpdGlvbih0fHxlKSl9fSx7a2V5OlwibWVyZ2VTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5tZXJnZVBvc2l0aW9uKHQucG9zaXRpb24sZS5wb3NpdGlvbik7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxiKHQsZSkpLHtwb3NpdGlvbjpufSl9fSx7a2V5OlwicHJvcFRvQ1NTVHJhbnNmb3JtXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpbXTtpZighdC5nZXRMYXN0U2NlbmUoKSl0aHJvdyBuZXcgRXJyb3IoJ05vIHNjZW5lIGZvdW5kIGluIHN0YXRlLCBtYWtlIHN1cmUgeW91IGNhbGxlZCBcInNjZW5lLmFjdGl2YXRlKClcIiBiZWZvcmUgdGhpcyBtZXRob2QuJyk7dmFyIG89KG51bGw9PT0obj10LmdldExhc3RTY2VuZSgpKXx8dm9pZCAwPT09bj92b2lkIDA6bi5jb25maWcpfHx7fSxpPW8uaW52ZXJ0WSxhPW8uaW52ZXJ0WDtyZXR1cm5bXCJ0cmFuc2xhdGUoXCIuY29uY2F0KHJbMF18fChhP1wiXCI6XCItXCIpK1wiNTAlXCIsXCIsIFwiKS5jb25jYXQoclsxXXx8KGk/XCJcIjpcIi1cIikrXCI1MCVcIixcIilcIiksdm9pZCAwIT09ZS5yb3RhdGlvbiYmXCJyb3RhdGUoXCIuY29uY2F0KGUucm90YXRpb24sXCJkZWcpXCIpXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIil9fV0pfSgpO2Z1bmN0aW9uIElhKHQpe3JldHVybiBJYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxJYSh0KX1mdW5jdGlvbiBOYSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxNYShyLmtleSkscil9fWZ1bmN0aW9uIE1hKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9SWEodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9SWEocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1JYShlKT9lOmUrXCJcIn1mdW5jdGlvbiBSYSh0LGUsbil7cmV0dXJuIGU9RGEoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09SWEoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsRmEoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLERhKHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIEZhKCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oRmE9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIERhKHQpe3JldHVybiBEYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sRGEodCl9ZnVuY3Rpb24gQmEodCxlKXtyZXR1cm4gQmE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxCYSh0LGUpfUxhLmRlZmF1bHRTZXF1ZW5jZU9wdGlvbnM9e3N5bmM6ITAscmVwZWF0OjF9LExhLmRlZmF1bHRPcHRpb25zPXtkdXJhdGlvbjowLGVhc2U6XCJsaW5lYXJcIn0sTGEuQ29tbW9uSW1hZ2VQb3NpdGlvbk1hcD1DYTt2YXIgVmE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksUmEodGhpcyxlKX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmQmEodCxlKX0oZSx0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJk5hKHQucHJvdG90eXBlLGUpLG4mJk5hKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShlLFt7a2V5OlwiZG9cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wdXNoKCR0LkFjdGlvblR5cGVzLmRvLHQpfX0se2tleTpcImRvQXN5bmNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wdXNoKCR0LkFjdGlvblR5cGVzLmRvQXN5bmMsdCl9fSx7a2V5OlwiYW55XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHVzaCgkdC5BY3Rpb25UeXBlcy5hbnksdCl9fSx7a2V5OlwiYWxsXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHVzaCgkdC5BY3Rpb25UeXBlcy5hbGwsdCl9fSx7a2V5OlwiYWxsQXN5bmNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wdXNoKCR0LkFjdGlvblR5cGVzLmFsbEFzeW5jLHQpfX0se2tleTpcInJlcGVhdFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucHVzaCgkdC5BY3Rpb25UeXBlcy5yZXBlYXQsZSx0KX19LHtrZXk6XCJzbGVlcFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnB1c2goJHQuQWN0aW9uVHlwZXMuc2xlZXAsW10sdCl9fSx7a2V5OlwicHVzaFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWllLnRvQWN0aW9ucyhlKSxyPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkocj4yP3ItMjowKSxpPTI7aTxyO2krKylvW2ktMl09YXJndW1lbnRzW2ldO3ZhciBhPW5ldyAkdCh0aGlzLmNoYWluKCksdCwobmV3IHh0KS5zZXRDb250ZW50KFt0aGlzLmNvbnN0cnVjdChuKV0uY29uY2F0KG8pKSk7cmV0dXJuIHRoaXMuY2hhaW4oYSl9fV0sW3trZXk6XCJkb1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybihuZXcgZSkuZG8odCl9fSx7a2V5OlwiZG9Bc3luY1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybihuZXcgZSkuZG9Bc3luYyh0KX19LHtrZXk6XCJhbnlcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4obmV3IGUpLmFueSh0KX19LHtrZXk6XCJhbGxcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4obmV3IGUpLmFsbCh0KX19LHtrZXk6XCJhbGxBc3luY1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybihuZXcgZSkuYWxsQXN5bmModCl9fSx7a2V5OlwicmVwZWF0XCIsdmFsdWU6ZnVuY3Rpb24odCxuKXtyZXR1cm4obmV3IGUpLnJlcGVhdCh0LG4pfX0se2tleTpcInNsZWVwXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuKG5ldyBlKS5zbGVlcCh0KX19XSl9KHllKTtmdW5jdGlvbiBHYSh0KXtyZXR1cm4gR2E9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sR2EodCl9ZnVuY3Rpb24gVWEodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsSGEoci5rZXkpLHIpfX1mdW5jdGlvbiBIYSh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPUdhKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPUdhKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09R2EoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gemEodCxlLG4pe3JldHVybiBlPSRhKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PUdhKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LFdhKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSwkYSh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBXYSgpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKFdhPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiAkYSh0KXtyZXR1cm4gJGE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LCRhKHQpfWZ1bmN0aW9uIFlhKHQsZSl7cmV0dXJuIFlhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sWWEodCxlKX12YXIgcWE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LG4pe3ZhciByO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksKHI9emEodGhpcyxlKSkuZXZlbnRzPW5ldyBrLHIucmVmPXZvaWQgMCxcInN0cmluZ1wiPT10eXBlb2YgdD8oci5uYW1lPXQsci5jb25maWc9YihlLmRlZmF1bHRDb25maWcsbnx8e30pLHIuY29uZmlnLnBvc2l0aW9uJiYoci5jb25maWcucG9zaXRpb249T2UudHJ5UGFyc2VQb3NpdGlvbihyLmNvbmZpZy5wb3NpdGlvbikpKTooci5uYW1lPVwiXCIsci5jb25maWc9YihlLmRlZmF1bHRDb25maWcsdCksci5jb25maWcucG9zaXRpb24mJihyLmNvbmZpZy5wb3NpdGlvbj1PZS50cnlQYXJzZVBvc2l0aW9uKHIuY29uZmlnLnBvc2l0aW9uKSkpLHIuc3RhdGU9Yih7fSxyLmNvbmZpZyksci5jaGVja0NvbmZpZygpLHJ9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJllhKHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZVYSh0LnByb3RvdHlwZSxlKSxuJiZVYSh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcImRpc3Bvc2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXNwb3NlKCl9fSx7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hhaW4odGhpcy5faW5pdCgpKX19LHtrZXk6XCJjaGVja0NvbmZpZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuY29uZmlnLnNyYyl0aHJvdyBuZXcgRXJyb3IoXCJJbWFnZSBzcmMgaXMgcmVxdWlyZWRcIik7aWYoIUxhLmlzUG9zaXRpb24odGhpcy5jb25maWcucG9zaXRpb24pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcG9zaXRpb25cXG5Qb3NpdGlvbiBtdXN0IGJlIG9uZSBvZiBDb21tb25JbWFnZVBvc2l0aW9uLCBBbGlnbiwgQ29vcmQyRFwiKTtyZXR1cm4gdGhpc319LHtrZXk6XCJzZXRTcmNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuY29tYmluZUFjdGlvbnMobmV3IFZhLChmdW5jdGlvbihyKXtpZihlKXt2YXIgbz1lLmNvcHkoKTtvLnNldFNyYyhicy5zcmNUb1N0cmluZyh0KSksci5fdHJhbnNpdGlvblNyYyhvKX12YXIgaT1uZXcgYXMocixhcy5BY3Rpb25UeXBlcy5zZXRTcmMsKG5ldyB4dCkuc2V0Q29udGVudChbXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDpicy5zdGF0aWNJbWFnZURhdGFUb1NyYyh0KV0pKTtyZXR1cm4gci5jaGFpbihpKS5jaGFpbihuLl9mbHVzaCgpKX0pKX19LHtrZXk6XCJhcHBseVRyYW5zZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuY29tYmluZUFjdGlvbnMobmV3IFZhLChmdW5jdGlvbihuKXt2YXIgcj1uZXcgYXMobixhcy5BY3Rpb25UeXBlcy5hcHBseVRyYW5zZm9ybSwobmV3IHh0KS5zZXRDb250ZW50KFt2b2lkIDAsdC5jb3B5KCkseCgpXSkpO3JldHVybiBuLmNoYWluKHIpLmNoYWluKGUuX2ZsdXNoKCkpfSkpfX0se2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dCBpbnN0YW5jZW9mIExhP3QuY29weSgpOm5ldyBMYShbe3Byb3BzOntvcGFjaXR5OjF9LG9wdGlvbnM6dHx8e319XSk7cmV0dXJuIHRoaXMuY29tYmluZUFjdGlvbnMobmV3IFZhLChmdW5jdGlvbih0KXt2YXIgcj1uZXcgYXModCxhcy5BY3Rpb25UeXBlcy5zaG93LChuZXcgeHQpLnNldENvbnRlbnQoW3ZvaWQgMCxuXSkpO3JldHVybiB0LmNoYWluKHIpLmNoYWluKGUuX2ZsdXNoKCkpfSkpfX0se2tleTpcImhpZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmNvbWJpbmVBY3Rpb25zKG5ldyBWYSwoZnVuY3Rpb24obil7dmFyIHI9bmV3IGFzKG4sYXMuQWN0aW9uVHlwZXMuaGlkZSwobmV3IHh0KS5zZXRDb250ZW50KFt2b2lkIDAsdCBpbnN0YW5jZW9mIExhP3QuY29weSgpOm5ldyBMYShbe3Byb3BzOntvcGFjaXR5OjB9LG9wdGlvbnM6dHx8e319XSldKSk7cmV0dXJuIG4uY2hhaW4ocikuY2hhaW4oZS5fZmx1c2goKSl9KSl9fSx7a2V5OlwidG9UcmFuc2Zvcm1cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgTGEodGhpcy5zdGF0ZSx7ZHVyYXRpb246MH0pfX0se2tleTpcInNldFNjb3BlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVmPXQsdGhpc319LHtrZXk6XCJnZXRTY29wZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVmfX0se2tleTpcImNvcHlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLm5hbWUsdGhpcy5jb25maWcpfX0se2tleTpcInRvRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuZGlzcG9zZWR8fE8odGhpcy5zdGF0ZSx0aGlzLmNvbmZpZyk/bnVsbDp7c3RhdGU6Yih7fSxlLnNlcmlhbGl6ZUltYWdlU3RhdGUodGhpcy5zdGF0ZSkpfX19LHtrZXk6XCJmcm9tRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlPWIodGhpcy5zdGF0ZSxlLmRlc2VyaWFsaXplSW1hZ2VTdGF0ZSh0LnN0YXRlKSksdGhpc319LHtrZXk6XCJfJHNldERpc3Bvc2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLmRpc3Bvc2VkPSEwLHRoaXN9fSx7a2V5OlwiX2FwcGx5VHJhbnNpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoYWluKG5ldyBhcyh0aGlzLmNoYWluKCksXCJpbWFnZTphcHBseVRyYW5zaXRpb25cIiwobmV3IHh0KS5zZXRDb250ZW50KFt0XSkpKX19LHtrZXk6XCJfaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYXModGhpcy5jaGFpbigpLGFzLkFjdGlvblR5cGVzLmluaXQsKG5ldyB4dCkuc2V0Q29udGVudChbdF0pKX19LHtrZXk6XCJfZmx1c2hcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgYXModGhpcy5jaGFpbigpLGFzLkFjdGlvblR5cGVzLmZsdXNoLG5ldyB4dCl9fSx7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9Yih7fSx0aGlzLmNvbmZpZyl9fSx7a2V5OlwidG9EaXNwbGF5YWJsZVRyYW5zZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMYSh0aGlzLnN0YXRlLHtkdXJhdGlvbjowfSl9fSx7a2V5OlwiX3RyYW5zaXRpb25TcmNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmNvcHkoKTtyZXR1cm4gdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGUpLHRoaXN9fSx7a2V5OlwiX2Rpc3Bvc2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoYWluKG5ldyBhcyh0aGlzLmNoYWluKCksYXMuQWN0aW9uVHlwZXMuZGlzcG9zZSxuZXcgeHQpKX19XSxbe2tleTpcInNlcmlhbGl6ZUltYWdlU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT17cG9zaXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIE9lLnNlcmlhbGl6ZVBvc2l0aW9uKHQpfX0sbj17fTtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKG5bcl09ZVtyXT9lW3JdKHRbcl0pOnRbcl0pO3JldHVybiBufX0se2tleTpcImRlc2VyaWFsaXplSW1hZ2VTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXtwb3NpdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gT2UudG9Db29yZDJEKHQpfX0sbj17fTtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKG5bcl09ZVtyXT9lW3JdKHRbcl0pOnRbcl0pO3JldHVybiBufX1dKX0oeWUpO2Z1bmN0aW9uIFhhKHQpe3JldHVybiBYYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxYYSh0KX1mdW5jdGlvbiBLYSgpey8qISByZWdlbmVyYXRvci1ydW50aW1lIC0tIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLiAtLSBsaWNlbnNlIChNSVQpOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL0xJQ0VOU0UgKi9LYT1mdW5jdGlvbigpe3JldHVybiBlfTt2YXIgdCxlPXt9LG49T2JqZWN0LnByb3RvdHlwZSxyPW4uaGFzT3duUHJvcGVydHksbz1PYmplY3QuZGVmaW5lUHJvcGVydHl8fGZ1bmN0aW9uKHQsZSxuKXt0W2VdPW4udmFsdWV9LGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxhPWkuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLHM9aS5hc3luY0l0ZXJhdG9yfHxcIkBAYXN5bmNJdGVyYXRvclwiLHU9aS50b1N0cmluZ1RhZ3x8XCJAQHRvU3RyaW5nVGFnXCI7ZnVuY3Rpb24gYyh0LGUsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSx0W2VdfXRyeXtjKHt9LFwiXCIpfWNhdGNoKHQpe2M9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW59fWZ1bmN0aW9uIGwodCxlLG4scil7dmFyIGk9ZSYmZS5wcm90b3R5cGUgaW5zdGFuY2VvZiBtP2U6bSxhPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLHM9bmV3IGoocnx8W10pO3JldHVybiBvKGEsXCJfaW52b2tlXCIse3ZhbHVlOk8odCxuLHMpfSksYX1mdW5jdGlvbiBmKHQsZSxuKXt0cnl7cmV0dXJue3R5cGU6XCJub3JtYWxcIixhcmc6dC5jYWxsKGUsbil9fWNhdGNoKHQpe3JldHVybnt0eXBlOlwidGhyb3dcIixhcmc6dH19fWUud3JhcD1sO3ZhciBwPVwic3VzcGVuZGVkU3RhcnRcIixkPVwic3VzcGVuZGVkWWllbGRcIixoPVwiZXhlY3V0aW5nXCIseT1cImNvbXBsZXRlZFwiLHY9e307ZnVuY3Rpb24gbSgpe31mdW5jdGlvbiBnKCl7fWZ1bmN0aW9uIGIoKXt9dmFyIHc9e307Yyh3LGEsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIF89T2JqZWN0LmdldFByb3RvdHlwZU9mLFM9XyYmXyhfKEMoW10pKSk7UyYmUyE9PW4mJnIuY2FsbChTLGEpJiYodz1TKTt2YXIgaz1iLnByb3RvdHlwZT1tLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpO2Z1bmN0aW9uIHgodCl7W1wibmV4dFwiLFwidGhyb3dcIixcInJldHVyblwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtjKHQsZSwoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ludm9rZShlLHQpfSkpfSkpfWZ1bmN0aW9uIEEodCxlKXtmdW5jdGlvbiBuKG8saSxhLHMpe3ZhciB1PWYodFtvXSx0LGkpO2lmKFwidGhyb3dcIiE9PXUudHlwZSl7dmFyIGM9dS5hcmcsbD1jLnZhbHVlO3JldHVybiBsJiZcIm9iamVjdFwiPT1YYShsKSYmci5jYWxsKGwsXCJfX2F3YWl0XCIpP2UucmVzb2x2ZShsLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKHQpe24oXCJuZXh0XCIsdCxhLHMpfSksKGZ1bmN0aW9uKHQpe24oXCJ0aHJvd1wiLHQsYSxzKX0pKTplLnJlc29sdmUobCkudGhlbigoZnVuY3Rpb24odCl7Yy52YWx1ZT10LGEoYyl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIG4oXCJ0aHJvd1wiLHQsYSxzKX0pKX1zKHUuYXJnKX12YXIgaTtvKHRoaXMsXCJfaW52b2tlXCIse3ZhbHVlOmZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gbygpe3JldHVybiBuZXcgZSgoZnVuY3Rpb24oZSxvKXtuKHQscixlLG8pfSkpfXJldHVybiBpPWk/aS50aGVuKG8sbyk6bygpfX0pfWZ1bmN0aW9uIE8oZSxuLHIpe3ZhciBvPXA7cmV0dXJuIGZ1bmN0aW9uKGksYSl7aWYobz09PWgpdGhyb3cgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2lmKG89PT15KXtpZihcInRocm93XCI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgcz1yLmRlbGVnYXRlO2lmKHMpe3ZhciB1PVQocyxyKTtpZih1KXtpZih1PT09diljb250aW51ZTtyZXR1cm4gdX19aWYoXCJuZXh0XCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKFwidGhyb3dcIj09PXIubWV0aG9kKXtpZihvPT09cCl0aHJvdyBvPXksci5hcmc7ci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZyl9ZWxzZVwicmV0dXJuXCI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoXCJyZXR1cm5cIixyLmFyZyk7bz1oO3ZhciBjPWYoZSxuLHIpO2lmKFwibm9ybWFsXCI9PT1jLnR5cGUpe2lmKG89ci5kb25lP3k6ZCxjLmFyZz09PXYpY29udGludWU7cmV0dXJue3ZhbHVlOmMuYXJnLGRvbmU6ci5kb25lfX1cInRocm93XCI9PT1jLnR5cGUmJihvPXksci5tZXRob2Q9XCJ0aHJvd1wiLHIuYXJnPWMuYXJnKX19fWZ1bmN0aW9uIFQoZSxuKXt2YXIgcj1uLm1ldGhvZCxvPWUuaXRlcmF0b3Jbcl07aWYobz09PXQpcmV0dXJuIG4uZGVsZWdhdGU9bnVsbCxcInRocm93XCI9PT1yJiZlLml0ZXJhdG9yLnJldHVybiYmKG4ubWV0aG9kPVwicmV0dXJuXCIsbi5hcmc9dCxUKGUsbiksXCJ0aHJvd1wiPT09bi5tZXRob2QpfHxcInJldHVyblwiIT09ciYmKG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIrcitcIicgbWV0aG9kXCIpKSx2O3ZhciBpPWYobyxlLml0ZXJhdG9yLG4uYXJnKTtpZihcInRocm93XCI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1pLmFyZyxuLmRlbGVnYXRlPW51bGwsdjt2YXIgYT1pLmFyZztyZXR1cm4gYT9hLmRvbmU/KG5bZS5yZXN1bHROYW1lXT1hLnZhbHVlLG4ubmV4dD1lLm5leHRMb2MsXCJyZXR1cm5cIiE9PW4ubWV0aG9kJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9dCksbi5kZWxlZ2F0ZT1udWxsLHYpOmE6KG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksbi5kZWxlZ2F0ZT1udWxsLHYpfWZ1bmN0aW9uIEUodCl7dmFyIGU9e3RyeUxvYzp0WzBdfTsxIGluIHQmJihlLmNhdGNoTG9jPXRbMV0pLDIgaW4gdCYmKGUuZmluYWxseUxvYz10WzJdLGUuYWZ0ZXJMb2M9dFszXSksdGhpcy50cnlFbnRyaWVzLnB1c2goZSl9ZnVuY3Rpb24gUCh0KXt2YXIgZT10LmNvbXBsZXRpb258fHt9O2UudHlwZT1cIm5vcm1hbFwiLGRlbGV0ZSBlLmFyZyx0LmNvbXBsZXRpb249ZX1mdW5jdGlvbiBqKHQpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzpcInJvb3RcIn1dLHQuZm9yRWFjaChFLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIEMoZSl7aWYoZXx8XCJcIj09PWUpe3ZhciBuPWVbYV07aWYobilyZXR1cm4gbi5jYWxsKGUpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUubmV4dClyZXR1cm4gZTtpZighaXNOYU4oZS5sZW5ndGgpKXt2YXIgbz0tMSxpPWZ1bmN0aW9uIG4oKXtmb3IoOysrbzxlLmxlbmd0aDspaWYoci5jYWxsKGUsbykpcmV0dXJuIG4udmFsdWU9ZVtvXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT10LG4uZG9uZT0hMCxufTtyZXR1cm4gaS5uZXh0PWl9fXRocm93IG5ldyBUeXBlRXJyb3IoWGEoZSkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpfXJldHVybiBnLnByb3RvdHlwZT1iLG8oayxcImNvbnN0cnVjdG9yXCIse3ZhbHVlOmIsY29uZmlndXJhYmxlOiEwfSksbyhiLFwiY29uc3RydWN0b3JcIix7dmFsdWU6Zyxjb25maWd1cmFibGU6ITB9KSxnLmRpc3BsYXlOYW1lPWMoYix1LFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksZS5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFlJiYoZT09PWd8fFwiR2VuZXJhdG9yRnVuY3Rpb25cIj09PShlLmRpc3BsYXlOYW1lfHxlLm5hbWUpKX0sZS5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsYik6KHQuX19wcm90b19fPWIsYyh0LHUsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrKSx0fSxlLmF3cmFwPWZ1bmN0aW9uKHQpe3JldHVybntfX2F3YWl0OnR9fSx4KEEucHJvdG90eXBlKSxjKEEucHJvdG90eXBlLHMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksZS5Bc3luY0l0ZXJhdG9yPUEsZS5hc3luYz1mdW5jdGlvbih0LG4scixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBBKGwodCxuLHIsbyksaSk7cmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRvbmU/dC52YWx1ZTphLm5leHQoKX0pKX0seChrKSxjKGssdSxcIkdlbmVyYXRvclwiKSxjKGssYSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxjKGssXCJ0b1N0cmluZ1wiLChmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBHZW5lcmF0b3JdXCJ9KSksZS5rZXlzPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdCh0KSxuPVtdO2Zvcih2YXIgciBpbiBlKW4ucHVzaChyKTtyZXR1cm4gbi5yZXZlcnNlKCksZnVuY3Rpb24gdCgpe2Zvcig7bi5sZW5ndGg7KXt2YXIgcj1uLnBvcCgpO2lmKHIgaW4gZSlyZXR1cm4gdC52YWx1ZT1yLHQuZG9uZT0hMSx0fXJldHVybiB0LmRvbmU9ITAsdH19LGUudmFsdWVzPUMsai5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmoscmVzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9dCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goUCksIWUpZm9yKHZhciBuIGluIHRoaXMpXCJ0XCI9PT1uLmNoYXJBdCgwKSYmci5jYWxsKHRoaXMsbikmJiFpc05hTigrbi5zbGljZSgxKSkmJih0aGlzW25dPXQpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciB0PXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLmRvbmUpdGhyb3cgZTt2YXIgbj10aGlzO2Z1bmN0aW9uIG8ocixvKXtyZXR1cm4gcy50eXBlPVwidGhyb3dcIixzLmFyZz1lLG4ubmV4dD1yLG8mJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz10KSwhIW99Zm9yKHZhciBpPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtpPj0wOy0taSl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW2ldLHM9YS5jb21wbGV0aW9uO2lmKFwicm9vdFwiPT09YS50cnlMb2MpcmV0dXJuIG8oXCJlbmRcIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIHU9ci5jYWxsKGEsXCJjYXRjaExvY1wiKSxjPXIuY2FsbChhLFwiZmluYWxseUxvY1wiKTtpZih1JiZjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9ZWxzZSBpZih1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCFjKXRocm93IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gbyhhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgbz10aGlzLnRyeUVudHJpZXNbbl07aWYoby50cnlMb2M8PXRoaXMucHJldiYmci5jYWxsKG8sXCJmaW5hbGx5TG9jXCIpJiZ0aGlzLnByZXY8by5maW5hbGx5TG9jKXt2YXIgaT1vO2JyZWFrfX1pJiYoXCJicmVha1wiPT09dHx8XCJjb250aW51ZVwiPT09dCkmJmkudHJ5TG9jPD1lJiZlPD1pLmZpbmFsbHlMb2MmJihpPW51bGwpO3ZhciBhPWk/aS5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9dCxhLmFyZz1lLGk/KHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMubmV4dD1pLmZpbmFsbHlMb2Msdik6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24odCxlKXtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuXCJicmVha1wiPT09dC50eXBlfHxcImNvbnRpbnVlXCI9PT10LnR5cGU/dGhpcy5uZXh0PXQuYXJnOlwicmV0dXJuXCI9PT10LnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz10LmFyZyx0aGlzLm1ldGhvZD1cInJldHVyblwiLHRoaXMubmV4dD1cImVuZFwiKTpcIm5vcm1hbFwiPT09dC50eXBlJiZlJiYodGhpcy5uZXh0PWUpLHZ9LGZpbmlzaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi5maW5hbGx5TG9jPT09dClyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksUChuKSx2fX0sY2F0Y2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4udHJ5TG9jPT09dCl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXIudHlwZSl7dmFyIG89ci5hcmc7UChuKX1yZXR1cm4gb319dGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpDKGUpLHJlc3VsdE5hbWU6bixuZXh0TG9jOnJ9LFwibmV4dFwiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz10KSx2fX0sZX1mdW5jdGlvbiBaYSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxRYShyLmtleSkscil9fWZ1bmN0aW9uIFFhKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9WGEodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9WGEocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1YYShlKT9lOmUrXCJcIn1mdW5jdGlvbiBKYSh0LGUsbil7cmV0dXJuIGU9cnMoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09WGEoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsdHMoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLHJzKHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIHRzKCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4odHM9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIGVzKHQsZSxuLHIpe3ZhciBvPW5zKHJzKDEmcj90LnByb3RvdHlwZTp0KSxlLG4pO3JldHVybiAyJnImJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8/ZnVuY3Rpb24odCl7cmV0dXJuIG8uYXBwbHkobix0KX06b31mdW5jdGlvbiBucygpe3JldHVybiBucz1cInVuZGVmaW5lZFwiIT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5nZXQ/UmVmbGVjdC5nZXQuYmluZCgpOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1mdW5jdGlvbih0LGUpe2Zvcig7IXt9Lmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbnVsbCE9PSh0PXJzKHQpKTspO3JldHVybiB0fSh0LGUpO2lmKHIpe3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixlKTtyZXR1cm4gby5nZXQ/by5nZXQuY2FsbChhcmd1bWVudHMubGVuZ3RoPDM/dDpuKTpvLnZhbHVlfX0sbnMuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIHJzKHQpe3JldHVybiBycz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0scnModCl9ZnVuY3Rpb24gb3ModCxlKXtyZXR1cm4gb3M9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxvcyh0LGUpfXFhLkV2ZW50VHlwZXM9e1wiZXZlbnQ6aW1hZ2UuaW5pdFwiOlwiZXZlbnQ6aW1hZ2UuaW5pdFwiLFwiZXZlbnQ6aW1hZ2UubW91bnRcIjpcImV2ZW50OmltYWdlLm1vdW50XCIsXCJldmVudDppbWFnZS51bm1vdW50XCI6XCJldmVudDppbWFnZS51bm1vdW50XCIsXCJldmVudDppbWFnZS5yZWFkeVwiOlwiZXZlbnQ6aW1hZ2UucmVhZHlcIixcImV2ZW50OmltYWdlLmVsZW1lbnRMb2FkZWRcIjpcImV2ZW50OmltYWdlLmVsZW1lbnRMb2FkZWRcIixcImV2ZW50OmltYWdlLmZsdXNoXCI6XCJldmVudDppbWFnZS5mbHVzaFwiLFwiZXZlbnQ6aW1hZ2UuZmx1c2hDb21wb25lbnRcIjpcImV2ZW50OmltYWdlLmZsdXNoQ29tcG9uZW50XCIsXCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zaXRpb25cIjpcImV2ZW50OmRpc3BsYXlhYmxlLmFwcGx5VHJhbnNpdGlvblwiLFwiZXZlbnQ6ZGlzcGxheWFibGUuYXBwbHlUcmFuc2Zvcm1cIjpcImV2ZW50OmRpc3BsYXlhYmxlLmFwcGx5VHJhbnNmb3JtXCIsXCJldmVudDpkaXNwbGF5YWJsZS5pbml0XCI6XCJldmVudDpkaXNwbGF5YWJsZS5pbml0XCJ9LHFhLmRlZmF1bHRDb25maWc9e3NyYzpcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veXdBQUFBQUFRQUJBQUFDQVV3QU93PT1cIixkaXNwbGF5OiExLHBvc2l0aW9uOm5ldyBUZShoZS5DZW50ZXIpLHNjYWxlOjEscm90YXRpb246MCxvcGFjaXR5OjB9O3ZhciBpcz1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiBhKHQpe3RyeXt1KHIubmV4dCh0KSl9Y2F0Y2godCl7aSh0KX19ZnVuY3Rpb24gcyh0KXt0cnl7dShyLnRocm93KHQpKX1jYXRjaCh0KXtpKHQpfX1mdW5jdGlvbiB1KHQpe3ZhciBlO3QuZG9uZT9vKHQudmFsdWUpOihlPXQudmFsdWUsZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbigoZnVuY3Rpb24odCl7dChlKX0pKSkudGhlbihhLHMpfXUoKHI9ci5hcHBseSh0LGV8fFtdKSkubmV4dCgpKX0pKX0sYXM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksSmEodGhpcyxlLGFyZ3VtZW50cyl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJm9zKHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZaYSh0LnByb3RvdHlwZSxlKSxuJiZaYSh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcImV4ZWN1dGVBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj10aGlzO2lmKHRoaXMudHlwZT09PW4uaW5pdCl7dmFyIG89dC5maW5kRWxlbWVudEJ5SW1hZ2UodGhpcy5jYWxsZWUpO28mJnQuZGlzcG9zZUltYWdlKHRoaXMuY2FsbGVlLG8uc2NlbmUpO3ZhciBpPXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdO3QuY3JlYXRlSW1hZ2UodGhpcy5jYWxsZWUsaSk7dmFyIGE9bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpO3JldHVybiBpcyhyLHZvaWQgMCx2b2lkIDAsS2EoKS5tYXJrKChmdW5jdGlvbiBlKCl7cmV0dXJuIEthKCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUubmV4dD0yLHRoaXMuY2FsbGVlLmV2ZW50cy5hbnkoXCJldmVudDpkaXNwbGF5YWJsZS5pbml0XCIpO2Nhc2UgMjphLnJlc29sdmUoe3R5cGU6dGhpcy50eXBlLG5vZGU6dGhpcy5jb250ZW50Tm9kZS5nZXRDaGlsZCgpfSksdC5zdGFnZS5uZXh0KCk7Y2FzZSA0OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxhfWlmKHRoaXMudHlwZT09PW4uc2V0U3JjKXJldHVybiB0aGlzLmNhbGxlZS5zdGF0ZS5zcmM9dGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KClbMF0sdC5sb2dnZXIuZGVidWcoXCJJbWFnZSAtIFNldCBTcmNcIix0aGlzLmNhbGxlZS5zdGF0ZS5zcmMpLHQuc3RhZ2UudXBkYXRlKCksZXMoZSxcImV4ZWN1dGVBY3Rpb25cIix0aGlzLDMpKFt0XSk7aWYoW24uc2hvdyxuLmhpZGUsbi5hcHBseVRyYW5zZm9ybV0uaW5jbHVkZXModGhpcy50eXBlKSl7dmFyIHM9bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLnJlZ2lzdGVyU2tpcENvbnRyb2xsZXIobmV3IEUoKGZ1bmN0aW9uKCl7cmV0dXJuIHIudHlwZT09PW4uaGlkZSYmKHIuY2FsbGVlLnN0YXRlLmRpc3BsYXk9ITEpLGVzKGUsXCJleGVjdXRlQWN0aW9uXCIsciwzKShbdF0pfSkpKSx1PXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzFdO3JldHVybiB0aGlzLnR5cGU9PT1uLnNob3cmJih0aGlzLmNhbGxlZS5zdGF0ZS5kaXNwbGF5PSEwLHQuc3RhZ2UudXBkYXRlKCkpLHQuYW5pbWF0ZUltYWdlKHFhLkV2ZW50VHlwZXNbXCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zZm9ybVwiXSx0aGlzLmNhbGxlZSxbdV0sKGZ1bmN0aW9uKCl7dmFyIHQ7ci50eXBlPT09bi5oaWRlJiYoci5jYWxsZWUuc3RhdGUuZGlzcGxheT0hMSkscy5yZXNvbHZlKHt0eXBlOnIudHlwZSxub2RlOm51bGw9PT0odD1yLmNvbnRlbnROb2RlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRDaGlsZCgpfSl9KSksc31pZih0aGlzLnR5cGU9PT1uLmRpc3Bvc2UpcmV0dXJuIHQuZGlzcG9zZUltYWdlKHRoaXMuY2FsbGVlKSx0aGlzLmNhbGxlZS5fJHNldERpc3Bvc2UoKSxlcyhlLFwiZXhlY3V0ZUFjdGlvblwiLHRoaXMsMykoW3RdKTtpZih0aGlzLnR5cGU9PT1uLmFwcGx5VHJhbnNpdGlvbil7dmFyIGM9bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLnJlZ2lzdGVyU2tpcENvbnRyb2xsZXIobmV3IEUoKGZ1bmN0aW9uKCl7cmV0dXJuIHIudHlwZT09PW4uaGlkZSYmKHIuY2FsbGVlLnN0YXRlLmRpc3BsYXk9ITEpLHt0eXBlOnIudHlwZSxub2RlOnIuY29udGVudE5vZGUuZ2V0Q2hpbGQoKX19KSkpLGw9dGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KClbMF07cmV0dXJuIHRoaXMuY2FsbGVlLmV2ZW50cy5hbnkoXCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zaXRpb25cIixsKS50aGVuKChmdW5jdGlvbigpe2MucmVzb2x2ZSh7dHlwZTpyLnR5cGUsbm9kZTpyLmNvbnRlbnROb2RlLmdldENoaWxkKCl9KSx0LnN0YWdlLm5leHQoKX0pKSxjfWlmKHRoaXMudHlwZT09PW4uZmx1c2gpcmV0dXJuIGVzKGUsXCJleGVjdXRlQWN0aW9uXCIsdGhpcywzKShbdF0pO3Rocm93IGVzKGUsXCJ1bmtub3duVHlwZVwiLHRoaXMsMykoW10pfX1dKX0oVSk7ZnVuY3Rpb24gc3ModCxlLG4pe3JldHVybiBlPXBzKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PWRzKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LGxzKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxwcyh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiB1cyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZmcyh0LGUpfWZ1bmN0aW9uIGNzKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIE1hcD9uZXcgTWFwOnZvaWQgMDtyZXR1cm4gY3M9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fCFmdW5jdGlvbih0KXt0cnl7cmV0dXJuLTEhPT1GdW5jdGlvbi50b1N0cmluZy5jYWxsKHQpLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpfWNhdGNoKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR9fSh0KSlyZXR1cm4gdDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtpZih2b2lkIDAhPT1lKXtpZihlLmhhcyh0KSlyZXR1cm4gZS5nZXQodCk7ZS5zZXQodCxuKX1mdW5jdGlvbiBuKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtpZihscygpKXJldHVybiBSZWZsZWN0LmNvbnN0cnVjdC5hcHBseShudWxsLGFyZ3VtZW50cyk7dmFyIHI9W251bGxdO3IucHVzaC5hcHBseShyLGUpO3ZhciBvPW5ldyh0LmJpbmQuYXBwbHkodCxyKSk7cmV0dXJuIG4mJmZzKG8sbi5wcm90b3R5cGUpLG99KHQsYXJndW1lbnRzLHBzKHRoaXMpLmNvbnN0cnVjdG9yKX1yZXR1cm4gbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOm4sZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZnMobix0KX0sY3ModCl9ZnVuY3Rpb24gbHMoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihscz1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gZnModCxlKXtyZXR1cm4gZnM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxmcyh0LGUpfWZ1bmN0aW9uIHBzKHQpe3JldHVybiBwcz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0scHModCl9ZnVuY3Rpb24gZHModCl7cmV0dXJuIGRzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGRzKHQpfWZ1bmN0aW9uIGhzKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiB5cyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxtcyhyLmtleSkscil9fWZ1bmN0aW9uIHZzKHQsZSxuKXtyZXR1cm4gZSYmeXModC5wcm90b3R5cGUsZSksbiYmeXModCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9ZnVuY3Rpb24gbXModCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1kcyh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1kcyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PWRzKGUpP2U6ZStcIlwifWFzLkFjdGlvblR5cGVzPW47dmFyIGdzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4scil7dmFyIG89YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjE7aHModGhpcyx0KSx0aGlzLnI9ZSx0aGlzLmc9bix0aGlzLmI9cix0aGlzLmE9b31yZXR1cm4gdnModCxbe2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cInJnYmEoXCIuY29uY2F0KHRoaXMucixcIiwgXCIpLmNvbmNhdCh0aGlzLmcsXCIsIFwiKS5jb25jYXQodGhpcy5iLFwiLCBcIikuY29uY2F0KHRoaXMuYSxcIilcIil9fSx7a2V5OlwidG9IZXhcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiI1wiK3RoaXMuci50b1N0cmluZygxNikrdGhpcy5nLnRvU3RyaW5nKDE2KSt0aGlzLmIudG9TdHJpbmcoMTYpfX0se2tleTpcInRvSW1hZ2VDb2xvclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3I6dGhpcy5yLGc6dGhpcy5nLGI6dGhpcy5iLGE6dGhpcy5hfX19XSxbe2tleTpcImlzSGV4U3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJi9eI1swLTlBLUZdezZ9JC9pLnRlc3QodCl9fSx7a2V5OlwiZnJvbUhleFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPWUuc2xpY2UoMSk7cmV0dXJuIG5ldyB0KHBhcnNlSW50KG4uc2xpY2UoMCwyKSwxNikscGFyc2VJbnQobi5zbGljZSgyLDQpLDE2KSxwYXJzZUludChuLnNsaWNlKDQsNiksMTYpLDg9PT1uLmxlbmd0aD9wYXJzZUludChuLnNsaWNlKDYsOCksMTYpLzI1NToxKX19XSl9KCksYnM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7aHModGhpcyx0KX1yZXR1cm4gdnModCxudWxsLFt7a2V5Olwic3JjVG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90OnQuc3JjfX0se2tleTpcInN0YXRpY0ltYWdlRGF0YVRvU3JjXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0LnNyY319LHtrZXk6XCJpc1N0YXRpY0ltYWdlRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT0obnVsbD09dD92b2lkIDA6dC5zcmMpfX0se2tleTpcImJhY2tncm91bmRUb1NyY1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0LmlzU3RhdGljSW1hZ2VEYXRhKGUpP2Uuc3JjOihudWxsPT1lP3ZvaWQgMDplLnVybCl8fG51bGx9fSx7a2V5OlwiaXNFeHRlcm5hbFNyY1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpfHx0LnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKX19LHtrZXk6XCJpc0ltYWdlU3JjXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJiF0aGlzLmlzSGV4U3RyaW5nKGUpfHx0LmlzU3RhdGljSW1hZ2VEYXRhKGUpfX0se2tleTpcImlzSW1hZ2VDb2xvclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0LmlzSGV4U3RyaW5nKGUpfHx0LmlzUGxhaW5Db2xvcihlKX19LHtrZXk6XCJpc1BsYWluQ29sb3JcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdHx8XCJvYmplY3RcIj09PWRzKHQpJiZcInJcImluIHQmJlwiZ1wiaW4gdCYmXCJiXCJpbiB0fX0se2tleTpcImlzSGV4U3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJi9eIyhbMC05QS1GXXs2fXxbMC05QS1GXXszfSkkL2kudGVzdCh0KX19LHtrZXk6XCJ0b0JhY2tncm91bmRTcmNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90OnQuc3JjfX0se2tleTpcInRvSGV4XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIFModCl9fV0pfSgpO2JzLlJHQkNvbG9yPWdzO3ZhciB3cyxfcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsbil7cmV0dXJuIGhzKHRoaXMsZSksc3ModGhpcyxlLFt0LHtpbmZvOm59LFwiTmFycmFMZWFmUmVhY3QtU3RhdGljU2NyaXB0V2FybmluZ1wiXSl9cmV0dXJuIHVzKGUsdCksdnMoZSxudWxsLFt7a2V5OlwiaXNXYXJuaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlfX1dKX0oZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LG4pe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlwiVXNlRXJyb3JcIjtyZXR1cm4gaHModGhpcyxlKSwocj1zcyh0aGlzLGUsW3RdKSkucHJvcHM9bixyLm5hbWU9byxyfXJldHVybiB1cyhlLHQpLHZzKGUsbnVsbCxbe2tleTpcImlzVXNlRXJyb3JcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGV9fV0pfShjcyhFcnJvcikpKSxTcz1mdW5jdGlvbigpe3JldHVybiB2cygoZnVuY3Rpb24gdChlKXtocyh0aGlzLHQpLHRoaXMuc2NlbmU9ZX0pLFt7a2V5OlwicnVuXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5zY2VuZS5zY2VuZVJvb3QpcmV0dXJuIG51bGw7dmFyIHQ9bmV3IE1hcCxlPW5ldyBNYXAsbj1bXSxyPW5ldyBTZXQsbz10aGlzLnNjZW5lLmdldEFsbENoaWxkcmVuKHRoaXMuc2NlbmUuc2NlbmVSb290KTtpZighby5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKG4ucHVzaChvWzBdKTtuLmxlbmd0aDspe3ZhciBpPW4uc2hpZnQoKTt0aGlzLmNoZWNrQWN0aW9uKGkse2ltYWdlU3RhdGVzOnQsc2NlbmVzOmV9LHIpO3ZhciBhPWkuY29udGVudE5vZGUuZ2V0Q2hpbGQoKTthJiZhLmFjdGlvbiYmbi5wdXNoKGEuYWN0aW9uKX1yZXR1cm4gdH19LHtrZXk6XCJjaGVja0FjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsbixyKXt2YXIgbz1uLmltYWdlU3RhdGVzLGk9bi5zY2VuZXM7aWYodCBpbnN0YW5jZW9mIGFzKW8uaGFzKHQuY2FsbGVlKXx8by5zZXQodC5jYWxsZWUse2lzRGlzcG9zZWQ6ITEsdXNlZEV4dGVybmFsU3JjOiExfSksdGhpcy5jaGVja0ltYWdlKG8uZ2V0KHQuY2FsbGVlKSx0KTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBkdCl7dmFyIGE9dC5jYWxsZWU7aWYoaS5oYXMoYS5uYW1lKSl7aWYoaS5nZXQoYS5uYW1lKSE9PWEpe3ZhciBzPVwiU2NlbmUgd2l0aCBuYW1lOiBcIi5jb25jYXQoYS5uYW1lLFwiIGlzIGR1cGxpY2F0ZWRcXG5TY2VuZTogXCIpLmNvbmNhdChhLm5hbWUsXCJcXG5cXG5BdDogXCIpLmNvbmNhdCh0Ll9fc3RhY2spO3Rocm93IG5ldyBfcyhzKX19ZWxzZSBpLnNldChhLm5hbWUsYSk7aWYodC50eXBlPT09ZS5qdW1wVG8pe3ZhciB1PXQuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdO2lmKHIuaGFzKHUpKXJldHVybjtyLmFkZCh1KX19fX0se2tleTpcImNoZWNrSW1hZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKGUudHlwZT09PW4uZGlzcG9zZSl7aWYodC5pc0Rpc3Bvc2VkKXt2YXIgcj1cIkltYWdlIGlzIGRpc3Bvc2VkIG11bHRpcGxlIHRpbWVzIGJlZm9yZSBhY3Rpb246IFwiLmNvbmNhdChlLnR5cGUsXCJcXG5JbWFnZTogXCIpLmNvbmNhdChlLmNhbGxlZS5uYW1lLFwiXFxuQWN0aW9uOiBcIikuY29uY2F0KGUudHlwZSxcIlxcblxcbkF0OiBcIikuY29uY2F0KGUuX19zdGFjayk7dGhyb3cgbmV3IF9zKHIpfXQuaXNEaXNwb3NlZD0hMH1lbHNlIGlmKFtuLmluaXQsbi5zaG93LG4uaGlkZSxuLmFwcGx5VHJhbnNmb3JtLG4uYXBwbHlUcmFuc2l0aW9uXS5pbmNsdWRlcyhlLnR5cGUpKXtpZih0LmlzRGlzcG9zZWQpe3ZhciBvPVwiSW1hZ2UgaXMgZGlzcG9zZWQgYmVmb3JlIGFjdGlvbjogXCIuY29uY2F0KGUudHlwZSxcIlxcbkltYWdlOiBcIikuY29uY2F0KGUuY2FsbGVlLm5hbWUsXCJcXG5BY3Rpb246IFwiKS5jb25jYXQoZS50eXBlLFwiXFxuXFxuQXQ6IFwiKS5jb25jYXQoZS5fX3N0YWNrKTt0aHJvdyBuZXcgX3Mobyl9fWVsc2UgaWYoZS50eXBlPT09bi5zZXRTcmMpe3ZhciBpPWUuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdO2JzLmlzRXh0ZXJuYWxTcmMoaSkmJih0LnVzZWRFeHRlcm5hbFNyYz0hMCl9fX1dKX0oKTtmdW5jdGlvbiBrcyh0KXtyZXR1cm4ga3M9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sa3ModCl9ZnVuY3Rpb24geHModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsQXMoci5rZXkpLHIpfX1mdW5jdGlvbiBBcyh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPWtzKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPWtzKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09a3MoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gT3ModCxlLG4pe3JldHVybiBlPUVzKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PWtzKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LFRzKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxFcyh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBUcygpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKFRzPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBFcyh0KXtyZXR1cm4gRXM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LEVzKHQpfWZ1bmN0aW9uIFBzKHQsZSl7cmV0dXJuIFBzPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sUHModCxlKX0hZnVuY3Rpb24odCl7dC5zb3VuZEVmZmVjdD1cInNvdW5kRWZmZWN0XCIsdC5tdXNpYz1cIm11c2ljXCIsdC52b2ljZT1cInZvaWNlXCIsdC5iYWNrZ3JvdW5kTXVzaWM9XCJiYWNrZ3JvdW5kTXVzaWNcIn0od3N8fCh3cz17fSkpO3ZhciBqcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSwodD1Pcyh0aGlzLGUpKS5zdGF0ZT17cGxheWluZzpudWxsLHRva2VuOm51bGx9LHQuY29uZmlnPWIoZS5kZWZhdWx0Q29uZmlnLFwic3RyaW5nXCI9PXR5cGVvZiBuP3tzcmM6bn06biksdH1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmUHModCxlKX0oZSx0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJnhzKHQucHJvdG90eXBlLGUpLG4mJnhzKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShlLFt7a2V5OlwicGxheVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5jb25maWcudHlwZT09PXdzLmJhY2tncm91bmRNdXNpYyl0aHJvdyBuZXcgRXJyb3IoXCJCYWNrZ3JvdW5kIG11c2ljIGNhbm5vdCBiZSBwbGF5ZWQgZGlyZWN0bHlcIik7cmV0dXJuIHRoaXMucHVzaEFjdGlvbih0dC5BY3Rpb25UeXBlcy5wbGF5LFt2b2lkIDBdKX19LHtrZXk6XCJzdG9wXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmNvbmZpZy50eXBlPT09d3MuYmFja2dyb3VuZE11c2ljKXRocm93IG5ldyBFcnJvcihcIkJhY2tncm91bmQgbXVzaWMgY2Fubm90IGJlIHN0b3BwZWQgZGlyZWN0bHlcIik7cmV0dXJuIHRoaXMucHVzaEFjdGlvbih0dC5BY3Rpb25UeXBlcy5zdG9wLFt2b2lkIDBdKX19LHtrZXk6XCJmYWRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuY29uZmlnLnR5cGU9PT13cy5iYWNrZ3JvdW5kTXVzaWMpdGhyb3cgbmV3IEVycm9yKFwiQmFja2dyb3VuZCBtdXNpYyBjYW5ub3QgYmUgZmFkZWQgZGlyZWN0bHlcIik7cmV0dXJuIHRoaXMucHVzaEFjdGlvbih0dC5BY3Rpb25UeXBlcy5mYWRlLFt7c3RhcnQ6dCxlbmQ6ZSxkdXJhdGlvbjpufV0pfX0se2tleTpcInNldFZvbHVtZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnB1c2hBY3Rpb24odHQuQWN0aW9uVHlwZXMuc2V0Vm9sdW1lLFt0XSl9fSx7a2V5Olwic2V0UmF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnB1c2hBY3Rpb24odHQuQWN0aW9uVHlwZXMuc2V0UmF0ZSxbdF0pfX0se2tleTpcInBhdXNlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQ/dGhpcy5mYWRlKHZvaWQgMCwwLHQpOnRoaXMucHVzaEFjdGlvbih0dC5BY3Rpb25UeXBlcy5wYXVzZSxbdm9pZCAwXSl9fSx7a2V5OlwicmVzdW1lXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQ/dGhpcy5mYWRlKDAsdGhpcy5jb25maWcudm9sdW1lLHQpOnRoaXMucHVzaEFjdGlvbih0dC5BY3Rpb25UeXBlcy5yZXN1bWUsW3ZvaWQgMF0pfX0se2tleTpcImdldEhvd2xPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oe3NyYzp0aGlzLmNvbmZpZy5zcmMsbG9vcDp0aGlzLmNvbmZpZy5sb29wLHZvbHVtZTp0aGlzLmNvbmZpZy52b2x1bWUsaHRtbDU6dGhpcy5jb25maWcuc3RyZWFtaW5nLGF1dG9wbGF5OiExfSx0fHx7fSl9fSx7a2V5OlwiZ2V0U3JjXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWcuc3JjfX0se2tleTpcImdldFRva2VuXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS50b2tlbnx8dm9pZCAwfX0se2tleTpcImdldFBsYXlpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLnBsYXlpbmd9fSx7a2V5Olwic2V0VG9rZW5cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnN0YXRlLnRva2VuPXZvaWQgMD09PXQ/bnVsbDp0fX0se2tleTpcInNldFBsYXlpbmdcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZS5wbGF5aW5nPXQsdGhpc319LHtrZXk6XCJ0b0RhdGFcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBPKHRoaXMuY29uZmlnLGUuZGVmYXVsdENvbmZpZyk/bnVsbDp7Y29uZmlnOl8odGhpcy5jb25maWcpfX19LHtrZXk6XCJmcm9tRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbmZpZz1iKHRoaXMuY29uZmlnLHQuY29uZmlnKSx0aGlzfX0se2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5zdGF0ZS5wbGF5aW5nKXx8dm9pZCAwPT09dHx8dC5zdG9wKCksdGhpcy5zdGF0ZS5wbGF5aW5nPW51bGwsdGhpcy5zdGF0ZS50b2tlbj1udWxsfX0se2tleTpcInB1c2hBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNoYWluKG5ldyB0dCh0aGlzLmNoYWluKCksdCwobmV3IHh0KS5zZXRDb250ZW50KGUpKSl9fV0sW3trZXk6XCJ0b1NvdW5kU3JjXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/bnVsbDpcInN0cmluZ1wiPT10eXBlb2YgdD90OnQuZ2V0U3JjKCl9fSx7a2V5OlwidG9Tb3VuZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P251bGw6XCJzdHJpbmdcIj09dHlwZW9mIHQ/bmV3IGUoe3NyYzp0fSk6dH19XSl9KHllKTtmdW5jdGlvbiBDcyh0KXtyZXR1cm4gQ3M9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sQ3ModCl9ZnVuY3Rpb24gTHModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsSXMoci5rZXkpLHIpfX1mdW5jdGlvbiBJcyh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPUNzKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPUNzKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09Q3MoZSk/ZTplK1wiXCJ9anMuZGVmYXVsdENvbmZpZz17c3JjOlwiXCIsc3luYzohMSxsb29wOiExLHZvbHVtZToxfTt2YXIgTnM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9OyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5jb25maWc9ZX1yZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZMcyh0LnByb3RvdHlwZSxlKSxuJiZMcyh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0odCxudWxsLFt7a2V5OlwiZnJvbVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0LmlzUGF1c2VDb25zdHJ1Y3RvcihlKT9uZXcgdDplfX0se2tleTpcIndhaXRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoe2R1cmF0aW9uOmV9KX19LHtrZXk6XCJpc1BhdXNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNQYXVzZUNvbnN0cnVjdG9yKGUpfHxlIGluc3RhbmNlb2YgdH19LHtrZXk6XCJpc1BhdXNlQ29uc3RydWN0b3JcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9fV0pfSgpO2Z1bmN0aW9uIE1zKHQpe3JldHVybiBNcz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxNcyh0KX1mdW5jdGlvbiBScyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxGcyhyLmtleSkscil9fWZ1bmN0aW9uIEZzKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9TXModCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9TXMocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1NcyhlKT9lOmUrXCJcIn12YXIgRHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMudGV4dD1lLHRoaXMuY29uZmlnPWIodC5kZWZhdWx0Q29uZmlnLG4pfXJldHVybiBmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJlJzKHQucHJvdG90eXBlLGUpLG4mJlJzKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSh0LFt7a2V5OlwiZXZhbHVhdGVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj10aGlzO2lmKE5zLmlzUGF1c2UodGhpcy50ZXh0KSlyZXR1cm5bdGhpc107aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy50ZXh0KXt2YXIgcj10aGlzLnRleHQoZSk7cmV0dXJuIEFycmF5LmlzQXJyYXkocik/ci5tYXAoKGZ1bmN0aW9uKHIpe3JldHVybiB0LmlzV29yZChyKT9yLmluaGVyaXQobi5jb25maWcpLmV2YWx1YXRlKGUpOm5ldyB0KHIsbi5jb25maWcpfSkpLmZsYXQoKTp0LmlzV29yZChyKT9yLmluaGVyaXQodGhpcy5jb25maWcpLmV2YWx1YXRlKGUpOltuZXcgdChyLHRoaXMuY29uZmlnKV19cmV0dXJuW3RoaXNdfX0se2tleTpcImluaGVyaXRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb25maWcuY29sb3I9dGhpcy5jb25maWcuY29sb3J8fHQuY29sb3IsdGhpcy5jb25maWcuaXRhbGljPXRoaXMuY29uZmlnLml0YWxpY3x8dC5pdGFsaWMsdGhpcy5jb25maWcuYm9sZD10aGlzLmNvbmZpZy5ib2xkfHx0LmJvbGQsdGhpc319XSxbe2tleTpcImlzV29yZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdH19XSl9KCk7ZnVuY3Rpb24gQnModCl7cmV0dXJuIEJzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEJzKHQpfWZ1bmN0aW9uIFZzKHQpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBHcyh0KX0odCl8fGZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPXRbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9dFtcIkBAaXRlcmF0b3JcIl0pcmV0dXJuIEFycmF5LmZyb20odCl9KHQpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBHcyh0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP0dzKHQsZSk6dm9pZCAwfX0odCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gR3ModCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIFVzKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LEhzKHIua2V5KSxyKX19ZnVuY3Rpb24gSHModCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1Ccyh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1CcyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PUJzKGUpP2U6ZStcIlwifURzLmRlZmF1bHRDb25maWc9e30sRHMuZGVmYXVsdENvbG9yPVwiIzAwMFwiO3ZhciB6cz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9OyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy50ZXh0PXQuZm9ybWF0KGUpLHRoaXMuY29uZmlnPWIodC5kZWZhdWx0Q29uZmlnLE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7dm9pY2U6anMudG9Tb3VuZChuLnZvaWNlKX0pKSx0aGlzLnN0YXRlPV8odC5kZWZhdWx0U3RhdGUpfXJldHVybiBmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJlVzKHQucHJvdG90eXBlLGUpLG4mJlVzKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSh0LFt7a2V5OlwidG9EYXRhXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gTyh0aGlzLnN0YXRlLHQuZGVmYXVsdFN0YXRlKT9udWxsOntzdGF0ZTpfKHRoaXMuc3RhdGUpfX19LHtrZXk6XCJmcm9tRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlPWIodGhpcy5zdGF0ZSx0KSx0aGlzfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudGV4dH0pKS5qb2luKFwiXCIpfX0se2tleTpcInNldENoYXJhY3RlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbmZpZy5jaGFyYWN0ZXI9dCx0aGlzfX0se2tleTpcImV2YWx1YXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPVtdLHI9MDtyPHRoaXMudGV4dC5sZW5ndGg7cisrKXt2YXIgbz10aGlzLnRleHRbcl0uZXZhbHVhdGUoZSk7bi5wdXNoLmFwcGx5KG4sVnModC5mb3JtYXRTdGF0aWNXb3JkKG8pKSl9cmV0dXJuIG59fSx7a2V5OlwiY29weVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KFZzKHRoaXMudGV4dCksdGhpcy5jb25maWcpfX1dLFt7a2V5OlwiaXNTZW50ZW5jZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdH19LHtrZXk6XCJ0b1NlbnRlbmNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaXNTZW50ZW5jZShlKT9lOm5ldyB0KGUpfX0se2tleTpcImZvcm1hdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZS5wdXNoKHRoaXMuZm9ybWF0V29yZCh0W25dKSk7ZWxzZSBlLnB1c2godGhpcy5mb3JtYXRXb3JkKHQpKTtyZXR1cm4gZX19LHtrZXk6XCJmb3JtYXRXb3JkXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIERzLmlzV29yZCh0KT90Om5ldyBEcyh0KX19LHtrZXk6XCJmb3JtYXRTdGF0aWNXb3JkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBBcnJheS5pc0FycmF5KHQpP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbi5mb3JtYXRTdGF0aWNXb3JkKHQsZSl9KSkuZmxhdCgyKTpbRHMuaXNXb3JkKHQpP3Q6bmV3IERzKHQsZSldfX1dKX0oKTtmdW5jdGlvbiBXcyh0KXtyZXR1cm4gV3M9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sV3ModCl9ZnVuY3Rpb24gJHModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsWXMoci5rZXkpLHIpfX1mdW5jdGlvbiBZcyh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPVdzKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPVdzKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09V3MoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gcXModCxlLG4pe3JldHVybiBlPVFzKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PVdzKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LFhzKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxRcyh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBYcygpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKFhzPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBLcyh0LGUsbixyKXt2YXIgbz1acyhRcygxJnI/dC5wcm90b3R5cGU6dCksZSxuKTtyZXR1cm4gMiZyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvP2Z1bmN0aW9uKHQpe3JldHVybiBvLmFwcGx5KG4sdCl9Om99ZnVuY3Rpb24gWnMoKXtyZXR1cm4gWnM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0LmJpbmQoKTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZnVuY3Rpb24odCxlKXtmb3IoOyF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJm51bGwhPT0odD1Rcyh0KSk7KTtyZXR1cm4gdH0odCxlKTtpZihyKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsZSk7cmV0dXJuIG8uZ2V0P28uZ2V0LmNhbGwoYXJndW1lbnRzLmxlbmd0aDwzP3Q6bik6by52YWx1ZX19LFpzLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBRcyh0KXtyZXR1cm4gUXM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFFzKHQpfWZ1bmN0aW9uIEpzKHQsZSl7cmV0dXJuIEpzPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sSnModCxlKX16cy5kZWZhdWx0Q29uZmlnPXtjb2xvcjpcIiMwMDBcIixwYXVzZTohMCx2b2ljZTpudWxsLGNoYXJhY3RlcjpudWxsfSx6cy5kZWZhdWx0U3RhdGU9e2Rpc3BsYXk6ITB9O3ZhciB0dT1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxuKSxxcyh0aGlzLG4sYXJndW1lbnRzKX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmSnModCxlKX0obixlKSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJiRzKHQucHJvdG90eXBlLGUpLG4mJiRzKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShuLFt7a2V5OlwiZXhlY3V0ZUFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7aWYodGhpcy50eXBlPT09dC5zYXkpe3ZhciBvPW5ldyB3KChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKS5yZWdpc3RlclNraXBDb250cm9sbGVyKG5ldyBFKChmdW5jdGlvbigpe3JldHVybnt0eXBlOnIudHlwZSxub2RlOnIuY29udGVudE5vZGUuZ2V0Q2hpbGQoKX19KSkpLGk9dGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KCksYT1pLmNvbmZpZy52b2ljZTtyZXR1cm4gYSYmKHR0LmluaXRTb3VuZChlLGEpLGUucGxheVNvdW5kKGEsKGZ1bmN0aW9uKCl7ZS5zdG9wU291bmQoYSl9KSkpLGUuY3JlYXRlVGV4dCh0aGlzLmdldElkKCksaSwoZnVuY3Rpb24oKXthJiZlLnN0b3BTb3VuZChhKSxvLnJlc29sdmUoe3R5cGU6ci50eXBlLG5vZGU6ci5jb250ZW50Tm9kZS5nZXRDaGlsZCgpfSl9KSksb31pZih0aGlzLnR5cGU9PT10LnNldE5hbWUpcmV0dXJuIHRoaXMuY2FsbGVlLnN0YXRlLm5hbWU9dGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KClbMF0sS3MobixcImV4ZWN1dGVBY3Rpb25cIix0aGlzLDMpKFtlXSk7dGhyb3cgS3MobixcInVua25vd25UeXBlXCIsdGhpcywzKShbXSl9fV0pfShVKTtmdW5jdGlvbiBldSh0KXtyZXR1cm4gZXU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sZXUodCl9ZnVuY3Rpb24gbnUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscnUoci5rZXkpLHIpfX1mdW5jdGlvbiBydSh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPWV1KHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPWV1KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09ZXUoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gb3UodCxlLG4pe3JldHVybiBlPWF1KGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PWV1KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LGl1KCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxhdSh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBpdSgpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKGl1PWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBhdSh0KXtyZXR1cm4gYXU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGF1KHQpfWZ1bmN0aW9uIHN1KHQsZSl7cmV0dXJuIHN1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sc3UodCxlKX10dS5BY3Rpb25UeXBlcz10O3ZhciB1dT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksKG49b3UodGhpcyxlKSkuY29uZmlnPWIoZS5kZWZhdWx0Q29uZmlnLHIpLG4uc3RhdGU9e25hbWU6dHx8XCJcIn0sbn1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmc3UodCxlKX0oZSx0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJm51KHQucHJvdG90eXBlLGUpLG4mJm51KHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShlLFt7a2V5Olwic2F5XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1BcnJheS5pc0FycmF5KHQpP25ldyB6cyh0LE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlfHx7fSkse2NoYXJhY3Rlcjp0aGlzfSkpOih6cy5pc1NlbnRlbmNlKHQpP3Q6bmV3IHpzKHQsT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGV8fHt9KSx7Y2hhcmFjdGVyOnRoaXN9KSkpLmNvcHkoKTtuLnNldENoYXJhY3Rlcih0aGlzKTt2YXIgcj1uZXcgdHUodGhpcy5jaGFpbigpLHR1LkFjdGlvblR5cGVzLnNheSwobmV3IHh0KS5zZXRDb250ZW50KG4pKTtyZXR1cm4gdGhpcy5jaGFpbihyKX19LHtrZXk6XCJzZXROYW1lXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHR1KHRoaXMuY2hhaW4oKSx0dS5BY3Rpb25UeXBlcy5zZXROYW1lLChuZXcgeHQpLnNldENvbnRlbnQoW3RdKSk7cmV0dXJuIHRoaXMuY2hhaW4oZSl9fV0pfSh5ZSk7ZnVuY3Rpb24gY3UodCl7cmV0dXJuIGN1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGN1KHQpfWZ1bmN0aW9uIGx1KHQpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBmdSh0KX0odCl8fGZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPXRbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9dFtcIkBAaXRlcmF0b3JcIl0pcmV0dXJuIEFycmF5LmZyb20odCl9KHQpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBmdSh0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP2Z1KHQsZSk6dm9pZCAwfX0odCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gZnUodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIHB1KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGR1KHIua2V5KSxyKX19ZnVuY3Rpb24gZHUodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1jdSh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1jdShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PWN1KGUpP2U6ZStcIlwifWZ1bmN0aW9uIGh1KHQsZSxuKXtyZXR1cm4gZT1tdShlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1jdShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCx5dSgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sbXUodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24geXUoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybih5dT1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gdnUoKXtyZXR1cm4gdnU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0LmJpbmQoKTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZnVuY3Rpb24odCxlKXtmb3IoOyF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJm51bGwhPT0odD1tdSh0KSk7KTtyZXR1cm4gdH0odCxlKTtpZihyKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsZSk7cmV0dXJuIG8uZ2V0P28uZ2V0LmNhbGwoYXJndW1lbnRzLmxlbmd0aDwzP3Q6bik6by52YWx1ZX19LHZ1LmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBtdSh0KXtyZXR1cm4gbXU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LG11KHQpfWZ1bmN0aW9uIGd1KHQsZSl7cmV0dXJuIGd1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sZ3UodCxlKX11dS5kZWZhdWx0Q29uZmlnPXtjb2xvcjpcIiMwMDBcIn07dmFyIGJ1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLGh1KHRoaXMsZSxhcmd1bWVudHMpfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZndSh0LGUpfShlLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmcHUodC5wcm90b3R5cGUsZSksbiYmcHUodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJleGVjdXRlQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbixyPXRoaXMuY2FsbGVlLmV2YWx1YXRlKHRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpLHtnYW1lU3RhdGU6dH0pO3JldHVybiBudWxsPT09KGU9bnVsbD09cj92b2lkIDA6cltyLmxlbmd0aC0xXSl8fHZvaWQgMD09PWV8fGUuY29udGVudE5vZGUuYWRkQ2hpbGQodGhpcy5jb250ZW50Tm9kZS5nZXRDaGlsZCgpKSx0aGlzLmNvbnRlbnROb2RlLmFkZENoaWxkKChudWxsPT09KG49bnVsbD09cj92b2lkIDA6clswXSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uY29udGVudE5vZGUpfHxudWxsKSx7dHlwZTp0aGlzLnR5cGUsbm9kZTp0aGlzLmNvbnRlbnROb2RlLmdldENoaWxkKCl9fX0se2tleTpcImdldEZ1dHVyZUFjdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybltdLmNvbmNhdChsdSh0aGlzLmNhbGxlZS5fZ2V0RnV0dXJlQWN0aW9ucygpKSxsdShmdW5jdGlvbih0LGUsbixyKXt2YXIgbz12dShtdSgxJnI/dC5wcm90b3R5cGU6dCksZSxuKTtyZXR1cm4gMiZyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvP2Z1bmN0aW9uKHQpe3JldHVybiBvLmFwcGx5KG4sdCl9Om99KGUsXCJnZXRGdXR1cmVBY3Rpb25zXCIsdGhpcywzKShbXSkpKX19XSl9KFUpO2Z1bmN0aW9uIHd1KHQpe3JldHVybiB3dT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx3dSh0KX1mdW5jdGlvbiBfdSh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4ga3UodCl9KHQpfHxmdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT10W1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPXRbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8U3UodCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gU3UodCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4ga3UodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9rdSh0LGUpOnZvaWQgMH19ZnVuY3Rpb24ga3UodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIHh1KHQsZSxuKXtyZXR1cm4gZT1PdShlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT13dShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxBdSgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sT3UodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gQXUoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihBdT1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gT3UodCl7cmV0dXJuIE91PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxPdSh0KX1mdW5jdGlvbiBUdSh0LGUpe3JldHVybiBUdT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFR1KHQsZSl9ZnVuY3Rpb24gRXUodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIFB1KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LEN1KHIua2V5KSxyKX19ZnVuY3Rpb24ganUodCxlLG4pe3JldHVybiBlJiZQdSh0LnByb3RvdHlwZSxlKSxuJiZQdSh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH1mdW5jdGlvbiBDdSh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPXd1KHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPXd1KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09d3UoZSk/ZTplK1wiXCJ9YnUuQWN0aW9uVHlwZXM9e2FjdGlvbjpcImNvbmRpdGlvbjphY3Rpb25cIn07dmFyIEx1PWZ1bmN0aW9uKCl7cmV0dXJuIGp1KChmdW5jdGlvbiB0KGUpe0V1KHRoaXMsdCksdGhpcy5oYW5kbGVyPWV9KSxbe2tleTpcImV2YWx1YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5nYW1lU3RhdGU7cmV0dXJue3ZhbHVlOnRoaXMuaGFuZGxlcih0aGlzLmdldEN0eCh7Z2FtZVN0YXRlOmV9KSl9fX0se2tleTpcImdldEN0eFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2FtZVN0YXRlO3JldHVybntnYW1lU3RhdGU6ZSxnYW1lOmUuZ2FtZSxsaXZlR2FtZTplLmdhbWUuZ2V0TGl2ZUdhbWUoKSxzdG9yYWJsZTplLmdhbWUuZ2V0TGl2ZUdhbWUoKS5nZXRTdG9yYWJsZSgpfX19XSl9KCksSXU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBFdSh0aGlzLGUpLCh0PXh1KHRoaXMsZSkpLmNvbmRpdGlvbnM9e0lmOntjb25kaXRpb246bnVsbCxhY3Rpb246bnVsbH0sRWxzZUlmOltdLEVsc2U6e2FjdGlvbjpudWxsfX0sdC5jb25maWc9YihlLmRlZmF1bHRDb25maWcsbiksdH1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmVHUodCxlKX0oZSx0KSxqdShlLFt7a2V5OlwiSWZcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuY29uZGl0aW9ucy5JZi5jb25kaXRpb24pdGhyb3cgbmV3IF9zKFwiSUYgY29uZGl0aW9uIGFscmVhZHkgc2V0XFxuWW91IGFyZSB0cnlpbmcgdG8gc2V0IG11bHRpcGxlIElGIGNvbmRpdGlvbnMgZm9yIHRoZSBzYW1lIGNvbmRpdGlvblwiKTtpZih0aGlzLmNvbmRpdGlvbnMuRWxzZUlmLmxlbmd0aCl0aHJvdyBuZXcgX3MoXCJFTFNFLUlGIGNvbmRpdGlvbiBhbHJlYWR5IHNldFxcbllvdSBhcmUgdHJ5aW5nIHRvIHNldCBhbiBJRiBjb25kaXRpb24gYWZ0ZXIgYW4gRUxTRS1JRiBjb25kaXRpb25cIik7aWYodGhpcy5jb25kaXRpb25zLkVsc2UuYWN0aW9uKXRocm93IG5ldyBfcyhcIkVMU0UgY29uZGl0aW9uIGFscmVhZHkgc2V0XFxuWW91IGFyZSB0cnlpbmcgdG8gc2V0IGFuIElGIGNvbmRpdGlvbiBhZnRlciBhbiBFTFNFIGNvbmRpdGlvblwiKTtyZXR1cm4gdGhpcy5jb25kaXRpb25zLklmLmNvbmRpdGlvbj10IGluc3RhbmNlb2YgTHU/dDpuZXcgTHUodCksdGhpcy5jb25kaXRpb25zLklmLmFjdGlvbj10aGlzLmNvbnN0cnVjdChBcnJheS5pc0FycmF5KGUpP2U6W2VdKSx0aGlzLmNoYWluKCl9fSx7a2V5OlwiRWxzZUlmXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZighdGhpcy5jb25kaXRpb25zLklmLmNvbmRpdGlvbil0aHJvdyBuZXcgX3MoXCJJRiBjb25kaXRpb24gbm90IHNldFxcbllvdSBhcmUgdHJ5aW5nIHRvIHNldCBhbiBFTFNFLUlGIGNvbmRpdGlvbiB3aXRob3V0IGFuIElGIGNvbmRpdGlvblwiKTtpZih0aGlzLmNvbmRpdGlvbnMuRWxzZS5hY3Rpb24pdGhyb3cgbmV3IF9zKFwiRUxTRSBjb25kaXRpb24gYWxyZWFkeSBzZXRcXG5Zb3UgYXJlIHRyeWluZyB0byBzZXQgYW4gRUxTRS1JRiBjb25kaXRpb24gYWZ0ZXIgYW4gRUxTRSBjb25kaXRpb25cIik7cmV0dXJuIHRoaXMuY29uZGl0aW9ucy5FbHNlSWYucHVzaCh7Y29uZGl0aW9uOnQgaW5zdGFuY2VvZiBMdT90Om5ldyBMdSh0KSxhY3Rpb246dGhpcy5jb25zdHJ1Y3QoQXJyYXkuaXNBcnJheShlKT9lOltlXSl9KSx0aGlzLmNoYWluKCl9fSx7a2V5OlwiRWxzZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmNvbmRpdGlvbnMuSWYuY29uZGl0aW9uKXRocm93IG5ldyBfcyhcIklGIGNvbmRpdGlvbiBub3Qgc2V0XFxuWW91IGFyZSB0cnlpbmcgdG8gc2V0IGFuIEVMU0UgY29uZGl0aW9uIHdpdGhvdXQgYW4gSUYgY29uZGl0aW9uXCIpO2lmKHRoaXMuY29uZGl0aW9ucy5FbHNlLmFjdGlvbil0aHJvdyBuZXcgX3MoXCJFTFNFIGNvbmRpdGlvbiBhbHJlYWR5IHNldFxcbllvdSBhcmUgdHJ5aW5nIHRvIHNldCBtdWx0aXBsZSBFTFNFIGNvbmRpdGlvbnMgZm9yIHRoZSBzYW1lIGNvbmRpdGlvblwiKTtyZXR1cm4gdGhpcy5jb25kaXRpb25zLkVsc2UuYWN0aW9uPXRoaXMuY29uc3RydWN0KEFycmF5LmlzQXJyYXkodCk/dDpbdF0pLHRoaXMuY2hhaW4oKX19LHtrZXk6XCJldmFsdWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scixvPXtnYW1lU3RhdGU6ZS5nYW1lU3RhdGV9LGk9bnVsbD09PShuPXQuSWYuY29uZGl0aW9uKXx8dm9pZCAwPT09bj92b2lkIDA6bi5ldmFsdWF0ZShvKTtpZihudWxsPT1pP3ZvaWQgMDppLnZhbHVlKXJldHVybiB0LklmLmFjdGlvbnx8bnVsbDt2YXIgYSxzPWZ1bmN0aW9uKHQsZSl7dmFyIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheSh0KXx8KG49U3UodCkpfHxlJiZ0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpe24mJih0PW4pO3ZhciByPTAsbz1mdW5jdGlvbigpe307cmV0dXJue3M6byxuOmZ1bmN0aW9uKCl7cmV0dXJuIHI+PXQubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTp0W3IrK119fSxlOmZ1bmN0aW9uKHQpe3Rocm93IHR9LGY6b319dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciBpLGE9ITAscz0hMTtyZXR1cm57czpmdW5jdGlvbigpe249bi5jYWxsKHQpfSxuOmZ1bmN0aW9uKCl7dmFyIHQ9bi5uZXh0KCk7cmV0dXJuIGE9dC5kb25lLHR9LGU6ZnVuY3Rpb24odCl7cz0hMCxpPXR9LGY6ZnVuY3Rpb24oKXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGl9fX19KHQuRWxzZUlmKTt0cnl7Zm9yKHMucygpOyEoYT1zLm4oKSkuZG9uZTspe3ZhciB1PWEudmFsdWUsYz1udWxsPT09KHI9dS5jb25kaXRpb24pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmV2YWx1YXRlKG8pO2lmKG51bGw9PWM/dm9pZCAwOmMudmFsdWUpcmV0dXJuIHUuYWN0aW9ufHxudWxsfX1jYXRjaCh0KXtzLmUodCl9ZmluYWxseXtzLmYoKX1yZXR1cm4gdC5FbHNlLmFjdGlvbnx8bnVsbH19LHtrZXk6XCJmcm9tQ2hhaW5lZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybltSZWZsZWN0LmNvbnN0cnVjdChidSxbdGhpcyxidS5BY3Rpb25UeXBlcy5hY3Rpb24sKG5ldyB4dCkuc2V0Q29udGVudCh0LmNvbmRpdGlvbnMpXSldfX0se2tleTpcImNvbnN0cnVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHIsbz1pZS50b0FjdGlvbnModCksaT0wO2k8by5sZW5ndGg7aSsrKXt2YXIgYT1vW2ldLmNvbnRlbnROb2RlLHM9bnVsbD09PShyPW9baSsxXSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuY29udGVudE5vZGU7cyYmYS5zZXRDaGlsZChzKSxpPT09by5sZW5ndGgtMSYmZSYmYS5zZXRDaGlsZChlKSwwPT09aSYmbiYmbi5zZXRDaGlsZChhKX1yZXR1cm4gb319LHtrZXk6XCJfZ2V0RnV0dXJlQWN0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGllLnRvQWN0aW9ucyhbXS5jb25jYXQoX3UodGhpcy5jb25kaXRpb25zLklmLmFjdGlvbnx8W10pLF91KHRoaXMuY29uZGl0aW9ucy5FbHNlSWYuZmxhdE1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWN0aW9ufHxbXX0pKSksX3UodGhpcy5jb25kaXRpb25zLkVsc2UuYWN0aW9ufHxbXSkpKX19XSxbe2tleTpcImdldEluaXRpYWxTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue0lmOntjb25kaXRpb246bnVsbCxhY3Rpb246bnVsbH0sRWxzZUlmOltdLEVsc2U6e2FjdGlvbjpudWxsfX19fV0pfSh5ZSk7ZnVuY3Rpb24gTnUodCl7cmV0dXJuIE51PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LE51KHQpfWZ1bmN0aW9uIE11KHQpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBSdSh0KX0odCl8fGZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPXRbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9dFtcIkBAaXRlcmF0b3JcIl0pcmV0dXJuIEFycmF5LmZyb20odCl9KHQpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBSdSh0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP1J1KHQsZSk6dm9pZCAwfX0odCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gUnUodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIEZ1KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LER1KHIua2V5KSxyKX19ZnVuY3Rpb24gRHUodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1OdSh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1OdShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PU51KGUpP2U6ZStcIlwifWZ1bmN0aW9uIEJ1KHQsZSxuKXtyZXR1cm4gZT1VdShlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1OdShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxWdSgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sVXUodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gVnUoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihWdT1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gR3UoKXtyZXR1cm4gR3U9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0LmJpbmQoKTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZnVuY3Rpb24odCxlKXtmb3IoOyF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJm51bGwhPT0odD1VdSh0KSk7KTtyZXR1cm4gdH0odCxlKTtpZihyKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsZSk7cmV0dXJuIG8uZ2V0P28uZ2V0LmNhbGwoYXJndW1lbnRzLmxlbmd0aDwzP3Q6bik6by52YWx1ZX19LEd1LmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBVdSh0KXtyZXR1cm4gVXU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFV1KHQpfWZ1bmN0aW9uIEh1KHQsZSl7cmV0dXJuIEh1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sSHUodCxlKX1JdS5kZWZhdWx0Q29uZmlnPXt9O3ZhciB6dT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSxCdSh0aGlzLGUsYXJndW1lbnRzKX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmSHUodCxlKX0oZSx0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJkZ1KHQucHJvdG90eXBlLGUpLG4mJkZ1KHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShlLFt7a2V5OlwiZXhlY3V0ZUFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1uZXcgdygoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSkscj10aGlzLmNvbnRlbnROb2RlLmdldENvbnRlbnQoKTtyZXR1cm4gdC5jcmVhdGVNZW51KHIsKGZ1bmN0aW9uKHIpe3ZhciBvLGksYT0obnVsbD09PShvPXQuZ2FtZS5nZXRMaXZlR2FtZSgpLmdldEN1cnJlbnRBY3Rpb24oKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uY29udGVudE5vZGUuZ2V0Q2hpbGQoKSl8fG51bGw7YSYmKG51bGw9PT0oaT1yLmFjdGlvbltyLmFjdGlvbi5sZW5ndGgtMV0pfHx2b2lkIDA9PT1pfHxpLmNvbnRlbnROb2RlLmFkZENoaWxkKGEpKSxuLnJlc29sdmUoe3R5cGU6ZS50eXBlLG5vZGU6ci5hY3Rpb25bMF0uY29udGVudE5vZGV9KX0pKSxufX0se2tleTpcImdldEZ1dHVyZUFjdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpO3JldHVybltdLmNvbmNhdChNdSh0aGlzLmNhbGxlZS5fZ2V0RnV0dXJlQWN0aW9ucyh0LmNob2ljZXMpKSxNdShmdW5jdGlvbih0LGUsbixyKXt2YXIgbz1HdShVdSgxJnI/dC5wcm90b3R5cGU6dCksZSxuKTtyZXR1cm4gMiZyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvP2Z1bmN0aW9uKHQpe3JldHVybiBvLmFwcGx5KG4sdCl9Om99KGUsXCJnZXRGdXR1cmVBY3Rpb25zXCIsdGhpcywzKShbXSkpKX19XSl9KFUpO2Z1bmN0aW9uIFd1KHQpe3JldHVybiBXdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxXdSh0KX1mdW5jdGlvbiAkdSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxZdShyLmtleSkscil9fWZ1bmN0aW9uIFl1KHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9V3UodCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9V3UocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1XdShlKT9lOmUrXCJcIn1mdW5jdGlvbiBxdSh0LGUsbil7cmV0dXJuIGU9S3UoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09V3UoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsWHUoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLEt1KHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIFh1KCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oWHU9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIEt1KHQpe3JldHVybiBLdT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sS3UodCl9ZnVuY3Rpb24gWnUodCxlKXtyZXR1cm4gWnU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxadSh0LGUpfXp1LkFjdGlvblR5cGVzPXthY3Rpb246XCJtZW51OmFjdGlvblwifTt2YXIgUXU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLChuPXF1KHRoaXMsZSkpLmNob2ljZXM9W10sbi5wcm9tcHQ9enMuaXNTZW50ZW5jZSh0KT90Om5ldyB6cyh0KSxuLmNvbmZpZz1iKGUuZGVmYXVsdENvbmZpZyxyKSxufXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZadSh0LGUpfShlLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmJHUodC5wcm90b3R5cGUsZSksbiYmJHUodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJjaG9vc2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuY2hhaW4oKTtyZXR1cm4genMuaXNTZW50ZW5jZSh0KSYmZXx8KERzLmlzV29yZCh0KXx8QXJyYXkuaXNBcnJheSh0KXx8XCJzdHJpbmdcIj09dHlwZW9mIHQpJiZlP24uY2hvaWNlcy5wdXNoKHtwcm9tcHQ6enMudG9TZW50ZW5jZSh0KSxhY3Rpb246aWUudG9BY3Rpb25zKGUpfSk6XCJvYmplY3RcIj09PVd1KHQpJiZcInByb21wdFwiaW4gdCYmXCJhY3Rpb25cImluIHQ/bi5jaG9pY2VzLnB1c2goe3Byb21wdDp6cy50b1NlbnRlbmNlKHQucHJvbXB0KSxhY3Rpb246aWUudG9BY3Rpb25zKHQuYWN0aW9uKX0pOmNvbnNvbGUud2FybihcIk5vIHZhbGlkIGNob2ljZSBhZGRlZCB0byBtZW51LCBcIix7YXJnMDp0LGFyZzE6ZX0pLG59fSx7a2V5OlwiZnJvbUNoYWluZWRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm5bbmV3IHp1KHRoaXMuY2hhaW4oKSx6dS5BY3Rpb25UeXBlcy5hY3Rpb24sKG5ldyB4dCkuc2V0Q29udGVudCh7cHJvbXB0OnRoaXMucHJvbXB0LGNob2ljZXM6dC5jb25zdHJ1Y3RDaG9pY2VzKCl9KSldfX0se2tleTpcIl9nZXRGdXR1cmVBY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hY3Rpb259KSkuZmxhdCgyKX19LHtrZXk6XCJjb25zdHJ1Y3ROb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHIsbz0wO288dC5sZW5ndGg7bysrKXt2YXIgaT10W29dLmNvbnRlbnROb2RlLGE9bnVsbD09PShyPXRbbysxXSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuY29udGVudE5vZGU7YSYmaS5zZXRDaGlsZChhKSxvPT09dGhpcy5jaG9pY2VzLmxlbmd0aC0xJiZlJiZpLnNldENoaWxkKGUpLDA9PT1vJiZuJiZuLnNldENoaWxkKGkpfXJldHVybiB0fX0se2tleTpcImNvbnN0cnVjdENob2ljZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuY2hvaWNlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnthY3Rpb246dC5jb25zdHJ1Y3ROb2RlcyhlLmFjdGlvbikscHJvbXB0OmUucHJvbXB0fX0pKX19XSl9KHllKTtmdW5jdGlvbiBKdSh0KXtyZXR1cm4gSnU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sSnUodCl9ZnVuY3Rpb24gdGModCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGVjKHQpfSh0KXx8ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9dFtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT10W1wiQEBpdGVyYXRvclwiXSlyZXR1cm4gQXJyYXkuZnJvbSh0KX0odCl8fGZ1bmN0aW9uKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIGVjKHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/ZWModCxlKTp2b2lkIDB9fSh0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBlYyh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gbmModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscmMoci5rZXkpLHIpfX1mdW5jdGlvbiByYyh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPUp1KHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPUp1KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09SnUoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gb2ModCxlLG4pe3JldHVybiBlPWFjKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PUp1KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LGljKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxhYyh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBpYygpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKGljPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBhYyh0KXtyZXR1cm4gYWM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGFjKHQpfWZ1bmN0aW9uIHNjKHQsZSl7cmV0dXJuIHNjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sc2ModCxlKX1RdS5kZWZhdWx0Q29uZmlnPXt9LFF1LnRhcmdldEFjdGlvbj16dTt2YXIgdWM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksb2ModGhpcyxlKX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmc2ModCxlKX0oZSx0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJm5jKHQucHJvdG90eXBlLGUpLG4mJm5jKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShlLFt7a2V5OlwiZnJvbUNoYWluZWRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRBY3Rpb25zKCl9fSx7a2V5OlwiZm9yRWFjaENoaWxkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgU2V0LHI9W107Zm9yKEFycmF5LmlzQXJyYXkodCk/ci5wdXNoLmFwcGx5KHIsdGModCkpOnIucHVzaCh0KTtyLmxlbmd0aDspe3ZhciBvPXIuc2hpZnQoKTtpZighbi5oYXMobykpe24uYWRkKG8pLGUobyk7dmFyIGk9by5nZXRGdXR1cmVBY3Rpb25zKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hbi5oYXModCl9KSk7ci5wdXNoLmFwcGx5KHIsdGMoaSkpfX19fSx7a2V5OlwiZ2V0QWxsQ2hpbGRyZW5cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoQ2hpbGQodCwoZnVuY3Rpb24odCl7cmV0dXJuIGUucHVzaCh0KX0pKSxlfX0se2tleTpcImdldEFsbENoaWxkcmVuTWFwXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IE1hcDtyZXR1cm4gdGhpcy5mb3JFYWNoQ2hpbGQodCwoZnVuY3Rpb24odCl7cmV0dXJuIGUuc2V0KHQuZ2V0SWQoKSx0KX0pKSxlfX0se2tleTpcImdldEFsbEVsZW1lbnRNYXBcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1uZXcgTWFwO3JldHVybiB0aGlzLmZvckVhY2hDaGlsZCh0LChmdW5jdGlvbih0KXtyZXR1cm4gZS5zZXQodC5jYWxsZWUuZ2V0SWQoKSx0LmNhbGxlZSl9KSksZX19LHtrZXk6XCJnZXRBbGxDaGlsZHJlbkVsZW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmZyb20obmV3IFNldCh0aGlzLmdldEFsbENoaWxkcmVuKHQpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FsbGVlfSkpKSl9fSx7a2V5OlwidG9EYXRhXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19LHtrZXk6XCJjb25zdHJ1Y3ROb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTswPT09ciYmZT9lLnNldENoaWxkKG8uY29udGVudE5vZGUpOnI+MCYmKG51bGw9PT0obj10W3ItMV0uY29udGVudE5vZGUpfHx2b2lkIDA9PT1ufHxuLnNldENoaWxkKG8uY29udGVudE5vZGUpKX1yZXR1cm4gdC5sZW5ndGg/dFswXS5jb250ZW50Tm9kZTpudWxsfX1dKX0oYWUpO2Z1bmN0aW9uIGNjKHQpe3JldHVybiBjYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxjYyh0KX1mdW5jdGlvbiBsYyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxmYyhyLmtleSkscil9fWZ1bmN0aW9uIGZjKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9Y2ModCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9Y2MocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1jYyhlKT9lOmUrXCJcIn12YXIgcGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLnNyYz1bXSx0aGlzLmZ1dHVyZT1bXX1yZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZsYyh0LnByb3RvdHlwZSxlKSxuJiZsYyh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0odCxbe2tleTpcInJlZ2lzdGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKEFycmF5LmlzQXJyYXkodCkpdC5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gbi5yZWdpc3Rlcih0KX0pKTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBqcyl7aWYodGhpcy5pc1NyY1JlZ2lzdGVyZWQodC5nZXRTcmMoKSkpcmV0dXJuIHRoaXM7dGhpcy5zcmMucHVzaCh7dHlwZTpcImF1ZGlvXCIsc3JjOnR9KX1lbHNlIGlmKHQgaW5zdGFuY2VvZiBxYXx8YnMuaXNTdGF0aWNJbWFnZURhdGEodCkpe2lmKHQgaW5zdGFuY2VvZiBxYSl7aWYodGhpcy5pc1NyY1JlZ2lzdGVyZWQoYnMuc3JjVG9TdHJpbmcodC5zdGF0ZS5zcmMpKSlyZXR1cm4gdGhpc31lbHNlIGlmKHRoaXMuaXNTcmNSZWdpc3RlcmVkKGJzLnNyY1RvU3RyaW5nKHQuc3JjKSkpcmV0dXJuIHRoaXM7dGhpcy5zcmMucHVzaCh7dHlwZTpcImltYWdlXCIsc3JjOnQgaW5zdGFuY2VvZiBxYT90Om5ldyBxYShcIlwiLHtzcmM6YnMuc3RhdGljSW1hZ2VEYXRhVG9TcmModCl9KX0pfWVsc2UgaWYoXCJvYmplY3RcIj09PWNjKHQpKXtpZih0aGlzLmlzU3JjUmVnaXN0ZXJlZCh0LnNyY3x8XCJcIikpcmV0dXJuIHRoaXM7dGhpcy5zcmMucHVzaCh0KX1lbHNlIGlmKFwiYXVkaW9cIj09PXQpe2lmKHRoaXMuaXNTcmNSZWdpc3RlcmVkKGV8fFwiXCIpKXJldHVybiB0aGlzO3RoaXMuc3JjLnB1c2goe3R5cGU6dCxzcmM6ZSBpbnN0YW5jZW9mIGpzP2U6bmV3IGpzKHtzcmM6ZX0pfSl9ZWxzZXtpZih0aGlzLmlzU3JjUmVnaXN0ZXJlZChlfHxcIlwiKSlyZXR1cm4gdGhpczt0aGlzLnNyYy5wdXNoKHt0eXBlOnQsc3JjOmV9KX1yZXR1cm4gdGhpc319LHtrZXk6XCJpc1NyY1JlZ2lzdGVyZWRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj1lIGluc3RhbmNlb2YganM/ZS5nZXRTcmMoKTplO3JldHVybiB0aGlzLnNyYy5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlPT09dC5TcmNUeXBlcy5hdWRpbz9uPT09ZS5zcmMuZ2V0U3JjKCk6ZS50eXBlPT09dC5TcmNUeXBlcy5pbWFnZT9uPT09YnMuc3JjVG9TdHJpbmcoZS5zcmMuc3RhdGUuc3JjKTpuPT09ZS5zcmN9KSl9fSx7a2V5OlwiZ2V0U3JjXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcmN9fSx7a2V5OlwiZ2V0U3JjQnlUeXBlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3JjLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PXR9KSl9fSx7a2V5OlwicmVnaXN0ZXJGdXR1cmVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mdXR1cmUuaW5jbHVkZXModCl8fHRoaXMuaGFzRnV0dXJlKHQpfHx0aGlzLmZ1dHVyZS5wdXNoKHQpLHRoaXN9fSx7a2V5OlwiaGFzRnV0dXJlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZnV0dXJlLmluY2x1ZGVzKHQpfX1dKX0oKTtmdW5jdGlvbiBkYyh0KXtyZXR1cm4gZGM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sZGModCl9ZnVuY3Rpb24gaGModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQseWMoci5rZXkpLHIpfX1mdW5jdGlvbiB5Yyh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPWRjKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPWRjKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09ZGMoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gdmModCxlLG4pe3JldHVybiBlPXdjKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PWRjKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LG1jKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSx3Yyh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBtYygpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKG1jPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBnYyh0LGUsbixyKXt2YXIgbz1iYyh3YygxJnI/dC5wcm90b3R5cGU6dCksZSxuKTtyZXR1cm4gMiZyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvP2Z1bmN0aW9uKHQpe3JldHVybiBvLmFwcGx5KG4sdCl9Om99ZnVuY3Rpb24gYmMoKXtyZXR1cm4gYmM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0LmJpbmQoKTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZnVuY3Rpb24odCxlKXtmb3IoOyF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJm51bGwhPT0odD13Yyh0KSk7KTtyZXR1cm4gdH0odCxlKTtpZihyKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsZSk7cmV0dXJuIG8uZ2V0P28uZ2V0LmNhbGwoYXJndW1lbnRzLmxlbmd0aDwzP3Q6bik6by52YWx1ZX19LGJjLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiB3Yyh0KXtyZXR1cm4gd2M9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHdjKHQpfWZ1bmN0aW9uIF9jKHQsZSl7cmV0dXJuIF9jPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sX2ModCxlKX1wYy5TcmNUeXBlcz17aW1hZ2U6XCJpbWFnZVwiLHZpZGVvOlwidmlkZW9cIixhdWRpbzpcImF1ZGlvXCJ9O3ZhciBTYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx2Yyh0aGlzLGUsYXJndW1lbnRzKX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmX2ModCxlKX0oZSx0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJmhjKHQucHJvdG90eXBlLGUpLG4mJmhjKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShlLFt7a2V5OlwiZXhlY3V0ZUFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7aWYodGhpcy50eXBlPT09cy5pbml0KXt2YXIgcj10LmZpbmRFbGVtZW50QnlEaXNwbGF5YWJsZSh0aGlzLmNhbGxlZSk7ciYmdC5kaXNwb3NlRGlzcGxheWFibGUodGhpcy5jYWxsZWUsci5zY2VuZSk7dmFyIG89dGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KClbMF07dC5jcmVhdGVEaXNwbGF5YWJsZSh0aGlzLmNhbGxlZSxvKTt2YXIgaT1uZXcgdygoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSk7cmV0dXJuIHRoaXMuY2FsbGVlLmV2ZW50cy5hbnkoXCJldmVudDpkaXNwbGF5YWJsZS5pbml0XCIpLnRoZW4oKGZ1bmN0aW9uKCl7aS5yZXNvbHZlKHt0eXBlOm4udHlwZSxub2RlOm4uY29udGVudE5vZGUuZ2V0Q2hpbGQoKX0pLHQuc3RhZ2UubmV4dCgpfSkpLGl9aWYoW3Muc2hvdyxzLmhpZGUscy5hcHBseVRyYW5zZm9ybV0uaW5jbHVkZXModGhpcy50eXBlKSl7dmFyIGE9bmV3IHcoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLnJlZ2lzdGVyU2tpcENvbnRyb2xsZXIobmV3IEUoKGZ1bmN0aW9uKCl7cmV0dXJuIG4udHlwZT09PXMuaGlkZSYmKG4uY2FsbGVlLnN0YXRlLmRpc3BsYXk9ITEpLGdjKGUsXCJleGVjdXRlQWN0aW9uXCIsbiwzKShbdF0pfSkpKSx1PXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdO3JldHVybiB0aGlzLnR5cGU9PT1zLnNob3cmJih0aGlzLmNhbGxlZS5zdGF0ZS5kaXNwbGF5PSEwLHQuc3RhZ2UudXBkYXRlKCkpLHQuYW5pbWF0ZVRleHQoUWMuRXZlbnRUeXBlc1tcImV2ZW50OmRpc3BsYXlhYmxlLmFwcGx5VHJhbnNmb3JtXCJdLHRoaXMuY2FsbGVlLFt1XSwoZnVuY3Rpb24oKXtuLnR5cGU9PT1zLmhpZGUmJihuLmNhbGxlZS5zdGF0ZS5kaXNwbGF5PSExKSxhLnJlc29sdmUoZ2MoZSxcImV4ZWN1dGVBY3Rpb25cIixuLDMpKFt0XSkpfSkpLGF9aWYodGhpcy50eXBlPT09cy5zZXRUZXh0KXJldHVybiB0aGlzLmNhbGxlZS5zdGF0ZS50ZXh0PXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdLGdjKGUsXCJleGVjdXRlQWN0aW9uXCIsdGhpcywzKShbdF0pO2lmKHRoaXMudHlwZT09PXMuc2V0Rm9udFNpemUpe3RoaXMuY2FsbGVlLnN0YXRlLmZvbnRTaXplPXRoaXMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdO3ZhciBjPW5ldyBMYShbXSx7ZHVyYXRpb246MH0pLGw9bmV3IHc7cmV0dXJuIHQuYW5pbWF0ZVRleHQoUWMuRXZlbnRUeXBlc1tcImV2ZW50OmRpc3BsYXlhYmxlLmFwcGx5VHJhbnNmb3JtXCJdLHRoaXMuY2FsbGVlLFtjXSwoZnVuY3Rpb24oKXtsLnJlc29sdmUoZ2MoZSxcImV4ZWN1dGVBY3Rpb25cIixuLDMpKFt0XSkpfSkpLGx9aWYodGhpcy50eXBlPT09cy5hcHBseVRyYW5zaXRpb24pe3ZhciBmPShuZXcgdykucmVnaXN0ZXJTa2lwQ29udHJvbGxlcihuZXcgRSgoZnVuY3Rpb24oKXtyZXR1cm4gdC5sb2dnZXIuaW5mbyhcIk5hcnJhTGVhZi1SZWFjdDogVGV4dCBUcmFuc2l0aW9uXCIsXCJTa2lwcGVkXCIpLHt0eXBlOm4udHlwZSxub2RlOm4uY29udGVudE5vZGUuZ2V0Q2hpbGQoKX19KSkpLHA9dGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KClbMF07cmV0dXJuIHRoaXMuY2FsbGVlLmV2ZW50cy5hbnkoXCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zaXRpb25cIixwKS50aGVuKChmdW5jdGlvbigpe2YucmVzb2x2ZSh7dHlwZTpuLnR5cGUsbm9kZTpuLmNvbnRlbnROb2RlLmdldENoaWxkKCl9KSx0LnN0YWdlLm5leHQoKX0pKSxmfXRocm93IGdjKGUsXCJ1bmtub3duVHlwZVwiLHRoaXMsMykoW10pfX1dKX0oVSk7U2MuQWN0aW9uVHlwZXM9czt2YXIga2M9e3N0YXJ0Olwic3RhcnRcIix1cGRhdGU6XCJ1cGRhdGVcIixlbmQ6XCJlbmRcIn07ZnVuY3Rpb24geGModCl7cmV0dXJuIHhjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHhjKHQpfWZ1bmN0aW9uIEFjKHQsZSxuKXtyZXR1cm4gZT1UYyhlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT14YyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxPYygpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sVGModCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gT2MoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihPYz1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gVGModCl7cmV0dXJuIFRjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxUYyh0KX1mdW5jdGlvbiBFYyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZQYyh0LGUpfWZ1bmN0aW9uIFBjKHQsZSl7cmV0dXJuIFBjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sUGModCxlKX1mdW5jdGlvbiBqYyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gQ2ModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsSWMoci5rZXkpLHIpfX1mdW5jdGlvbiBMYyh0LGUsbil7cmV0dXJuIGUmJkNjKHQucHJvdG90eXBlLGUpLG4mJkNjKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fWZ1bmN0aW9uIEljKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9eGModCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9eGMocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT14YyhlKT9lOmUrXCJcIn12YXIgTmM9ZnVuY3Rpb24oKXtyZXR1cm4gTGMoKGZ1bmN0aW9uIHQoKXtqYyh0aGlzLHQpLHRoaXMuZXZlbnRzPW5ldyBrfSksW3trZXk6XCJzdGFydFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpfX0se2tleTpcInRvRWxlbWVudFByb3BzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKX19LHtrZXk6XCJjb3B5XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKX19LHtrZXk6XCJyZXF1ZXN0QW5pbWF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMsbz10LnN0YXJ0LGk9dC5lbmQsYT10LmR1cmF0aW9uLHM9ZS5vbkNvbXBsZXRlLHU9ZS5vblVwZGF0ZTtyZXR1cm4gdGhpcy5ldmVudHMuZW1pdChrYy5zdGFydCxudWxsKSx0aGlzLmNvbnRyb2xsZXI9YmEobyxpLE9iamVjdC5hc3NpZ24oe2R1cmF0aW9uOmEvMWUzLG9uVXBkYXRlOmZ1bmN0aW9uKHQpe3UmJnUodCksci5ldmVudHMuZW1pdChrYy51cGRhdGUsci50b0VsZW1lbnRQcm9wcygpKX0sb25Db21wbGV0ZTpmdW5jdGlvbigpe3IuY29udHJvbGxlcj12b2lkIDAsci5ldmVudHMuZW1pdChrYy5lbmQsbnVsbCkscyYmcygpfX0sbikpLHRoaXMuY29udHJvbGxlcn19XSl9KCksTWM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBqYyh0aGlzLGUpLEFjKHRoaXMsZSxhcmd1bWVudHMpfXJldHVybiBFYyhlLHQpLExjKGUsW3trZXk6XCJzZXRTcmNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKX19LHtrZXk6XCJjb3B5XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKX19XSl9KE5jKSxSYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGpjKHRoaXMsZSksQWModGhpcyxlLGFyZ3VtZW50cyl9cmV0dXJuIEVjKGUsdCksTGMoZSxbe2tleTpcImNvcHlcIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpfX1dKX0oTmMpO2Z1bmN0aW9uIEZjKHQpe3JldHVybiBGYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxGYyh0KX1mdW5jdGlvbiBEYyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxCYyhyLmtleSkscil9fWZ1bmN0aW9uIEJjKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9RmModCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9RmMocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1GYyhlKT9lOmUrXCJcIn1mdW5jdGlvbiBWYyh0LGUsbil7cmV0dXJuIGU9VWMoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09RmMoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsR2MoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLFVjKHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIEdjKCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oR2M9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIFVjKHQpe3JldHVybiBVYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sVWModCl9ZnVuY3Rpb24gSGModCxlKXtyZXR1cm4gSGM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxIYyh0LGUpfXZhciB6Yz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsbil7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MWUzLGk9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSwocj1WYyh0aGlzLGUpKS5zdGF0ZT17Zm9udFNpemU6MH0sci5zdGFydFZhbHVlPXQsci5lbmRWYWx1ZT1uLHIuZHVyYXRpb249byxyLmVhc2luZz1pLHJ9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkhjKHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZEYyh0LnByb3RvdHlwZSxlKSxuJiZEYyh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcInN0YXJ0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLnN0YXRlLmZvbnRTaXplPXRoaXMuc3RhcnRWYWx1ZSx0aGlzLnJlcXVlc3RBbmltYXRpb24oe3N0YXJ0OnRoaXMuc3RhcnRWYWx1ZSxlbmQ6dGhpcy5lbmRWYWx1ZSxkdXJhdGlvbjp0aGlzLmR1cmF0aW9ufSx7b25Db21wbGV0ZTpmdW5jdGlvbigpe2Uuc3RhdGUuZm9udFNpemU9ZS5lbmRWYWx1ZSx0JiZ0KCl9LG9uVXBkYXRlOmZ1bmN0aW9uKHQpe2Uuc3RhdGUuZm9udFNpemU9dH19LHtlYXNlOnRoaXMuZWFzaW5nfSl9fSx7a2V5OlwidG9FbGVtZW50UHJvcHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblt7c3R5bGU6e2ZvbnRTaXplOnRoaXMuc3RhdGUuZm9udFNpemV9fV19fSx7a2V5OlwiY29weVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMuc3RhcnRWYWx1ZSx0aGlzLmVuZFZhbHVlLHRoaXMuZHVyYXRpb24sdGhpcy5lYXNpbmcpfX1dKX0oUmMpO2Z1bmN0aW9uIFdjKHQpe3JldHVybiBXYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxXYyh0KX1mdW5jdGlvbiAkYyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxZYyhyLmtleSkscil9fWZ1bmN0aW9uIFljKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9V2ModCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9V2MocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1XYyhlKT9lOmUrXCJcIn1mdW5jdGlvbiBxYyh0LGUsbil7cmV0dXJuIGU9S2MoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09V2MoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsWGMoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLEtjKHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIFhjKCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oWGM9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIEtjKHQpe3JldHVybiBLYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sS2ModCl9ZnVuY3Rpb24gWmModCxlKXtyZXR1cm4gWmM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxaYyh0LGUpfXpjLkZyYW1lcz1bMSwwXTt2YXIgUWM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLChuPXFjKHRoaXMsZSkpLmV2ZW50cz1uZXcgayxuLmNvbmZpZz1cInN0cmluZ1wiPT10eXBlb2YgdD9iKHt9LGUuZGVmYXVsdENvbmZpZyxyLHt0ZXh0OnR9KTpiKHt9LGUuZGVmYXVsdENvbmZpZyx0KSxuLnN0YXRlPWIoe30sbi5jb25maWcpLG59cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJlpjKHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiYkYyh0LnByb3RvdHlwZSxlKSxuJiYkYyh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcImFwcGx5VHJhbnNmb3JtXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGFpbigpLG49bmV3IFNjKGUsU2MuQWN0aW9uVHlwZXMuYXBwbHlUcmFuc2Zvcm0sKG5ldyB4dCkuc2V0Q29udGVudChbdC5jb3B5KCldKSk7cmV0dXJuIGUuY2hhaW4obil9fSx7a2V5OlwiYXBwbHlUcmFuc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGFpbigpLG49dGhpcy5fYXBwbHlUcmFuc2l0aW9uKGUsdCk7cmV0dXJuIGUuY2hhaW4obil9fSx7a2V5Olwic2hvd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2hhaW4oKSxuPXQgaW5zdGFuY2VvZiBMYT90LmNvcHkoKTpuZXcgTGEoW3twcm9wczp7b3BhY2l0eToxfSxvcHRpb25zOnR8fHt9fV0pLHI9bmV3IFNjKGUsU2MuQWN0aW9uVHlwZXMuc2hvdywobmV3IHh0KS5zZXRDb250ZW50KFtuXSkpO3JldHVybiBlLmNoYWluKHIpfX0se2tleTpcImhpZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoYWluKCksbj10IGluc3RhbmNlb2YgTGE/dC5jb3B5KCk6bmV3IExhKFt7cHJvcHM6e29wYWNpdHk6MX0sb3B0aW9uczp0fHx7fX1dKSxyPW5ldyBTYyhlLFNjLkFjdGlvblR5cGVzLmhpZGUsKG5ldyB4dCkuc2V0Q29udGVudChbbl0pKTtyZXR1cm4gZS5jaGFpbihyKX19LHtrZXk6XCJzZXRUZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGFpbigpLG49bmV3IFNjKGUsU2MuQWN0aW9uVHlwZXMuc2V0VGV4dCwobmV3IHh0KS5zZXRDb250ZW50KFt0XSkpO3JldHVybiBlLmNoYWluKG4pfX0se2tleTpcInNldEZvbnRTaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLHI9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7cmV0dXJuIHRoaXMuY29tYmluZUFjdGlvbnMobmV3IFZhLChmdW5jdGlvbihvKXtpZihuKXt2YXIgaT1uZXcgemMoZS5zdGF0ZS5mb250U2l6ZSx0LG4scik7by5jaGFpbihlLl9hcHBseVRyYW5zaXRpb24obyxpKSl9dmFyIGE9bmV3IFNjKG8sU2MuQWN0aW9uVHlwZXMuc2V0Rm9udFNpemUsKG5ldyB4dCkuc2V0Q29udGVudChbdF0pKTtyZXR1cm4gby5jaGFpbihhKX0pKX19LHtrZXk6XCJ0b0RhdGFcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybntzdGF0ZTpiKHt9LHFhLnNlcmlhbGl6ZUltYWdlU3RhdGUodGhpcy5zdGF0ZSkpfX19LHtrZXk6XCJmcm9tRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlPWIoe30scWEuZGVzZXJpYWxpemVJbWFnZVN0YXRlKHQuc3RhdGUpKSx0aGlzfX0se2tleTpcInRvVHJhbnNmb3JtXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IExhKHRoaXMuc3RhdGUse2R1cmF0aW9uOjB9KX19LHtrZXk6XCJ0b0Rpc3BsYXlhYmxlVHJhbnNmb3JtXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IExhKHRoaXMuc3RhdGUse2R1cmF0aW9uOjB9KX19LHtrZXk6XCJfaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgU2ModGhpcy5jaGFpbigpLFNjLkFjdGlvblR5cGVzLmluaXQsKG5ldyB4dCkuc2V0Q29udGVudChbdF0pKX19LHtrZXk6XCJfYXBwbHlUcmFuc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFNjKHQsU2MuQWN0aW9uVHlwZXMuYXBwbHlUcmFuc2l0aW9uLChuZXcgeHQpLnNldENvbnRlbnQoW2VdKSl9fV0pfSh5ZSk7ZnVuY3Rpb24gSmModCl7cmV0dXJuIEpjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEpjKHQpfWZ1bmN0aW9uIHRsKHQpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBlbCh0KX0odCl8fGZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPXRbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9dFtcIkBAaXRlcmF0b3JcIl0pcmV0dXJuIEFycmF5LmZyb20odCl9KHQpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBlbCh0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP2VsKHQsZSk6dm9pZCAwfX0odCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gZWwodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIG5sKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHJsKHIua2V5KSxyKX19ZnVuY3Rpb24gcmwodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1KYyh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1KYyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PUpjKGUpP2U6ZStcIlwifWZ1bmN0aW9uIG9sKHQsZSxuKXtyZXR1cm4gZT1zbChlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1KYyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxpbCgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sc2wodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gaWwoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihpbD1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gYWwoKXtyZXR1cm4gYWw9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0LmJpbmQoKTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZnVuY3Rpb24odCxlKXtmb3IoOyF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJm51bGwhPT0odD1zbCh0KSk7KTtyZXR1cm4gdH0odCxlKTtpZihyKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsZSk7cmV0dXJuIG8uZ2V0P28uZ2V0LmNhbGwoYXJndW1lbnRzLmxlbmd0aDwzP3Q6bik6by52YWx1ZX19LGFsLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBzbCh0KXtyZXR1cm4gc2w9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHNsKHQpfWZ1bmN0aW9uIHVsKHQsZSl7cmV0dXJuIHVsPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sdWwodCxlKX1RYy5FdmVudFR5cGVzPXtcImV2ZW50OnRleHQuc2hvd1wiOlwiZXZlbnQ6dGV4dC5zaG93XCIsXCJldmVudDp0ZXh0LmhpZGVcIjpcImV2ZW50OnRleHQuaGlkZVwiLFwiZXZlbnQ6ZGlzcGxheWFibGUuYXBwbHlUcmFuc2l0aW9uXCI6XCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zaXRpb25cIixcImV2ZW50OmRpc3BsYXlhYmxlLmFwcGx5VHJhbnNmb3JtXCI6XCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zZm9ybVwiLFwiZXZlbnQ6ZGlzcGxheWFibGUuaW5pdFwiOlwiZXZlbnQ6ZGlzcGxheWFibGUuaW5pdFwifSxRYy5kZWZhdWx0Q29uZmlnPXtwb3NpdGlvbjpuZXcgVGUoVGUuUG9zaXRpb25zLkNlbnRlciksc2NhbGU6MSxyb3RhdGlvbjowLG9wYWNpdHk6MCxhbGlnblg6XCJjZW50ZXJcIixhbGlnblk6XCJjZW50ZXJcIixmb250U2l6ZToxNixmb250Q29sb3I6XCIjMDAwMDAwXCIsZGlzcGxheTohMSx0ZXh0OlwiXCJ9O3ZhciBjbD1mdW5jdGlvbih0LGUpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiZlLmluZGV4T2Yocik8MCYmKG5bcl09dFtyXSk7aWYobnVsbCE9dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89MDtmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO288ci5sZW5ndGg7bysrKWUuaW5kZXhPZihyW29dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodCxyW29dKSYmKG5bcltvXV09dFtyW29dXSl9cmV0dXJuIG59LGxsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIodCl7dmFyIGUsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ci5kZWZhdWx0Q29uZmlnOyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsciksKGU9b2wodGhpcyxyKSkuc3JjTWFuYWdlcj1uZXcgcGMsZS5ldmVudHM9bmV3IGssZS5uYW1lPXQ7dmFyIG89YihyLmRlZmF1bHRDb25maWcsbiksaT1vLmJhY2tncm91bmQsYT1jbChvLFtcImJhY2tncm91bmRcIl0pO3JldHVybiBlLmNvbmZpZz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sYSkse2JhY2tncm91bmRJbWFnZTpuZXcgcWEoe29wYWNpdHk6MX0pLGJhY2tncm91bmQ6aXx8bnVsbH0pLGUuc3RhdGU9YihlLmNvbmZpZyx7fSksZX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmdWwodCxlKX0ocix0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJm5sKHQucHJvdG90eXBlLGUpLG4mJm5sKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShyLFt7a2V5OlwidG9CYWNrZ3JvdW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoYnMuaXNJbWFnZVNyYyh0KXx8YnMuaXNJbWFnZUNvbG9yKHQpKXJldHVybiB0O2lmKHQgaW5zdGFuY2VvZiBncylyZXR1cm4gdC50b0ltYWdlQ29sb3IoKTt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJhY2tncm91bmQgdHlwZVwiKX19LHtrZXk6XCJhY3RpdmF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hhaW4odGhpcy5faW5pdCh0aGlzKSl9fSx7a2V5OlwiZGVhY3RpdmF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hhaW4odGhpcy5fZXhpdCgpKX19LHtrZXk6XCJzZXRCYWNrZ3JvdW5kXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLmNvbWJpbmVBY3Rpb25zKG5ldyBWYSwoZnVuY3Rpb24ocil7aWYoZSl7dmFyIG89ZS5jb3B5KCk7by5zZXRTcmMobi50b0JhY2tncm91bmQodCkpLHIuX3RyYW5zaXRpb25Ub1NjZW5lKHZvaWQgMCxvLG4udG9CYWNrZ3JvdW5kKHQpKX1yZXR1cm4gci5jaGFpbihuZXcgZHQocixcInNjZW5lOnNldEJhY2tncm91bmRcIiwobmV3IHh0KS5zZXRDb250ZW50KFt0XSkpKX0pKX19LHtrZXk6XCJhcHBseVRyYW5zZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoYWluKG5ldyBkdCh0aGlzLmNoYWluKCksXCJzY2VuZTphcHBseVRyYW5zZm9ybVwiLChuZXcgeHQpLnNldENvbnRlbnQoW3QuY29weSgpXSkpKX19LHtrZXk6XCJqdW1wVG9cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuY29tYmluZUFjdGlvbnMobmV3IFZhLChmdW5jdGlvbihyKXt2YXIgbz1lfHx7fTtyZXR1cm4gci5jaGFpbihuZXcgZHQocixcInNjZW5lOnByZVVubW91bnRcIiwobmV3IHh0KS5zZXRDb250ZW50KFtdKSkpLl90cmFuc2l0aW9uVG9TY2VuZSh0LG8udHJhbnNpdGlvbikuY2hhaW4odC5faW5pdCgpKS5jaGFpbihuLl9leGl0KCkpLl9qdW1wVG8odCl9KSl9fSx7a2V5Olwic2xlZXBcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGFpbihuZXcgZHQodGhpcy5jaGFpbigpLFwic2NlbmU6c2xlZXBcIiwobmV3IHh0KS5zZXRDb250ZW50KHQpKSl9fSx7a2V5Olwic2V0QmFja2dyb3VuZE11c2ljXCIsdmFsdWU6ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy5jaGFpbihuZXcgZHQodGhpcy5jaGFpbigpLGUuc2V0QmFja2dyb3VuZE11c2ljLChuZXcgeHQpLnNldENvbnRlbnQoW3Qsbl0pKSl9fSx7a2V5OlwidG9EYXRhXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm57c3RhdGU6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LF8odGhpcy5zdGF0ZSkpLHtiYWNrZ3JvdW5kTXVzaWM6bnVsbD09PSh0PXRoaXMuc3RhdGUuYmFja2dyb3VuZE11c2ljKXx8dm9pZCAwPT09dD92b2lkIDA6dC50b0RhdGEoKSxiYWNrZ3JvdW5kOnRoaXMuc3RhdGUuYmFja2dyb3VuZH0pLGJhY2tncm91bmRJbWFnZVN0YXRlOnRoaXMuc3RhdGUuYmFja2dyb3VuZEltYWdlLnRvRGF0YSgpfX19LHtrZXk6XCJmcm9tRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlPWIodGhpcy5zdGF0ZSx0LnN0YXRlKSx0LnN0YXRlLmJhY2tncm91bmRNdXNpYyYmKHRoaXMuc3RhdGUuYmFja2dyb3VuZE11c2ljPShuZXcganMpLmZyb21EYXRhKHQuc3RhdGUuYmFja2dyb3VuZE11c2ljKSksdC5iYWNrZ3JvdW5kSW1hZ2VTdGF0ZSYmdGhpcy5zdGF0ZS5iYWNrZ3JvdW5kSW1hZ2UuZnJvbURhdGEodC5iYWNrZ3JvdW5kSW1hZ2VTdGF0ZSksdGhpc319LHtrZXk6XCJnZXRJbml0VHJhbnNmb3JtXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IExhKFt7cHJvcHM6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuc3RhdGUuYmFja2dyb3VuZEltYWdlLnN0YXRlKSx7b3BhY2l0eToxfSksb3B0aW9uczp7ZHVyYXRpb246MH19XSl9fSx7a2V5OlwiYWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9KEFycmF5LmlzQXJyYXkodCk/dC5mbGF0KDIpOnQodGhpcykuZmxhdCgyKSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gaWUuaXNDaGFpbmVkKHQpP3QuZnJvbUNoYWluZWQodCk6dH0pKS5mbGF0KDIpLG49W10sbz1bXTt0aGlzLmdldEFsbENoaWxkcmVuRWxlbWVudHMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWUuaXNDaGFpbmVkKHQpfHwodCBpbnN0YW5jZW9mIHFhP24ucHVzaCh0KTp0IGluc3RhbmNlb2YgUWMmJm8ucHVzaCh0KSl9KSk7dmFyIGk9W3RoaXMuX2luaXQodGhpcyldLmNvbmNhdCh0bChuLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuX2luaXQoKX0pKSksdGwoby5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Ll9pbml0KCl9KSkpLHRsKGUpKSxhPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPWFsKHNsKDEmcj90LnByb3RvdHlwZTp0KSxlLG4pO3JldHVybiAyJnImJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8/ZnVuY3Rpb24odCl7cmV0dXJuIG8uYXBwbHkobix0KX06b30ocixcImNvbnN0cnVjdE5vZGVzXCIsdGhpcywzKShbaV0pLHM9bmV3IHh0KHZvaWQgMCx2b2lkIDAsYXx8dm9pZCAwKS5zZXRDb250ZW50KHRoaXMpO3JldHVybiBudWxsPT1hfHxhLnNldFBhcmVudChzKSx0aGlzLnNjZW5lUm9vdD1uZXcgZHQodGhpcy5jaGFpbigpLFwic2NlbmU6YWN0aW9uXCIscyksdGhpc319LHtrZXk6XCJyZWdpc3RlclNyY1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxyPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpuZXcgU2V0O2lmKHRoaXMuc2NlbmVSb290KXt2YXIgbz1uZXcgU2V0LGk9bmV3IFNldCxhPVt0aGlzLnNjZW5lUm9vdF0scz1uZXcgU2V0O2Zvcihicy5pc0ltYWdlU3JjKHRoaXMuY29uZmlnLmJhY2tncm91bmQpJiZ0aGlzLnNyY01hbmFnZXIucmVnaXN0ZXIobmV3IHFhKHtzcmM6YnMudG9CYWNrZ3JvdW5kU3JjKHRoaXMuY29uZmlnLmJhY2tncm91bmQpfSkpO2EubGVuZ3RoOyl7dmFyIHU9YS5zaGlmdCgpO2lmKCFvLmhhcyh1KSl7aWYoby5hZGQodSksdSBpbnN0YW5jZW9mIGR0KXtpZih1LnR5cGU9PT1lLmp1bXBUbyl7dmFyIGM9dSxsPWMuY29udGVudE5vZGUuZ2V0Q29udGVudCgpWzBdO2lmKGkuaGFzKGMpfHxyLmhhcyhsKSljb250aW51ZTtpLmFkZChjKSxzLmFkZChsKSxyLmFkZChsKX19ZWxzZSBpZih1IGluc3RhbmNlb2YgYXMpe3ZhciBmPXU7aWYodGhpcy5zcmNNYW5hZ2VyLnJlZ2lzdGVyKGYuY2FsbGVlKSx1LnR5cGU9PT1uLnNldFNyYyl7dmFyIHA9dS5jb250ZW50Tm9kZS5nZXRDb250ZW50KClbMF07dGhpcy5zcmNNYW5hZ2VyLnJlZ2lzdGVyKG5ldyBxYSh7c3JjOnB9KSl9fWVsc2UgaWYodSBpbnN0YW5jZW9mIHR0KXRoaXMuc3JjTWFuYWdlci5yZWdpc3Rlcih1LmNhbGxlZSk7ZWxzZSBpZih1IGluc3RhbmNlb2YgJHQpe3ZhciBkPXUuZ2V0RnV0dXJlQWN0aW9ucygpO2EucHVzaC5hcHBseShhLHRsKGQpKX1hLnB1c2guYXBwbHkoYSx0bCh1LmdldEZ1dHVyZUFjdGlvbnMoKSkpfX1zLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucmVnaXN0ZXJTcmMociksdC5zcmNNYW5hZ2VyLnJlZ2lzdGVyRnV0dXJlKGUuc3JjTWFuYWdlcil9KSl9fX0se2tleTpcImFzc2lnbkFjdGlvbklkXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdldEFsbENoaWxkcmVuKHRoaXMuc2NlbmVSb290fHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXt0LnNldElkKFwiYWN0aW9uLVwiLmNvbmNhdChlKSl9KSl9fSx7a2V5OlwiYXNzaWduRWxlbWVudElkXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdldEFsbENoaWxkcmVuRWxlbWVudHModGhpcy5zY2VuZVJvb3R8fFtdKS5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3Quc2V0SWQoXCJlbGVtZW50LVwiLmNvbmNhdChlKSl9KSl9fSx7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9YihyLmRlZmF1bHRTdGF0ZSx0aGlzLmNvbmZpZyksdGhpcy5zdGF0ZS5iYWNrZ3JvdW5kSW1hZ2UucmVzZXQoKX19LHtrZXk6XCJ0b0Rpc3BsYXlhYmxlVHJhbnNmb3JtXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS5iYWNrZ3JvdW5kSW1hZ2UudG9EaXNwbGF5YWJsZVRyYW5zZm9ybSgpfX0se2tleTpcIl9hcHBseVRyYW5zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGFpbihuZXcgZHQodGhpcy5jaGFpbigpLFwic2NlbmU6YXBwbHlUcmFuc2l0aW9uXCIsKG5ldyB4dCkuc2V0Q29udGVudChbdF0pKSl9fSx7a2V5OlwiX2p1bXBUb1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoYWluKG5ldyBkdCh0aGlzLmNoYWluKCksXCJzY2VuZTpqdW1wVG9cIiwobmV3IHh0KS5zZXRDb250ZW50KFt0XSkpKX19LHtrZXk6XCJfZXhpdFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBkdCh0aGlzLmNoYWluKCksXCJzY2VuZTpleGl0XCIsKG5ldyB4dCkuc2V0Q29udGVudChbXSkpfX0se2tleTpcIl90cmFuc2l0aW9uVG9TY2VuZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmNoYWluKCk7aWYoZSl7dmFyIG89ZS5jb3B5KCk7dCYmdC5jb25maWcuYmFja2dyb3VuZCYmby5zZXRTcmModC5jb25maWcuYmFja2dyb3VuZCksbiYmby5zZXRTcmMobiksci5fYXBwbHlUcmFuc2l0aW9uKG8pfXJldHVybiByfX0se2tleTpcIl9pbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGR0KChhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcykuY2hhaW4oKSxcInNjZW5lOmluaXRcIiwobmV3IHh0KS5zZXRDb250ZW50KFtdKSl9fV0pfSh1Yyk7ZnVuY3Rpb24gZmwodCl7cmV0dXJuIGZsPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGZsKHQpfWZ1bmN0aW9uIHBsKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGRsKHIua2V5KSxyKX19ZnVuY3Rpb24gZGwodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1mbCh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1mbChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PWZsKGUpP2U6ZStcIlwifWZ1bmN0aW9uIGhsKHQsZSxuKXtyZXR1cm4gZT1tbChlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1mbChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCx5bCgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sbWwodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24geWwoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybih5bD1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gdmwoKXtyZXR1cm4gdmw9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0LmJpbmQoKTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZnVuY3Rpb24odCxlKXtmb3IoOyF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJm51bGwhPT0odD1tbCh0KSk7KTtyZXR1cm4gdH0odCxlKTtpZihyKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsZSk7cmV0dXJuIG8uZ2V0P28uZ2V0LmNhbGwoYXJndW1lbnRzLmxlbmd0aDwzP3Q6bik6by52YWx1ZX19LHZsLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBtbCh0KXtyZXR1cm4gbWw9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LG1sKHQpfWZ1bmN0aW9uIGdsKHQsZSl7cmV0dXJuIGdsPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sZ2wodCxlKX1sbC5FdmVudFR5cGVzPXtcImV2ZW50OnNjZW5lLnJlbW92ZVwiOlwiZXZlbnQ6c2NlbmUucmVtb3ZlXCIsXCJldmVudDpzY2VuZS5sb2FkXCI6XCJldmVudDpzY2VuZS5sb2FkXCIsXCJldmVudDpzY2VuZS51bmxvYWRcIjpcImV2ZW50OnNjZW5lLnVubG9hZFwiLFwiZXZlbnQ6c2NlbmUubW91bnRcIjpcImV2ZW50OnNjZW5lLm1vdW50XCIsXCJldmVudDpzY2VuZS51bm1vdW50XCI6XCJldmVudDpzY2VuZS51bm1vdW50XCIsXCJldmVudDpzY2VuZS5wcmVVbm1vdW50XCI6XCJldmVudDpzY2VuZS5wcmVVbm1vdW50XCIsXCJldmVudDpzY2VuZS5pbWFnZUxvYWRlZFwiOlwiZXZlbnQ6c2NlbmUuaW1hZ2VMb2FkZWRcIixcImV2ZW50OnNjZW5lLnNldEJhY2tncm91bmRNdXNpY1wiOlwiZXZlbnQ6c2NlbmUuc2V0QmFja2dyb3VuZE11c2ljXCIsXCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zaXRpb25cIjpcImV2ZW50OmRpc3BsYXlhYmxlLmFwcGx5VHJhbnNpdGlvblwiLFwiZXZlbnQ6ZGlzcGxheWFibGUuYXBwbHlUcmFuc2Zvcm1cIjpcImV2ZW50OmRpc3BsYXlhYmxlLmFwcGx5VHJhbnNmb3JtXCIsXCJldmVudDpkaXNwbGF5YWJsZS5pbml0XCI6XCJldmVudDpkaXNwbGF5YWJsZS5pbml0XCJ9LGxsLmRlZmF1bHRDb25maWc9e2ludmVydFk6ITEsaW52ZXJ0WDohMSxiYWNrZ3JvdW5kTXVzaWM6bnVsbCxiYWNrZ3JvdW5kTXVzaWNGYWRlOjB9LGxsLmRlZmF1bHRTdGF0ZT17fTt2YXIgYmw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksaGwodGhpcyxlLGFyZ3VtZW50cyl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmdsKHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZwbCh0LnByb3RvdHlwZSxlKSxuJiZwbCh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcImV4ZWN1dGVBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZW50Tm9kZS5nZXRDb250ZW50KCkuZXhlY3V0ZSh7Z2FtZVN0YXRlOnR9KSxmdW5jdGlvbih0LGUsbixyKXt2YXIgbz12bChtbCgxJnI/dC5wcm90b3R5cGU6dCksZSxuKTtyZXR1cm4gMiZyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvP2Z1bmN0aW9uKHQpe3JldHVybiBvLmFwcGx5KG4sdCl9Om99KGUsXCJleGVjdXRlQWN0aW9uXCIsdGhpcywzKShbdF0pfX1dKX0oVSk7ZnVuY3Rpb24gd2wodCl7cmV0dXJuIHdsPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHdsKHQpfWZ1bmN0aW9uIF9sKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFNsKHIua2V5KSxyKX19ZnVuY3Rpb24gU2wodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT13bCh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT13bChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PXdsKGUpP2U6ZStcIlwifWZ1bmN0aW9uIGtsKHQsZSxuKXtyZXR1cm4gZT1PbChlKSx4bCh0LEFsKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxPbCh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiB4bCh0LGUpe2lmKGUmJihcIm9iamVjdFwiPT13bChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX1mdW5jdGlvbiBBbCgpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKEFsPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBPbCh0KXtyZXR1cm4gT2w9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LE9sKHQpfWZ1bmN0aW9uIFRsKHQsZSl7cmV0dXJuIFRsPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sVGwodCxlKX1ibC5BY3Rpb25UeXBlcz17YWN0aW9uOlwic2NyaXB0OmFjdGlvblwifTt2YXIgRWw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLChuPWtsKHRoaXMsZSkpLmhhbmRsZXI9dCx4bChuLG4uY2hhaW4oKSl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJlRsKHQsZSl9KGUsdCksZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZfbCh0LnByb3RvdHlwZSxlKSxuJiZfbCh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oZSxbe2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10LmdhbWVTdGF0ZTt0aGlzLmhhbmRsZXIoZS5nZXRDdHgoe2dhbWVTdGF0ZTpufSkpfX0se2tleTpcImZyb21DaGFpbmVkXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuW25ldyBibCh0aGlzLmNoYWluKCksYmwuQWN0aW9uVHlwZXMuYWN0aW9uLChuZXcgeHQpLnNldENvbnRlbnQodCkpXX19XSxbe2tleTpcImdldEN0eFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2FtZVN0YXRlO3JldHVybntnYW1lU3RhdGU6ZSxnYW1lOmUuZ2FtZSxsaXZlR2FtZTplLmdhbWUuZ2V0TGl2ZUdhbWUoKSxzdG9yYWJsZTplLmdhbWUuZ2V0TGl2ZUdhbWUoKS5nZXRTdG9yYWJsZSgpfX19XSl9KHllKTtmdW5jdGlvbiBQbCh0KXtyZXR1cm4gUGw9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sUGwodCl9ZnVuY3Rpb24gamwodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsQ2woci5rZXkpLHIpfX1mdW5jdGlvbiBDbCh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPVBsKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPVBsKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09UGwoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gTGwodCxlLG4pe3JldHVybiBlPU5sKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PVBsKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LElsKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSxObCh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBJbCgpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKElsPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiBObCh0KXtyZXR1cm4gTmw9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LE5sKHQpfWZ1bmN0aW9uIE1sKHQsZSl7cmV0dXJuIE1sPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sTWwodCxlKX12YXIgUmw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLChuPUxsKHRoaXMsZSkpLmVudHJ5U2NlbmU9bnVsbCxuLm5hbWU9dCxuLmNvbmZpZz1iKGUuZGVmYXVsdENvbmZpZyxyKSxufXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZNbCh0LGUpfShlLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmamwodC5wcm90b3R5cGUsZSksbiYmamwodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJlbnRyeVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVudHJ5U2NlbmU9dCx0aGlzfX0se2tleTpcImNvbnN0cnVjdFN0b3J5XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVudHJ5U2NlbmU7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiU3RvcnkgbXVzdCBoYXZlIGFuIGVudHJ5IHNjZW5lXCIpO3JldHVybiB0LnJlZ2lzdGVyU3JjKCksdC5hc3NpZ25BY3Rpb25JZCgpLHQuYXNzaWduRWxlbWVudElkKCksdGhpcy5ydW5TdGF0aWNDaGVjayh0KSx0aGlzfX0se2tleTpcImdldEFsbEVsZW1lbnRTdGF0ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybiB0aGlzLmdldEFsbENoaWxkcmVuRWxlbWVudHMoKG51bGw9PT0odD10aGlzLmVudHJ5U2NlbmUpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNjZW5lUm9vdCl8fFtdKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybntpZDp0LmdldElkKCksZGF0YTp0LnRvRGF0YSgpfX0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5kYXRhfSkpfX0se2tleTpcInJ1blN0YXRpY0NoZWNrXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBTcyh0KS5ydW4oKX19XSl9KHVjKTtmdW5jdGlvbiBGbCh0KXtyZXR1cm4gRmw9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sRmwodCl9ZnVuY3Rpb24gRGwodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbD09dD9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYobnVsbCE9bil7dmFyIHIsbyxpLGEscz1bXSx1PSEwLGM9ITE7dHJ5e2lmKGk9KG49bi5jYWxsKHQpKS5uZXh0LDA9PT1lKXtpZihPYmplY3QobikhPT1uKXJldHVybjt1PSExfWVsc2UgZm9yKDshKHU9KHI9aS5jYWxsKG4pKS5kb25lKSYmKHMucHVzaChyLnZhbHVlKSxzLmxlbmd0aCE9PWUpO3U9ITApO31jYXRjaCh0KXtjPSEwLG89dH1maW5hbGx5e3RyeXtpZighdSYmbnVsbCE9bi5yZXR1cm4mJihhPW4ucmV0dXJuKCksT2JqZWN0KGEpIT09YSkpcmV0dXJufWZpbmFsbHl7aWYoYyl0aHJvdyBvfX1yZXR1cm4gc319KHQsZSl8fGZ1bmN0aW9uKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIEJsKHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/QmwodCxlKTp2b2lkIDB9fSh0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gQmwodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIFZsKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBHbCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxIbChyLmtleSkscil9fWZ1bmN0aW9uIFVsKHQsZSxuKXtyZXR1cm4gZSYmR2wodC5wcm90b3R5cGUsZSksbiYmR2wodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9ZnVuY3Rpb24gSGwodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1GbCh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1GbChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PUZsKGUpP2U6ZStcIlwifVJsLmRlZmF1bHRDb25maWc9e307dmFyIHpsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4scil7VmwodGhpcyx0KSx0aGlzLm5hbWU9ZSx0aGlzLmtleT1yfHxlLHRoaXMuY29udGVudD1iKHt9LG4pfXJldHVybiBVbCh0LFt7a2V5Olwic2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5pc1NlcmlhbGl6YWJsZShuKT8odGhpcy5jb250ZW50W2VdPW4sdGhpcyk6KGNvbnNvbGUud2FybignVmFsdWUgXCInLmNvbmNhdChuLCdcIiBpbiBrZXkgXCInKS5jb25jYXQoU3RyaW5nKGUpLCdcIiBpcyBub3Qgc2VyaWFsaXphYmxlLCBhbmQgd2lsbCBub3QgYmUgc2V0XFxuYXQgbmFtZXNwYWNlIFwiJykuY29uY2F0KHRoaXMubmFtZSwnXCInKSksdGhpcy5jb250ZW50W2VdPW4sdGhpcyl9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGVudFt0XX19LHtrZXk6XCJ0b0RhdGFcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlcmlhbGl6ZSgpfX0se2tleTpcImxvYWRcIix2YWx1ZTpmdW5jdGlvbih0KXt0P3RoaXMuY29udGVudD10OmNvbnNvbGUud2FybihcIk5vIGRhdGEgdG8gbG9hZFwiKX19LHtrZXk6XCJzZXJpYWxpemVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT17fTtyZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy5jb250ZW50KS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj1EbChuLDIpLG89clswXSxpPXJbMV07ZVtvXT10LndyYXAoaSl9KSksZX19LHtrZXk6XCJkZXNlcmlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dD9PYmplY3QuZW50cmllcyh0KS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj1EbCh0LDIpLHI9blswXSxvPW5bMV07ZS5jb250ZW50W3JdPWUudW53cmFwKG8pfSkpOmNvbnNvbGUud2FybihcIk5vIGRhdGEgdG8gbG9hZFwiKX19LHtrZXk6XCJ0b1R5cGVOYW1lXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBEYXRlP1wiZGF0ZVwiOlwiYW55XCJ9fSx7a2V5Olwid3JhcFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybnthbnk6ZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6XCJhbnlcIixkYXRhOnR9fSxkYXRlOmZ1bmN0aW9uKHQpe3JldHVybnt0eXBlOlwiZGF0ZVwiLGRhdGE6dC50b1N0cmluZygpfX19W3RoaXMudG9UeXBlTmFtZSh0KV0odCl9fSx7a2V5OlwidW53cmFwXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9e2FueTpmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhfSxkYXRlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRGF0ZSh0LmRhdGEpfX07cmV0dXJuIGVbdC50eXBlXSh0KX19XSxbe2tleTpcImlzU2VyaWFsaXphYmxlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuISFbXCJudW1iZXJcIixcInN0cmluZ1wiLFwiYm9vbGVhblwiXS5pbmNsdWRlcyhGbChlKSl8fChlIGluc3RhbmNlb2YgRGF0ZXx8KG51bGw9PWV8fChBcnJheS5pc0FycmF5KGUpP2UuZXZlcnkodC5pc1NlcmlhbGl6YWJsZSk6XCJvYmplY3RcIj09PUZsKGUpJiYoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09T2JqZWN0LnByb3RvdHlwZSYmT2JqZWN0LnZhbHVlcyhlKS5ldmVyeSh0LmlzU2VyaWFsaXphYmxlKSkpKSl9fV0pfSgpLFdsPWZ1bmN0aW9uKCl7cmV0dXJuIFVsKChmdW5jdGlvbiB0KCl7VmwodGhpcyx0KSx0aGlzLm5hbWVzcGFjZXM9e319KSxbe2tleTpcImFkZE5hbWVzcGFjZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5hbWVzcGFjZXNbdC5rZXldJiZjb25zb2xlLndhcm4oXCJOYW1lc3BhY2UgXCIuY29uY2F0KHQua2V5LFwiIGFscmVhZHkgZXhpc3RzXCIpKSx0aGlzLm5hbWVzcGFjZXNbdC5rZXldPXQsdGhpc319LHtrZXk6XCJnZXROYW1lc3BhY2VcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uYW1lc3BhY2VzW3RdfX0se2tleTpcInNldE5hbWVzcGFjZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubmFtZXNwYWNlc1t0XT1lLHRoaXN9fSx7a2V5OlwiZ2V0TmFtZXNwYWNlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZXNwYWNlc319LHtrZXk6XCJrZXlzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5uYW1lc3BhY2VzKX19LHtrZXk6XCJ2YWx1ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBPYmplY3QudmFsdWVzKHRoaXMubmFtZXNwYWNlcyl9fSx7a2V5OlwiZW50cmllc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMubmFtZXNwYWNlcyl9fSx7a2V5OlwidG9EYXRhXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnRyaWVzKCkucmVkdWNlKChmdW5jdGlvbih0LGUpe3ZhciBuPURsKGUsMikscj1uWzBdLG89blsxXTtyZXR1cm4gdFtyXT1vLnRvRGF0YSgpLHR9KSx7fSl9fSx7a2V5OlwibG9hZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dD9PYmplY3QuZW50cmllcyh0KS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj1EbCh0LDIpLHI9blswXSxvPW5bMV07ZS5uYW1lc3BhY2VzW3JdP2UubmFtZXNwYWNlc1tyXS5sb2FkKG8pOmNvbnNvbGUud2FybihcIk5hbWVzcGFjZSBcIi5jb25jYXQocixcIiBub3QgZm91bmQgaW4gXCIpLmNvbmNhdChlLmNvbnN0cnVjdG9yLm5hbWUpKX0pKTpjb25zb2xlLndhcm4oXCJObyBkYXRhIHRvIGxvYWRcIil9fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWVzcGFjZXM9e30sdGhpc319XSl9KCksJGw9bygxOTYpO2Z1bmN0aW9uIFlsKHQpe3JldHVybiBZbD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxZbCh0KX1mdW5jdGlvbiBxbCh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gWmwodCl9KHQpfHxmdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT10W1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPXRbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8S2wodCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gWGwoKXsvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovWGw9ZnVuY3Rpb24oKXtyZXR1cm4gZX07dmFyIHQsZT17fSxuPU9iamVjdC5wcm90b3R5cGUscj1uLmhhc093blByb3BlcnR5LG89T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbih0LGUsbil7dFtlXT1uLnZhbHVlfSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYT1pLml0ZXJhdG9yfHxcIkBAaXRlcmF0b3JcIixzPWkuYXN5bmNJdGVyYXRvcnx8XCJAQGFzeW5jSXRlcmF0b3JcIix1PWkudG9TdHJpbmdUYWd8fFwiQEB0b1N0cmluZ1RhZ1wiO2Z1bmN0aW9uIGModCxlLG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksdFtlXX10cnl7Yyh7fSxcIlwiKX1jYXRjaCh0KXtjPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1ufX1mdW5jdGlvbiBsKHQsZSxuLHIpe3ZhciBpPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgbT9lOm0sYT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxzPW5ldyBqKHJ8fFtdKTtyZXR1cm4gbyhhLFwiX2ludm9rZVwiLHt2YWx1ZTpPKHQsbixzKX0pLGF9ZnVuY3Rpb24gZih0LGUsbil7dHJ5e3JldHVybnt0eXBlOlwibm9ybWFsXCIsYXJnOnQuY2FsbChlLG4pfX1jYXRjaCh0KXtyZXR1cm57dHlwZTpcInRocm93XCIsYXJnOnR9fX1lLndyYXA9bDt2YXIgcD1cInN1c3BlbmRlZFN0YXJ0XCIsZD1cInN1c3BlbmRlZFlpZWxkXCIsaD1cImV4ZWN1dGluZ1wiLHk9XCJjb21wbGV0ZWRcIix2PXt9O2Z1bmN0aW9uIG0oKXt9ZnVuY3Rpb24gZygpe31mdW5jdGlvbiBiKCl7fXZhciB3PXt9O2ModyxhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBfPU9iamVjdC5nZXRQcm90b3R5cGVPZixTPV8mJl8oXyhDKFtdKSkpO1MmJlMhPT1uJiZyLmNhbGwoUyxhKSYmKHc9Uyk7dmFyIGs9Yi5wcm90b3R5cGU9bS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3KTtmdW5jdGlvbiB4KHQpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Yyh0LGUsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX0pKX0pKX1mdW5jdGlvbiBBKHQsZSl7ZnVuY3Rpb24gbihvLGksYSxzKXt2YXIgdT1mKHRbb10sdCxpKTtpZihcInRocm93XCIhPT11LnR5cGUpe3ZhciBjPXUuYXJnLGw9Yy52YWx1ZTtyZXR1cm4gbCYmXCJvYmplY3RcIj09WWwobCkmJnIuY2FsbChsLFwiX19hd2FpdFwiKT9lLnJlc29sdmUobC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih0KXtuKFwibmV4dFwiLHQsYSxzKX0pLChmdW5jdGlvbih0KXtuKFwidGhyb3dcIix0LGEscyl9KSk6ZS5yZXNvbHZlKGwpLnRoZW4oKGZ1bmN0aW9uKHQpe2MudmFsdWU9dCxhKGMpfSksKGZ1bmN0aW9uKHQpe3JldHVybiBuKFwidGhyb3dcIix0LGEscyl9KSl9cyh1LmFyZyl9dmFyIGk7byh0aGlzLFwiX2ludm9rZVwiLHt2YWx1ZTpmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIG8oKXtyZXR1cm4gbmV3IGUoKGZ1bmN0aW9uKGUsbyl7bih0LHIsZSxvKX0pKX1yZXR1cm4gaT1pP2kudGhlbihvLG8pOm8oKX19KX1mdW5jdGlvbiBPKGUsbixyKXt2YXIgbz1wO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1oKXRocm93IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtpZihvPT09eSl7aWYoXCJ0aHJvd1wiPT09aSl0aHJvdyBhO3JldHVybnt2YWx1ZTp0LGRvbmU6ITB9fWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgdT1UKHMscik7aWYodSl7aWYodT09PXYpY29udGludWU7cmV0dXJuIHV9fWlmKFwibmV4dFwiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZihcInRocm93XCI9PT1yLm1ldGhvZCl7aWYobz09PXApdGhyb3cgbz15LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2VcInJldHVyblwiPT09ci5tZXRob2QmJnIuYWJydXB0KFwicmV0dXJuXCIsci5hcmcpO289aDt2YXIgYz1mKGUsbixyKTtpZihcIm5vcm1hbFwiPT09Yy50eXBlKXtpZihvPXIuZG9uZT95OmQsYy5hcmc9PT12KWNvbnRpbnVlO3JldHVybnt2YWx1ZTpjLmFyZyxkb25lOnIuZG9uZX19XCJ0aHJvd1wiPT09Yy50eXBlJiYobz15LHIubWV0aG9kPVwidGhyb3dcIixyLmFyZz1jLmFyZyl9fX1mdW5jdGlvbiBUKGUsbil7dmFyIHI9bi5tZXRob2Qsbz1lLml0ZXJhdG9yW3JdO2lmKG89PT10KXJldHVybiBuLmRlbGVnYXRlPW51bGwsXCJ0aHJvd1wiPT09ciYmZS5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD1cInJldHVyblwiLG4uYXJnPXQsVChlLG4pLFwidGhyb3dcIj09PW4ubWV0aG9kKXx8XCJyZXR1cm5cIiE9PXImJihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiK3IrXCInIG1ldGhvZFwiKSksdjt2YXIgaT1mKG8sZS5pdGVyYXRvcixuLmFyZyk7aWYoXCJ0aHJvd1wiPT09aS50eXBlKXJldHVybiBuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHY7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW2UucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9ZS5uZXh0TG9jLFwicmV0dXJuXCIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPXQpLG4uZGVsZWdhdGU9bnVsbCx2KTphOihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLG4uZGVsZWdhdGU9bnVsbCx2KX1mdW5jdGlvbiBFKHQpe3ZhciBlPXt0cnlMb2M6dFswXX07MSBpbiB0JiYoZS5jYXRjaExvYz10WzFdKSwyIGluIHQmJihlLmZpbmFsbHlMb2M9dFsyXSxlLmFmdGVyTG9jPXRbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKGUpfWZ1bmN0aW9uIFAodCl7dmFyIGU9dC5jb21wbGV0aW9ufHx7fTtlLnR5cGU9XCJub3JtYWxcIixkZWxldGUgZS5hcmcsdC5jb21wbGV0aW9uPWV9ZnVuY3Rpb24gaih0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XCJyb290XCJ9XSx0LmZvckVhY2goRSx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBDKGUpe2lmKGV8fFwiXCI9PT1lKXt2YXIgbj1lW2FdO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG89LTEsaT1mdW5jdGlvbiBuKCl7Zm9yKDsrK288ZS5sZW5ndGg7KWlmKHIuY2FsbChlLG8pKXJldHVybiBuLnZhbHVlPWVbb10sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9dCxuLmRvbmU9ITAsbn07cmV0dXJuIGkubmV4dD1pfX10aHJvdyBuZXcgVHlwZUVycm9yKFlsKGUpK1wiIGlzIG5vdCBpdGVyYWJsZVwiKX1yZXR1cm4gZy5wcm90b3R5cGU9YixvKGssXCJjb25zdHJ1Y3RvclwiLHt2YWx1ZTpiLGNvbmZpZ3VyYWJsZTohMH0pLG8oYixcImNvbnN0cnVjdG9yXCIse3ZhbHVlOmcsY29uZmlndXJhYmxlOiEwfSksZy5kaXNwbGF5TmFtZT1jKGIsdSxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLGUuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbih0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNvbnN0cnVjdG9yO3JldHVybiEhZSYmKGU9PT1nfHxcIkdlbmVyYXRvckZ1bmN0aW9uXCI9PT0oZS5kaXNwbGF5TmFtZXx8ZS5uYW1lKSl9LGUubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGIpOih0Ll9fcHJvdG9fXz1iLGModCx1LFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoayksdH0sZS5hd3JhcD1mdW5jdGlvbih0KXtyZXR1cm57X19hd2FpdDp0fX0seChBLnByb3RvdHlwZSksYyhBLnByb3RvdHlwZSxzLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGUuQXN5bmNJdGVyYXRvcj1BLGUuYXN5bmM9ZnVuY3Rpb24odCxuLHIsbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgQShsKHQsbixyLG8pLGkpO3JldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24obik/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kb25lP3QudmFsdWU6YS5uZXh0KCl9KSl9LHgoayksYyhrLHUsXCJHZW5lcmF0b3JcIiksYyhrLGEsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksYyhrLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgR2VuZXJhdG9yXVwifSkpLGUua2V5cz1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QodCksbj1bXTtmb3IodmFyIHIgaW4gZSluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIHQoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5wb3AoKTtpZihyIGluIGUpcmV0dXJuIHQudmFsdWU9cix0LmRvbmU9ITEsdH1yZXR1cm4gdC5kb25lPSEwLHR9fSxlLnZhbHVlcz1DLGoucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpqLHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PXQsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLmFyZz10LHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKFApLCFlKWZvcih2YXIgbiBpbiB0aGlzKVwidFwiPT09bi5jaGFyQXQoMCkmJnIuY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgdD10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIG49dGhpcztmdW5jdGlvbiBvKHIsbyl7cmV0dXJuIHMudHlwZT1cInRocm93XCIscy5hcmc9ZSxuLm5leHQ9cixvJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9dCksISFvfWZvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBhPXRoaXMudHJ5RW50cmllc1tpXSxzPWEuY29tcGxldGlvbjtpZihcInJvb3RcIj09PWEudHJ5TG9jKXJldHVybiBvKFwiZW5kXCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciB1PXIuY2FsbChhLFwiY2F0Y2hMb2NcIiksYz1yLmNhbGwoYSxcImZpbmFsbHlMb2NcIik7aWYodSYmYyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIG8oYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gbyhhLmZpbmFsbHlMb2MpfWVsc2UgaWYodSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIG8oYS5jYXRjaExvYywhMCl9ZWxzZXtpZighYyl0aHJvdyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIG89dGhpcy50cnlFbnRyaWVzW25dO2lmKG8udHJ5TG9jPD10aGlzLnByZXYmJnIuY2FsbChvLFwiZmluYWxseUxvY1wiKSYmdGhpcy5wcmV2PG8uZmluYWxseUxvYyl7dmFyIGk9bzticmVha319aSYmKFwiYnJlYWtcIj09PXR8fFwiY29udGludWVcIj09PXQpJiZpLnRyeUxvYzw9ZSYmZTw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgYT1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPXQsYS5hcmc9ZSxpPyh0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLm5leHQ9aS5maW5hbGx5TG9jLHYpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVyblwiYnJlYWtcIj09PXQudHlwZXx8XCJjb250aW51ZVwiPT09dC50eXBlP3RoaXMubmV4dD10LmFyZzpcInJldHVyblwiPT09dC50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9dC5hcmcsdGhpcy5tZXRob2Q9XCJyZXR1cm5cIix0aGlzLm5leHQ9XCJlbmRcIik6XCJub3JtYWxcIj09PXQudHlwZSYmZSYmKHRoaXMubmV4dD1lKSx2fSxmaW5pc2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4uZmluYWxseUxvYz09PXQpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLFAobiksdn19LGNhdGNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLnRyeUxvYz09PXQpe3ZhciByPW4uY29tcGxldGlvbjtpZihcInRocm93XCI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO1Aobil9cmV0dXJuIG99fXRocm93IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6QyhlKSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSxcIm5leHRcIj09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dCksdn19LGV9ZnVuY3Rpb24gS2wodCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gWmwodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9abCh0LGUpOnZvaWQgMH19ZnVuY3Rpb24gWmwodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIFFsKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LEpsKHIua2V5KSxyKX19ZnVuY3Rpb24gSmwodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1ZbCh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1ZbChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PVlsKGUpP2U6ZStcIlwifXZhciB0Zj1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiBhKHQpe3RyeXt1KHIubmV4dCh0KSl9Y2F0Y2godCl7aSh0KX19ZnVuY3Rpb24gcyh0KXt0cnl7dShyLnRocm93KHQpKX1jYXRjaCh0KXtpKHQpfX1mdW5jdGlvbiB1KHQpe3ZhciBlO3QuZG9uZT9vKHQudmFsdWUpOihlPXQudmFsdWUsZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbigoZnVuY3Rpb24odCl7dChlKX0pKSkudGhlbihhLHMpfXUoKHI9ci5hcHBseSh0LGV8fFtdKSkubmV4dCgpKX0pKX0sZWY9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZRbCh0LnByb3RvdHlwZSxlKSxuJiZRbCh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKGZ1bmN0aW9uIHQoZSxuKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuc3RhdGU9e3NvdW5kczpbXSxzcmNNYW5hZ2VyczpbXSxlbGVtZW50czpbXX0sdGhpcy5jdXJyZW50SGFuZGxpbmc9bnVsbCx0aGlzLnN0YWdlPW4sdGhpcy5nYW1lPWUsdGhpcy5ldmVudHM9bmV3IGssdGhpcy5sb2dnZXI9bmV3IFQoZSxcIk5hcnJhTGVhZi1SZWFjdFwiKX0pLFt7a2V5OlwiZmluZEVsZW1lbnRCeVNjZW5lXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGUuZWxlbWVudHMuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2NlbmU9PT10fSkpfHxudWxsfX0se2tleTpcImZpbmRFbGVtZW50QnlJbWFnZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlLmVsZW1lbnRzLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVsZS5pbWFnZXMuaW5jbHVkZXModCl9KSl8fG51bGx9fSx7a2V5OlwiZmluZEVsZW1lbnRCeURpc3BsYXlhYmxlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGUuZWxlbWVudHMuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWxlLmRpc3BsYXlhYmxlLmluY2x1ZGVzKHQpfSkpfHxudWxsfX0se2tleTpcImFkZFNjZW5lXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2NlbmVFeGlzdHModCl8fHRoaXMuc3RhdGUuZWxlbWVudHMucHVzaCh7c2NlbmU6dCxlbGU6dGhpcy5nZXRFbGVtZW50TWFwKCl9KSx0aGlzfX0se2tleTpcInBvcFNjZW5lXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLmVsZW1lbnRzLnBvcCgpO3JldHVybiB0Pyh0aGlzLnJlbW92ZUVsZW1lbnRzKHQuc2NlbmUpLHRoaXMpOnRoaXN9fSx7a2V5OlwicmVtb3ZlU2NlbmVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZW1vdmVFbGVtZW50cyh0KSx0aGlzfX0se2tleTpcImdldFNjZW5lRWxlbWVudHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLmVsZW1lbnRzfX0se2tleTpcImdldExhc3RTY2VuZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKG51bGw9PT0odD10aGlzLnN0YXRlLmVsZW1lbnRzW3RoaXMuc3RhdGUuZWxlbWVudHMubGVuZ3RoLTFdKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zY2VuZSl8fG51bGx9fSx7a2V5Olwic2NlbmVFeGlzdHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD90aGlzLnN0YXRlLmVsZW1lbnRzLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNjZW5lPT09dH0pKTohIXRoaXMuZ2V0TGFzdFNjZW5lKCl9fSx7a2V5OlwiaXNTY2VuZUFjdGl2ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG49ZnVuY3Rpb24odCxlKXt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KHQpfHwobj1LbCh0KSl8fGUmJnQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aCl7biYmKHQ9bik7dmFyIHI9MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpvLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49dC5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOnRbcisrXX19LGU6ZnVuY3Rpb24odCl7dGhyb3cgdH0sZjpvfX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIGksYT0hMCxzPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwodCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1uLm5leHQoKTtyZXR1cm4gYT10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXtzPSEwLGk9dH0sZjpmdW5jdGlvbigpe3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgaX19fX0odGhpcy5zdGF0ZS5lbGVtZW50cyk7dHJ5e2ZvcihuLnMoKTshKGU9bi5uKCkpLmRvbmU7KXtpZihlLnZhbHVlLnNjZW5lPT09dClyZXR1cm4hMH19Y2F0Y2godCl7bi5lKHQpfWZpbmFsbHl7bi5mKCl9cmV0dXJuITF9fSx7a2V5OlwiaGFuZGxlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY3VycmVudEhhbmRsaW5nPT09dHx8KHRoaXMuY3VycmVudEhhbmRsaW5nPXQsdC50eXBlKSx0aGlzfX0se2tleTpcImNyZWF0ZVRleHRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgbyxpPW51bGw9PT0obz10aGlzLmZpbmRFbGVtZW50QnlTY2VuZSh0aGlzLl9nZXRMYXN0U2NlbmVJZk5vdChyKSkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmVsZS50ZXh0cztpZighaSl0aHJvdyBuZXcgRXJyb3IoXCJTY2VuZSBub3QgZm91bmRcIik7dmFyIGE9dGhpcy5jcmVhdGVXYWl0YWJsZUFjdGlvbih7Y2hhcmFjdGVyOmUuY29uZmlnLmNoYXJhY3RlcixzZW50ZW5jZTplLGlkOnR9LChmdW5jdGlvbigpe2kuc3BsaWNlKGkuaW5kZXhPZihhKSwxKSxuJiZuKCl9KSk7aS5wdXNoKGEpfX0se2tleTpcImNyZWF0ZU1lbnVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI7aWYoIXQuY2hvaWNlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTWVudSBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGNob2ljZVwiKTt2YXIgbz1udWxsPT09KHI9dGhpcy5maW5kRWxlbWVudEJ5U2NlbmUodGhpcy5fZ2V0TGFzdFNjZW5lSWZOb3QobikpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5lbGUubWVudXM7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiU2NlbmUgbm90IGZvdW5kXCIpO3ZhciBpPXRoaXMuY3JlYXRlV2FpdGFibGVBY3Rpb24odCwoZnVuY3Rpb24odCl7by5zcGxpY2Uoby5pbmRleE9mKGkpLDEpLGUmJmUodCl9KSk7by5wdXNoKGkpfX0se2tleTpcImNyZWF0ZUltYWdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9nZXRMYXN0U2NlbmVJZk5vdChlKSxyPXRoaXMuZmluZEVsZW1lbnRCeVNjZW5lKG4pO3JldHVybiByPyhyLmVsZS5pbWFnZXMucHVzaCh0KSx0aGlzKTp0aGlzfX0se2tleTpcImRpc3Bvc2VJbWFnZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzLl9nZXRMYXN0U2NlbmVJZk5vdChlKSxvPW51bGw9PT0obj10aGlzLmZpbmRFbGVtZW50QnlTY2VuZShyKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZWxlLmltYWdlcztpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJTY2VuZSBub3QgZm91bmRcIik7dmFyIGk9by5pbmRleE9mKHQpO2lmKC0xPT09aSl0aHJvdyBuZXcgRXJyb3IoXCJJbWFnZSBub3QgZm91bmRcIik7cmV0dXJuIG8uc3BsaWNlKGksMSksdGhpc319LHtrZXk6XCJjcmVhdGVEaXNwbGF5YWJsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZ2V0TGFzdFNjZW5lSWZOb3QoZSkscj10aGlzLmZpbmRFbGVtZW50QnlTY2VuZShuKTtyZXR1cm4gcj8oci5lbGUuZGlzcGxheWFibGUucHVzaCh0KSx0aGlzKTp0aGlzfX0se2tleTpcImRpc3Bvc2VEaXNwbGF5YWJsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzLl9nZXRMYXN0U2NlbmVJZk5vdChlKSxvPW51bGw9PT0obj10aGlzLmZpbmRFbGVtZW50QnlTY2VuZShyKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZWxlLmRpc3BsYXlhYmxlO2lmKCFvKXRocm93IG5ldyBFcnJvcihcIlNjZW5lIG5vdCBmb3VuZFwiKTt2YXIgaT1vLmluZGV4T2YodCk7aWYoLTE9PT1pKXRocm93IG5ldyBFcnJvcihcIkRpc3BsYXlhYmxlcyBub3QgZm91bmRcIik7cmV0dXJuIG8uc3BsaWNlKGksMSksdGhpc319LHtrZXk6XCJmb3JjZVJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc3RhdGUuc291bmRzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dC5nZXRQbGF5aW5nKCkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnN0b3AoKX0pKSx0aGlzLnN0YXRlLmVsZW1lbnRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUuc2NlbmU7dC5vZmZTcmNNYW5hZ2VyKG4uc3JjTWFuYWdlciksdC5yZW1vdmVTY2VuZShuKSxuLmV2ZW50cy5jbGVhcigpfSkpLHRoaXMuc3RhdGUuZWxlbWVudHM9W10sdGhpcy5zdGF0ZS5zcmNNYW5hZ2Vycz1bXX19LHtrZXk6XCJpbml0U291bmRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LmdldFBsYXlpbmcoKXx8dC5zZXRQbGF5aW5nKG5ldyh0aGlzLmdldEhvd2woKSkodC5nZXRIb3dsT3B0aW9ucyhlKSkpLHR9fSx7a2V5OlwicGxheVNvdW5kXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3RoaXMuaW5pdFNvdW5kKHQsbik7dmFyIHI9dC5nZXRQbGF5aW5nKCkucGxheSgpLG89W3QuZ2V0UGxheWluZygpLm9uY2UoXCJlbmRcIixpLmJpbmQodGhpcykpLHQuZ2V0UGxheWluZygpLm9uY2UoXCJzdG9wXCIsaS5iaW5kKHRoaXMpKV07ZnVuY3Rpb24gaSgpe2UmJmUoKSxvLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm9mZigpfSkpLHRoaXMuc3RhdGUuc291bmRzPXRoaXMuc3RhdGUuc291bmRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT10fSkpLHRoaXMuc3RhZ2UubmV4dCgpfXJldHVybiB0aGlzLnN0YXRlLnNvdW5kcy5wdXNoKHQpLHQuc3RhdGUudG9rZW49cixyfX0se2tleTpcInN0b3BTb3VuZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuKG51bGw9PT0oZT10LnN0YXRlLnBsYXlpbmcpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnBsYXlpbmcodC5nZXRUb2tlbigpKSkmJihudWxsPT09KG49dC5zdGF0ZS5wbGF5aW5nKXx8dm9pZCAwPT09bnx8bi5zdG9wKHQuZ2V0VG9rZW4oKSkpLHQuc2V0UGxheWluZyhudWxsKS5zZXRUb2tlbihudWxsKSx0fX0se2tleTpcInRyYW5zaXRpb25Tb3VuZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGYodGhpcyx2b2lkIDAsdm9pZCAwLFhsKCkubWFyaygoZnVuY3Rpb24gcigpe3ZhciBvO3JldHVybiBYbCgpLndyYXAoKGZ1bmN0aW9uKHIpe2Zvcig7Oylzd2l0Y2goci5wcmV2PXIubmV4dCl7Y2FzZSAwOmlmKCF0KXtyLm5leHQ9NTticmVha31pZighbil7ci5uZXh0PTQ7YnJlYWt9cmV0dXJuIHIubmV4dD00LHRoaXMuZmFkZVNvdW5kKHQsMCxuKTtjYXNlIDQ6dGhpcy5zdG9wU291bmQodCk7Y2FzZSA1OmlmKCFlKXtyLm5leHQ9MTI7YnJlYWt9aWYobz1lLmNvbmZpZy52b2x1bWUsdGhpcy5wbGF5U291bmQoZSx2b2lkIDAse3ZvbHVtZTowfSksIW4pe3IubmV4dD0xMTticmVha31yZXR1cm4gci5uZXh0PTExLHRoaXMuZmFkZVNvdW5kKGUsbyxuKTtjYXNlIDExOmUuZ2V0UGxheWluZygpLnZvbHVtZShvLGUuZ2V0VG9rZW4oKSk7Y2FzZSAxMjpjYXNlXCJlbmRcIjpyZXR1cm4gci5zdG9wKCl9fSkscix0aGlzKX0pKSl9fSx7a2V5OlwiZmFkZVNvdW5kXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByLG87cmV0dXJuIHRmKHRoaXMsdm9pZCAwLHZvaWQgMCxYbCgpLm1hcmsoKGZ1bmN0aW9uIGkoKXt2YXIgYTtyZXR1cm4gWGwoKS53cmFwKChmdW5jdGlvbihpKXtmb3IoOzspc3dpdGNoKGkucHJldj1pLm5leHQpe2Nhc2UgMDpyZXR1cm4gYT1udWxsPT09KHI9dC5nZXRQbGF5aW5nKCkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnZvbHVtZSh0LmdldFRva2VuKCkpLG51bGw9PT0obz10LmdldFBsYXlpbmcoKSl8fHZvaWQgMD09PW98fG8uZmFkZShhLGUsbix0LmdldFRva2VuKCkpLGkubmV4dD00LEEobik7Y2FzZSA0OnJldHVybiBpLmFicnVwdChcInJldHVyblwiLHZvaWQgMCk7Y2FzZSA1OmNhc2VcImVuZFwiOnJldHVybiBpLnN0b3AoKX19KSxpKX0pKSl9fSx7a2V5OlwiZ2V0SG93bFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuICRsLkhvd2x9fSx7a2V5OlwiYW5pbWF0ZUltYWdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMuYW55RXZlbnQuYXBwbHkodGhpcyxbdCxlLHJdLmNvbmNhdChxbChuKSkpfX0se2tleTpcImFuaW1hdGVUZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMuYW55RXZlbnQuYXBwbHkodGhpcyxbdCxlLHJdLmNvbmNhdChxbChuKSkpfX0se2tleTpcInJlZ2lzdGVyU3JjTWFuYWdlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlLnNyY01hbmFnZXJzLnB1c2godCksdGhpc319LHtrZXk6XCJvZmZTcmNNYW5hZ2VyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGUuc3JjTWFuYWdlcnM9dGhpcy5zdGF0ZS5zcmNNYW5hZ2Vycy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pKSx0aGlzfX0se2tleTpcImdldFN0b3JhYmxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lLmdldExpdmVHYW1lKCkuZ2V0U3RvcmFibGUoKX19LHtrZXk6XCJkaXNwb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmZvcmNlUmVzZXQoKX19LHtrZXk6XCJ0b0RhdGFcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybntzY2VuZXM6dGhpcy5zdGF0ZS5lbGVtZW50cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybntzY2VuZUlkOnQuc2NlbmUuZ2V0SWQoKSxlbGVtZW50czp7aW1hZ2VzOnQuZWxlLmltYWdlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldElkKCl9KSl9fX0pKX19fSx7a2V5OlwibG9hZERhdGFcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYodGhpcy5zdGF0ZS5lbGVtZW50cz1bXSwhdGhpcy5nYW1lLmdldExpdmVHYW1lKCkuc3RvcnkpdGhyb3cgbmV3IEVycm9yKFwiTm8gc3RvcnkgbG9hZGVkXCIpO3Quc2NlbmVzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPXQuc2NlbmVJZCxvPXQuZWxlbWVudHM7bi5sb2dnZXIuZGVidWcoXCJMb2FkaW5nIHNjZW5lOiBcIityKTt2YXIgaT1lLmdldChyKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoXCJTY2VuZSBub3QgZm91bmQsIGlkOiBcIityK1wiXFxuTmFycmFMZWFmIGNhbm5vdCBmaW5kIHRoZSBlbGVtZW50IHdpdGggdGhlIGlkIGZyb20gdGhlIHNhdmVkIGdhbWVcIik7dmFyIGE9e3NjZW5lOmksZWxlOntpbWFnZXM6by5pbWFnZXMubWFwKChmdW5jdGlvbih0KXtpZighZS5oYXModCkpdGhyb3cgbmV3IEVycm9yKFwiSW1hZ2Ugbm90IGZvdW5kLCBpZDogXCIrdCtcIlxcbk5hcnJhTGVhZiBjYW5ub3QgZmluZCB0aGUgZWxlbWVudCB3aXRoIHRoZSBpZCBmcm9tIHRoZSBzYXZlZCBnYW1lXCIpO3JldHVybiBlLmdldCh0KX0pKSxtZW51czpbXSx0ZXh0czpbXSxkaXNwbGF5YWJsZTpbXX19O24uc3RhdGUuZWxlbWVudHMucHVzaChhKSxuLnJlZ2lzdGVyU3JjTWFuYWdlcihpLnNyY01hbmFnZXIpLGR0LnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoaSxuKX0pKX19LHtrZXk6XCJpbml0U2NlbmVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc3RhdGUuZWxlbWVudHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5zY2VuZTtkdC5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKG4sdCl9KSl9fSx7a2V5OlwiZ2V0RWxlbWVudE1hcFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3RleHRzOltdLG1lbnVzOltdLGltYWdlczpbXSxkaXNwbGF5YWJsZTpbXX19fSx7a2V5OlwicmVtb3ZlRWxlbWVudHNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlLmVsZW1lbnRzLmZpbmRJbmRleCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2NlbmU9PT10fSkpO3JldHVybi0xPT09ZXx8dGhpcy5zdGF0ZS5lbGVtZW50cy5zcGxpY2UoZSwxKSx0aGlzfX0se2tleTpcIl9nZXRMYXN0U2NlbmVJZk5vdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXR8fHRoaXMuZ2V0TGFzdFNjZW5lKCk7aWYoIWV8fCF0aGlzLnNjZW5lRXhpc3RzKGUpKXRocm93IG5ldyBFcnJvcignU2NlbmUgbm90IGZvdW5kLCBwbGVhc2UgY2FsbCBcInNjZW5lLmFjdGl2YXRlKClcIiBmaXJzdC4nKTtyZXR1cm4gZX19LHtrZXk6XCJhbnlFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHIsbz10aGlzLGk9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShpPjM/aS0zOjApLHM9MztzPGk7cysrKWFbcy0zXT1hcmd1bWVudHNbc107KHI9ZS5ldmVudHMpLmFueS5hcHBseShyLFt0XS5jb25jYXQoYSkpLnRoZW4obikudGhlbigoZnVuY3Rpb24oKXtvLnN0YWdlLm5leHQoKX0pKX19LHtrZXk6XCJjcmVhdGVXYWl0YWJsZUFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJue2FjdGlvbjp0LG9uQ2xpY2s6ZnVuY3Rpb24odCl7ZSYmZSh0KX19fX1dKX0oKTtmdW5jdGlvbiBuZih0KXt2YXIgZSxuLHI9XCJcIjtpZihcInN0cmluZ1wiPT10eXBlb2YgdHx8XCJudW1iZXJcIj09dHlwZW9mIHQpcis9dDtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiB0KWlmKEFycmF5LmlzQXJyYXkodCkpe3ZhciBvPXQubGVuZ3RoO2ZvcihlPTA7ZTxvO2UrKyl0W2VdJiYobj1uZih0W2VdKSkmJihyJiYocis9XCIgXCIpLHIrPW4pfWVsc2UgZm9yKG4gaW4gdCl0W25dJiYociYmKHIrPVwiIFwiKSxyKz1uKTtyZXR1cm4gcn1lZi5FdmVudFR5cGVzPXtcImV2ZW50OnN0YXRlLnJlYWR5XCI6XCJldmVudDpzdGF0ZS5yZWFkeVwiLFwiZXZlbnQ6c3RhdGUuZW5kXCI6XCJldmVudDpzdGF0ZS5lbmRcIixcImV2ZW50OnN0YXRlLnBsYXllci5za2lwXCI6XCJldmVudDpzdGF0ZS5wbGF5ZXIuc2tpcFwiLFwiZXZlbnQ6c3RhdGUucHJlbG9hZC51bm1vdW50XCI6XCJldmVudDpzdGF0ZS5wcmVsb2FkLnVubW91bnRcIixcImV2ZW50OnN0YXRlLnByZWxvYWQubG9hZGVkXCI6XCJldmVudDpzdGF0ZS5wcmVsb2FkLmxvYWRlZFwiLFwiZXZlbnQ6c3RhdGUucGxheWVyLmZsdXNoXCI6XCJldmVudDpzdGF0ZS5wbGF5ZXIuZmx1c2hcIn07Y29uc3QgcmY9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZSxuPTAscj1cIlwiLG89YXJndW1lbnRzLmxlbmd0aDtuPG87bisrKSh0PWFyZ3VtZW50c1tuXSkmJihlPW5mKHQpKSYmKHImJihyKz1cIiBcIikscis9ZSk7cmV0dXJuIHJ9O3ZhciBvZj1vKDEyKSxhZj1vLm4ob2YpO2Z1bmN0aW9uIHNmKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe3ZhciBuPW51bGw9PXQ/bnVsbDpcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKG51bGwhPW4pe3ZhciByLG8saSxhLHM9W10sdT0hMCxjPSExO3RyeXtpZihpPShuPW4uY2FsbCh0KSkubmV4dCwwPT09ZSl7aWYoT2JqZWN0KG4pIT09bilyZXR1cm47dT0hMX1lbHNlIGZvcig7ISh1PShyPWkuY2FsbChuKSkuZG9uZSkmJihzLnB1c2goci52YWx1ZSkscy5sZW5ndGghPT1lKTt1PSEwKTt9Y2F0Y2godCl7Yz0hMCxvPXR9ZmluYWxseXt0cnl7aWYoIXUmJm51bGwhPW4ucmV0dXJuJiYoYT1uLnJldHVybigpLE9iamVjdChhKSE9PWEpKXJldHVybn1maW5hbGx5e2lmKGMpdGhyb3cgb319cmV0dXJuIHN9fSh0LGUpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB1Zih0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP3VmKHQsZSk6dm9pZCAwfX0odCxlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIHVmKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBjZih0KXtyZXR1cm4gY2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sY2YodCl9ZnVuY3Rpb24gbGYodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZmYoci5rZXkpLHIpfX1mdW5jdGlvbiBmZih0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPWNmKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPWNmKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09Y2YoZSk/ZTplK1wiXCJ9dmFyIHBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5zdGF0ZT17d2lkdGg6MCxoZWlnaHQ6MCxtaW5XaWR0aDo4MDAsbWluSGVpZ2h0OjQ1MCxwYXVzZWQ6ITF9LHRoaXMuZXZlbnRzPW5ldyBrLHRoaXMubG9ja2Vycz1bXSx0aGlzLnVwZGF0ZXI9bnVsbH1yZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZsZih0LnByb3RvdHlwZSxlKSxuJiZsZih0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0odCxbe2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsbil7dGhpcy5zdGF0ZS53aWR0aD1lLHRoaXMuc3RhdGUuaGVpZ2h0PW4sdGhpcy5ldmVudHMuZW1pdCh0LkV2ZW50VHlwZXNbXCJldmVudDphc3BlY3RSYXRpby51cGRhdGVcIl0sZSxuKX19LHtrZXk6XCJ1cGRhdGVNaW5cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuc3RhdGUubWluV2lkdGg9dCx0aGlzLnN0YXRlLm1pbkhlaWdodD1lfX0se2tleTpcImxvY2tcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PVN5bWJvbCgpO3JldHVybiB0aGlzLmxvY2tlcnMucHVzaCh0KSx0fX0se2tleTpcInVubG9ja1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQmJiF0aGlzLmxvY2tlcnMuaW5jbHVkZXModCkpdGhyb3cgbmV3IEVycm9yKFwiTG9ja2VyIG5vdCBmb3VuZFwiKTtyZXR1cm4gdGhpcy5sb2NrZXJzPXRoaXMubG9ja2Vycy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pKSx0aGlzLnRyaWdnZXJVcGRhdGUoKSxudWxsfX0se2tleTpcImlzTG9ja2VkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMubG9ja2Vycy5sZW5ndGh9fSx7a2V5OlwiZ2V0U3R5bGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybnt3aWR0aDpcIlwiLmNvbmNhdCh0aGlzLnN0YXRlLndpZHRoLFwicHhcIiksaGVpZ2h0OlwiXCIuY29uY2F0KHRoaXMuc3RhdGUuaGVpZ2h0LFwicHhcIil9fX0se2tleTpcInNldFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMudXBkYXRlcj10fX0se2tleTpcInBhdXNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlLnBhdXNlZD0hMCx0aGlzLmV2ZW50cy5lbWl0KHQuRXZlbnRUeXBlc1tcImV2ZW50OmFzcGVjdFJhdGlvLnBhdXNlXCJdKX19LHtrZXk6XCJyZXN1bWVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGUucGF1c2VkPSExLHRoaXMuZXZlbnRzLmVtaXQodC5FdmVudFR5cGVzW1wiZXZlbnQ6YXNwZWN0UmF0aW8ucmVzdW1lXCJdKX19LHtrZXk6XCJvblVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuZXZlbnRzLm9uKHQuRXZlbnRUeXBlc1tcImV2ZW50OmFzcGVjdFJhdGlvLnVwZGF0ZVwiXSxlKSxmdW5jdGlvbigpe24uZXZlbnRzLm9mZih0LkV2ZW50VHlwZXNbXCJldmVudDphc3BlY3RSYXRpby51cGRhdGVcIl0sZSl9fX0se2tleTpcInRyaWdnZXJVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlciYmdGhpcy51cGRhdGVyKCl9fV0pfSgpO3BmLkV2ZW50VHlwZXM9e1wiZXZlbnQ6YXNwZWN0UmF0aW8udXBkYXRlXCI6XCJldmVudDphc3BlY3RSYXRpby51cGRhdGVcIixcImV2ZW50OmFzcGVjdFJhdGlvLnBhdXNlXCI6XCJldmVudDphc3BlY3RSYXRpby5wYXVzZVwiLFwiZXZlbnQ6YXNwZWN0UmF0aW8ucmVzdW1lXCI6XCJldmVudDphc3BlY3RSYXRpby5yZXN1bWVcIn07dmFyIGRmPSgwLG9mLmNyZWF0ZUNvbnRleHQpKG51bGwpO2Z1bmN0aW9uIGhmKHQpe3ZhciBlPXQuY2hpbGRyZW4sbj1zZigoMCxvZi51c2VTdGF0ZSkobmV3IHBmKSwxKVswXTtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KGRmLlByb3ZpZGVyLHt2YWx1ZTp7cmF0aW86bn19LGUpfWZ1bmN0aW9uIHlmKCl7dmFyIHQ9KDAsb2YudXNlQ29udGV4dCkoZGYpO2lmKCFkZnx8IXQpdGhyb3cgbmV3IEVycm9yKFwidXNlUmF0aW8gbXVzdCBiZSB1c2VkIHdpdGhpbiBhIFJhdGlvUHJvdmlkZXJcIik7dmFyIGU9c2YoKDAsb2YudXNlUmVkdWNlcikoKGZ1bmN0aW9uKHQpe3JldHVybiB0KzF9KSwwKSwyKVsxXSxuPXQucmF0aW87cmV0dXJuKDAsb2YudXNlRWZmZWN0KSgoZnVuY3Rpb24oKXtyZXR1cm4gbi5vblVwZGF0ZSgoZnVuY3Rpb24oKXtlKCl9KSl9KSxbXSksdH1mdW5jdGlvbiB2Zigpe3JldHVybiB2Zj1PYmplY3QuYXNzaWduP09iamVjdC5hc3NpZ24uYmluZCgpOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbikoe30pLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9LHZmLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBtZih0KXt2YXIgZT10LmNoaWxkcmVuLG49dC5jbGFzc05hbWUscj10LnByb3BzLG89dC5yZWYsaT15ZigpLnJhdGlvLGE9aS5nZXRTdHlsZSgpO3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOnJmKFwiaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiLG4pLHN0eWxlOnt3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIsbWluV2lkdGg6XCJcIi5jb25jYXQoaS5zdGF0ZS5taW5XaWR0aCxcInB4XCIpLG1pbkhlaWdodDpcIlwiLmNvbmNhdChpLnN0YXRlLm1pbkhlaWdodCxcInB4XCIpfX0sYWYoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsdmYoe3N0eWxlOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxhKSx7cG9zaXRpb246XCJyZWxhdGl2ZVwiLG92ZXJmbG93OlwiaGlkZGVuXCJ9KX0scnx8e30se3JlZjpvfSksZSkpfWZ1bmN0aW9uIGdmKHQpe3JldHVybiBnZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxnZih0KX1mdW5jdGlvbiBiZigpey8qISByZWdlbmVyYXRvci1ydW50aW1lIC0tIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLiAtLSBsaWNlbnNlIChNSVQpOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL0xJQ0VOU0UgKi9iZj1mdW5jdGlvbigpe3JldHVybiBlfTt2YXIgdCxlPXt9LG49T2JqZWN0LnByb3RvdHlwZSxyPW4uaGFzT3duUHJvcGVydHksbz1PYmplY3QuZGVmaW5lUHJvcGVydHl8fGZ1bmN0aW9uKHQsZSxuKXt0W2VdPW4udmFsdWV9LGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxhPWkuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLHM9aS5hc3luY0l0ZXJhdG9yfHxcIkBAYXN5bmNJdGVyYXRvclwiLHU9aS50b1N0cmluZ1RhZ3x8XCJAQHRvU3RyaW5nVGFnXCI7ZnVuY3Rpb24gYyh0LGUsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSx0W2VdfXRyeXtjKHt9LFwiXCIpfWNhdGNoKHQpe2M9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW59fWZ1bmN0aW9uIGwodCxlLG4scil7dmFyIGk9ZSYmZS5wcm90b3R5cGUgaW5zdGFuY2VvZiBtP2U6bSxhPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLHM9bmV3IGoocnx8W10pO3JldHVybiBvKGEsXCJfaW52b2tlXCIse3ZhbHVlOk8odCxuLHMpfSksYX1mdW5jdGlvbiBmKHQsZSxuKXt0cnl7cmV0dXJue3R5cGU6XCJub3JtYWxcIixhcmc6dC5jYWxsKGUsbil9fWNhdGNoKHQpe3JldHVybnt0eXBlOlwidGhyb3dcIixhcmc6dH19fWUud3JhcD1sO3ZhciBwPVwic3VzcGVuZGVkU3RhcnRcIixkPVwic3VzcGVuZGVkWWllbGRcIixoPVwiZXhlY3V0aW5nXCIseT1cImNvbXBsZXRlZFwiLHY9e307ZnVuY3Rpb24gbSgpe31mdW5jdGlvbiBnKCl7fWZ1bmN0aW9uIGIoKXt9dmFyIHc9e307Yyh3LGEsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIF89T2JqZWN0LmdldFByb3RvdHlwZU9mLFM9XyYmXyhfKEMoW10pKSk7UyYmUyE9PW4mJnIuY2FsbChTLGEpJiYodz1TKTt2YXIgaz1iLnByb3RvdHlwZT1tLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpO2Z1bmN0aW9uIHgodCl7W1wibmV4dFwiLFwidGhyb3dcIixcInJldHVyblwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtjKHQsZSwoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ludm9rZShlLHQpfSkpfSkpfWZ1bmN0aW9uIEEodCxlKXtmdW5jdGlvbiBuKG8saSxhLHMpe3ZhciB1PWYodFtvXSx0LGkpO2lmKFwidGhyb3dcIiE9PXUudHlwZSl7dmFyIGM9dS5hcmcsbD1jLnZhbHVlO3JldHVybiBsJiZcIm9iamVjdFwiPT1nZihsKSYmci5jYWxsKGwsXCJfX2F3YWl0XCIpP2UucmVzb2x2ZShsLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKHQpe24oXCJuZXh0XCIsdCxhLHMpfSksKGZ1bmN0aW9uKHQpe24oXCJ0aHJvd1wiLHQsYSxzKX0pKTplLnJlc29sdmUobCkudGhlbigoZnVuY3Rpb24odCl7Yy52YWx1ZT10LGEoYyl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIG4oXCJ0aHJvd1wiLHQsYSxzKX0pKX1zKHUuYXJnKX12YXIgaTtvKHRoaXMsXCJfaW52b2tlXCIse3ZhbHVlOmZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gbygpe3JldHVybiBuZXcgZSgoZnVuY3Rpb24oZSxvKXtuKHQscixlLG8pfSkpfXJldHVybiBpPWk/aS50aGVuKG8sbyk6bygpfX0pfWZ1bmN0aW9uIE8oZSxuLHIpe3ZhciBvPXA7cmV0dXJuIGZ1bmN0aW9uKGksYSl7aWYobz09PWgpdGhyb3cgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2lmKG89PT15KXtpZihcInRocm93XCI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgcz1yLmRlbGVnYXRlO2lmKHMpe3ZhciB1PVQocyxyKTtpZih1KXtpZih1PT09diljb250aW51ZTtyZXR1cm4gdX19aWYoXCJuZXh0XCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKFwidGhyb3dcIj09PXIubWV0aG9kKXtpZihvPT09cCl0aHJvdyBvPXksci5hcmc7ci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZyl9ZWxzZVwicmV0dXJuXCI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoXCJyZXR1cm5cIixyLmFyZyk7bz1oO3ZhciBjPWYoZSxuLHIpO2lmKFwibm9ybWFsXCI9PT1jLnR5cGUpe2lmKG89ci5kb25lP3k6ZCxjLmFyZz09PXYpY29udGludWU7cmV0dXJue3ZhbHVlOmMuYXJnLGRvbmU6ci5kb25lfX1cInRocm93XCI9PT1jLnR5cGUmJihvPXksci5tZXRob2Q9XCJ0aHJvd1wiLHIuYXJnPWMuYXJnKX19fWZ1bmN0aW9uIFQoZSxuKXt2YXIgcj1uLm1ldGhvZCxvPWUuaXRlcmF0b3Jbcl07aWYobz09PXQpcmV0dXJuIG4uZGVsZWdhdGU9bnVsbCxcInRocm93XCI9PT1yJiZlLml0ZXJhdG9yLnJldHVybiYmKG4ubWV0aG9kPVwicmV0dXJuXCIsbi5hcmc9dCxUKGUsbiksXCJ0aHJvd1wiPT09bi5tZXRob2QpfHxcInJldHVyblwiIT09ciYmKG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIrcitcIicgbWV0aG9kXCIpKSx2O3ZhciBpPWYobyxlLml0ZXJhdG9yLG4uYXJnKTtpZihcInRocm93XCI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1pLmFyZyxuLmRlbGVnYXRlPW51bGwsdjt2YXIgYT1pLmFyZztyZXR1cm4gYT9hLmRvbmU/KG5bZS5yZXN1bHROYW1lXT1hLnZhbHVlLG4ubmV4dD1lLm5leHRMb2MsXCJyZXR1cm5cIiE9PW4ubWV0aG9kJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9dCksbi5kZWxlZ2F0ZT1udWxsLHYpOmE6KG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksbi5kZWxlZ2F0ZT1udWxsLHYpfWZ1bmN0aW9uIEUodCl7dmFyIGU9e3RyeUxvYzp0WzBdfTsxIGluIHQmJihlLmNhdGNoTG9jPXRbMV0pLDIgaW4gdCYmKGUuZmluYWxseUxvYz10WzJdLGUuYWZ0ZXJMb2M9dFszXSksdGhpcy50cnlFbnRyaWVzLnB1c2goZSl9ZnVuY3Rpb24gUCh0KXt2YXIgZT10LmNvbXBsZXRpb258fHt9O2UudHlwZT1cIm5vcm1hbFwiLGRlbGV0ZSBlLmFyZyx0LmNvbXBsZXRpb249ZX1mdW5jdGlvbiBqKHQpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzpcInJvb3RcIn1dLHQuZm9yRWFjaChFLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIEMoZSl7aWYoZXx8XCJcIj09PWUpe3ZhciBuPWVbYV07aWYobilyZXR1cm4gbi5jYWxsKGUpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUubmV4dClyZXR1cm4gZTtpZighaXNOYU4oZS5sZW5ndGgpKXt2YXIgbz0tMSxpPWZ1bmN0aW9uIG4oKXtmb3IoOysrbzxlLmxlbmd0aDspaWYoci5jYWxsKGUsbykpcmV0dXJuIG4udmFsdWU9ZVtvXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT10LG4uZG9uZT0hMCxufTtyZXR1cm4gaS5uZXh0PWl9fXRocm93IG5ldyBUeXBlRXJyb3IoZ2YoZSkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpfXJldHVybiBnLnByb3RvdHlwZT1iLG8oayxcImNvbnN0cnVjdG9yXCIse3ZhbHVlOmIsY29uZmlndXJhYmxlOiEwfSksbyhiLFwiY29uc3RydWN0b3JcIix7dmFsdWU6Zyxjb25maWd1cmFibGU6ITB9KSxnLmRpc3BsYXlOYW1lPWMoYix1LFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksZS5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFlJiYoZT09PWd8fFwiR2VuZXJhdG9yRnVuY3Rpb25cIj09PShlLmRpc3BsYXlOYW1lfHxlLm5hbWUpKX0sZS5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsYik6KHQuX19wcm90b19fPWIsYyh0LHUsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrKSx0fSxlLmF3cmFwPWZ1bmN0aW9uKHQpe3JldHVybntfX2F3YWl0OnR9fSx4KEEucHJvdG90eXBlKSxjKEEucHJvdG90eXBlLHMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksZS5Bc3luY0l0ZXJhdG9yPUEsZS5hc3luYz1mdW5jdGlvbih0LG4scixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBBKGwodCxuLHIsbyksaSk7cmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRvbmU/dC52YWx1ZTphLm5leHQoKX0pKX0seChrKSxjKGssdSxcIkdlbmVyYXRvclwiKSxjKGssYSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxjKGssXCJ0b1N0cmluZ1wiLChmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBHZW5lcmF0b3JdXCJ9KSksZS5rZXlzPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdCh0KSxuPVtdO2Zvcih2YXIgciBpbiBlKW4ucHVzaChyKTtyZXR1cm4gbi5yZXZlcnNlKCksZnVuY3Rpb24gdCgpe2Zvcig7bi5sZW5ndGg7KXt2YXIgcj1uLnBvcCgpO2lmKHIgaW4gZSlyZXR1cm4gdC52YWx1ZT1yLHQuZG9uZT0hMSx0fXJldHVybiB0LmRvbmU9ITAsdH19LGUudmFsdWVzPUMsai5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmoscmVzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9dCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goUCksIWUpZm9yKHZhciBuIGluIHRoaXMpXCJ0XCI9PT1uLmNoYXJBdCgwKSYmci5jYWxsKHRoaXMsbikmJiFpc05hTigrbi5zbGljZSgxKSkmJih0aGlzW25dPXQpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciB0PXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLmRvbmUpdGhyb3cgZTt2YXIgbj10aGlzO2Z1bmN0aW9uIG8ocixvKXtyZXR1cm4gcy50eXBlPVwidGhyb3dcIixzLmFyZz1lLG4ubmV4dD1yLG8mJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz10KSwhIW99Zm9yKHZhciBpPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtpPj0wOy0taSl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW2ldLHM9YS5jb21wbGV0aW9uO2lmKFwicm9vdFwiPT09YS50cnlMb2MpcmV0dXJuIG8oXCJlbmRcIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIHU9ci5jYWxsKGEsXCJjYXRjaExvY1wiKSxjPXIuY2FsbChhLFwiZmluYWxseUxvY1wiKTtpZih1JiZjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9ZWxzZSBpZih1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCFjKXRocm93IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gbyhhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgbz10aGlzLnRyeUVudHJpZXNbbl07aWYoby50cnlMb2M8PXRoaXMucHJldiYmci5jYWxsKG8sXCJmaW5hbGx5TG9jXCIpJiZ0aGlzLnByZXY8by5maW5hbGx5TG9jKXt2YXIgaT1vO2JyZWFrfX1pJiYoXCJicmVha1wiPT09dHx8XCJjb250aW51ZVwiPT09dCkmJmkudHJ5TG9jPD1lJiZlPD1pLmZpbmFsbHlMb2MmJihpPW51bGwpO3ZhciBhPWk/aS5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9dCxhLmFyZz1lLGk/KHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMubmV4dD1pLmZpbmFsbHlMb2Msdik6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24odCxlKXtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuXCJicmVha1wiPT09dC50eXBlfHxcImNvbnRpbnVlXCI9PT10LnR5cGU/dGhpcy5uZXh0PXQuYXJnOlwicmV0dXJuXCI9PT10LnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz10LmFyZyx0aGlzLm1ldGhvZD1cInJldHVyblwiLHRoaXMubmV4dD1cImVuZFwiKTpcIm5vcm1hbFwiPT09dC50eXBlJiZlJiYodGhpcy5uZXh0PWUpLHZ9LGZpbmlzaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi5maW5hbGx5TG9jPT09dClyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksUChuKSx2fX0sY2F0Y2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4udHJ5TG9jPT09dCl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXIudHlwZSl7dmFyIG89ci5hcmc7UChuKX1yZXR1cm4gb319dGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpDKGUpLHJlc3VsdE5hbWU6bixuZXh0TG9jOnJ9LFwibmV4dFwiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz10KSx2fX0sZX1mdW5jdGlvbiB3Zih0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4ga2YodCl9KHQpfHxmdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT10W1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPXRbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8U2YodCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gX2YodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbD09dD9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYobnVsbCE9bil7dmFyIHIsbyxpLGEscz1bXSx1PSEwLGM9ITE7dHJ5e2lmKGk9KG49bi5jYWxsKHQpKS5uZXh0LDA9PT1lKXtpZihPYmplY3QobikhPT1uKXJldHVybjt1PSExfWVsc2UgZm9yKDshKHU9KHI9aS5jYWxsKG4pKS5kb25lKSYmKHMucHVzaChyLnZhbHVlKSxzLmxlbmd0aCE9PWUpO3U9ITApO31jYXRjaCh0KXtjPSEwLG89dH1maW5hbGx5e3RyeXtpZighdSYmbnVsbCE9bi5yZXR1cm4mJihhPW4ucmV0dXJuKCksT2JqZWN0KGEpIT09YSkpcmV0dXJufWZpbmFsbHl7aWYoYyl0aHJvdyBvfX1yZXR1cm4gc319KHQsZSl8fFNmKHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBTZih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBrZih0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP2tmKHQsZSk6dm9pZCAwfX1mdW5jdGlvbiBrZih0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24geGYodCl7dmFyIGU9YmYoKS5tYXJrKE0pLG49dC5zZW50ZW5jZSxyPXQuZ2FtZVN0YXRlLG89dC51c2VUeXBlRWZmZWN0LGk9dm9pZCAwPT09b3x8byxhPXQub25Db21wbGV0ZWQscz10LmZpbmlzaGVkLHU9dC5jb3VudCxjPXQuY2xhc3NOYW1lLGw9X2YoKDAsb2YudXNlU3RhdGUpKCExKSwyKSxmPWxbMF0scD1sWzFdLGQ9KDAsb2YudXNlTWVtbykoKGZ1bmN0aW9uKCl7cmV0dXJuIG4uZXZhbHVhdGUoRWwuZ2V0Q3R4KHtnYW1lU3RhdGU6cn0pKX0pLFtdKSxoPXIuZ2FtZSx5PV9mKCgwLG9mLnVzZVN0YXRlKShbXSksMiksdj15WzBdLG09eVsxXSxnPSgwLG9mLnVzZVJlZikoTShkKSksYj0oMCxvZi51c2VSZWYpKG51bGwpLHc9KDAsb2YudXNlUmVmKShudWxsKSxfPV9mKCgwLG9mLnVzZVN0YXRlKSgwKSwyKSxrPV9bMF0seD1fWzFdLEE9X2YoKDAsb2YudXNlUmVkdWNlcikoKGZ1bmN0aW9uKHQpe3JldHVybiB0KzF9KSwwKSwyKVsxXSxPPV9mKCgwLG9mLnVzZVN0YXRlKShuZXcgU2V0KSwyKSxUPU9bMF0sRT1PWzFdLFA9X2YoKDAsb2YudXNlU3RhdGUpKCExKSwyKSxqPVBbMF0sQz1QWzFdO2Z1bmN0aW9uIEwoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3cuY3VycmVudCYmKGNsZWFyVGltZW91dCh3LmN1cnJlbnQpLHcuY3VycmVudD1udWxsKTtmb3IodmFyIGU9ITE7IWU7KXt2YXIgbj1nLmN1cnJlbnQubmV4dCgpLG89bi5kb25lLGk9bi52YWx1ZTtpZihvKXAoITApLGEmJihyLmxvZ2dlci5pbmZvKFwiU2F5XCIsXCJDb21wbGV0ZWRcIixvLGkpLGEoKSksZT0hMDtlbHNlIGlmKE5zLmlzUGF1c2UoaSkpe2lmKHQpY29udGludWU7TihOcy5mcm9tKGkpKSxlPSEwfWVsc2UgSShpKX19ZnVuY3Rpb24gSSh0KXttKChmdW5jdGlvbihlKXtpZihcIlxcblwiIT09dCYmVC5oYXModCkpcmV0dXJuIGU7RSgoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBTZXQoZSkuYWRkKHQpfSkpO3ZhciBuPWVbZS5sZW5ndGgtMV07cmV0dXJuIG4mJlwiXFxuXCIhPT1uJiZcIlxcblwiIT09dCYmbi50YWc9PT10LnRhZz9bXS5jb25jYXQod2YoZS5zbGljZSgwLC0xKSksW3t0ZXh0Om4udGV4dCt0LnRleHQsY29uZmlnOnQuY29uZmlnLHRhZzp0LnRhZyx0YWcyOnQudGFnMn1dKTpbXS5jb25jYXQod2YoZSksW3RdKX0pKX1mdW5jdGlvbiBOKHQpe3IubG9nZ2VyLmluZm8oXCJTYXlcIixcIlBhdXNlZFwiLHQpLHQuY29uZmlnLmR1cmF0aW9uP2IuY3VycmVudD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2IuY3VycmVudD1udWxsLHgoKGZ1bmN0aW9uKHQpe3JldHVybiB0KzF9KSl9KSx0LmNvbmZpZy5kdXJhdGlvbik6QyghMCl9ZnVuY3Rpb24gTSh0KXt2YXIgbixyLG8saSxhO3JldHVybiBiZigpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOm49d2YodCkscj0wO2Nhc2UgMjppZighKHI8bi5sZW5ndGgpKXtlLm5leHQ9MjQ7YnJlYWt9aWYobz1uW3JdLCFOcy5pc1BhdXNlKG8udGV4dCkpe2UubmV4dD04O2JyZWFrfXJldHVybiBlLm5leHQ9NyxOcy5mcm9tKG8udGV4dCk7Y2FzZSA3OnJldHVybiBlLmFicnVwdChcImNvbnRpbnVlXCIsMjEpO2Nhc2UgODppPTA7Y2FzZSA5OmlmKCEoaTxvLnRleHQubGVuZ3RoKSl7ZS5uZXh0PTIxO2JyZWFrfWlmKFwiXFxuXCIhPT0oYT1vLnRleHRbaV0pKXtlLm5leHQ9MTY7YnJlYWt9cmV0dXJuIGUubmV4dD0xNCxcIlxcblwiO2Nhc2UgMTQ6ZS5uZXh0PTE4O2JyZWFrO2Nhc2UgMTY6cmV0dXJuIGUubmV4dD0xOCx7dGV4dDphLGNvbmZpZzpvLmNvbmZpZyx0YWc6cix0YWcyOml9O2Nhc2UgMTg6aSsrLGUubmV4dD05O2JyZWFrO2Nhc2UgMjE6cisrLGUubmV4dD0yO2JyZWFrO2Nhc2UgMjQ6cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMjU6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfXJldHVybigwLG9mLnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7aWYoaXx8TCghMCksYi5jdXJyZW50JiZzJiYhZilyZXR1cm4gY2xlYXJUaW1lb3V0KGIuY3VycmVudCksYi5jdXJyZW50PW51bGwsdm9pZChhJiYoci5sb2dnZXIuaW5mbyhcIlNheVwiLFwiQ29tcGxldGVkXCIsYi5jdXJyZW50LHMsZiksYSgpKSk7aWYoZnx8c3x8anx8Yi5jdXJyZW50KXIubG9nZ2VyLmRlYnVnKFwiU2VudGVuY2UudHN4XCIsXCJsb2NrZWRcIixmLHMsaik7ZWxzZXt2YXIgdD1nLmN1cnJlbnQubmV4dCgpLGU9dC5kb25lLG49dC52YWx1ZTtpZihlKXJldHVybiBwKCEwKSx2b2lkKGEmJihyLmxvZ2dlci5pbmZvKFwiU2F5XCIsXCJDb21wbGV0ZWRcIixlLG4pLGEoKSkpO05zLmlzUGF1c2Uobik/TihOcy5mcm9tKG4pKTooSShuKSxBKCksdy5jdXJyZW50PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7eCgoZnVuY3Rpb24odCl7cmV0dXJuIHQrMX0pKX0pLGguY29uZmlnLmVsZW1lbnRzLnNheS50ZXh0SW50ZXJ2YWwpKX19KSxbayxzLGpdKSwoMCxvZi51c2VFZmZlY3QpKChmdW5jdGlvbigpe2lmKHUmJiFiLmN1cnJlbnQpe2lmKGopcmV0dXJuIEMoITEpLHZvaWQgeCgoZnVuY3Rpb24odCl7cmV0dXJuIHQrMX0pKTtMKCkseCgoZnVuY3Rpb24odCl7cmV0dXJuIHQrMX0pKX19KSxbdV0pLGFmKCkuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6cmYoXCJ3aGl0ZXNwYWNlLXByZS13cmFwXCIsaC5jb25maWcuZWxlbWVudFN0eWxlcy5zYXkudGV4dENvbnRhaW5lckNsYXNzTmFtZSx7XCJmb250LWJvbGRcIjpuLmNvbmZpZy5ib2xkLGl0YWxpYzpuLmNvbmZpZy5pdGFsaWN9LGMpLHN0eWxlOntmb250RmFtaWx5Om4uY29uZmlnLmZvbnRGYW1pbHl8fGguY29uZmlnLmVsZW1lbnRTdHlsZXMuc2F5LmZvbnRGYW1pbHksZm9udFNpemU6bi5jb25maWcuZm9udFNpemV8fGguY29uZmlnLmVsZW1lbnRTdHlsZXMuc2F5LmZvbnRTaXplfX0sdi5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJcXG5cIj09PXQ/YWYoKS5jcmVhdGVFbGVtZW50KFwiYnJcIix7a2V5OmV9KTphZigpLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2tleTplLHN0eWxlOk9iamVjdC5hc3NpZ24oe2NvbG9yOlModC5jb25maWcuY29sb3J8fG4uY29uZmlnLmNvbG9yfHxEcy5kZWZhdWx0Q29sb3IpLGZvbnRGYW1pbHk6dC5jb25maWcuZm9udEZhbWlseSxmb250U2l6ZTp0LmNvbmZpZy5mb250U2l6ZX0saC5jb25maWcuYXBwLmRlYnVnP3tib3JkZXI6XCIxcHggZGFzaGVkIHJlZFwifTp7fSksY2xhc3NOYW1lOnJmKGguY29uZmlnLmVsZW1lbnRTdHlsZXMuc2F5LnRleHRTcGFuQ2xhc3NOYW1lLFwid2hpdGVzcGFjZS1wcmUgaW5saW5lLWJsb2NrXCIse1wiZm9udC1ib2xkXCI6dC5jb25maWcuYm9sZCxpdGFsaWM6dC5jb25maWcuaXRhbGljfSx0LmNvbmZpZy5jbGFzc05hbWUpfSx0LmNvbmZpZy5ydWJ5P2FmKCkuY3JlYXRlRWxlbWVudChcInJ1YnlcIix7Y2xhc3NOYW1lOlwiYWxpZ24tYm90dG9tIGlubGluZS1ibG9ja1wifSxhZigpLmNyZWF0ZUVsZW1lbnQoXCJydFwiLHtjbGFzc05hbWU6XCJibG9jayB0ZXh0LWNlbnRlclwifSx0LmNvbmZpZy5ydWJ5KSx0LnRleHQpOnQudGV4dCl9KSkpfWZ1bmN0aW9uIEFmKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe3ZhciBuPW51bGw9PXQ/bnVsbDpcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKG51bGwhPW4pe3ZhciByLG8saSxhLHM9W10sdT0hMCxjPSExO3RyeXtpZihpPShuPW4uY2FsbCh0KSkubmV4dCwwPT09ZSl7aWYoT2JqZWN0KG4pIT09bilyZXR1cm47dT0hMX1lbHNlIGZvcig7ISh1PShyPWkuY2FsbChuKSkuZG9uZSkmJihzLnB1c2goci52YWx1ZSkscy5sZW5ndGghPT1lKTt1PSEwKTt9Y2F0Y2godCl7Yz0hMCxvPXR9ZmluYWxseXt0cnl7aWYoIXUmJm51bGwhPW4ucmV0dXJuJiYoYT1uLnJldHVybigpLE9iamVjdChhKSE9PWEpKXJldHVybn1maW5hbGx5e2lmKGMpdGhyb3cgb319cmV0dXJuIHN9fSh0LGUpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBPZih0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP09mKHQsZSk6dm9pZCAwfX0odCxlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIE9mKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBUZih0KXt2YXIgZSxuPXQuYWN0aW9uLHI9dC5vbkNsaWNrLG89dC51c2VUeXBlRWZmZWN0LGk9dm9pZCAwPT09b3x8byxhPXQuY2xhc3NOYW1lLHM9dC5zdGF0ZSx1PW4uc2VudGVuY2UsYz1BZigoMCxvZi51c2VTdGF0ZSkoITEpLDIpLGw9Y1swXSxmPWNbMV0scD1zLmdhbWUsZD1BZigoMCxvZi51c2VTdGF0ZSkoMCksMiksaD1kWzBdLHk9ZFsxXTtyZXR1cm4oMCxvZi51c2VFZmZlY3QpKChmdW5jdGlvbigpe2lmKHdpbmRvdyl7dmFyIHQ9ZnVuY3Rpb24odCl7cC5jb25maWcuZWxlbWVudHMuc2F5Lm5leHRLZXkuaW5jbHVkZXModC5rZXkpJiYobD9yJiZyKCk6eSgoZnVuY3Rpb24odCl7cmV0dXJuIHQrMX0pKSl9O3JldHVybiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsdCksZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsdCl9fWNvbnNvbGUud2FybihcIkZhaWxlZCB0byBhZGQgZXZlbnQgbGlzdGVuZXIsIHdpbmRvdyBpcyBub3QgYXZhaWxhYmxlXFxuYXQgU2F5LnRzeDogb25FbGVtZW50Q2xpY2tcIil9KSxbbF0pLCgwLG9mLnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7dmFyIHQ9cy5ldmVudHMub25FdmVudHMoW3t0eXBlOmVmLkV2ZW50VHlwZXNbXCJldmVudDpzdGF0ZS5wbGF5ZXIuc2tpcFwiXSxsaXN0ZW5lcjpzLmV2ZW50cy5vbihlZi5FdmVudFR5cGVzW1wiZXZlbnQ6c3RhdGUucGxheWVyLnNraXBcIl0sKGZ1bmN0aW9uKCl7cy5sb2dnZXIubG9nKFwiTmFycmFMZWFmLVJlYWN0OiBTYXlcIixcIlNraXBwZWRcIiksbD9yJiZyKCk6ZighMCl9KSl9XSk7cmV0dXJuIGZ1bmN0aW9uKCl7dC5jYW5jZWwoKX19KSksYWYoKS5jcmVhdGVFbGVtZW50KG1mLHtjbGFzc05hbWU6XCJhYnNvbHV0ZVwifSx1LnN0YXRlLmRpc3BsYXkmJmFmKCkuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6cmYoXCJhYnNvbHV0ZSBib3R0b20tMCB3LVtjYWxjKDEwMCUtNDBweCldIG1pbi1oLVtjYWxjKDMzJS00MHB4KV0gbS00IGJnLXdoaXRlIGZsZXggZmxleC1jb2wgaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuXCIscC5jb25maWcuZWxlbWVudFN0eWxlcy5zYXkuY29udGFpbmVyQ2xhc3NOYW1lLGEpLG9uQ2xpY2s6ZnVuY3Rpb24oKXtsP3ImJnIoKTp5KChmdW5jdGlvbih0KXtyZXR1cm4gdCsxfSkpfX0sYWYoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpyZihcInJvdW5kZWQtYnItbWRcIixwLmNvbmZpZy5lbGVtZW50U3R5bGVzLnNheS5uYW1lVGV4dENsYXNzTmFtZSl9LG51bGw9PT0oZT11LmNvbmZpZy5jaGFyYWN0ZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnN0YXRlLm5hbWUpLGFmKCkuY3JlYXRlRWxlbWVudCh4Zix7c2VudGVuY2U6dSxnYW1lU3RhdGU6cyxmaW5pc2hlZDpsLHVzZVR5cGVFZmZlY3Q6aSxvbkNvbXBsZXRlZDpmdW5jdGlvbigpe2YoITApfSxjb3VudDpofSksYWYoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsbnVsbCkpKX1mdW5jdGlvbiBFZih0LGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fSh0KXx8ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsPT10P251bGw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZihudWxsIT1uKXt2YXIgcixvLGksYSxzPVtdLHU9ITAsYz0hMTt0cnl7aWYoaT0obj1uLmNhbGwodCkpLm5leHQsMD09PWUpe2lmKE9iamVjdChuKSE9PW4pcmV0dXJuO3U9ITF9ZWxzZSBmb3IoOyEodT0ocj1pLmNhbGwobikpLmRvbmUpJiYocy5wdXNoKHIudmFsdWUpLHMubGVuZ3RoIT09ZSk7dT0hMCk7fWNhdGNoKHQpe2M9ITAsbz10fWZpbmFsbHl7dHJ5e2lmKCF1JiZudWxsIT1uLnJldHVybiYmKGE9bi5yZXR1cm4oKSxPYmplY3QoYSkhPT1hKSlyZXR1cm59ZmluYWxseXtpZihjKXRocm93IG99fXJldHVybiBzfX0odCxlKXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gUGYodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9QZih0LGUpOnZvaWQgMH19KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBQZih0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9dmFyIGpmPWFmKCkuY3JlYXRlQ29udGV4dChudWxsKTtmdW5jdGlvbiBDZih0KXt2YXIgZT10LmNoaWxkcmVuLG49dC5nYW1lLHI9bmV3IFZmKHt9KSxvPUVmKCgwLG9mLnVzZVN0YXRlKShufHxyKSwyKSxpPW9bMF0sYT1vWzFdO3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoamYuUHJvdmlkZXIse3ZhbHVlOntnYW1lOmksc2V0R2FtZTphfX0sZSl9ZnVuY3Rpb24gTGYoKXt2YXIgdD0oMCxvZi51c2VDb250ZXh0KShqZik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwidXNlR2FtZSBtdXN0IGJlIHVzZWQgd2l0aGluIGEgR2FtZVByb3ZpZGVyXCIpO3JldHVybiB0fXZhciBJZixOZj17c2F5OlRmLG1lbnU6ZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9tcHQsbj10LmNob2ljZXMscj10LmFmdGVyQ2hvb3NlLG89dC5zdGF0ZSxpPUxmKCkuZ2FtZSxhPWkuY29uZmlnLmVsZW1lbnRzLnNheS51c2U7cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChhZigpLkZyYWdtZW50LG51bGwsYWYoKS5jcmVhdGVFbGVtZW50KG1mLHtjbGFzc05hbWU6XCJhYnNvbHV0ZVwifSxhZigpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiYWJzb2x1dGUgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWluLXctZnVsbCB3LWZ1bGwgaC1mdWxsXCJ9LGUmJmFmKCkuY3JlYXRlRWxlbWVudChhLHtzdGF0ZTpvLGFjdGlvbjp7c2VudGVuY2U6ZSxjaGFyYWN0ZXI6bnVsbH0sdXNlVHlwZUVmZmVjdDohMSxjbGFzc05hbWU6XCJ6LTEwXCJ9KSkpLGFmKCkuY3JlYXRlRWxlbWVudChtZix7Y2xhc3NOYW1lOlwiYWJzb2x1dGVcIn0sYWYoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpyZihcImFic29sdXRlIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi13LWZ1bGwgdy1mdWxsIGgtZnVsbFwiLGkuY29uZmlnLmVsZW1lbnRTdHlsZXMubWVudS5jb250YWluZXJDbGFzc05hbWUpfSxhZigpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicC00IHJvdW5kZWQtbGcgdy1mdWxsIHotMjBcIn0sYWYoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIG10LTQgdy1mdWxsXCJ9LG4ubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIix7a2V5OmUsY2xhc3NOYW1lOnJmKFwiYmctd2hpdGUgdGV4dC1ibGFjayBwLTIgbXQtMiB3LTEvMlwiLGkuY29uZmlnLmVsZW1lbnRTdHlsZXMubWVudS5jaG9pY2VCdXR0b25DbGFzc05hbWUpLG9uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cih0KX0odCl9fSxhZigpLmNyZWF0ZUVsZW1lbnQoeGYse3NlbnRlbmNlOnQucHJvbXB0LGdhbWVTdGF0ZTpvLHVzZVR5cGVFZmZlY3Q6ITEsY2xhc3NOYW1lOnJmKGkuY29uZmlnLmVsZW1lbnRTdHlsZXMubWVudS5jaG9pY2VCdXR0b25UZXh0Q2xhc3NOYW1lKX0pKX0pKSkpKSkpfX07ZnVuY3Rpb24gTWYodCl7cmV0dXJuIE1mPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LE1mKHQpfWZ1bmN0aW9uIFJmKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBGZih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxCZihyLmtleSkscil9fWZ1bmN0aW9uIERmKHQsZSxuKXtyZXR1cm4gZSYmRmYodC5wcm90b3R5cGUsZSksbiYmRmYodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9ZnVuY3Rpb24gQmYodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1NZih0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1NZihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PU1mKGUpP2U6ZStcIlwifSFmdW5jdGlvbih0KXt0LmdhbWU9XCJnYW1lXCJ9KElmfHwoSWY9e30pKTt2YXIgVmY9ZnVuY3Rpb24oKXtyZXR1cm4gRGYoKGZ1bmN0aW9uIHQoZSl7UmYodGhpcyx0KSx0aGlzLmxpdmVHYW1lPW51bGwsdGhpcy5jb25maWc9Yih0LkRlZmF1bHRDb25maWcsZSl9KSxbe2tleTpcInVzZUNvbXBvbmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoIU9iamVjdC5rZXlzKE5mKS5pbmNsdWRlcyh0KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGtleSBcIi5jb25jYXQodCkpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb21wb25lbnQgZm9yIGtleSBcIi5jb25jYXQodCkpO3JldHVybiB0aGlzLmNvbmZpZy5lbGVtZW50c1t0XS51c2U9ZSx0aGlzfX0se2tleTpcImdldExpdmVHYW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5saXZlR2FtZSl7dmFyIHQ9dGhpcy5jcmVhdGVMaXZlR2FtZSgpO3JldHVybiB0aGlzLmxpdmVHYW1lPXQsdH1yZXR1cm4gdGhpcy5saXZlR2FtZX19LHtrZXk6XCJjcmVhdGVMaXZlR2FtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBHZih0aGlzKX19XSl9KCk7VmYuZGVmYXVsdFNldHRpbmdzPXt2b2x1bWU6MX0sVmYuQ29tcG9uZW50VHlwZXM9e3NheTpcInNheVwiLG1lbnU6XCJtZW51XCJ9LFZmLkRlZmF1bHRDb25maWc9e3BsYXllcjp7Y29udGVudENvbnRhaW5lcklkOlwiX19uYXJyYWxlYWZfY29udGVudFwiLGFzcGVjdFJhdGlvOjE2LzksbWluV2lkdGg6ODAwLG1pbkhlaWdodDo0NTAsd2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLHNraXBLZXk6W1wiQ29udHJvbFwiXSxza2lwSW50ZXJ2YWw6MTAwfSxlbGVtZW50czp7c2F5OntuZXh0S2V5OltcIiBcIl0sdGV4dEludGVydmFsOjUwLHVzZTpOZi5zYXl9LGltZzp7c2xvd0xvYWRXYXJuaW5nOiEwLHNsb3dMb2FkVGhyZXNob2xkOjJlMyxhbGxvd1NraXBUcmFuc2Zvcm06ITAsYWxsb3dTa2lwVHJhbnNpdGlvbjohMH0sbWVudTp7dXNlOk5mLm1lbnV9LGJhY2tncm91bmQ6e2FsbG93U2tpcFRyYW5zZm9ybTohMCxhbGxvd1NraXBUcmFuc2l0aW9uOiExfSx0ZXh0OnthbGxvd1NraXBUcmFuc2Zvcm06ITAsYWxsb3dTa2lwVHJhbnNpdGlvbjohMH19LGVsZW1lbnRTdHlsZXM6e3NheTp7Y29udGFpbmVyQ2xhc3NOYW1lOlwiXCIsbmFtZVRleHRDbGFzc05hbWU6XCJcIix0ZXh0Q29udGFpbmVyQ2xhc3NOYW1lOlwiXCIsdGV4dFNwYW5DbGFzc05hbWU6XCJcIixydWJ5Q2xhc3NOYW1lOlwiXCJ9LG1lbnU6e2NvbnRhaW5lckNsYXNzTmFtZTpcIlwiLGNob2ljZUJ1dHRvbkNsYXNzTmFtZTpcIlwiLGNob2ljZUJ1dHRvblRleHRDbGFzc05hbWU6XCJcIn19LGFwcDp7ZGVidWc6ITEsbG9nZ2VyOntsb2c6ITEsaW5mbzohMSx3YXJuOiEwLGVycm9yOiEwLGRlYnVnOiExLHRyYWNlOiExfX19LFZmLkdhbWVTZXR0aW5nc05hbWVzcGFjZT1JZjt2YXIgR2Y9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe1JmKHRoaXMsdCksdGhpcy5nYW1lTG9jaz1uZXcgaix0aGlzLmN1cnJlbnRTYXZlZEdhbWU9bnVsbCx0aGlzLnN0b3J5PW51bGwsdGhpcy5sb2NrZWRBd2FpdGluZz1udWxsLHRoaXMuZ2FtZVN0YXRlPXZvaWQgMCx0aGlzLl9sb2NrZWRDb3VudD0wLHRoaXMuY3VycmVudEFjdGlvbj1udWxsLHRoaXMuX25leHRMb2NrPW5ldyBQLHRoaXMuZ2FtZT1lLHRoaXMuc3RvcmFibGU9bmV3IFdsLHRoaXMuaW5pdE5hbWVzcGFjZXMoKX1yZXR1cm4gRGYodCxbe2tleTpcImluaXROYW1lc3BhY2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdG9yYWJsZS5jbGVhcigpLmFkZE5hbWVzcGFjZShuZXcgemwodC5HYW1lU3BhY2VzS2V5LmdhbWUsdC5EZWZhdWx0TmFtZXNwYWNlcy5nYW1lKSksdGhpc319LHtrZXk6XCJnZXRTdG9yYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RvcmFibGV9fSx7a2V5OlwibG9hZFN0b3J5XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3Rvcnk9dC5jb25zdHJ1Y3RTdG9yeSgpLHRoaXN9fSx7a2V5Olwic2VyaWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlLG47aWYoIXRoaXMuZ2FtZVN0YXRlKXRocm93IG5ldyBFcnJvcihcIk5vIGdhbWUgc3RhdGVcIik7dmFyIHI9dGhpcy5nYW1lU3RhdGUsbz10aGlzLnN0b3J5O2lmKCFvKXRocm93IG5ldyBFcnJvcihcIk5vIHN0b3J5IGxvYWRlZFwiKTt2YXIgaT10aGlzLnN0b3JhYmxlLnRvRGF0YSgpLGE9ci50b0RhdGEoKSxzPShudWxsPT09KHQ9dGhpcy5nZXRDdXJyZW50QWN0aW9uKCkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldElkKCkpfHxudWxsLHU9by5nZXRBbGxFbGVtZW50U3RhdGVzKCk7cmV0dXJue25hbWU6KG51bGw9PT0oZT10aGlzLmN1cnJlbnRTYXZlZEdhbWUpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm5hbWUpfHxcIlwiLG1ldGE6e2NyZWF0ZWQ6KG51bGw9PT0obj10aGlzLmN1cnJlbnRTYXZlZEdhbWUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm1ldGEuY3JlYXRlZCl8fERhdGUubm93KCksdXBkYXRlZDpEYXRlLm5vdygpfSxnYW1lOntzdG9yZTppLHN0YWdlOmEsY3VycmVudEFjdGlvbjpzLGVsZW1lbnRTdGF0ZXM6dX19fX0se2tleTpcImRlc2VyaWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU7aWYoIXRoaXMuZ2FtZVN0YXRlKXRocm93IG5ldyBFcnJvcihcIk5vIGdhbWUgc3RhdGVcIik7dmFyIG49dGhpcy5nYW1lU3RhdGUscj10aGlzLnN0b3J5O2lmKCFyKXRocm93IG5ldyBFcnJvcihcIk5vIHN0b3J5IGxvYWRlZFwiKTt0aGlzLnJlc2V0KHtnYW1lU3RhdGU6bn0pLG4uc3RhZ2UuZm9yY2VVcGRhdGUoKTt2YXIgbz1uZXcgTWFwLGk9bmV3IE1hcCxhPXQuZ2FtZSxzPWEuc3RvcmUsdT1hLnN0YWdlLGM9YS5lbGVtZW50U3RhdGVzLGw9YS5jdXJyZW50QWN0aW9uO2lmKHIuZm9yRWFjaENoaWxkKChudWxsPT09KGU9ci5lbnRyeVNjZW5lKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5zY2VuZVJvb3QpfHxbXSwoZnVuY3Rpb24odCl7by5zZXQodC5nZXRJZCgpLHQpLGkuc2V0KHQuY2FsbGVlLmdldElkKCksdC5jYWxsZWUpfSkpLHRoaXMuc3RvcmFibGUubG9hZChzKSxjLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXQuaWQscj10LmRhdGE7bi5sb2dnZXIuZGVidWcoXCJyZXN0b3JlIGVsZW1lbnRcIixlKTt2YXIgbz1pLmdldChlKTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJFbGVtZW50IG5vdCBmb3VuZCwgaWQ6IFwiK2UrXCJcXG5OYXJyYUxlYWYgY2Fubm90IGZpbmQgdGhlIGVsZW1lbnQgd2l0aCB0aGUgaWQgZnJvbSB0aGUgc2F2ZWQgZ2FtZVwiKTtvLnJlc2V0KCksby5mcm9tRGF0YShyKX0pKSx0aGlzLmN1cnJlbnRTYXZlZEdhbWU9dCxuLmxvYWREYXRhKHUsaSksbCl7dmFyIGY9by5nZXQobCk7aWYoIWYpdGhyb3cgbmV3IEVycm9yKFwiQWN0aW9uIG5vdCBmb3VuZCwgaWQ6IFwiK2wrXCJcXG5OYXJyYUxlYWYgY2Fubm90IGZpbmQgdGhlIGFjdGlvbiB3aXRoIHRoZSBpZCBmcm9tIHRoZSBzYXZlZCBnYW1lXCIpO3RoaXMuY3VycmVudEFjdGlvbj1mfW4uc3RhZ2UuZm9yY2VVcGRhdGUoKSxuLnN0YWdlLm5leHQoKX19LHtrZXk6XCJuZXdHYW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlLG47aWYoIXRoaXMuZ2FtZVN0YXRlKXRocm93IG5ldyBFcnJvcihcIk5vIGdhbWUgc3RhdGVcIik7dmFyIHI9dGhpcy5nYW1lU3RhdGU7dGhpcy5yZXNldCh7Z2FtZVN0YXRlOnJ9KSx0aGlzLmluaXROYW1lc3BhY2VzKCk7dmFyIG89dGhpcy5nZXROZXdTYXZlZEdhbWUoKTtvLm5hbWU9XCJOZXdHYW1lLVwiK0RhdGUubm93KCksdGhpcy5jdXJyZW50U2F2ZWRHYW1lPW87dmFyIGk9bnVsbD09PSh0PXRoaXMuc3RvcnkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldEFsbEVsZW1lbnRNYXAoKG51bGw9PT0obj1udWxsPT09KGU9dGhpcy5zdG9yeSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZW50cnlTY2VuZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uc2NlbmVSb290KXx8W10pO3JldHVybiBpP2kuZm9yRWFjaCgoZnVuY3Rpb24odCl7ci5sb2dnZXIuZGVidWcoXCJyZXNldCBlbGVtZW50XCIsdCksdC5yZXNldCgpfSkpOnIubG9nZ2VyLndhcm4oXCJObyBlbGVtZW50cyBmb3VuZFwiKSxyLnN0YWdlLmZvcmNlVXBkYXRlKCksci5zdGFnZS5uZXh0KCksdGhpc319LHtrZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG4scj10LmdhbWVTdGF0ZTt0aGlzLmxvY2tlZEF3YWl0aW5nJiZ0aGlzLmxvY2tlZEF3YWl0aW5nLmFib3J0KCksdGhpcy5jdXJyZW50QWN0aW9uPShudWxsPT09KG49bnVsbD09PShlPXRoaXMuc3RvcnkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmVudHJ5U2NlbmUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnNjZW5lUm9vdCl8fG51bGwsdGhpcy5sb2NrZWRBd2FpdGluZz1udWxsLHRoaXMuY3VycmVudFNhdmVkR2FtZT1udWxsLHIuZm9yY2VSZXNldCgpfX0se2tleTpcImdldEN1cnJlbnRBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRBY3Rpb259fSx7a2V5Olwic2V0Q3VycmVudEFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmN1cnJlbnRBY3Rpb249dCx0aGlzfX0se2tleTpcIm5leHRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuO2lmKHRoaXMuX25leHRMb2NrLmlzTG9ja2VkKCkpcmV0dXJuIG51bGw7aWYodGhpcy5fbmV4dExvY2subG9jaygpLHRoaXMuZ2FtZUxvY2suaXNMb2NrZWQoKSlyZXR1cm4gdGhpcy5nYW1lTG9jaztpZighdGhpcy5zdG9yeSl0aHJvdyBuZXcgRXJyb3IoXCJObyBzdG9yeSBsb2FkZWRcIik7aWYodGhpcy5sb2NrZWRBd2FpdGluZyl7aWYoIXRoaXMubG9ja2VkQXdhaXRpbmcuc29sdmVkKXtpZih0aGlzLl9sb2NrZWRDb3VudCsrLHRoaXMuX2xvY2tlZENvdW50PjFlMyl0aHJvdyBuZXcgRXJyb3IoXCJMb2NrZWQgYXdhaXRpbmdcIik7cmV0dXJuIHRoaXMuX25leHRMb2NrLnVubG9jaygpLHRoaXMubG9ja2VkQXdhaXRpbmd9dmFyIHI9dGhpcy5sb2NrZWRBd2FpdGluZy5yZXN1bHQ7cmV0dXJuIHRoaXMuY3VycmVudEFjdGlvbj0obnVsbD09PShlPW51bGw9PXI/dm9pZCAwOnIubm9kZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuYWN0aW9uKXx8bnVsbCx0LmxvZ2dlci5kZWJ1ZyhcIm5leHQgYWN0aW9uXCIsciksdGhpcy5sb2NrZWRBd2FpdGluZz1udWxsLHRoaXMuX25leHRMb2NrLnVubG9jaygpLHJ8fG51bGx9aWYoIXRoaXMuY3VycmVudEFjdGlvbilyZXR1cm4gdC5ldmVudHMuZW1pdChlZi5FdmVudFR5cGVzW1wiZXZlbnQ6c3RhdGUuZW5kXCJdKSx0LmxvZ2dlci53YXJuKFwiTGl2ZUdhbWVcIixcIk5vIGN1cnJlbnQgYWN0aW9uXCIpLHRoaXMuX25leHRMb2NrLnVubG9jaygpLG51bGw7dmFyIG89dGhpcy5jdXJyZW50QWN0aW9uLmV4ZWN1dGVBY3Rpb24odCk7cmV0dXJuIHcuaXNBd2FpdGFibGUobyk/KHRoaXMubG9ja2VkQXdhaXRpbmc9byx0aGlzLl9uZXh0TG9jay51bmxvY2soKSxvKToodC5sb2dnZXIuZGVidWcoXCJuZXh0IGFjdGlvblwiLG8pLHRoaXMuX2xvY2tlZENvdW50PTAsdGhpcy5jdXJyZW50QWN0aW9uPShudWxsPT09KG49by5ub2RlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5hY3Rpb24pfHxudWxsLHRoaXMuX25leHRMb2NrLnVubG9jaygpLG8pfX0se2tleTpcImFib3J0QXdhaXRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O2lmKHRoaXMubG9ja2VkQXdhaXRpbmcpe3ZhciBlPXRoaXMubG9ja2VkQXdhaXRpbmcuYWJvcnQoKTt0aGlzLmN1cnJlbnRBY3Rpb249KG51bGw9PT0odD1udWxsPT1lP3ZvaWQgMDplLm5vZGUpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmFjdGlvbil8fG51bGwsdGhpcy5sb2NrZWRBd2FpdGluZz1udWxsfX19LHtrZXk6XCJleGVjdXRlQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbixyPWUuZXhlY3V0ZUFjdGlvbih0KTtyZXR1cm4gdy5pc0F3YWl0YWJsZShyKT9yOihudWxsPT09KG49bnVsbD09cj92b2lkIDA6ci5ub2RlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5hY3Rpb24pfHxudWxsfX0se2tleTpcInNldEdhbWVTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdhbWVTdGF0ZT10LHRoaXN9fSx7a2V5OlwiZ2V0R2FtZVN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lU3RhdGV9fSx7a2V5OlwiZ2V0TmV3U2F2ZWRHYW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlLG47cmV0dXJue25hbWU6XCJcIixtZXRhOntjcmVhdGVkOkRhdGUubm93KCksdXBkYXRlZDpEYXRlLm5vdygpfSxnYW1lOntzdG9yZTp7fSxzdGFnZTp7c2NlbmVzOltdfSxlbGVtZW50U3RhdGVzOltdLGN1cnJlbnRBY3Rpb246KG51bGw9PT0obj1udWxsPT09KGU9bnVsbD09PSh0PXRoaXMuc3RvcnkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVudHJ5U2NlbmUpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnNjZW5lUm9vdCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZ2V0SWQoKSl8fG51bGx9fX19XSl9KCk7R2YuRGVmYXVsdE5hbWVzcGFjZXM9e2dhbWU6e319LEdmLkdhbWVTcGFjZXNLZXk9e2dhbWU6XCJnYW1lXCJ9O3ZhciBVZj1vKDcyKSxIZj1vLm4oVWYpLHpmPW8oODI1KSxXZj1vLm4oemYpLCRmPW8oNjU5KSxZZj1vLm4oJGYpLHFmPW8oNTYpLFhmPW8ubihxZiksS2Y9byg1NDApLFpmPW8ubihLZiksUWY9bygxMTMpLEpmPW8ubihRZiksdHA9byg1ODcpLGVwPXt9O2VwLnN0eWxlVGFnVHJhbnNmb3JtPUpmKCksZXAuc2V0QXR0cmlidXRlcz1YZigpLGVwLmluc2VydD1ZZigpLmJpbmQobnVsbCxcImhlYWRcIiksZXAuZG9tQVBJPVdmKCksZXAuaW5zZXJ0U3R5bGVFbGVtZW50PVpmKCk7SGYoKSh0cC5BLGVwKTt0cC5BJiZ0cC5BLmxvY2FscyYmdHAuQS5sb2NhbHM7dmFyIG5wPW8oODQ4KTtjb25zdCBycD0oMCxvZi5jcmVhdGVDb250ZXh0KSh7c3RyaWN0OiExfSk7ZnVuY3Rpb24gb3AodCl7Zm9yKGNvbnN0IGUgaW4gdClZaVtlXT17Li4uWWlbZV0sLi4udFtlXX19ZnVuY3Rpb24gaXAoe2NoaWxkcmVuOnQsZmVhdHVyZXM6ZSxzdHJpY3Q6bj0hMX0pe2NvbnN0WyxyXT0oMCxvZi51c2VTdGF0ZSkoIWFwKGUpKSxvPSgwLG9mLnVzZVJlZikodm9pZCAwKTtpZighYXAoZSkpe2NvbnN0e3JlbmRlcmVyOnQsLi4ubn09ZTtvLmN1cnJlbnQ9dCxvcChuKX1yZXR1cm4oMCxvZi51c2VFZmZlY3QpKCgoKT0+e2FwKGUpJiZlKCkudGhlbigoKHtyZW5kZXJlcjp0LC4uLmV9KT0+e29wKGUpLG8uY3VycmVudD10LHIoITApfSkpfSksW10pLCgwLG5wLmpzeCkocnAuUHJvdmlkZXIse3ZhbHVlOntyZW5kZXJlcjpvLmN1cnJlbnQsc3RyaWN0Om59LGNoaWxkcmVuOnR9KX1mdW5jdGlvbiBhcCh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIHNwKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuITE7Y29uc3Qgbj1lLmxlbmd0aDtpZihuIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCByPTA7cjxuO3IrKylpZihlW3JdIT09dFtyXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB1cCh0LGUsbj17fSl7dmFyIHI7Y29uc3Qgbz1BaSh0LGUsXCJleGl0XCI9PT1uLnR5cGU/bnVsbD09PShyPXQucHJlc2VuY2VDb250ZXh0KXx8dm9pZCAwPT09cj92b2lkIDA6ci5jdXN0b206dm9pZCAwKTtsZXR7dHJhbnNpdGlvbjppPXQuZ2V0RGVmYXVsdFRyYW5zaXRpb24oKXx8e319PW98fHt9O24udHJhbnNpdGlvbk92ZXJyaWRlJiYoaT1uLnRyYW5zaXRpb25PdmVycmlkZSk7Y29uc3QgYT1vPygpPT5Qcm9taXNlLmFsbChMaSh0LG8sbikpOigpPT5Qcm9taXNlLnJlc29sdmUoKSxzPXQudmFyaWFudENoaWxkcmVuJiZ0LnZhcmlhbnRDaGlsZHJlbi5zaXplPyhyPTApPT57Y29uc3R7ZGVsYXlDaGlsZHJlbjpvPTAsc3RhZ2dlckNoaWxkcmVuOmEsc3RhZ2dlckRpcmVjdGlvbjpzfT1pO3JldHVybiBmdW5jdGlvbih0LGUsbj0wLHI9MCxvPTEsaSl7Y29uc3QgYT1bXSxzPSh0LnZhcmlhbnRDaGlsZHJlbi5zaXplLTEpKnIsdT0xPT09bz8odD0wKT0+dCpyOih0PTApPT5zLXQqcjtyZXR1cm4gQXJyYXkuZnJvbSh0LnZhcmlhbnRDaGlsZHJlbikuc29ydChjcCkuZm9yRWFjaCgoKHQscik9Pnt0Lm5vdGlmeShcIkFuaW1hdGlvblN0YXJ0XCIsZSksYS5wdXNoKHVwKHQsZSx7Li4uaSxkZWxheTpuK3Uocil9KS50aGVuKCgoKT0+dC5ub3RpZnkoXCJBbmltYXRpb25Db21wbGV0ZVwiLGUpKSkpfSkpLFByb21pc2UuYWxsKGEpfSh0LGUsbytyLGEscyxuKX06KCk9PlByb21pc2UucmVzb2x2ZSgpLHt3aGVuOnV9PWk7aWYodSl7Y29uc3RbdCxlXT1cImJlZm9yZUNoaWxkcmVuXCI9PT11P1thLHNdOltzLGFdO3JldHVybiB0KCkudGhlbigoKCk9PmUoKSkpfXJldHVybiBQcm9taXNlLmFsbChbYSgpLHMobi5kZWxheSldKX1mdW5jdGlvbiBjcCh0LGUpe3JldHVybiB0LnNvcnROb2RlUG9zaXRpb24oZSl9Y29uc3QgbHA9SGkubGVuZ3RoO2Z1bmN0aW9uIGZwKHQpe2lmKCF0KXJldHVybjtpZighdC5pc0NvbnRyb2xsaW5nVmFyaWFudHMpe2NvbnN0IGU9dC5wYXJlbnQmJmZwKHQucGFyZW50KXx8e307cmV0dXJuIHZvaWQgMCE9PXQucHJvcHMuaW5pdGlhbCYmKGUuaW5pdGlhbD10LnByb3BzLmluaXRpYWwpLGV9Y29uc3QgZT17fTtmb3IobGV0IG49MDtuPGxwO24rKyl7Y29uc3Qgcj1IaVtuXSxvPXQucHJvcHNbcl07KEdpKG8pfHwhMT09PW8pJiYoZVtyXT1vKX1yZXR1cm4gZX1jb25zdCBwcD1bLi4uVWldLnJldmVyc2UoKSxkcD1VaS5sZW5ndGg7ZnVuY3Rpb24gaHAodCl7cmV0dXJuIGU9PlByb21pc2UuYWxsKGUubWFwKCgoe2FuaW1hdGlvbjplLG9wdGlvbnM6bn0pPT5mdW5jdGlvbih0LGUsbj17fSl7bGV0IHI7aWYodC5ub3RpZnkoXCJBbmltYXRpb25TdGFydFwiLGUpLEFycmF5LmlzQXJyYXkoZSkpe2NvbnN0IG89ZS5tYXAoKGU9PnVwKHQsZSxuKSkpO3I9UHJvbWlzZS5hbGwobyl9ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyPXVwKHQsZSxuKTtlbHNle2NvbnN0IG89XCJmdW5jdGlvblwiPT10eXBlb2YgZT9BaSh0LGUsbi5jdXN0b20pOmU7cj1Qcm9taXNlLmFsbChMaSh0LG8sbikpfXJldHVybiByLnRoZW4oKCgpPT57dC5ub3RpZnkoXCJBbmltYXRpb25Db21wbGV0ZVwiLGUpfSkpfSh0LGUsbikpKSl9ZnVuY3Rpb24geXAodCl7bGV0IGU9aHAodCksbj1ncCgpLHI9ITA7Y29uc3Qgbz1lPT4obixyKT0+e3ZhciBvO2NvbnN0IGk9QWkodCxyLFwiZXhpdFwiPT09ZT9udWxsPT09KG89dC5wcmVzZW5jZUNvbnRleHQpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmN1c3RvbTp2b2lkIDApO2lmKGkpe2NvbnN0e3RyYW5zaXRpb246dCx0cmFuc2l0aW9uRW5kOmUsLi4ucn09aTtuPXsuLi5uLC4uLnIsLi4uZX19cmV0dXJuIG59O2Z1bmN0aW9uIGkoaSl7Y29uc3R7cHJvcHM6YX09dCxzPWZwKHQucGFyZW50KXx8e30sdT1bXSxjPW5ldyBTZXQ7bGV0IGw9e30sZj0xLzA7Zm9yKGxldCBlPTA7ZTxkcDtlKyspe2NvbnN0IHA9cHBbZV0sZD1uW3BdLGg9dm9pZCAwIT09YVtwXT9hW3BdOnNbcF0seT1HaShoKSx2PXA9PT1pP2QuaXNBY3RpdmU6bnVsbDshMT09PXYmJihmPWUpO2xldCBtPWg9PT1zW3BdJiZoIT09YVtwXSYmeTtpZihtJiZyJiZ0Lm1hbnVhbGx5QW5pbWF0ZU9uTW91bnQmJihtPSExKSxkLnByb3RlY3RlZEtleXM9ey4uLmx9LCFkLmlzQWN0aXZlJiZudWxsPT09dnx8IWgmJiFkLnByZXZQcm9wfHxWaShoKXx8XCJib29sZWFuXCI9PXR5cGVvZiBoKWNvbnRpbnVlO2NvbnN0IGc9dnAoZC5wcmV2UHJvcCxoKTtsZXQgYj1nfHxwPT09aSYmZC5pc0FjdGl2ZSYmIW0mJnl8fGU+ZiYmeSx3PSExO2NvbnN0IF89QXJyYXkuaXNBcnJheShoKT9oOltoXTtsZXQgUz1fLnJlZHVjZShvKHApLHt9KTshMT09PXYmJihTPXt9KTtjb25zdHtwcmV2UmVzb2x2ZWRWYWx1ZXM6az17fX09ZCx4PXsuLi5rLC4uLlN9LEE9ZT0+e2I9ITAsYy5oYXMoZSkmJih3PSEwLGMuZGVsZXRlKGUpKSxkLm5lZWRzQW5pbWF0aW5nW2VdPSEwO2NvbnN0IG49dC5nZXRWYWx1ZShlKTtuJiYobi5saXZlU3R5bGU9ITEpfTtmb3IoY29uc3QgdCBpbiB4KXtjb25zdCBlPVNbdF0sbj1rW3RdO2lmKGwuaGFzT3duUHJvcGVydHkodCkpY29udGludWU7bGV0IHI9ITE7cj12aShlKSYmdmkobik/IXNwKGUsbik6ZSE9PW4scj9udWxsIT1lP0EodCk6Yy5hZGQodCk6dm9pZCAwIT09ZSYmYy5oYXModCk/QSh0KTpkLnByb3RlY3RlZEtleXNbdF09ITB9ZC5wcmV2UHJvcD1oLGQucHJldlJlc29sdmVkVmFsdWVzPVMsZC5pc0FjdGl2ZSYmKGw9ey4uLmwsLi4uU30pLHImJnQuYmxvY2tJbml0aWFsQW5pbWF0aW9uJiYoYj0hMSk7YiYmKCEobSYmZyl8fHcpJiZ1LnB1c2goLi4uXy5tYXAoKHQ9Pih7YW5pbWF0aW9uOnQsb3B0aW9uczp7dHlwZTpwfX0pKSkpfWlmKGMuc2l6ZSl7Y29uc3QgZT17fTtjLmZvckVhY2goKG49Pntjb25zdCByPXQuZ2V0QmFzZVRhcmdldChuKSxvPXQuZ2V0VmFsdWUobik7byYmKG8ubGl2ZVN0eWxlPSEwKSxlW25dPW51bGwhPXI/cjpudWxsfSkpLHUucHVzaCh7YW5pbWF0aW9uOmV9KX1sZXQgcD1Cb29sZWFuKHUubGVuZ3RoKTtyZXR1cm4hcnx8ITEhPT1hLmluaXRpYWwmJmEuaW5pdGlhbCE9PWEuYW5pbWF0ZXx8dC5tYW51YWxseUFuaW1hdGVPbk1vdW50fHwocD0hMSkscj0hMSxwP2UodSk6UHJvbWlzZS5yZXNvbHZlKCl9cmV0dXJue2FuaW1hdGVDaGFuZ2VzOmksc2V0QWN0aXZlOmZ1bmN0aW9uKGUscil7dmFyIG87aWYobltlXS5pc0FjdGl2ZT09PXIpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO251bGw9PT0obz10LnZhcmlhbnRDaGlsZHJlbil8fHZvaWQgMD09PW98fG8uZm9yRWFjaCgodD0+e3ZhciBuO3JldHVybiBudWxsPT09KG49dC5hbmltYXRpb25TdGF0ZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uc2V0QWN0aXZlKGUscil9KSksbltlXS5pc0FjdGl2ZT1yO2NvbnN0IGE9aShlKTtmb3IoY29uc3QgdCBpbiBuKW5bdF0ucHJvdGVjdGVkS2V5cz17fTtyZXR1cm4gYX0sc2V0QW5pbWF0ZUZ1bmN0aW9uOmZ1bmN0aW9uKG4pe2U9bih0KX0sZ2V0U3RhdGU6KCk9Pm4scmVzZXQ6KCk9PntuPWdwKCkscj0hMH19fWZ1bmN0aW9uIHZwKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/ZSE9PXQ6ISFBcnJheS5pc0FycmF5KGUpJiYhc3AoZSx0KX1mdW5jdGlvbiBtcCh0PSExKXtyZXR1cm57aXNBY3RpdmU6dCxwcm90ZWN0ZWRLZXlzOnt9LG5lZWRzQW5pbWF0aW5nOnt9LHByZXZSZXNvbHZlZFZhbHVlczp7fX19ZnVuY3Rpb24gZ3AoKXtyZXR1cm57YW5pbWF0ZTptcCghMCksd2hpbGVJblZpZXc6bXAoKSx3aGlsZUhvdmVyOm1wKCksd2hpbGVUYXA6bXAoKSx3aGlsZURyYWc6bXAoKSx3aGlsZUZvY3VzOm1wKCksZXhpdDptcCgpfX1jbGFzcyBicHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmlzTW91bnRlZD0hMSx0aGlzLm5vZGU9dH11cGRhdGUoKXt9fWxldCB3cD0wO2NvbnN0IF9wPXthbmltYXRpb246e0ZlYXR1cmU6Y2xhc3MgZXh0ZW5kcyBicHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0LmFuaW1hdGlvblN0YXRlfHwodC5hbmltYXRpb25TdGF0ZT15cCh0KSl9dXBkYXRlQW5pbWF0aW9uQ29udHJvbHNTdWJzY3JpcHRpb24oKXtjb25zdHthbmltYXRlOnR9PXRoaXMubm9kZS5nZXRQcm9wcygpO1ZpKHQpJiYodGhpcy51bm1vdW50Q29udHJvbHM9dC5zdWJzY3JpYmUodGhpcy5ub2RlKSl9bW91bnQoKXt0aGlzLnVwZGF0ZUFuaW1hdGlvbkNvbnRyb2xzU3Vic2NyaXB0aW9uKCl9dXBkYXRlKCl7Y29uc3R7YW5pbWF0ZTp0fT10aGlzLm5vZGUuZ2V0UHJvcHMoKSx7YW5pbWF0ZTplfT10aGlzLm5vZGUucHJldlByb3BzfHx7fTt0IT09ZSYmdGhpcy51cGRhdGVBbmltYXRpb25Db250cm9sc1N1YnNjcmlwdGlvbigpfXVubW91bnQoKXt2YXIgdDt0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUucmVzZXQoKSxudWxsPT09KHQ9dGhpcy51bm1vdW50Q29udHJvbHMpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyl9fX0sZXhpdDp7RmVhdHVyZTpjbGFzcyBleHRlbmRzIGJwe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmlkPXdwKyt9dXBkYXRlKCl7aWYoIXRoaXMubm9kZS5wcmVzZW5jZUNvbnRleHQpcmV0dXJuO2NvbnN0e2lzUHJlc2VudDp0LG9uRXhpdENvbXBsZXRlOmV9PXRoaXMubm9kZS5wcmVzZW5jZUNvbnRleHQse2lzUHJlc2VudDpufT10aGlzLm5vZGUucHJldlByZXNlbmNlQ29udGV4dHx8e307aWYoIXRoaXMubm9kZS5hbmltYXRpb25TdGF0ZXx8dD09PW4pcmV0dXJuO2NvbnN0IHI9dGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShcImV4aXRcIiwhdCk7ZSYmIXQmJnIudGhlbigoKCk9PmUodGhpcy5pZCkpKX1tb3VudCgpe2NvbnN0e3JlZ2lzdGVyOnR9PXRoaXMubm9kZS5wcmVzZW5jZUNvbnRleHR8fHt9O3QmJih0aGlzLnVubW91bnQ9dCh0aGlzLmlkKSl9dW5tb3VudCgpe319fX07ZnVuY3Rpb24gU3AodCxlLG4scj17cGFzc2l2ZTohMH0pe3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoZSxuLHIpLCgpPT50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuKX1mdW5jdGlvbiBrcCh0LGU9XCJwYWdlXCIpe3JldHVybntwb2ludDp7eDp0W2Ake2V9WGBdLHk6dFtgJHtlfVlgXX19fWNvbnN0IHhwPXQ9PmU9Pih0PT5cIm1vdXNlXCI9PT10LnBvaW50ZXJUeXBlP1wibnVtYmVyXCIhPXR5cGVvZiB0LmJ1dHRvbnx8dC5idXR0b248PTA6ITEhPT10LmlzUHJpbWFyeSkoZSkmJnQoZSxrcChlKSk7ZnVuY3Rpb24gQXAodCxlLG4scil7cmV0dXJuIFNwKHQsZSx4cChuKSxyKX1mdW5jdGlvbiBPcCh0KXtsZXQgZT1udWxsO3JldHVybigpPT57Y29uc3Qgbj0oKT0+e2U9bnVsbH07cmV0dXJuIG51bGw9PT1lJiYoZT10LG4pfX1jb25zdCBUcD1PcChcImRyYWdIb3Jpem9udGFsXCIpLEVwPU9wKFwiZHJhZ1ZlcnRpY2FsXCIpO2Z1bmN0aW9uIFBwKCl7Y29uc3QgdD1mdW5jdGlvbih0KXtsZXQgZT0hMTtpZihcInlcIj09PXQpZT1FcCgpO2Vsc2UgaWYoXCJ4XCI9PT10KWU9VHAoKTtlbHNle2NvbnN0IHQ9VHAoKSxuPUVwKCk7dCYmbj9lPSgpPT57dCgpLG4oKX06KHQmJnQoKSxuJiZuKCkpfXJldHVybiBlfSghMCk7cmV0dXJuIXR8fCh0KCksITEpfWZ1bmN0aW9uIGpwKHQsZSl7Y29uc3Qgbj1lP1wicG9pbnRlcmVudGVyXCI6XCJwb2ludGVybGVhdmVcIixyPWU/XCJvbkhvdmVyU3RhcnRcIjpcIm9uSG92ZXJFbmRcIjtyZXR1cm4gQXAodC5jdXJyZW50LG4sKChuLG8pPT57aWYoXCJ0b3VjaFwiPT09bi5wb2ludGVyVHlwZXx8UHAoKSlyZXR1cm47Y29uc3QgaT10LmdldFByb3BzKCk7dC5hbmltYXRpb25TdGF0ZSYmaS53aGlsZUhvdmVyJiZ0LmFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShcIndoaWxlSG92ZXJcIixlKTtjb25zdCBhPWlbcl07YSYmR24ucG9zdFJlbmRlcigoKCk9PmEobixvKSkpfSkse3Bhc3NpdmU6IXQuZ2V0UHJvcHMoKVtyXX0pfWNvbnN0IENwPSh0LGUpPT4hIWUmJih0PT09ZXx8Q3AodCxlLnBhcmVudEVsZW1lbnQpKTtmdW5jdGlvbiBMcCh0LGUpe2lmKCFlKXJldHVybjtjb25zdCBuPW5ldyBQb2ludGVyRXZlbnQoXCJwb2ludGVyXCIrdCk7ZShuLGtwKG4pKX1jb25zdCBJcD1uZXcgV2Vha01hcCxOcD1uZXcgV2Vha01hcCxNcD10PT57Y29uc3QgZT1JcC5nZXQodC50YXJnZXQpO2UmJmUodCl9LFJwPXQ9Pnt0LmZvckVhY2goTXApfTtmdW5jdGlvbiBGcCh0LGUsbil7Y29uc3Qgcj1mdW5jdGlvbih7cm9vdDp0LC4uLmV9KXtjb25zdCBuPXR8fGRvY3VtZW50O05wLmhhcyhuKXx8TnAuc2V0KG4se30pO2NvbnN0IHI9TnAuZ2V0KG4pLG89SlNPTi5zdHJpbmdpZnkoZSk7cmV0dXJuIHJbb118fChyW29dPW5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihScCx7cm9vdDp0LC4uLmV9KSkscltvXX0oZSk7cmV0dXJuIElwLnNldCh0LG4pLHIub2JzZXJ2ZSh0KSwoKT0+e0lwLmRlbGV0ZSh0KSxyLnVub2JzZXJ2ZSh0KX19Y29uc3QgRHA9e3NvbWU6MCxhbGw6MX07Y29uc3QgQnA9e2luVmlldzp7RmVhdHVyZTpjbGFzcyBleHRlbmRzIGJwe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmhhc0VudGVyZWRWaWV3PSExLHRoaXMuaXNJblZpZXc9ITF9c3RhcnRPYnNlcnZlcigpe3RoaXMudW5tb3VudCgpO2NvbnN0e3ZpZXdwb3J0OnQ9e319PXRoaXMubm9kZS5nZXRQcm9wcygpLHtyb290OmUsbWFyZ2luOm4sYW1vdW50OnI9XCJzb21lXCIsb25jZTpvfT10LGk9e3Jvb3Q6ZT9lLmN1cnJlbnQ6dm9pZCAwLHJvb3RNYXJnaW46bix0aHJlc2hvbGQ6XCJudW1iZXJcIj09dHlwZW9mIHI/cjpEcFtyXX07cmV0dXJuIEZwKHRoaXMubm9kZS5jdXJyZW50LGksKHQ9Pntjb25zdHtpc0ludGVyc2VjdGluZzplfT10O2lmKHRoaXMuaXNJblZpZXc9PT1lKXJldHVybjtpZih0aGlzLmlzSW5WaWV3PWUsbyYmIWUmJnRoaXMuaGFzRW50ZXJlZFZpZXcpcmV0dXJuO2UmJih0aGlzLmhhc0VudGVyZWRWaWV3PSEwKSx0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUmJnRoaXMubm9kZS5hbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoXCJ3aGlsZUluVmlld1wiLGUpO2NvbnN0e29uVmlld3BvcnRFbnRlcjpuLG9uVmlld3BvcnRMZWF2ZTpyfT10aGlzLm5vZGUuZ2V0UHJvcHMoKSxpPWU/bjpyO2kmJmkodCl9KSl9bW91bnQoKXt0aGlzLnN0YXJ0T2JzZXJ2ZXIoKX11cGRhdGUoKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIpcmV0dXJuO2NvbnN0e3Byb3BzOnQscHJldlByb3BzOmV9PXRoaXMubm9kZTtbXCJhbW91bnRcIixcIm1hcmdpblwiLFwicm9vdFwiXS5zb21lKGZ1bmN0aW9uKHt2aWV3cG9ydDp0PXt9fSx7dmlld3BvcnQ6ZT17fX09e30pe3JldHVybiBuPT50W25dIT09ZVtuXX0odCxlKSkmJnRoaXMuc3RhcnRPYnNlcnZlcigpfXVubW91bnQoKXt9fX0sdGFwOntGZWF0dXJlOmNsYXNzIGV4dGVuZHMgYnB7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMucmVtb3ZlU3RhcnRMaXN0ZW5lcnM9RGUsdGhpcy5yZW1vdmVFbmRMaXN0ZW5lcnM9RGUsdGhpcy5yZW1vdmVBY2Nlc3NpYmxlTGlzdGVuZXJzPURlLHRoaXMuc3RhcnRQb2ludGVyUHJlc3M9KHQsZSk9PntpZih0aGlzLmlzUHJlc3NpbmcpcmV0dXJuO3RoaXMucmVtb3ZlRW5kTGlzdGVuZXJzKCk7Y29uc3Qgbj10aGlzLm5vZGUuZ2V0UHJvcHMoKSxyPUFwKHdpbmRvdyxcInBvaW50ZXJ1cFwiLCgodCxlKT0+e2lmKCF0aGlzLmNoZWNrUHJlc3NFbmQoKSlyZXR1cm47Y29uc3R7b25UYXA6bixvblRhcENhbmNlbDpyLGdsb2JhbFRhcFRhcmdldDpvfT10aGlzLm5vZGUuZ2V0UHJvcHMoKSxpPW98fENwKHRoaXMubm9kZS5jdXJyZW50LHQudGFyZ2V0KT9uOnI7aSYmR24udXBkYXRlKCgoKT0+aSh0LGUpKSl9KSx7cGFzc2l2ZTohKG4ub25UYXB8fG4ub25Qb2ludGVyVXApfSksbz1BcCh3aW5kb3csXCJwb2ludGVyY2FuY2VsXCIsKCh0LGUpPT50aGlzLmNhbmNlbFByZXNzKHQsZSkpLHtwYXNzaXZlOiEobi5vblRhcENhbmNlbHx8bi5vblBvaW50ZXJDYW5jZWwpfSk7dGhpcy5yZW1vdmVFbmRMaXN0ZW5lcnM9TW8ocixvKSx0aGlzLnN0YXJ0UHJlc3ModCxlKX0sdGhpcy5zdGFydEFjY2Vzc2libGVQcmVzcz0oKT0+e2NvbnN0IHQ9U3AodGhpcy5ub2RlLmN1cnJlbnQsXCJrZXlkb3duXCIsKHQ9PntpZihcIkVudGVyXCIhPT10LmtleXx8dGhpcy5pc1ByZXNzaW5nKXJldHVybjt0aGlzLnJlbW92ZUVuZExpc3RlbmVycygpLHRoaXMucmVtb3ZlRW5kTGlzdGVuZXJzPVNwKHRoaXMubm9kZS5jdXJyZW50LFwia2V5dXBcIiwodD0+e1wiRW50ZXJcIj09PXQua2V5JiZ0aGlzLmNoZWNrUHJlc3NFbmQoKSYmTHAoXCJ1cFwiLCgodCxlKT0+e2NvbnN0e29uVGFwOm59PXRoaXMubm9kZS5nZXRQcm9wcygpO24mJkduLnBvc3RSZW5kZXIoKCgpPT5uKHQsZSkpKX0pKX0pKSxMcChcImRvd25cIiwoKHQsZSk9Pnt0aGlzLnN0YXJ0UHJlc3ModCxlKX0pKX0pKSxlPVNwKHRoaXMubm9kZS5jdXJyZW50LFwiYmx1clwiLCgoKT0+e3RoaXMuaXNQcmVzc2luZyYmTHAoXCJjYW5jZWxcIiwoKHQsZSk9PnRoaXMuY2FuY2VsUHJlc3ModCxlKSkpfSkpO3RoaXMucmVtb3ZlQWNjZXNzaWJsZUxpc3RlbmVycz1Nbyh0LGUpfX1zdGFydFByZXNzKHQsZSl7dGhpcy5pc1ByZXNzaW5nPSEwO2NvbnN0e29uVGFwU3RhcnQ6bix3aGlsZVRhcDpyfT10aGlzLm5vZGUuZ2V0UHJvcHMoKTtyJiZ0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUmJnRoaXMubm9kZS5hbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoXCJ3aGlsZVRhcFwiLCEwKSxuJiZHbi5wb3N0UmVuZGVyKCgoKT0+bih0LGUpKSl9Y2hlY2tQcmVzc0VuZCgpe3RoaXMucmVtb3ZlRW5kTGlzdGVuZXJzKCksdGhpcy5pc1ByZXNzaW5nPSExO3JldHVybiB0aGlzLm5vZGUuZ2V0UHJvcHMoKS53aGlsZVRhcCYmdGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlJiZ0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKFwid2hpbGVUYXBcIiwhMSksIVBwKCl9Y2FuY2VsUHJlc3ModCxlKXtpZighdGhpcy5jaGVja1ByZXNzRW5kKCkpcmV0dXJuO2NvbnN0e29uVGFwQ2FuY2VsOm59PXRoaXMubm9kZS5nZXRQcm9wcygpO24mJkduLnBvc3RSZW5kZXIoKCgpPT5uKHQsZSkpKX1tb3VudCgpe2NvbnN0IHQ9dGhpcy5ub2RlLmdldFByb3BzKCksZT1BcCh0Lmdsb2JhbFRhcFRhcmdldD93aW5kb3c6dGhpcy5ub2RlLmN1cnJlbnQsXCJwb2ludGVyZG93blwiLHRoaXMuc3RhcnRQb2ludGVyUHJlc3Mse3Bhc3NpdmU6ISh0Lm9uVGFwU3RhcnR8fHQub25Qb2ludGVyU3RhcnQpfSksbj1TcCh0aGlzLm5vZGUuY3VycmVudCxcImZvY3VzXCIsdGhpcy5zdGFydEFjY2Vzc2libGVQcmVzcyk7dGhpcy5yZW1vdmVTdGFydExpc3RlbmVycz1NbyhlLG4pfXVubW91bnQoKXt0aGlzLnJlbW92ZVN0YXJ0TGlzdGVuZXJzKCksdGhpcy5yZW1vdmVFbmRMaXN0ZW5lcnMoKSx0aGlzLnJlbW92ZUFjY2Vzc2libGVMaXN0ZW5lcnMoKX19fSxmb2N1czp7RmVhdHVyZTpjbGFzcyBleHRlbmRzIGJwe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmlzQWN0aXZlPSExfW9uRm9jdXMoKXtsZXQgdD0hMTt0cnl7dD10aGlzLm5vZGUuY3VycmVudC5tYXRjaGVzKFwiOmZvY3VzLXZpc2libGVcIil9Y2F0Y2goZSl7dD0hMH10JiZ0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUmJih0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKFwid2hpbGVGb2N1c1wiLCEwKSx0aGlzLmlzQWN0aXZlPSEwKX1vbkJsdXIoKXt0aGlzLmlzQWN0aXZlJiZ0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUmJih0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKFwid2hpbGVGb2N1c1wiLCExKSx0aGlzLmlzQWN0aXZlPSExKX1tb3VudCgpe3RoaXMudW5tb3VudD1NbyhTcCh0aGlzLm5vZGUuY3VycmVudCxcImZvY3VzXCIsKCgpPT50aGlzLm9uRm9jdXMoKSkpLFNwKHRoaXMubm9kZS5jdXJyZW50LFwiYmx1clwiLCgoKT0+dGhpcy5vbkJsdXIoKSkpKX11bm1vdW50KCl7fX19LGhvdmVyOntGZWF0dXJlOmNsYXNzIGV4dGVuZHMgYnB7bW91bnQoKXt0aGlzLnVubW91bnQ9TW8oanAodGhpcy5ub2RlLCEwKSxqcCh0aGlzLm5vZGUsITEpKX11bm1vdW50KCl7fX19fSxWcD1bXCJhbmltYXRlXCIsXCJjaXJjbGVcIixcImRlZnNcIixcImRlc2NcIixcImVsbGlwc2VcIixcImdcIixcImltYWdlXCIsXCJsaW5lXCIsXCJmaWx0ZXJcIixcIm1hcmtlclwiLFwibWFza1wiLFwibWV0YWRhdGFcIixcInBhdGhcIixcInBhdHRlcm5cIixcInBvbHlnb25cIixcInBvbHlsaW5lXCIsXCJyZWN0XCIsXCJzdG9wXCIsXCJzd2l0Y2hcIixcInN5bWJvbFwiLFwic3ZnXCIsXCJ0ZXh0XCIsXCJ0c3BhblwiLFwidXNlXCIsXCJ2aWV3XCJdO2Z1bmN0aW9uIEdwKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiYhdC5pbmNsdWRlcyhcIi1cIikmJiEhKFZwLmluZGV4T2YodCk+LTF8fC9bQS1aXS91LnRlc3QodCkpfWNvbnN0IFVwPXtyZW5kZXJlcjoodCxlKT0+R3AodCk/bmV3IGZhKGUpOm5ldyBkYShlLHthbGxvd1Byb2plY3Rpb246dCE9PW9mLkZyYWdtZW50fSksLi4uX3AsLi4uQnB9O2Z1bmN0aW9uIEhwKHQpe3ZhciBlPXQuY2hpbGRyZW47cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChpcCx7ZmVhdHVyZXM6VXAsc3RyaWN0OiEwfSxlKX1mdW5jdGlvbiB6cCh0LGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fSh0KXx8ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsPT10P251bGw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZihudWxsIT1uKXt2YXIgcixvLGksYSxzPVtdLHU9ITAsYz0hMTt0cnl7aWYoaT0obj1uLmNhbGwodCkpLm5leHQsMD09PWUpe2lmKE9iamVjdChuKSE9PW4pcmV0dXJuO3U9ITF9ZWxzZSBmb3IoOyEodT0ocj1pLmNhbGwobikpLmRvbmUpJiYocy5wdXNoKHIudmFsdWUpLHMubGVuZ3RoIT09ZSk7dT0hMCk7fWNhdGNoKHQpe2M9ITAsbz10fWZpbmFsbHl7dHJ5e2lmKCF1JiZudWxsIT1uLnJldHVybiYmKGE9bi5yZXR1cm4oKSxPYmplY3QoYSkhPT1hKSlyZXR1cm59ZmluYWxseXtpZihjKXRocm93IG99fXJldHVybiBzfX0odCxlKXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gV3AodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9XcCh0LGUpOnZvaWQgMH19KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBXcCh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gJHAodCl7dmFyIGU9dC5jaGlsZHJlbixuPXQuY2xhc3NOYW1lLHI9enAoKDAsb2YudXNlU3RhdGUpKHt9KSwyKSxvPXJbMF0saT1yWzFdLGE9eWYoKS5yYXRpbyxzPUxmKCkuZ2FtZSx1PXpwKCgwLG9mLnVzZVJlZHVjZXIpKChmdW5jdGlvbih0KXtyZXR1cm4gdCsxfSksMCksMilbMV0sYz1zLmNvbmZpZy5wbGF5ZXIubWluV2lkdGgsbD1zLmNvbmZpZy5wbGF5ZXIubWluSGVpZ2h0O3JldHVybigwLG9mLnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7dmFyIHQsZT1mdW5jdGlvbigpe2lmKGEuaXNMb2NrZWQoKSljb25zb2xlLndhcm4oXCJSYXRpbyBpcyBsb2NrZWQsIHNraXBwaW5nIHVwZGF0ZVwiKTtlbHNle3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHMuY29uZmlnLnBsYXllci5jb250ZW50Q29udGFpbmVySWQpO2lmKHQpe3ZhciBlLG4scj10LmNsaWVudFdpZHRoLG89dC5jbGllbnRIZWlnaHQsZj1zLmNvbmZpZy5wbGF5ZXIuYXNwZWN0UmF0aW87ci9vPmY/KGU9bypmLG49byk6KGU9cixuPXIvZiksZTxjJiYoZT1jKSxuPGwmJihuPWwpLGkoe3dpZHRoOlwiXCIuY29uY2F0KGUsXCJweFwiKSxoZWlnaHQ6XCJcIi5jb25jYXQobixcInB4XCIpLG1hcmdpbjpcImF1dG9cIixwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOlwiMFwiLGJvdHRvbTpcIjBcIixsZWZ0OlwiMFwiLHJpZ2h0OlwiMFwiLGRpc3BsYXk6XCJmbGV4XCIsYWxpZ25JdGVtczpcImNlbnRlclwiLGp1c3RpZnlDb250ZW50OlwiY2VudGVyXCJ9KSxhLnVwZGF0ZShlLG4pLGEudXBkYXRlTWluKGMsbCksdSgpfX19O2Euc2V0VXBkYXRlKGUpO3ZhciBuPWZ1bmN0aW9uKCl7ZSgpLGNsZWFyVGltZW91dCh0KSxhLnBhdXNlKCksdD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2EucmVzdW1lKCl9KSwxMDApfTtyZXR1cm4gZSgpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsbiksZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLG4pLGNsZWFyVGltZW91dCh0KX19KSxbYV0pLGFmKCkuY3JlYXRlRWxlbWVudChcImRpdlwiLHtpZDpzLmNvbmZpZy5wbGF5ZXIuY29udGVudENvbnRhaW5lcklkLHN0eWxlOntwb3NpdGlvbjpcInJlbGF0aXZlXCIsd2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLG92ZXJmbG93OlwiaGlkZGVuXCJ9fSxhZigpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOnJmKG4pLHN0eWxlOm99LGUpKX1mdW5jdGlvbiBZcCh0KXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUHJveHkpcmV0dXJuIHQ7Y29uc3QgZT1uZXcgTWFwO3JldHVybiBuZXcgUHJveHkoKCguLi5lKT0+dCguLi5lKSkse2dldDoobixyKT0+XCJjcmVhdGVcIj09PXI/dDooZS5oYXMocil8fGUuc2V0KHIsdChyKSksZS5nZXQocikpfSl9Y29uc3QgcXA9KDAsb2YuY3JlYXRlQ29udGV4dCkoe3RyYW5zZm9ybVBhZ2VQb2ludDp0PT50LGlzU3RhdGljOiExLHJlZHVjZWRNb3Rpb246XCJuZXZlclwifSksWHA9KDAsb2YuY3JlYXRlQ29udGV4dCkoe30pLEtwPSgwLG9mLmNyZWF0ZUNvbnRleHQpKG51bGwpLFpwPUZpP29mLnVzZUxheW91dEVmZmVjdDpvZi51c2VFZmZlY3Qse3NjaGVkdWxlOlFwLGNhbmNlbDpKcH09Vm4ocXVldWVNaWNyb3Rhc2ssITEpO2Z1bmN0aW9uIHRkKHQpe3JldHVybiB0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJjdXJyZW50XCIpfWNvbnN0IGVkPSgwLG9mLmNyZWF0ZUNvbnRleHQpKHt9KTtmdW5jdGlvbiBuZCh0LGUsbixyLG8pe3ZhciBpLGE7Y29uc3R7dmlzdWFsRWxlbWVudDpzfT0oMCxvZi51c2VDb250ZXh0KShYcCksdT0oMCxvZi51c2VDb250ZXh0KShycCksYz0oMCxvZi51c2VDb250ZXh0KShLcCksbD0oMCxvZi51c2VDb250ZXh0KShxcCkucmVkdWNlZE1vdGlvbixmPSgwLG9mLnVzZVJlZikoKTtyPXJ8fHUucmVuZGVyZXIsIWYuY3VycmVudCYmciYmKGYuY3VycmVudD1yKHQse3Zpc3VhbFN0YXRlOmUscGFyZW50OnMscHJvcHM6bixwcmVzZW5jZUNvbnRleHQ6YyxibG9ja0luaXRpYWxBbmltYXRpb246ISFjJiYhMT09PWMuaW5pdGlhbCxyZWR1Y2VkTW90aW9uQ29uZmlnOmx9KSk7Y29uc3QgcD1mLmN1cnJlbnQsZD0oMCxvZi51c2VDb250ZXh0KShlZCk7IXB8fHAucHJvamVjdGlvbnx8IW98fFwiaHRtbFwiIT09cC50eXBlJiZcInN2Z1wiIT09cC50eXBlfHxmdW5jdGlvbih0LGUsbixyKXtjb25zdHtsYXlvdXRJZDpvLGxheW91dDppLGRyYWc6YSxkcmFnQ29uc3RyYWludHM6cyxsYXlvdXRTY3JvbGw6dSxsYXlvdXRSb290OmN9PWU7dC5wcm9qZWN0aW9uPW5ldyBuKHQubGF0ZXN0VmFsdWVzLGVbXCJkYXRhLWZyYW1lci1wb3J0YWwtaWRcIl0/dm9pZCAwOnJkKHQucGFyZW50KSksdC5wcm9qZWN0aW9uLnNldE9wdGlvbnMoe2xheW91dElkOm8sbGF5b3V0OmksYWx3YXlzTWVhc3VyZUxheW91dDpCb29sZWFuKGEpfHxzJiZ0ZChzKSx2aXN1YWxFbGVtZW50OnQsYW5pbWF0aW9uVHlwZTpcInN0cmluZ1wiPT10eXBlb2YgaT9pOlwiYm90aFwiLGluaXRpYWxQcm9tb3Rpb25Db25maWc6cixsYXlvdXRTY3JvbGw6dSxsYXlvdXRSb290OmN9KX0oZi5jdXJyZW50LG4sbyxkKSwoMCxvZi51c2VJbnNlcnRpb25FZmZlY3QpKCgoKT0+e3AmJnAudXBkYXRlKG4sYyl9KSk7Y29uc3QgaD1uW0VpXSx5PSgwLG9mLnVzZVJlZikoQm9vbGVhbihoKSYmIShudWxsPT09KGk9d2luZG93Lk1vdGlvbkhhbmRvZmZJc0NvbXBsZXRlKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHdpbmRvdyxoKSkmJihudWxsPT09KGE9d2luZG93Lk1vdGlvbkhhc09wdGltaXNlZEFuaW1hdGlvbil8fHZvaWQgMD09PWE/dm9pZCAwOmEuY2FsbCh3aW5kb3csaCkpKTtyZXR1cm4gWnAoKCgpPT57cCYmKHdpbmRvdy5Nb3Rpb25Jc01vdW50ZWQ9ITAscC51cGRhdGVGZWF0dXJlcygpLFFwLnJlbmRlcihwLnJlbmRlcikseS5jdXJyZW50JiZwLmFuaW1hdGlvblN0YXRlJiZwLmFuaW1hdGlvblN0YXRlLmFuaW1hdGVDaGFuZ2VzKCkpfSkpLCgwLG9mLnVzZUVmZmVjdCkoKCgpPT57cCYmKCF5LmN1cnJlbnQmJnAuYW5pbWF0aW9uU3RhdGUmJnAuYW5pbWF0aW9uU3RhdGUuYW5pbWF0ZUNoYW5nZXMoKSx5LmN1cnJlbnQmJihxdWV1ZU1pY3JvdGFzaygoKCk9Pnt2YXIgdDtudWxsPT09KHQ9d2luZG93Lk1vdGlvbkhhbmRvZmZNYXJrQXNDb21wbGV0ZSl8fHZvaWQgMD09PXR8fHQuY2FsbCh3aW5kb3csaCl9KSkseS5jdXJyZW50PSExKSl9KSkscH1mdW5jdGlvbiByZCh0KXtpZih0KXJldHVybiExIT09dC5vcHRpb25zLmFsbG93UHJvamVjdGlvbj90LnByb2plY3Rpb246cmQodC5wYXJlbnQpfWZ1bmN0aW9uIG9kKHQsZSxuKXtyZXR1cm4oMCxvZi51c2VDYWxsYmFjaykoKHI9PntyJiZ0Lm1vdW50JiZ0Lm1vdW50KHIpLGUmJihyP2UubW91bnQocik6ZS51bm1vdW50KCkpLG4mJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuP24ocik6dGQobikmJihuLmN1cnJlbnQ9cikpfSksW2VdKX1mdW5jdGlvbiBpZCh0KXtjb25zdHtpbml0aWFsOmUsYW5pbWF0ZTpufT1mdW5jdGlvbih0LGUpe2lmKHppKHQpKXtjb25zdHtpbml0aWFsOmUsYW5pbWF0ZTpufT10O3JldHVybntpbml0aWFsOiExPT09ZXx8R2koZSk/ZTp2b2lkIDAsYW5pbWF0ZTpHaShuKT9uOnZvaWQgMH19cmV0dXJuITEhPT10LmluaGVyaXQ/ZTp7fX0odCwoMCxvZi51c2VDb250ZXh0KShYcCkpO3JldHVybigwLG9mLnVzZU1lbW8pKCgoKT0+KHtpbml0aWFsOmUsYW5pbWF0ZTpufSkpLFthZChlKSxhZChuKV0pfWZ1bmN0aW9uIGFkKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3Quam9pbihcIiBcIik6dH1jb25zdCBzZD0oMCxvZi5jcmVhdGVDb250ZXh0KSh7fSksdWQ9U3ltYm9sLmZvcihcIm1vdGlvbkNvbXBvbmVudFN5bWJvbFwiKTtmdW5jdGlvbiBjZCh7cHJlbG9hZGVkRmVhdHVyZXM6dCxjcmVhdGVWaXN1YWxFbGVtZW50OmUsdXNlUmVuZGVyOm4sdXNlVmlzdWFsU3RhdGU6cixDb21wb25lbnQ6b30pe3QmJm9wKHQpO2NvbnN0IGk9KDAsb2YuZm9yd2FyZFJlZikoKGZ1bmN0aW9uKHQsaSl7bGV0IGE7Y29uc3Qgcz17Li4uKDAsb2YudXNlQ29udGV4dCkocXApLC4uLnQsbGF5b3V0SWQ6bGQodCl9LHtpc1N0YXRpYzp1fT1zLGM9aWQodCksbD1yKHQsdSk7aWYoIXUmJkZpKXshZnVuY3Rpb24oKXsoMCxvZi51c2VDb250ZXh0KShycCkuc3RyaWN0OzB9KCk7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdHtkcmFnOmUsbGF5b3V0Om59PVlpO2lmKCFlJiYhbilyZXR1cm57fTtjb25zdCByPXsuLi5lLC4uLm59O3JldHVybntNZWFzdXJlTGF5b3V0OihudWxsPT1lP3ZvaWQgMDplLmlzRW5hYmxlZCh0KSl8fChudWxsPT1uP3ZvaWQgMDpuLmlzRW5hYmxlZCh0KSk/ci5NZWFzdXJlTGF5b3V0OnZvaWQgMCxQcm9qZWN0aW9uTm9kZTpyLlByb2plY3Rpb25Ob2RlfX0ocyk7YT10Lk1lYXN1cmVMYXlvdXQsYy52aXN1YWxFbGVtZW50PW5kKG8sbCxzLGUsdC5Qcm9qZWN0aW9uTm9kZSl9cmV0dXJuKDAsbnAuanN4cykoWHAuUHJvdmlkZXIse3ZhbHVlOmMsY2hpbGRyZW46W2EmJmMudmlzdWFsRWxlbWVudD8oMCxucC5qc3gpKGEse3Zpc3VhbEVsZW1lbnQ6Yy52aXN1YWxFbGVtZW50LC4uLnN9KTpudWxsLG4obyx0LG9kKGwsYy52aXN1YWxFbGVtZW50LGkpLGwsdSxjLnZpc3VhbEVsZW1lbnQpXX0pfSkpO3JldHVybiBpW3VkXT1vLGl9ZnVuY3Rpb24gbGQoe2xheW91dElkOnR9KXtjb25zdCBlPSgwLG9mLnVzZUNvbnRleHQpKHNkKS5pZDtyZXR1cm4gZSYmdm9pZCAwIT09dD9lK1wiLVwiK3Q6dH1mdW5jdGlvbiBmZCh0KXtjb25zdCBlPXVuKHQpP3QuZ2V0KCk6dDtyZXR1cm4gbWkoZSk/ZS50b1ZhbHVlKCk6ZX1mdW5jdGlvbiBwZCh0KXtyZXR1cm4gRW4uaGFzKHQpP1widHJhbnNmb3JtXCI6ZWkuaGFzKHQpP1RpKHQpOnZvaWQgMH1jb25zdCBkZD10PT4oZSxuKT0+e2NvbnN0IHI9KDAsb2YudXNlQ29udGV4dCkoWHApLG89KDAsb2YudXNlQ29udGV4dCkoS3ApLGk9KCk9PmZ1bmN0aW9uKHthcHBseVdpbGxDaGFuZ2U6dD0hMSxzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHM6ZSxjcmVhdGVSZW5kZXJTdGF0ZTpuLG9uTW91bnQ6cn0sbyxpLGEscyl7Y29uc3QgdT17bGF0ZXN0VmFsdWVzOnlkKG8saSxhLCFzJiZ0LGUpLHJlbmRlclN0YXRlOm4oKX07cmV0dXJuIHImJih1Lm1vdW50PXQ9PnIobyx0LHUpKSx1fSh0LGUscixvLG4pO3JldHVybiBuP2koKTpmdW5jdGlvbih0KXtjb25zdCBlPSgwLG9mLnVzZVJlZikobnVsbCk7cmV0dXJuIG51bGw9PT1lLmN1cnJlbnQmJihlLmN1cnJlbnQ9dCgpKSxlLmN1cnJlbnR9KGkpfTtmdW5jdGlvbiBoZCh0LGUsbil7Y29uc3Qgcj1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXtjb25zdCBvPXhpKHQscltlXSk7aWYobyl7Y29uc3R7dHJhbnNpdGlvbkVuZDp0LHRyYW5zaXRpb246ZSwuLi5yfT1vO24ocix0KX19fWZ1bmN0aW9uIHlkKHQsZSxuLHIsbyl7dmFyIGk7Y29uc3QgYT17fSxzPW5ldyBTZXQsdT1yJiZ2b2lkIDA9PT0obnVsbD09PShpPXQuc3R5bGUpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLndpbGxDaGFuZ2UpLGM9byh0LHt9KTtmb3IoY29uc3QgdCBpbiBjKWFbdF09ZmQoY1t0XSk7bGV0e2luaXRpYWw6bCxhbmltYXRlOmZ9PXQ7Y29uc3QgcD16aSh0KSxkPVdpKHQpO2UmJmQmJiFwJiYhMSE9PXQuaW5oZXJpdCYmKHZvaWQgMD09PWwmJihsPWUuaW5pdGlhbCksdm9pZCAwPT09ZiYmKGY9ZS5hbmltYXRlKSk7bGV0IGg9ISFuJiYhMT09PW4uaW5pdGlhbDtoPWh8fCExPT09bDtjb25zdCB5PWg/ZjpsO3JldHVybiB5JiZcImJvb2xlYW5cIiE9dHlwZW9mIHkmJiFWaSh5KSYmaGQodCx5LCgodCxlKT0+e2Zvcihjb25zdCBlIGluIHQpe2xldCBuPXRbZV07aWYoQXJyYXkuaXNBcnJheShuKSl7bj1uW2g/bi5sZW5ndGgtMTowXX1udWxsIT09biYmKGFbZV09bil9Zm9yKGNvbnN0IHQgaW4gZSlhW3RdPWVbdF19KSksdSYmKGYmJiExIT09bCYmIVZpKGYpJiZoZCh0LGYsKHQ9Pntmb3IoY29uc3QgZSBpbiB0KXtjb25zdCB0PXBkKGUpO3QmJnMuYWRkKHQpfX0pKSxzLnNpemUmJihhLndpbGxDaGFuZ2U9QXJyYXkuZnJvbShzKS5qb2luKFwiLFwiKSkpLGF9Y29uc3QgdmQ9KCk9Pih7c3R5bGU6e30sdHJhbnNmb3JtOnt9LHRyYW5zZm9ybU9yaWdpbjp7fSx2YXJzOnt9fSksbWQ9KCk9Pih7Li4udmQoKSxhdHRyczp7fX0pLGdkPXt1c2VWaXN1YWxTdGF0ZTpkZCh7c2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzOlJpLGNyZWF0ZVJlbmRlclN0YXRlOm1kLG9uTW91bnQ6KHQsZSx7cmVuZGVyU3RhdGU6bixsYXRlc3RWYWx1ZXM6cn0pPT57R24ucmVhZCgoKCk9Pnt0cnl7bi5kaW1lbnNpb25zPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZ2V0QkJveD9lLmdldEJCb3goKTplLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWNhdGNoKHQpe24uZGltZW5zaW9ucz17eDowLHk6MCx3aWR0aDowLGhlaWdodDowfX19KSksR24ucmVuZGVyKCgoKT0+e2FhKG4scixsYShlLnRhZ05hbWUpLHQudHJhbnNmb3JtVGVtcGxhdGUpLGNhKGUsbil9KSl9fSl9LGJkPXt1c2VWaXN1YWxTdGF0ZTpkZCh7YXBwbHlXaWxsQ2hhbmdlOiEwLHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wczpNaSxjcmVhdGVSZW5kZXJTdGF0ZTp2ZH0pfTtmdW5jdGlvbiB3ZCh0LGUsbil7Zm9yKGNvbnN0IHIgaW4gZSl1bihlW3JdKXx8TmkocixuKXx8KHRbcl09ZVtyXSl9ZnVuY3Rpb24gX2QodCxlKXtjb25zdCBuPXt9O3JldHVybiB3ZChuLHQuc3R5bGV8fHt9LHQpLE9iamVjdC5hc3NpZ24obixmdW5jdGlvbih7dHJhbnNmb3JtVGVtcGxhdGU6dH0sZSl7cmV0dXJuKDAsb2YudXNlTWVtbykoKCgpPT57Y29uc3Qgbj12ZCgpO3JldHVybiBuYShuLGUsdCksT2JqZWN0LmFzc2lnbih7fSxuLnZhcnMsbi5zdHlsZSl9KSxbZV0pfSh0LGUpKSxufWZ1bmN0aW9uIFNkKHQsZSl7Y29uc3Qgbj17fSxyPV9kKHQsZSk7cmV0dXJuIHQuZHJhZyYmITEhPT10LmRyYWdMaXN0ZW5lciYmKG4uZHJhZ2dhYmxlPSExLHIudXNlclNlbGVjdD1yLldlYmtpdFVzZXJTZWxlY3Q9ci5XZWJraXRUb3VjaENhbGxvdXQ9XCJub25lXCIsci50b3VjaEFjdGlvbj0hMD09PXQuZHJhZz9cIm5vbmVcIjpcInBhbi1cIisoXCJ4XCI9PT10LmRyYWc/XCJ5XCI6XCJ4XCIpKSx2b2lkIDA9PT10LnRhYkluZGV4JiYodC5vblRhcHx8dC5vblRhcFN0YXJ0fHx0LndoaWxlVGFwKSYmKG4udGFiSW5kZXg9MCksbi5zdHlsZT1yLG59Y29uc3Qga2Q9bmV3IFNldChbXCJhbmltYXRlXCIsXCJleGl0XCIsXCJ2YXJpYW50c1wiLFwiaW5pdGlhbFwiLFwic3R5bGVcIixcInZhbHVlc1wiLFwidmFyaWFudHNcIixcInRyYW5zaXRpb25cIixcInRyYW5zZm9ybVRlbXBsYXRlXCIsXCJjdXN0b21cIixcImluaGVyaXRcIixcIm9uQmVmb3JlTGF5b3V0TWVhc3VyZVwiLFwib25BbmltYXRpb25TdGFydFwiLFwib25BbmltYXRpb25Db21wbGV0ZVwiLFwib25VcGRhdGVcIixcIm9uRHJhZ1N0YXJ0XCIsXCJvbkRyYWdcIixcIm9uRHJhZ0VuZFwiLFwib25NZWFzdXJlRHJhZ0NvbnN0cmFpbnRzXCIsXCJvbkRpcmVjdGlvbkxvY2tcIixcIm9uRHJhZ1RyYW5zaXRpb25FbmRcIixcIl9kcmFnWFwiLFwiX2RyYWdZXCIsXCJvbkhvdmVyU3RhcnRcIixcIm9uSG92ZXJFbmRcIixcIm9uVmlld3BvcnRFbnRlclwiLFwib25WaWV3cG9ydExlYXZlXCIsXCJnbG9iYWxUYXBUYXJnZXRcIixcImlnbm9yZVN0cmljdFwiLFwidmlld3BvcnRcIl0pO2Z1bmN0aW9uIHhkKHQpe3JldHVybiB0LnN0YXJ0c1dpdGgoXCJ3aGlsZVwiKXx8dC5zdGFydHNXaXRoKFwiZHJhZ1wiKSYmXCJkcmFnZ2FibGVcIiE9PXR8fHQuc3RhcnRzV2l0aChcImxheW91dFwiKXx8dC5zdGFydHNXaXRoKFwib25UYXBcIil8fHQuc3RhcnRzV2l0aChcIm9uUGFuXCIpfHx0LnN0YXJ0c1dpdGgoXCJvbkxheW91dFwiKXx8a2QuaGFzKHQpfWxldCBBZD10PT4heGQodCk7dHJ5eyhPZD1yZXF1aXJlKFwiQGVtb3Rpb24vaXMtcHJvcC12YWxpZFwiKS5kZWZhdWx0KSYmKEFkPXQ9PnQuc3RhcnRzV2l0aChcIm9uXCIpPyF4ZCh0KTpPZCh0KSl9Y2F0Y2goenQpe312YXIgT2Q7ZnVuY3Rpb24gVGQodCxlLG4scil7Y29uc3Qgbz0oMCxvZi51c2VNZW1vKSgoKCk9Pntjb25zdCBuPW1kKCk7cmV0dXJuIGFhKG4sZSxsYShyKSx0LnRyYW5zZm9ybVRlbXBsYXRlKSx7Li4ubi5hdHRycyxzdHlsZTp7Li4ubi5zdHlsZX19fSksW2VdKTtpZih0LnN0eWxlKXtjb25zdCBlPXt9O3dkKGUsdC5zdHlsZSx0KSxvLnN0eWxlPXsuLi5lLC4uLm8uc3R5bGV9fXJldHVybiBvfWZ1bmN0aW9uIEVkKHQ9ITEpe3JldHVybihlLG4scix7bGF0ZXN0VmFsdWVzOm99LGkpPT57Y29uc3QgYT0oR3AoZSk/VGQ6U2QpKG4sbyxpLGUpLHM9ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9e307Zm9yKGNvbnN0IG8gaW4gdClcInZhbHVlc1wiPT09byYmXCJvYmplY3RcIj09dHlwZW9mIHQudmFsdWVzfHwoQWQobyl8fCEwPT09biYmeGQobyl8fCFlJiYheGQobyl8fHQuZHJhZ2dhYmxlJiZvLnN0YXJ0c1dpdGgoXCJvbkRyYWdcIikpJiYocltvXT10W29dKTtyZXR1cm4gcn0obixcInN0cmluZ1wiPT10eXBlb2YgZSx0KSx1PWUhPT1vZi5GcmFnbWVudD97Li4ucywuLi5hLHJlZjpyfTp7fSx7Y2hpbGRyZW46Y309bixsPSgwLG9mLnVzZU1lbW8pKCgoKT0+dW4oYyk/Yy5nZXQoKTpjKSxbY10pO3JldHVybigwLG9mLmNyZWF0ZUVsZW1lbnQpKGUsey4uLnUsY2hpbGRyZW46bH0pfX1mdW5jdGlvbiBQZCh0LGUpe3JldHVybiBmdW5jdGlvbihuLHtmb3J3YXJkTW90aW9uUHJvcHM6cn09e2ZvcndhcmRNb3Rpb25Qcm9wczohMX0pe3JldHVybiBjZCh7Li4uR3Aobik/Z2Q6YmQscHJlbG9hZGVkRmVhdHVyZXM6dCx1c2VSZW5kZXI6RWQociksY3JlYXRlVmlzdWFsRWxlbWVudDplLENvbXBvbmVudDpufSl9fWNvbnN0IGpkPVlwKFBkKCkpO2Z1bmN0aW9uIENkKHQpe3JldHVybiBDZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxDZCh0KX1mdW5jdGlvbiBMZCgpey8qISByZWdlbmVyYXRvci1ydW50aW1lIC0tIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLiAtLSBsaWNlbnNlIChNSVQpOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL0xJQ0VOU0UgKi9MZD1mdW5jdGlvbigpe3JldHVybiBlfTt2YXIgdCxlPXt9LG49T2JqZWN0LnByb3RvdHlwZSxyPW4uaGFzT3duUHJvcGVydHksbz1PYmplY3QuZGVmaW5lUHJvcGVydHl8fGZ1bmN0aW9uKHQsZSxuKXt0W2VdPW4udmFsdWV9LGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxhPWkuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLHM9aS5hc3luY0l0ZXJhdG9yfHxcIkBAYXN5bmNJdGVyYXRvclwiLHU9aS50b1N0cmluZ1RhZ3x8XCJAQHRvU3RyaW5nVGFnXCI7ZnVuY3Rpb24gYyh0LGUsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSx0W2VdfXRyeXtjKHt9LFwiXCIpfWNhdGNoKHQpe2M9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW59fWZ1bmN0aW9uIGwodCxlLG4scil7dmFyIGk9ZSYmZS5wcm90b3R5cGUgaW5zdGFuY2VvZiBtP2U6bSxhPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLHM9bmV3IGoocnx8W10pO3JldHVybiBvKGEsXCJfaW52b2tlXCIse3ZhbHVlOk8odCxuLHMpfSksYX1mdW5jdGlvbiBmKHQsZSxuKXt0cnl7cmV0dXJue3R5cGU6XCJub3JtYWxcIixhcmc6dC5jYWxsKGUsbil9fWNhdGNoKHQpe3JldHVybnt0eXBlOlwidGhyb3dcIixhcmc6dH19fWUud3JhcD1sO3ZhciBwPVwic3VzcGVuZGVkU3RhcnRcIixkPVwic3VzcGVuZGVkWWllbGRcIixoPVwiZXhlY3V0aW5nXCIseT1cImNvbXBsZXRlZFwiLHY9e307ZnVuY3Rpb24gbSgpe31mdW5jdGlvbiBnKCl7fWZ1bmN0aW9uIGIoKXt9dmFyIHc9e307Yyh3LGEsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIF89T2JqZWN0LmdldFByb3RvdHlwZU9mLFM9XyYmXyhfKEMoW10pKSk7UyYmUyE9PW4mJnIuY2FsbChTLGEpJiYodz1TKTt2YXIgaz1iLnByb3RvdHlwZT1tLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpO2Z1bmN0aW9uIHgodCl7W1wibmV4dFwiLFwidGhyb3dcIixcInJldHVyblwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtjKHQsZSwoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ludm9rZShlLHQpfSkpfSkpfWZ1bmN0aW9uIEEodCxlKXtmdW5jdGlvbiBuKG8saSxhLHMpe3ZhciB1PWYodFtvXSx0LGkpO2lmKFwidGhyb3dcIiE9PXUudHlwZSl7dmFyIGM9dS5hcmcsbD1jLnZhbHVlO3JldHVybiBsJiZcIm9iamVjdFwiPT1DZChsKSYmci5jYWxsKGwsXCJfX2F3YWl0XCIpP2UucmVzb2x2ZShsLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKHQpe24oXCJuZXh0XCIsdCxhLHMpfSksKGZ1bmN0aW9uKHQpe24oXCJ0aHJvd1wiLHQsYSxzKX0pKTplLnJlc29sdmUobCkudGhlbigoZnVuY3Rpb24odCl7Yy52YWx1ZT10LGEoYyl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIG4oXCJ0aHJvd1wiLHQsYSxzKX0pKX1zKHUuYXJnKX12YXIgaTtvKHRoaXMsXCJfaW52b2tlXCIse3ZhbHVlOmZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gbygpe3JldHVybiBuZXcgZSgoZnVuY3Rpb24oZSxvKXtuKHQscixlLG8pfSkpfXJldHVybiBpPWk/aS50aGVuKG8sbyk6bygpfX0pfWZ1bmN0aW9uIE8oZSxuLHIpe3ZhciBvPXA7cmV0dXJuIGZ1bmN0aW9uKGksYSl7aWYobz09PWgpdGhyb3cgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2lmKG89PT15KXtpZihcInRocm93XCI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgcz1yLmRlbGVnYXRlO2lmKHMpe3ZhciB1PVQocyxyKTtpZih1KXtpZih1PT09diljb250aW51ZTtyZXR1cm4gdX19aWYoXCJuZXh0XCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKFwidGhyb3dcIj09PXIubWV0aG9kKXtpZihvPT09cCl0aHJvdyBvPXksci5hcmc7ci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZyl9ZWxzZVwicmV0dXJuXCI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoXCJyZXR1cm5cIixyLmFyZyk7bz1oO3ZhciBjPWYoZSxuLHIpO2lmKFwibm9ybWFsXCI9PT1jLnR5cGUpe2lmKG89ci5kb25lP3k6ZCxjLmFyZz09PXYpY29udGludWU7cmV0dXJue3ZhbHVlOmMuYXJnLGRvbmU6ci5kb25lfX1cInRocm93XCI9PT1jLnR5cGUmJihvPXksci5tZXRob2Q9XCJ0aHJvd1wiLHIuYXJnPWMuYXJnKX19fWZ1bmN0aW9uIFQoZSxuKXt2YXIgcj1uLm1ldGhvZCxvPWUuaXRlcmF0b3Jbcl07aWYobz09PXQpcmV0dXJuIG4uZGVsZWdhdGU9bnVsbCxcInRocm93XCI9PT1yJiZlLml0ZXJhdG9yLnJldHVybiYmKG4ubWV0aG9kPVwicmV0dXJuXCIsbi5hcmc9dCxUKGUsbiksXCJ0aHJvd1wiPT09bi5tZXRob2QpfHxcInJldHVyblwiIT09ciYmKG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIrcitcIicgbWV0aG9kXCIpKSx2O3ZhciBpPWYobyxlLml0ZXJhdG9yLG4uYXJnKTtpZihcInRocm93XCI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1pLmFyZyxuLmRlbGVnYXRlPW51bGwsdjt2YXIgYT1pLmFyZztyZXR1cm4gYT9hLmRvbmU/KG5bZS5yZXN1bHROYW1lXT1hLnZhbHVlLG4ubmV4dD1lLm5leHRMb2MsXCJyZXR1cm5cIiE9PW4ubWV0aG9kJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9dCksbi5kZWxlZ2F0ZT1udWxsLHYpOmE6KG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksbi5kZWxlZ2F0ZT1udWxsLHYpfWZ1bmN0aW9uIEUodCl7dmFyIGU9e3RyeUxvYzp0WzBdfTsxIGluIHQmJihlLmNhdGNoTG9jPXRbMV0pLDIgaW4gdCYmKGUuZmluYWxseUxvYz10WzJdLGUuYWZ0ZXJMb2M9dFszXSksdGhpcy50cnlFbnRyaWVzLnB1c2goZSl9ZnVuY3Rpb24gUCh0KXt2YXIgZT10LmNvbXBsZXRpb258fHt9O2UudHlwZT1cIm5vcm1hbFwiLGRlbGV0ZSBlLmFyZyx0LmNvbXBsZXRpb249ZX1mdW5jdGlvbiBqKHQpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzpcInJvb3RcIn1dLHQuZm9yRWFjaChFLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIEMoZSl7aWYoZXx8XCJcIj09PWUpe3ZhciBuPWVbYV07aWYobilyZXR1cm4gbi5jYWxsKGUpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUubmV4dClyZXR1cm4gZTtpZighaXNOYU4oZS5sZW5ndGgpKXt2YXIgbz0tMSxpPWZ1bmN0aW9uIG4oKXtmb3IoOysrbzxlLmxlbmd0aDspaWYoci5jYWxsKGUsbykpcmV0dXJuIG4udmFsdWU9ZVtvXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT10LG4uZG9uZT0hMCxufTtyZXR1cm4gaS5uZXh0PWl9fXRocm93IG5ldyBUeXBlRXJyb3IoQ2QoZSkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpfXJldHVybiBnLnByb3RvdHlwZT1iLG8oayxcImNvbnN0cnVjdG9yXCIse3ZhbHVlOmIsY29uZmlndXJhYmxlOiEwfSksbyhiLFwiY29uc3RydWN0b3JcIix7dmFsdWU6Zyxjb25maWd1cmFibGU6ITB9KSxnLmRpc3BsYXlOYW1lPWMoYix1LFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksZS5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFlJiYoZT09PWd8fFwiR2VuZXJhdG9yRnVuY3Rpb25cIj09PShlLmRpc3BsYXlOYW1lfHxlLm5hbWUpKX0sZS5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsYik6KHQuX19wcm90b19fPWIsYyh0LHUsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrKSx0fSxlLmF3cmFwPWZ1bmN0aW9uKHQpe3JldHVybntfX2F3YWl0OnR9fSx4KEEucHJvdG90eXBlKSxjKEEucHJvdG90eXBlLHMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksZS5Bc3luY0l0ZXJhdG9yPUEsZS5hc3luYz1mdW5jdGlvbih0LG4scixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBBKGwodCxuLHIsbyksaSk7cmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRvbmU/dC52YWx1ZTphLm5leHQoKX0pKX0seChrKSxjKGssdSxcIkdlbmVyYXRvclwiKSxjKGssYSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxjKGssXCJ0b1N0cmluZ1wiLChmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBHZW5lcmF0b3JdXCJ9KSksZS5rZXlzPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdCh0KSxuPVtdO2Zvcih2YXIgciBpbiBlKW4ucHVzaChyKTtyZXR1cm4gbi5yZXZlcnNlKCksZnVuY3Rpb24gdCgpe2Zvcig7bi5sZW5ndGg7KXt2YXIgcj1uLnBvcCgpO2lmKHIgaW4gZSlyZXR1cm4gdC52YWx1ZT1yLHQuZG9uZT0hMSx0fXJldHVybiB0LmRvbmU9ITAsdH19LGUudmFsdWVzPUMsai5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmoscmVzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9dCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goUCksIWUpZm9yKHZhciBuIGluIHRoaXMpXCJ0XCI9PT1uLmNoYXJBdCgwKSYmci5jYWxsKHRoaXMsbikmJiFpc05hTigrbi5zbGljZSgxKSkmJih0aGlzW25dPXQpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciB0PXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLmRvbmUpdGhyb3cgZTt2YXIgbj10aGlzO2Z1bmN0aW9uIG8ocixvKXtyZXR1cm4gcy50eXBlPVwidGhyb3dcIixzLmFyZz1lLG4ubmV4dD1yLG8mJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz10KSwhIW99Zm9yKHZhciBpPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtpPj0wOy0taSl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW2ldLHM9YS5jb21wbGV0aW9uO2lmKFwicm9vdFwiPT09YS50cnlMb2MpcmV0dXJuIG8oXCJlbmRcIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIHU9ci5jYWxsKGEsXCJjYXRjaExvY1wiKSxjPXIuY2FsbChhLFwiZmluYWxseUxvY1wiKTtpZih1JiZjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9ZWxzZSBpZih1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCFjKXRocm93IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gbyhhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgbz10aGlzLnRyeUVudHJpZXNbbl07aWYoby50cnlMb2M8PXRoaXMucHJldiYmci5jYWxsKG8sXCJmaW5hbGx5TG9jXCIpJiZ0aGlzLnByZXY8by5maW5hbGx5TG9jKXt2YXIgaT1vO2JyZWFrfX1pJiYoXCJicmVha1wiPT09dHx8XCJjb250aW51ZVwiPT09dCkmJmkudHJ5TG9jPD1lJiZlPD1pLmZpbmFsbHlMb2MmJihpPW51bGwpO3ZhciBhPWk/aS5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9dCxhLmFyZz1lLGk/KHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMubmV4dD1pLmZpbmFsbHlMb2Msdik6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24odCxlKXtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuXCJicmVha1wiPT09dC50eXBlfHxcImNvbnRpbnVlXCI9PT10LnR5cGU/dGhpcy5uZXh0PXQuYXJnOlwicmV0dXJuXCI9PT10LnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz10LmFyZyx0aGlzLm1ldGhvZD1cInJldHVyblwiLHRoaXMubmV4dD1cImVuZFwiKTpcIm5vcm1hbFwiPT09dC50eXBlJiZlJiYodGhpcy5uZXh0PWUpLHZ9LGZpbmlzaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi5maW5hbGx5TG9jPT09dClyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksUChuKSx2fX0sY2F0Y2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4udHJ5TG9jPT09dCl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXIudHlwZSl7dmFyIG89ci5hcmc7UChuKX1yZXR1cm4gb319dGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpDKGUpLHJlc3VsdE5hbWU6bixuZXh0TG9jOnJ9LFwibmV4dFwiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz10KSx2fX0sZX1mdW5jdGlvbiBJZCh0LGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fSh0KXx8ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsPT10P251bGw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZihudWxsIT1uKXt2YXIgcixvLGksYSxzPVtdLHU9ITAsYz0hMTt0cnl7aWYoaT0obj1uLmNhbGwodCkpLm5leHQsMD09PWUpe2lmKE9iamVjdChuKSE9PW4pcmV0dXJuO3U9ITF9ZWxzZSBmb3IoOyEodT0ocj1pLmNhbGwobikpLmRvbmUpJiYocy5wdXNoKHIudmFsdWUpLHMubGVuZ3RoIT09ZSk7dT0hMCk7fWNhdGNoKHQpe2M9ITAsbz10fWZpbmFsbHl7dHJ5e2lmKCF1JiZudWxsIT1uLnJldHVybiYmKGE9bi5yZXR1cm4oKSxPYmplY3QoYSkhPT1hKSlyZXR1cm59ZmluYWxseXtpZihjKXRocm93IG99fXJldHVybiBzfX0odCxlKXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gTmQodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9OZCh0LGUpOnZvaWQgMH19KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBOZCh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9dmFyIE1kPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihvLGkpe2Z1bmN0aW9uIGEodCl7dHJ5e3Uoci5uZXh0KHQpKX1jYXRjaCh0KXtpKHQpfX1mdW5jdGlvbiBzKHQpe3RyeXt1KHIudGhyb3codCkpfWNhdGNoKHQpe2kodCl9fWZ1bmN0aW9uIHUodCl7dmFyIGU7dC5kb25lP28odC52YWx1ZSk6KGU9dC52YWx1ZSxlIGluc3RhbmNlb2Ygbj9lOm5ldyBuKChmdW5jdGlvbih0KXt0KGUpfSkpKS50aGVuKGEscyl9dSgocj1yLmFwcGx5KHQsZXx8W10pKS5uZXh0KCkpfSkpfTtmdW5jdGlvbiBSZCh0KXt2YXIgZT10aGlzLG49dC5zdGF0ZSxyPXQuZGlzcGxheWFibGUsbz10LmNoaWxkLGk9ci5lbGVtZW50LGE9ci5zdGF0ZSxzPXZvaWQgMD09PWE/aTphLHU9KDAsb2YudXNlUmVmKShudWxsKSxjPUlkKCgwLG9mLnVzZVN0YXRlKShudWxsKSwyKSxsPWNbMF0sZj1jWzFdLHA9SWQoKDAsb2YudXNlU3RhdGUpKFtdKSwyKVsxXSxkPUlkKCgwLG9mLnVzZVN0YXRlKShudWxsKSwyKSxoPWRbMF0seT1kWzFdLHY9SWQoKDAsb2YudXNlU3RhdGUpKHt9KSwyKSxtPXZbMF0sZz12WzFdO2Z1bmN0aW9uIHcodCl7aWYoaCYmaC5nZXRDb250cm9sKCkmJihuLmxvZ2dlci53YXJuKFwiRGlzcGxheWFibGUgQW5pbWF0aW9uXCIsXCJwcm9jZXNzaW5nIHRyYW5zZm9ybSBub3QgY29tcGxldGVkXCIpLGguZ2V0Q29udHJvbCgpLmNvbXBsZXRlKCksaC5zZXRDb250cm9sKG51bGwpKSwhdS5jdXJyZW50KXRocm93IG5ldyBFcnJvcihcInNjb3BlIG5vdCByZWFkeVwiKTt0IGluc3RhbmNlb2YgTGE/T2JqZWN0LmFzc2lnbih1LmN1cnJlbnQuc3R5bGUsdC5wcm9wVG9DU1MobixzLnN0YXRlLHIudHJhbnNmb3JtT3ZlcndyaXRlcykpOk9iamVjdC5hc3NpZ24odS5jdXJyZW50LnN0eWxlLHQpfWZ1bmN0aW9uIF8odCl7cmV0dXJuIGYodCksdD9uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7dmFyIHI9dC5ldmVudHMub25FdmVudHMoW3t0eXBlOmtjLnVwZGF0ZSxsaXN0ZW5lcjp0LmV2ZW50cy5vbihrYy51cGRhdGUsKGZ1bmN0aW9uKHQpe3AodCl9KSl9LHt0eXBlOmtjLmVuZCxsaXN0ZW5lcjp0LmV2ZW50cy5vbihrYy5lbmQsKGZ1bmN0aW9uKCl7ZihudWxsKSxuLmxvZ2dlci5kZWJ1ZyhcInNjZW5lIGJhY2tncm91bmQgdHJhbnNpdGlvbiBlbmRcIix0KX0pKX0se3R5cGU6a2Muc3RhcnQsbGlzdGVuZXI6dC5ldmVudHMub24oa2Muc3RhcnQsKGZ1bmN0aW9uKCl7bi5sb2dnZXIuZGVidWcoXCJzY2VuZSBiYWNrZ3JvdW5kIHRyYW5zaXRpb24gc3RhcnRcIix0KX0pKX1dKTt0LnN0YXJ0KChmdW5jdGlvbigpe3IuY2FuY2VsKCksZSgpfSkpfSkpOihuLmxvZ2dlci53YXJuKFwidHJhbnNpdGlvbiBub3Qgc2V0XCIpLFByb21pc2UucmVzb2x2ZSgpKX1mdW5jdGlvbiBTKHQpe3JldHVybiBNZCh0aGlzLHZvaWQgMCx2b2lkIDAsTGQoKS5tYXJrKChmdW5jdGlvbiBlKCl7cmV0dXJuIExkKCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIHcodC5wcm9wVG9DU1MobixzLnN0YXRlLHIudHJhbnNmb3JtT3ZlcndyaXRlcykpLHkodCksZS5uZXh0PTQsdC5hbmltYXRlKHtzY29wZTp1LHRhcmdldDpzLG92ZXJ3cml0ZXM6ci50cmFuc2Zvcm1PdmVyd3JpdGVzfSxuLChmdW5jdGlvbihlKXtzLnN0YXRlPWIocy5zdGF0ZSxlKSxnKHtzdHlsZTp0LnByb3BUb0NTUyhuLHMuc3RhdGUsci50cmFuc2Zvcm1PdmVyd3JpdGVzKX0pLHkobnVsbCl9KSk7Y2FzZSA0OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSl9cmV0dXJuKDAsb2YudXNlRWZmZWN0KSgoZnVuY3Rpb24oKXt2YXIgdD1cImV2ZW50OmRpc3BsYXlhYmxlLmFwcGx5VHJhbnNpdGlvblwiLG89XCJldmVudDpkaXNwbGF5YWJsZS5hcHBseVRyYW5zZm9ybVwiLGE9XCJldmVudDpkaXNwbGF5YWJsZS5pbml0XCIsYz1pLmV2ZW50cy5vbkV2ZW50cyhbe3R5cGU6dCxsaXN0ZW5lcjppLmV2ZW50cy5vbih0LF8pfSx7dHlwZTpvLGxpc3RlbmVyOmkuZXZlbnRzLm9uKG8sUyl9LHt0eXBlOmEsbGlzdGVuZXI6aS5ldmVudHMub24oYSwoZnVuY3Rpb24oKXtyZXR1cm4gTWQoZSx2b2lkIDAsdm9pZCAwLExkKCkubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlO3JldHVybiBMZCgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiBlPWkudG9EaXNwbGF5YWJsZVRyYW5zZm9ybSgpLG4ubG9nZ2VyLmRlYnVnKFwiaW5pdCB0cmFuc2Zvcm1cIixlKSx0Lm5leHQ9NCxlLmFuaW1hdGUoe3Njb3BlOnUsdGFyZ2V0OnMsb3ZlcndyaXRlczpyLnRyYW5zZm9ybU92ZXJ3cml0ZXN9LG4sKGZ1bmN0aW9uKHQpe3Muc3RhdGU9YihzLnN0YXRlLHQpfSkpO2Nhc2UgNDpjYXNlXCJlbmRcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpfSkpfV0pO3JldHVybiBmdW5jdGlvbigpe2MuY2FuY2VsKCl9fSksW10pLCgwLG9mLnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7aWYoIXUuY3VycmVudCl0aHJvdyBuZXcgRXJyb3IoXCJTY29wZSBub3QgcmVhZHkuIFVzaW5nIGVsZW1lbnQ6IFwiLmNvbmNhdChpLmNvbnN0cnVjdG9yLm5hbWUpKTt3KHMuc3RhdGUpfSksW10pLCgwLG9mLnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7dmFyIHQ9bi5ldmVudHMub25FdmVudHMoW3t0eXBlOmVmLkV2ZW50VHlwZXNbXCJldmVudDpzdGF0ZS5wbGF5ZXIuc2tpcFwiXSxsaXN0ZW5lcjpuLmV2ZW50cy5vbihlZi5FdmVudFR5cGVzW1wiZXZlbnQ6c3RhdGUucGxheWVyLnNraXBcIl0sKGZ1bmN0aW9uKCl7ci5za2lwVHJhbnNmb3JtJiZoJiZoLmdldENvbnRyb2woKSYmKGguZ2V0Q29udHJvbCgpLmNvbXBsZXRlKCksaC5zZXRDb250cm9sKG51bGwpLG4ubG9nZ2VyLmRlYnVnKFwidHJhbnNmb3JtIHNraXBcIikpLHIuc2tpcFRyYW5zaXRpb24mJmwmJmwuY29udHJvbGxlciYmKGwuY29udHJvbGxlci5jb21wbGV0ZSgpLGYobnVsbCksbi5sb2dnZXIuZGVidWcoXCJ0cmFuc2l0aW9uIHNraXBcIikpfSkpfV0pO3JldHVybiBmdW5jdGlvbigpe3QuY2FuY2VsKCl9fSksW2wsaF0pLGFmKCkuY3JlYXRlRWxlbWVudChhZigpLkZyYWdtZW50LG51bGwsbyh7dHJhbnNmb3JtUmVmOnUsdHJhbnNpdGlvbjpsLHRyYW5zZm9ybTpoLHRyYW5zZm9ybVByb3BzOm0sc3RhdGU6bn0pKX1mdW5jdGlvbiBGZCh0LGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fSh0KXx8ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsPT10P251bGw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZihudWxsIT1uKXt2YXIgcixvLGksYSxzPVtdLHU9ITAsYz0hMTt0cnl7aWYoaT0obj1uLmNhbGwodCkpLm5leHQsMD09PWUpe2lmKE9iamVjdChuKSE9PW4pcmV0dXJuO3U9ITF9ZWxzZSBmb3IoOyEodT0ocj1pLmNhbGwobikpLmRvbmUpJiYocy5wdXNoKHIudmFsdWUpLHMubGVuZ3RoIT09ZSk7dT0hMCk7fWNhdGNoKHQpe2M9ITAsbz10fWZpbmFsbHl7dHJ5e2lmKCF1JiZudWxsIT1uLnJldHVybiYmKGE9bi5yZXR1cm4oKSxPYmplY3QoYSkhPT1hKSlyZXR1cm59ZmluYWxseXtpZihjKXRocm93IG99fXJldHVybiBzfX0odCxlKXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gRGQodCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9EZCh0LGUpOnZvaWQgMH19KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBEZCh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gQmQoKXtyZXR1cm4gQmQ9T2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduLmJpbmQoKTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSxCZC5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gVmQodCl7dmFyIGU9dC5zY2VuZSxuPXQucHJvcHMscj10LnN0YXRlO3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoUmQse2Rpc3BsYXlhYmxlOntlbGVtZW50OmUsc2tpcFRyYW5zZm9ybTpyLmdhbWUuY29uZmlnLmVsZW1lbnRzLmJhY2tncm91bmQuYWxsb3dTa2lwVHJhbnNmb3JtLHNraXBUcmFuc2l0aW9uOnIuZ2FtZS5jb25maWcuZWxlbWVudHMuYmFja2dyb3VuZC5hbGxvd1NraXBUcmFuc2l0aW9ufSxjaGlsZDpmdW5jdGlvbih0KXtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KEdkLEJkKHt9LHQse3NjZW5lOmUscHJvcHM6bn0pKX0sc3RhdGU6cn0pfWZ1bmN0aW9uIEdkKHQpe3ZhciBlPXQudHJhbnNmb3JtUmVmLG49dC50cmFuc2Zvcm1Qcm9wcyxyPXQudHJhbnNpdGlvbixvPXQuc3RhdGUsaT10LnNjZW5lLGE9dC5wcm9wcyxzPXlmKCkucmF0aW8sdT1GZChhZigpLnVzZVN0YXRlKCExKSwyKSxjPXVbMF0sbD11WzFdO2Z1bmN0aW9uIGYoKXtjfHwobCghMCksaS5ldmVudHMuZW1pdChsbC5FdmVudFR5cGVzW1wiZXZlbnQ6c2NlbmUuaW1hZ2VMb2FkZWRcIl0pLG8ubG9nZ2VyLmRlYnVnKFwiQmFja2dyb3VuZFRyYW5zaXRpb25cIixcIkltYWdlIGxvYWRlZFwiLGkpKX12YXIgcCxkPVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FRQUFBQzFIQXdDQUFBQUMwbEVRVlI0Mm1QOC93Y0FBZ0FCOXNXRlhUa0FBQUFBU1VWT1JLNUNZSUk9XCIsaD17c3JjOmQsc3R5bGU6T2JqZWN0LmFzc2lnbih7fSxvLmdhbWUuY29uZmlnLmFwcC5kZWJ1Zz97Ym9yZGVyOlwiMXB4IHNvbGlkIHJlZFwifTp7fSl9O3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixudWxsLGFmKCkuY3JlYXRlRWxlbWVudChqZC5kaXYsQmQoe2xheW91dDohMCxyZWY6ZSxjbGFzc05hbWU6XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWNvdmVyIGJnLWNlbnRlciBvdmVyZmxvdy1oaWRkZW5cIn0sYih7c3R5bGU6T2JqZWN0LmFzc2lnbih7fSxzLmdldFN0eWxlKCkpfSxuKSkscj9yLnRvRWxlbWVudFByb3BzKCkubWFwKChmdW5jdGlvbih0LGUpe3ZhciBuPWIoaCxhLHQpO3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoXCJpbWdcIixCZCh7YWx0Om4uYWx0fSxuLHtvbkxvYWQ6ZixzcmM6bi5zcmM/bi5zcmM6ZCxjbGFzc05hbWU6XCJhYnNvbHV0ZVwiLGtleTplfSkpfSkpOihwPWIoaCxhKSxhZigpLmNyZWF0ZUVsZW1lbnQoXCJpbWdcIixCZCh7a2V5OlwibGFzdFwiLGFsdDpwLmFsdH0scCx7b25Mb2FkOmYsc3JjOnAuc3JjfHxkLGNsYXNzTmFtZTpcImFic29sdXRlXCJ9KSkpKSl9ZnVuY3Rpb24gVWQodCl7cmV0dXJuIFVkPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFVkKHQpfWZ1bmN0aW9uIEhkKCl7LyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqL0hkPWZ1bmN0aW9uKCl7cmV0dXJuIGV9O3ZhciB0LGU9e30sbj1PYmplY3QucHJvdG90eXBlLHI9bi5oYXNPd25Qcm9wZXJ0eSxvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24odCxlLG4pe3RbZV09bi52YWx1ZX0saT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGE9aS5pdGVyYXRvcnx8XCJAQGl0ZXJhdG9yXCIscz1pLmFzeW5jSXRlcmF0b3J8fFwiQEBhc3luY0l0ZXJhdG9yXCIsdT1pLnRvU3RyaW5nVGFnfHxcIkBAdG9TdHJpbmdUYWdcIjtmdW5jdGlvbiBjKHQsZSxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLHRbZV19dHJ5e2Moe30sXCJcIil9Y2F0Y2godCl7Yz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bn19ZnVuY3Rpb24gbCh0LGUsbixyKXt2YXIgaT1lJiZlLnByb3RvdHlwZSBpbnN0YW5jZW9mIG0/ZTptLGE9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSkscz1uZXcgaihyfHxbXSk7cmV0dXJuIG8oYSxcIl9pbnZva2VcIix7dmFsdWU6Tyh0LG4scyl9KSxhfWZ1bmN0aW9uIGYodCxlLG4pe3RyeXtyZXR1cm57dHlwZTpcIm5vcm1hbFwiLGFyZzp0LmNhbGwoZSxuKX19Y2F0Y2godCl7cmV0dXJue3R5cGU6XCJ0aHJvd1wiLGFyZzp0fX19ZS53cmFwPWw7dmFyIHA9XCJzdXNwZW5kZWRTdGFydFwiLGQ9XCJzdXNwZW5kZWRZaWVsZFwiLGg9XCJleGVjdXRpbmdcIix5PVwiY29tcGxldGVkXCIsdj17fTtmdW5jdGlvbiBtKCl7fWZ1bmN0aW9uIGcoKXt9ZnVuY3Rpb24gYigpe312YXIgdz17fTtjKHcsYSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgXz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsUz1fJiZfKF8oQyhbXSkpKTtTJiZTIT09biYmci5jYWxsKFMsYSkmJih3PVMpO3ZhciBrPWIucHJvdG90eXBlPW0ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodyk7ZnVuY3Rpb24geCh0KXtbXCJuZXh0XCIsXCJ0aHJvd1wiLFwicmV0dXJuXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2ModCxlLChmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW52b2tlKGUsdCl9KSl9KSl9ZnVuY3Rpb24gQSh0LGUpe2Z1bmN0aW9uIG4obyxpLGEscyl7dmFyIHU9Zih0W29dLHQsaSk7aWYoXCJ0aHJvd1wiIT09dS50eXBlKXt2YXIgYz11LmFyZyxsPWMudmFsdWU7cmV0dXJuIGwmJlwib2JqZWN0XCI9PVVkKGwpJiZyLmNhbGwobCxcIl9fYXdhaXRcIik/ZS5yZXNvbHZlKGwuX19hd2FpdCkudGhlbigoZnVuY3Rpb24odCl7bihcIm5leHRcIix0LGEscyl9KSwoZnVuY3Rpb24odCl7bihcInRocm93XCIsdCxhLHMpfSkpOmUucmVzb2x2ZShsKS50aGVuKChmdW5jdGlvbih0KXtjLnZhbHVlPXQsYShjKX0pLChmdW5jdGlvbih0KXtyZXR1cm4gbihcInRocm93XCIsdCxhLHMpfSkpfXModS5hcmcpfXZhciBpO28odGhpcyxcIl9pbnZva2VcIix7dmFsdWU6ZnVuY3Rpb24odCxyKXtmdW5jdGlvbiBvKCl7cmV0dXJuIG5ldyBlKChmdW5jdGlvbihlLG8pe24odCxyLGUsbyl9KSl9cmV0dXJuIGk9aT9pLnRoZW4obyxvKTpvKCl9fSl9ZnVuY3Rpb24gTyhlLG4scil7dmFyIG89cDtyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZihvPT09aCl0aHJvdyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7aWYobz09PXkpe2lmKFwidGhyb3dcIj09PWkpdGhyb3cgYTtyZXR1cm57dmFsdWU6dCxkb25lOiEwfX1mb3Ioci5tZXRob2Q9aSxyLmFyZz1hOzspe3ZhciBzPXIuZGVsZWdhdGU7aWYocyl7dmFyIHU9VChzLHIpO2lmKHUpe2lmKHU9PT12KWNvbnRpbnVlO3JldHVybiB1fX1pZihcIm5leHRcIj09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoXCJ0aHJvd1wiPT09ci5tZXRob2Qpe2lmKG89PT1wKXRocm93IG89eSxyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlXCJyZXR1cm5cIj09PXIubWV0aG9kJiZyLmFicnVwdChcInJldHVyblwiLHIuYXJnKTtvPWg7dmFyIGM9ZihlLG4scik7aWYoXCJub3JtYWxcIj09PWMudHlwZSl7aWYobz1yLmRvbmU/eTpkLGMuYXJnPT09diljb250aW51ZTtyZXR1cm57dmFsdWU6Yy5hcmcsZG9uZTpyLmRvbmV9fVwidGhyb3dcIj09PWMudHlwZSYmKG89eSxyLm1ldGhvZD1cInRocm93XCIsci5hcmc9Yy5hcmcpfX19ZnVuY3Rpb24gVChlLG4pe3ZhciByPW4ubWV0aG9kLG89ZS5pdGVyYXRvcltyXTtpZihvPT09dClyZXR1cm4gbi5kZWxlZ2F0ZT1udWxsLFwidGhyb3dcIj09PXImJmUuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9XCJyZXR1cm5cIixuLmFyZz10LFQoZSxuKSxcInRocm93XCI9PT1uLm1ldGhvZCl8fFwicmV0dXJuXCIhPT1yJiYobi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIityK1wiJyBtZXRob2RcIikpLHY7dmFyIGk9ZihvLGUuaXRlcmF0b3Isbi5hcmcpO2lmKFwidGhyb3dcIj09PWkudHlwZSlyZXR1cm4gbi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPWkuYXJnLG4uZGVsZWdhdGU9bnVsbCx2O3ZhciBhPWkuYXJnO3JldHVybiBhP2EuZG9uZT8obltlLnJlc3VsdE5hbWVdPWEudmFsdWUsbi5uZXh0PWUubmV4dExvYyxcInJldHVyblwiIT09bi5tZXRob2QmJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz10KSxuLmRlbGVnYXRlPW51bGwsdik6YToobi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSxuLmRlbGVnYXRlPW51bGwsdil9ZnVuY3Rpb24gRSh0KXt2YXIgZT17dHJ5TG9jOnRbMF19OzEgaW4gdCYmKGUuY2F0Y2hMb2M9dFsxXSksMiBpbiB0JiYoZS5maW5hbGx5TG9jPXRbMl0sZS5hZnRlckxvYz10WzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaChlKX1mdW5jdGlvbiBQKHQpe3ZhciBlPXQuY29tcGxldGlvbnx8e307ZS50eXBlPVwibm9ybWFsXCIsZGVsZXRlIGUuYXJnLHQuY29tcGxldGlvbj1lfWZ1bmN0aW9uIGoodCl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOlwicm9vdFwifV0sdC5mb3JFYWNoKEUsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gQyhlKXtpZihlfHxcIlwiPT09ZSl7dmFyIG49ZVthXTtpZihuKXJldHVybiBuLmNhbGwoZSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5uZXh0KXJldHVybiBlO2lmKCFpc05hTihlLmxlbmd0aCkpe3ZhciBvPS0xLGk9ZnVuY3Rpb24gbigpe2Zvcig7KytvPGUubGVuZ3RoOylpZihyLmNhbGwoZSxvKSlyZXR1cm4gbi52YWx1ZT1lW29dLG4uZG9uZT0hMSxuO3JldHVybiBuLnZhbHVlPXQsbi5kb25lPSEwLG59O3JldHVybiBpLm5leHQ9aX19dGhyb3cgbmV3IFR5cGVFcnJvcihVZChlKStcIiBpcyBub3QgaXRlcmFibGVcIil9cmV0dXJuIGcucHJvdG90eXBlPWIsbyhrLFwiY29uc3RydWN0b3JcIix7dmFsdWU6Yixjb25maWd1cmFibGU6ITB9KSxvKGIsXCJjb25zdHJ1Y3RvclwiLHt2YWx1ZTpnLGNvbmZpZ3VyYWJsZTohMH0pLGcuZGlzcGxheU5hbWU9YyhiLHUsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSxlLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4hIWUmJihlPT09Z3x8XCJHZW5lcmF0b3JGdW5jdGlvblwiPT09KGUuZGlzcGxheU5hbWV8fGUubmFtZSkpfSxlLm1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxiKToodC5fX3Byb3RvX189YixjKHQsdSxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGspLHR9LGUuYXdyYXA9ZnVuY3Rpb24odCl7cmV0dXJue19fYXdhaXQ6dH19LHgoQS5wcm90b3R5cGUpLGMoQS5wcm90b3R5cGUscywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxlLkFzeW5jSXRlcmF0b3I9QSxlLmFzeW5jPWZ1bmN0aW9uKHQsbixyLG8saSl7dm9pZCAwPT09aSYmKGk9UHJvbWlzZSk7dmFyIGE9bmV3IEEobCh0LG4scixvKSxpKTtyZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKG4pP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9uZT90LnZhbHVlOmEubmV4dCgpfSkpfSx4KGspLGMoayx1LFwiR2VuZXJhdG9yXCIpLGMoayxhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGMoayxcInRvU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEdlbmVyYXRvcl1cIn0pKSxlLmtleXM9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHQpLG49W107Zm9yKHZhciByIGluIGUpbi5wdXNoKHIpO3JldHVybiBuLnJldmVyc2UoKSxmdW5jdGlvbiB0KCl7Zm9yKDtuLmxlbmd0aDspe3ZhciByPW4ucG9wKCk7aWYociBpbiBlKXJldHVybiB0LnZhbHVlPXIsdC5kb25lPSExLHR9cmV0dXJuIHQuZG9uZT0hMCx0fX0sZS52YWx1ZXM9QyxqLnByb3RvdHlwZT17Y29uc3RydWN0b3I6aixyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5hcmc9dCx0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChQKSwhZSlmb3IodmFyIG4gaW4gdGhpcylcInRcIj09PW4uY2hhckF0KDApJiZyLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09dCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIHQ9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciBuPXRoaXM7ZnVuY3Rpb24gbyhyLG8pe3JldHVybiBzLnR5cGU9XCJ0aHJvd1wiLHMuYXJnPWUsbi5uZXh0PXIsbyYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPXQpLCEhb31mb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbaV0scz1hLmNvbXBsZXRpb247aWYoXCJyb290XCI9PT1hLnRyeUxvYylyZXR1cm4gbyhcImVuZFwiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgdT1yLmNhbGwoYSxcImNhdGNoTG9jXCIpLGM9ci5jYWxsKGEsXCJmaW5hbGx5TG9jXCIpO2lmKHUmJmMpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBvKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX1lbHNlIGlmKHUpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBvKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIWMpdGhyb3cgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciBvPXRoaXMudHJ5RW50cmllc1tuXTtpZihvLnRyeUxvYzw9dGhpcy5wcmV2JiZyLmNhbGwobyxcImZpbmFsbHlMb2NcIikmJnRoaXMucHJldjxvLmZpbmFsbHlMb2Mpe3ZhciBpPW87YnJlYWt9fWkmJihcImJyZWFrXCI9PT10fHxcImNvbnRpbnVlXCI9PT10KSYmaS50cnlMb2M8PWUmJmU8PWkuZmluYWxseUxvYyYmKGk9bnVsbCk7dmFyIGE9aT9pLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT10LGEuYXJnPWUsaT8odGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyx2KTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbih0LGUpe2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm5cImJyZWFrXCI9PT10LnR5cGV8fFwiY29udGludWVcIj09PXQudHlwZT90aGlzLm5leHQ9dC5hcmc6XCJyZXR1cm5cIj09PXQudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPXQuYXJnLHRoaXMubWV0aG9kPVwicmV0dXJuXCIsdGhpcy5uZXh0PVwiZW5kXCIpOlwibm9ybWFsXCI9PT10LnR5cGUmJmUmJih0aGlzLm5leHQ9ZSksdn0sZmluaXNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLmZpbmFsbHlMb2M9PT10KXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxQKG4pLHZ9fSxjYXRjaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi50cnlMb2M9PT10KXt2YXIgcj1uLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09ci50eXBlKXt2YXIgbz1yLmFyZztQKG4pfXJldHVybiBvfX10aHJvdyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLG4scil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOkMoZSkscmVzdWx0TmFtZTpuLG5leHRMb2M6cn0sXCJuZXh0XCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXQpLHZ9fSxlfWZ1bmN0aW9uIHpkKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe3ZhciBuPW51bGw9PXQ/bnVsbDpcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKG51bGwhPW4pe3ZhciByLG8saSxhLHM9W10sdT0hMCxjPSExO3RyeXtpZihpPShuPW4uY2FsbCh0KSkubmV4dCwwPT09ZSl7aWYoT2JqZWN0KG4pIT09bilyZXR1cm47dT0hMX1lbHNlIGZvcig7ISh1PShyPWkuY2FsbChuKSkuZG9uZSkmJihzLnB1c2goci52YWx1ZSkscy5sZW5ndGghPT1lKTt1PSEwKTt9Y2F0Y2godCl7Yz0hMCxvPXR9ZmluYWxseXt0cnl7aWYoIXUmJm51bGwhPW4ucmV0dXJuJiYoYT1uLnJldHVybigpLE9iamVjdChhKSE9PWEpKXJldHVybn1maW5hbGx5e2lmKGMpdGhyb3cgb319cmV0dXJuIHN9fSh0LGUpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBXZCh0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP1dkKHQsZSk6dm9pZCAwfX0odCxlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIFdkKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn12YXIgJGQ9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gYSh0KXt0cnl7dShyLm5leHQodCkpfWNhdGNoKHQpe2kodCl9fWZ1bmN0aW9uIHModCl7dHJ5e3Uoci50aHJvdyh0KSl9Y2F0Y2godCl7aSh0KX19ZnVuY3Rpb24gdSh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oKGZ1bmN0aW9uKHQpe3QoZSl9KSkpLnRoZW4oYSxzKX11KChyPXIuYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9O2Z1bmN0aW9uIFlkKHQpe3ZhciBlPXQuc2NlbmUsbj10LnN0YXRlLHI9dC5jaGlsZHJlbixvPXQuY2xhc3NOYW1lLGk9eWYoKS5yYXRpbyxhPXpkKCgwLG9mLnVzZVN0YXRlKSgoZnVuY3Rpb24oKXtyZXR1cm4gZS5zdGF0ZS5iYWNrZ3JvdW5kTXVzaWN9KSksMikscz1hWzBdLHU9YVsxXTtyZXR1cm4oMCxvZi51c2VFZmZlY3QpKChmdW5jdGlvbigpe3ZhciB0PVt7dHlwZTpcImV2ZW50OnNjZW5lLnNldEJhY2tncm91bmRNdXNpY1wiLGxpc3RlbmVyOmUuZXZlbnRzLm9uKGxsLkV2ZW50VHlwZXNbXCJldmVudDpzY2VuZS5zZXRCYWNrZ3JvdW5kTXVzaWNcIl0sKGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKHQsZSl7cmV0dXJuICRkKHRoaXMsdm9pZCAwLHZvaWQgMCxIZCgpLm1hcmsoKGZ1bmN0aW9uIHIoKXt2YXIgbyxpO3JldHVybiBIZCgpLndyYXAoKGZ1bmN0aW9uKHIpe2Zvcig7Oylzd2l0Y2goci5wcmV2PXIubmV4dCl7Y2FzZSAwOnJldHVybiBvPXMsaT10LHIubmV4dD00LG4udHJhbnNpdGlvblNvdW5kKG8saSxlKTtjYXNlIDQ6aWYoaSl7ci5uZXh0PTY7YnJlYWt9cmV0dXJuIHIuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgNjp1KGkpO2Nhc2UgNzpjYXNlXCJlbmRcIjpyZXR1cm4gci5zdG9wKCl9fSkscil9KSkpfSkodCxlKS50aGVuKCl9KSl9LHt0eXBlOlwiZXZlbnQ6c2NlbmUucHJlVW5tb3VudFwiLGxpc3RlbmVyOmUuZXZlbnRzLm9uKGxsLkV2ZW50VHlwZXNbXCJldmVudDpzY2VuZS5wcmVVbm1vdW50XCJdLChmdW5jdGlvbigpe3MmJmZ1bmN0aW9uKHQsZSl7cmV0dXJuICRkKHRoaXMsdm9pZCAwLHZvaWQgMCxIZCgpLm1hcmsoKGZ1bmN0aW9uIHIoKXtyZXR1cm4gSGQoKS53cmFwKChmdW5jdGlvbihyKXtmb3IoOzspc3dpdGNoKHIucHJldj1yLm5leHQpe2Nhc2UgMDpyZXR1cm4gci5uZXh0PTIsbi5mYWRlU291bmQodCwwLGUpO2Nhc2UgMjpuLnN0b3BTb3VuZCh0KTtjYXNlIDM6Y2FzZVwiZW5kXCI6cmV0dXJuIHIuc3RvcCgpfX0pLHIpfSkpKX0ocyxlLnN0YXRlLmJhY2tncm91bmRNdXNpY0ZhZGUpLnRoZW4oKX0pKX1dO3JldHVybiBmdW5jdGlvbigpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49dC50eXBlLHI9dC5saXN0ZW5lcjtlLmV2ZW50cy5vZmYobixyKX0pKX19KSxbXSksKDAsb2YudXNlRWZmZWN0KSgoZnVuY3Rpb24oKXtyZXR1cm4gZS5ldmVudHMuZW1pdChsbC5FdmVudFR5cGVzW1wiZXZlbnQ6c2NlbmUubW91bnRcIl0pLGZ1bmN0aW9uKCl7ZS5ldmVudHMuZW1pdChsbC5FdmVudFR5cGVzW1wiZXZlbnQ6c2NlbmUudW5tb3VudFwiXSl9fSksW10pLGFmKCkuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6b30sYWYoKS5jcmVhdGVFbGVtZW50KFZkLHtzY2VuZTplLHByb3BzOnt3aWR0aDppLnN0YXRlLndpZHRoLGhlaWdodDppLnN0YXRlLmhlaWdodCxzcmM6YnMuaXNJbWFnZVNyYyhlLnN0YXRlLmJhY2tncm91bmQpP2JzLnNyY1RvU3RyaW5nKGUuc3RhdGUuYmFja2dyb3VuZCk6dm9pZCAwLHN0eWxlOntiYWNrZ3JvdW5kQ29sb3I6YnMuaXNJbWFnZUNvbG9yKGUuc3RhdGUuYmFja2dyb3VuZCk/YnMudG9IZXgoZS5zdGF0ZS5iYWNrZ3JvdW5kKTp2b2lkIDB9fSxzdGF0ZTpufSkscil9ZnVuY3Rpb24gcWQoKXtyZXR1cm4gcWQ9T2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduLmJpbmQoKTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSxxZC5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gWGQodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbD09dD9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYobnVsbCE9bil7dmFyIHIsbyxpLGEscz1bXSx1PSEwLGM9ITE7dHJ5e2lmKGk9KG49bi5jYWxsKHQpKS5uZXh0LDA9PT1lKXtpZihPYmplY3QobikhPT1uKXJldHVybjt1PSExfWVsc2UgZm9yKDshKHU9KHI9aS5jYWxsKG4pKS5kb25lKSYmKHMucHVzaChyLnZhbHVlKSxzLmxlbmd0aCE9PWUpO3U9ITApO31jYXRjaCh0KXtjPSEwLG89dH1maW5hbGx5e3RyeXtpZighdSYmbnVsbCE9bi5yZXR1cm4mJihhPW4ucmV0dXJuKCksT2JqZWN0KGEpIT09YSkpcmV0dXJufWZpbmFsbHl7aWYoYyl0aHJvdyBvfX1yZXR1cm4gc319KHQsZSl8fGZ1bmN0aW9uKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIEtkKHQsZSk7dmFyIG49e30udG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/S2QodCxlKTp2b2lkIDB9fSh0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gS2QodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIFpkKHQpe3ZhciBlPXQuaW1hZ2Usbj10LnN0YXRlLHI9WGQoKDAsb2YudXNlU3RhdGUpKDApLDIpLG89clswXSxpPXJbMV0sYT1MZigpLmdhbWU7KDAsb2YudXNlRWZmZWN0KSgoZnVuY3Rpb24oKXtpKHBlcmZvcm1hbmNlLm5vdygpKX0pLFtdKTt2YXIgcz1mdW5jdGlvbigpe3ZhciB0PXBlcmZvcm1hbmNlLm5vdygpLW8sZT1hLmNvbmZpZy5lbGVtZW50cy5pbWcuc2xvd0xvYWRUaHJlc2hvbGQ7dD5lJiZhLmNvbmZpZy5lbGVtZW50cy5pbWcuc2xvd0xvYWRXYXJuaW5nJiZuLmxvZ2dlci53YXJuKFwiTmFycmFMZWFmLVJlYWN0XCIsXCJJbWFnZSB0b29rIFwiLmNvbmNhdCh0LFwibXMgdG8gbG9hZCwgd2hpY2ggZXhjZWVkcyB0aGUgdGhyZXNob2xkIG9mIFwiKS5jb25jYXQoZSxcIm1zLiBcIikrXCJDb25zaWRlciBlbmFibGUgY2FjaGUgZm9yIHRoZSBpbWFnZSwgc28gUHJlbG9hZGVyIGNhbiBwcmVsb2FkIGl0IGJlZm9yZSBpdCdzIHVzZWQuIFRvIGRpc2FibGUgdGhpcyB3YXJuaW5nLCBzZXQgYGVsZW1lbnRzLmltZy5zbG93TG9hZFdhcm5pbmdgIHRvIGZhbHNlIGluIHRoZSBnYW1lIGNvbmZpZy5cIil9O3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoUmQse2Rpc3BsYXlhYmxlOntlbGVtZW50OmUsc2tpcFRyYW5zaXRpb246bi5nYW1lLmNvbmZpZy5lbGVtZW50cy5pbWcuYWxsb3dTa2lwVHJhbnNpdGlvbixza2lwVHJhbnNmb3JtOm4uZ2FtZS5jb25maWcuZWxlbWVudHMuaW1nLmFsbG93U2tpcFRyYW5zZm9ybX0sY2hpbGQ6ZnVuY3Rpb24odCl7cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChRZCxxZCh7fSx0LHtpbWFnZTplLGhhbmRsZUxvYWQ6c30pKX0sc3RhdGU6bn0pfWZ1bmN0aW9uIFFkKHQpe3ZhciBlPXQudHJhbnNpdGlvbixuPXQudHJhbnNmb3JtUHJvcHMscj10LnRyYW5zZm9ybVJlZixvPXQuc3RhdGUsaT10LmltYWdlLGE9dC5oYW5kbGVMb2FkLHM9e3NyYzpicy5zdGF0aWNJbWFnZURhdGFUb1NyYyhpLnN0YXRlLnNyYyksc3R5bGU6T2JqZWN0LmFzc2lnbih7fSxvLmdhbWUuY29uZmlnLmFwcC5kZWJ1Zz97Ym9yZGVyOlwiMXB4IHNvbGlkIHJlZFwifTp7fSl9O3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiXCJ9LGFmKCkuY3JlYXRlRWxlbWVudChqZC5kaXYscWQoe2xheW91dDohMCxyZWY6cixjbGFzc05hbWU6XCJhYnNvbHV0ZVwifSxiKHtzdHlsZTp7b3BhY2l0eTowfX0sbikpLGU/YWYoKS5jcmVhdGVFbGVtZW50KGFmKCkuRnJhZ21lbnQsbnVsbCxlLnRvRWxlbWVudFByb3BzKCkubWFwKChmdW5jdGlvbih0LGUsbil7dmFyIHI9YihzLHQse3N0eWxlOnt0cmFuc2Zvcm06XCJ0cmFuc2xhdGUoLTUwJSwgLTUwJSlcIn19KTtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KGpkLmltZyxxZCh7Y2xhc3NOYW1lOlwiYWJzb2x1dGVcIixrZXk6ZT09PW4ubGVuZ3RoLTE/XCJsYXN0XCI6ZSxhbHQ6ci5hbHR9LHIse29uTG9hZDphLGxheW91dDohMH0pKX0pKSk6YWYoKS5jcmVhdGVFbGVtZW50KGpkLmltZyxxZCh7YWx0OlwiaW1hZ2VcIixrZXk6XCJsYXN0XCJ9LGIocyx7c3R5bGU6e3RyYW5zZm9ybTpcInRyYW5zbGF0ZSgtNTAlLCA1MCUpXCJ9fSkse29uTG9hZDphLGxheW91dDohMH0pKSwoaS5ldmVudHMuZW1pdChxYS5FdmVudFR5cGVzW1wiZXZlbnQ6aW1hZ2UuZmx1c2hcIl0pLG51bGwpKSl9ZnVuY3Rpb24gSmQodCl7cmV0dXJuIEpkPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEpkKHQpfWZ1bmN0aW9uIHRoKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGVoKHIua2V5KSxyKX19ZnVuY3Rpb24gZWgodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1KZCh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1KZChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PUpkKGUpP2U6ZStcIlwifXZhciBuaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMucHJlbG9hZGVkPVtdLHRoaXMuZXZlbnRzPW5ldyBrfXJldHVybiBmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJnRoKHQucHJvdG90eXBlLGUpLG4mJnRoKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSh0LFt7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaGFzKHRoaXMuZ2V0U3JjKGUpKXx8KHRoaXMucHJlbG9hZGVkLnB1c2goZSksdGhpcy5ldmVudHMuZW1pdCh0LkV2ZW50VHlwZXNbXCJldmVudDpwcmVsb2FkZWQuYWRkXCJdLGUpLHRoaXMuZXZlbnRzLmVtaXQodC5FdmVudFR5cGVzW1wiZXZlbnQ6cHJlbG9hZGVkLmNoYW5nZVwiXSkpLHRoaXN9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5wcmVsb2FkZWQuZmluZCgoZnVuY3Rpb24obil7cmV0dXJuIGUuZ2V0U3JjKG4pPT09dH0pKX19LHtrZXk6XCJoYXNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBBcnJheS5pc0FycmF5KHQpP3QuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmhhcyh0KX0pKTp0aGlzLnByZWxvYWRlZC5zb21lKChmdW5jdGlvbihuKXtyZXR1cm4gZS5nZXRTcmMobik9PT10fSkpfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7aWYoQXJyYXkuaXNBcnJheShlKSl7dmFyIHI9ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBuLmdldFNyYyh0KX0pKTtyZXR1cm4gdGhpcy5wcmVsb2FkZWQ9dGhpcy5wcmVsb2FkZWQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hci5pbmNsdWRlcyhuLmdldFNyYyh0KSl9KSksdGhpc312YXIgbz10aGlzLmdldFNyYyhlKTtyZXR1cm4gdGhpcy5wcmVsb2FkZWQ9dGhpcy5wcmVsb2FkZWQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gbi5nZXRTcmModCkhPT1vfSkpLHRoaXMuZXZlbnRzLmVtaXQodC5FdmVudFR5cGVzW1wiZXZlbnQ6cHJlbG9hZGVkLnJlbW92ZVwiXSxlKSx0aGlzLmV2ZW50cy5lbWl0KHQuRXZlbnRUeXBlc1tcImV2ZW50OnByZWxvYWRlZC5jaGFuZ2VcIl0pLHRoaXN9fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZWxvYWRlZD1bXSx0aGlzfX0se2tleTpcImdldFNyY1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6XCJpbWFnZVwiPT09dC50eXBlP2JzLnNyY1RvU3RyaW5nKHQuc3JjLnN0YXRlLnNyYyk6XCJ2aWRlb1wiPT09dC50eXBlP3Quc3JjOlwiYXVkaW9cIj09PXQudHlwZT90LnNyYy5nZXRTcmMoKTpcIlwifX1dKX0oKTtmdW5jdGlvbiByaCh0LGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fSh0KXx8ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsPT10P251bGw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZihudWxsIT1uKXt2YXIgcixvLGksYSxzPVtdLHU9ITAsYz0hMTt0cnl7aWYoaT0obj1uLmNhbGwodCkpLm5leHQsMD09PWUpe2lmKE9iamVjdChuKSE9PW4pcmV0dXJuO3U9ITF9ZWxzZSBmb3IoOyEodT0ocj1pLmNhbGwobikpLmRvbmUpJiYocy5wdXNoKHIudmFsdWUpLHMubGVuZ3RoIT09ZSk7dT0hMCk7fWNhdGNoKHQpe2M9ITAsbz10fWZpbmFsbHl7dHJ5e2lmKCF1JiZudWxsIT1uLnJldHVybiYmKGE9bi5yZXR1cm4oKSxPYmplY3QoYSkhPT1hKSlyZXR1cm59ZmluYWxseXtpZihjKXRocm93IG99fXJldHVybiBzfX0odCxlKXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gb2godCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9vaCh0LGUpOnZvaWQgMH19KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBvaCh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9bmguRXZlbnRUeXBlcz17XCJldmVudDpwcmVsb2FkZWQuYWRkXCI6XCJldmVudDpwcmVsb2FkZWQuYWRkXCIsXCJldmVudDpwcmVsb2FkZWQucmVtb3ZlXCI6XCJldmVudDpwcmVsb2FkZWQucmVtb3ZlXCIsXCJldmVudDpwcmVsb2FkZWQuY2hhbmdlXCI6XCJldmVudDpwcmVsb2FkZWQuY2hhbmdlXCIsXCJldmVudDpwcmVsb2FkZWQubW91bnRcIjpcImV2ZW50OnByZWxvYWRlZC5tb3VudFwiLFwiZXZlbnQ6cHJlbG9hZGVkLnJlYWR5XCI6XCJldmVudDpwcmVsb2FkZWQucmVhZHlcIn07dmFyIGloPSgwLG9mLmNyZWF0ZUNvbnRleHQpKG51bGwpO2Z1bmN0aW9uIGFoKHQpe3ZhciBlPXQuY2hpbGRyZW4sbj1yaCgoMCxvZi51c2VTdGF0ZSkobmV3IG5oKSwxKVswXTtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KGFmKCkuRnJhZ21lbnQsbnVsbCxhZigpLmNyZWF0ZUVsZW1lbnQoaWguUHJvdmlkZXIse3ZhbHVlOntwcmVsb2FkZWQ6bn19LGUpKX1mdW5jdGlvbiBzaCgpe2lmKCFpaCl0aHJvdyBuZXcgRXJyb3IoXCJ1c2VQcmVsb2FkZWQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIFByZWxvYWRlZFByb3ZpZGVyXCIpO3JldHVybigwLG9mLnVzZUNvbnRleHQpKGloKX1mdW5jdGlvbiB1aCh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gY2godCl9KHQpfHxmdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT10W1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPXRbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gY2godCxlKTt2YXIgbj17fS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9jaCh0LGUpOnZvaWQgMH19KHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIGNoKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBsaCh0KXt2YXIgZT10LnN0YXRlLG49c2goKS5wcmVsb2FkZWQscj1lLmdldExhc3RTY2VuZSgpO3JldHVybigwLG9mLnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7dmFyIHQscjtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXt2YXIgbz1udWxsPT09KHQ9ZS5nZXRMYXN0U2NlbmUoKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc3JjTWFuYWdlcixpPShudWxsPT09KHI9ZS5nZXRMYXN0U2NlbmUoKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuc3JjTWFuYWdlci5mdXR1cmUpfHxbXSxhPVtdLmNvbmNhdCh1aChvP28uc3JjOltdKSx1aChpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3JjfSkpLmZsYXQoMikpKSxzPXtpbWFnZTpuZXcgU2V0LGF1ZGlvOm5ldyBTZXQsdmlkZW86bmV3IFNldH07YS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnR5cGU9PT1wYy5TcmNUeXBlcy5pbWFnZT9zLmltYWdlLmFkZCh0LnNyYyk6dC50eXBlPT09cGMuU3JjVHlwZXMuYXVkaW8/cy5hdWRpby5hZGQodC5zcmMpOnQudHlwZT09PXBjLlNyY1R5cGVzLnZpZGVvJiZzLnZpZGVvLmFkZCh0LnNyYyl9KSksZS5sb2dnZXIuZGVidWcoXCJQcmVsb2FkaW5nXCIscyxpKSxuLnByZWxvYWRlZD1uLnByZWxvYWRlZC5maWx0ZXIoKGZ1bmN0aW9uKHQpe2lmKHQudHlwZT09PXBjLlNyY1R5cGVzLmF1ZGlvKXt2YXIgZT1zW3QudHlwZV0uaGFzKHQuc3JjKTtyZXR1cm4gZXx8KGU9QXJyYXkuZnJvbShzW3QudHlwZV0pLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmdldFNyYyh0KT09PW4uZ2V0U3JjKGUuY29uZmlnLnNyYyl9KSkpLGV9aWYodC50eXBlPT09cGMuU3JjVHlwZXMuaW1hZ2UpcmV0dXJuIHNbdC50eXBlXS5oYXModC5zcmMpO3ZhciByPW4uZ2V0U3JjKHQpO3JldHVybiBzW3QudHlwZV0uaGFzKHIpfSkpO3ZhciB1PVtdO3JldHVybiBzLmltYWdlLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPW5ldyBJbWFnZTtyLnNyYz1icy5zcmNUb1N0cmluZyh0LnN0YXRlLnNyYyksci5vbmxvYWQ9ZnVuY3Rpb24oKXtlLmxvZ2dlci5kZWJ1ZyhcIkltYWdlIGxvYWRlZFwiLHQuc3RhdGUuc3JjKX0sdS5wdXNoKHIpLG4uYWRkKHt0eXBlOlwiaW1hZ2VcIixzcmM6dH0pfSkpLFByb21pc2UuYWxsKFtdKS50aGVuKChmdW5jdGlvbigpe2UubG9nZ2VyLmxvZyhcIlByZWxvYWRlZFwiLFwiUHJlbG9hZGVkIFwiLmNvbmNhdChzLmltYWdlLnNpemUsXCIgaW1hZ2VzXCIpKSxuLmV2ZW50cy5lbWl0KG5oLkV2ZW50VHlwZXNbXCJldmVudDpwcmVsb2FkZWQucmVhZHlcIl0pLGUuZXZlbnRzLmVtaXQoZWYuRXZlbnRUeXBlc1tcImV2ZW50OnN0YXRlLnByZWxvYWQubG9hZGVkXCJdKX0pKSxzLmF1ZGlvLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZ2V0UGxheWluZygpfHx0LnNldFBsYXlpbmcobmV3KGUuZ2V0SG93bCgpKSh7c3JjOnQuY29uZmlnLnNyYyxsb29wOnQuY29uZmlnLmxvb3Asdm9sdW1lOnQuY29uZmlnLnZvbHVtZSxhdXRvcGxheTohMSxwcmVsb2FkOiEwfSkpfSkpLG4uZXZlbnRzLmVtaXQobmguRXZlbnRUeXBlc1tcImV2ZW50OnByZWxvYWRlZC5tb3VudFwiXSksZnVuY3Rpb24oKXt1LmZvckVhY2goKGZ1bmN0aW9uKHQpe3Qub25sb2FkPW51bGx9KSksZS5ldmVudHMuZW1pdChlZi5FdmVudFR5cGVzW1wiZXZlbnQ6c3RhdGUucHJlbG9hZC51bm1vdW50XCJdKSxlLmxvZ2dlci5kZWJ1ZyhcIlByZWxvYWQgdW5tb3VudGVkXCIpfX1jb25zb2xlLndhcm4oXCJXaW5kb3cgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50XCIpfSksW3JdKSxudWxsfWZ1bmN0aW9uIGZoKHQpe3ZhciBlPXQuc3RhdGUsbj1MZigpLmdhbWU7cmV0dXJuKDAsb2YudXNlRWZmZWN0KSgoZnVuY3Rpb24oKXtpZih3aW5kb3cpe3ZhciB0LHIsbyxpPSh0PWZ1bmN0aW9uKHQpe24uY29uZmlnLnBsYXllci5za2lwS2V5LmluY2x1ZGVzKHQua2V5KSYmZS5ldmVudHMuZW1pdChlZi5FdmVudFR5cGVzW1wiZXZlbnQ6c3RhdGUucGxheWVyLnNraXBcIl0pfSxyPW4uY29uZmlnLnBsYXllci5za2lwSW50ZXJ2YWwsbz0wLGZ1bmN0aW9uKCl7dmFyIGU9RGF0ZS5ub3coKTtpZighKGUtbzxyKSlyZXR1cm4gbz1lLHQuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9KTtyZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsaSksZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixpKX19ZS5sb2dnZXIud2FybihcIk5hcnJhTGVhZi1SZWFjdDogQW5ub3VuY2VyXCIsXCJDYW5ub3QgbGlzdGVuIHRvIHdpbmRvdyBldmVudHNcIil9KSxbXSksYWYoKS5jcmVhdGVFbGVtZW50KGFmKCkuRnJhZ21lbnQsbnVsbCl9dmFyIHBoPW8oMzMpO2Z1bmN0aW9uIGRoKCl7cmV0dXJuIGRoPU9iamVjdC5hc3NpZ24/T2JqZWN0LmFzc2lnbi5iaW5kKCk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKSh7fSkuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH0sZGguYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIGhoKHQpe3ZhciBlPXQuc3RhdGUsbj10LnRleHQscj17c2NhbGU6ZnVuY3Rpb24odCl7cmV0dXJue3dpZHRoOlwiZml0LWNvbnRlbnRcIn19LHRyYW5zZm9ybTpmdW5jdGlvbih0KXtyZXR1cm57dHJhbnNmb3JtOkxhLnByb3BUb0NTU1RyYW5zZm9ybShlLHQsW1wibGVmdFwiPT09bi5jb25maWcuYWxpZ25YP1wiMCVcIjpcInJpZ2h0XCI9PT1uLmNvbmZpZy5hbGlnblg/XCItMTAwJVwiOnZvaWQgMCxcInRvcFwiPT09bi5jb25maWcuYWxpZ25ZP1wiMTAwJVwiOlwiYm90dG9tXCI9PT1uLmNvbmZpZy5hbGlnblk/XCIwJVwiOnZvaWQgMF0pfX19O3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoUmQse2Rpc3BsYXlhYmxlOntlbGVtZW50Om4sc2tpcFRyYW5zZm9ybTplLmdhbWUuY29uZmlnLmVsZW1lbnRzLnRleHQuYWxsb3dTa2lwVHJhbnNmb3JtLHNraXBUcmFuc2l0aW9uOmUuZ2FtZS5jb25maWcuZWxlbWVudHMudGV4dC5hbGxvd1NraXBUcmFuc2l0aW9uLHRyYW5zZm9ybU92ZXJ3cml0ZXM6cn0sY2hpbGQ6ZnVuY3Rpb24odCl7cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudCh5aCxkaCh7fSx0LHt0ZXh0Om59KSl9LHN0YXRlOmV9KX1mdW5jdGlvbiB5aCh0KXt2YXIgZT10LnRyYW5zZm9ybVJlZixuPXQudHJhbnNmb3JtUHJvcHMscj10LnRyYW5zaXRpb24sbz10LnN0YXRlLGk9dC50ZXh0LGE9e3N0eWxlOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7d2lkdGg6XCJmaXQtY29udGVudFwifSxvLmdhbWUuY29uZmlnLmFwcC5kZWJ1Zz97Ym9yZGVyOlwiMXB4IHNvbGlkIHJlZFwifTp7fSkse3doaXRlU3BhY2U6XCJub3dyYXBcIn0pfSxzPXJmKGkuY29uZmlnLmNsYXNzTmFtZSk7cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChtZix7Y2xhc3NOYW1lOlwiYWJzb2x1dGUgb3ZlcmZsb3ctaGlkZGVuIHBvaW50ZXItZXZlbnRzLW5vbmVcIn0sYWYoKS5jcmVhdGVFbGVtZW50KGpkLmRpdixkaCh7bGF5b3V0OiEwLHJlZjplLGNsYXNzTmFtZTpcImFic29sdXRlXCJ9LGIoe3N0eWxlOntvcGFjaXR5OjB9fSxuLHtzdHlsZTp7d2lkdGg6XCJmaXQtY29udGVudFwifX0pKSxyP3IudG9FbGVtZW50UHJvcHMoKS5tYXAoKGZ1bmN0aW9uKHQsZSl7dmFyIHI9YihhLG4sdCk7cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChqZC5zcGFuLGRoKHtrZXk6ZSxsYXlvdXQ6ITB9LHIse2NsYXNzTmFtZTpzfSksYWYoKS5jcmVhdGVFbGVtZW50KFwic3BhblwiLG51bGwsaS5zdGF0ZS50ZXh0KSl9KSk6YWYoKS5jcmVhdGVFbGVtZW50KGpkLmRpdixkaCh7a2V5OlwibGFzdFwifSxiKGEse3N0eWxlOnt3aWR0aDpcImZpdC1jb250ZW50XCJ9fSkse2xheW91dDohMH0pLGFmKCkuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOnN9LGkuc3RhdGUudGV4dCkpKSl9ZnVuY3Rpb24gdmgodCl7dmFyIGU9dC5zdGF0ZSxuPXQuZGlzcGxheWFibGU7cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChhZigpLkZyYWdtZW50LG51bGwsbi5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuO2lmKHQgaW5zdGFuY2VvZiBRYylyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KGhoLHtzdGF0ZTplLHRleHQ6dCxrZXk6XCJ0ZXh0LVwiK3QuZ2V0SWQoKX0pO3Rocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGRpc3BsYXlhYmxlIHR5cGU6IFwiKygobnVsbD09PShuPW51bGw9PXQ/dm9pZCAwOnQuY29uc3RydWN0b3IpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm5hbWUpfHx0KSl9KSkpfWZ1bmN0aW9uIG1oKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe3ZhciBuPW51bGw9PXQ/bnVsbDpcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKG51bGwhPW4pe3ZhciByLG8saSxhLHM9W10sdT0hMCxjPSExO3RyeXtpZihpPShuPW4uY2FsbCh0KSkubmV4dCwwPT09ZSl7aWYoT2JqZWN0KG4pIT09bilyZXR1cm47dT0hMX1lbHNlIGZvcig7ISh1PShyPWkuY2FsbChuKSkuZG9uZSkmJihzLnB1c2goci52YWx1ZSkscy5sZW5ndGghPT1lKTt1PSEwKTt9Y2F0Y2godCl7Yz0hMCxvPXR9ZmluYWxseXt0cnl7aWYoIXUmJm51bGwhPW4ucmV0dXJuJiYoYT1uLnJldHVybigpLE9iamVjdChhKSE9PWEpKXJldHVybn1maW5hbGx5e2lmKGMpdGhyb3cgb319cmV0dXJuIHN9fSh0LGUpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBnaCh0LGUpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP2doKHQsZSk6dm9pZCAwfX0odCxlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIGdoKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBiaCh0LGUpe3JldHVybiB0LmhhbmRsZShlKX1mdW5jdGlvbiB3aCh0KXt2YXIgZT10LnN0b3J5LG49dC53aWR0aCxyPXQuaGVpZ2h0LG89dC5jbGFzc05hbWUsaT10Lm9uUmVhZHksYT10Lm9uRW5kLHM9bWgoKDAsb2YudXNlUmVkdWNlcikoKGZ1bmN0aW9uKHQpe3JldHVybiB0KzF9KSwwKSwyKVsxXSx1PUxmKCkuZ2FtZSxjPW1oKCgwLG9mLnVzZVJlZHVjZXIpKGJoLG5ldyBlZih1LHt1cGRhdGU6cyxmb3JjZVVwZGF0ZTpmdW5jdGlvbigpe2wubG9nZ2VyLndhcm4oXCJQbGF5ZXJcIixcImZvcmNlIHVwZGF0ZVwiKSwoMCxwaC5mbHVzaFN5bmMpKChmdW5jdGlvbigpe3MoKX0pKX0sbmV4dDpoLGRpc3BhdGNoOmZ1bmN0aW9uKHQpe3JldHVybiBmKHQpfX0pKSwyKSxsPWNbMF0sZj1jWzFdLHA9dS5jb25maWcuZWxlbWVudHMuc2F5LnVzZSxkPXUuY29uZmlnLmVsZW1lbnRzLm1lbnUudXNlO2Z1bmN0aW9uIGgoKXtmb3IodmFyIHQ9ITE7IXQ7KXt2YXIgZT11LmdldExpdmVHYW1lKCkubmV4dChsKTtpZighZSlicmVhaztpZih3LmlzQXdhaXRhYmxlKGUpKXt0PSEwO2JyZWFrfWlmKGUgaW5zdGFuY2VvZiBqKXtlLm5leHRVbmxvY2soKS50aGVuKChmdW5jdGlvbigpe2goKX0pKSx0PSEwO2JyZWFrfWYoZSl9bC5zdGFnZS51cGRhdGUoKX0oMCxvZi51c2VFZmZlY3QpKChmdW5jdGlvbigpe3JldHVybiB1LmdldExpdmVHYW1lKCkuc2V0R2FtZVN0YXRlKGwpLmxvYWRTdG9yeShlKSxmdW5jdGlvbigpe3UuZ2V0TGl2ZUdhbWUoKS5zZXRHYW1lU3RhdGUodm9pZCAwKX19KSxbdV0pLCgwLG9mLnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCl7dmFyIHQ9ITEsZT1Qcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3Q9ITAsaSYmaSh7Z2FtZTp1LGdhbWVTdGF0ZTpsLGxpdmVHYW1lOnUuZ2V0TGl2ZUdhbWUoKSxzdG9yYWJsZTp1LmdldExpdmVHYW1lKCkuZ2V0U3RvcmFibGUoKX0pO3ZhciBlPWwuZ2V0TGFzdFNjZW5lKCksbj1bXTtlP24ucHVzaCh7dHlwZTpcImV2ZW50OnNjZW5lLm1vdW50XCIsbGlzdGVuZXI6ZS5ldmVudHMub25jZShcImV2ZW50OnNjZW5lLm1vdW50XCIsKGZ1bmN0aW9uKCl7bC5zdGFnZS5uZXh0KCl9KSl9KTpsLnN0YWdlLm5leHQoKTt2YXIgcj1sLmV2ZW50cy5vbkV2ZW50cyhbe3R5cGU6ZWYuRXZlbnRUeXBlc1tcImV2ZW50OnN0YXRlLmVuZFwiXSxsaXN0ZW5lcjpmdW5jdGlvbigpe2EmJmEoe2dhbWU6dSxnYW1lU3RhdGU6bCxsaXZlR2FtZTp1LmdldExpdmVHYW1lKCksc3RvcmFibGU6dS5nZXRMaXZlR2FtZSgpLmdldFN0b3JhYmxlKCl9KX19XSksbz1sLmV2ZW50cy5vbkV2ZW50cyhbe3R5cGU6ZWYuRXZlbnRUeXBlc1tcImV2ZW50OnN0YXRlLnBsYXllci5za2lwXCJdLGxpc3RlbmVyOmZ1bmN0aW9uKCl7dS5nZXRMaXZlR2FtZSgpLmFib3J0QXdhaXRpbmcoKSxoKCl9fV0pO3JldHVybiBsLnN0YWdlLnVwZGF0ZSgpLGZ1bmN0aW9uKCl7ZSYmbi5mb3JFYWNoKChmdW5jdGlvbih0KXtlLmV2ZW50cy5vZmYodC50eXBlLHQubGlzdGVuZXIpfSkpLHIuY2FuY2VsKCksby5jYW5jZWwoKX19KSk7cmV0dXJuIGZ1bmN0aW9uKCl7dCYmZS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdCgpfSkpfX0pLFtdKSxsLmV2ZW50cy5lbWl0KGVmLkV2ZW50VHlwZXNbXCJldmVudDpzdGF0ZS5wbGF5ZXIuZmx1c2hcIl0pO3ZhciB5PW58fHUuY29uZmlnLnBsYXllci53aWR0aCx2PXJ8fHUuY29uZmlnLnBsYXllci5oZWlnaHQ7cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChIcCxudWxsLGFmKCkuY3JlYXRlRWxlbWVudChcImRpdlwiLHtzdHlsZTp7d2lkdGg6XCJudW1iZXJcIj09dHlwZW9mIHk/XCJcIi5jb25jYXQoeSxcInB4XCIpOnksaGVpZ2h0OlwibnVtYmVyXCI9PXR5cGVvZiB2P1wiXCIuY29uY2F0KHYsXCJweFwiKTp2fSxjbGFzc05hbWU6cmYobyxcIl9fbmFycmFsZWFmX2NvbnRlbnQtcGxheWVyXCIpfSxhZigpLmNyZWF0ZUVsZW1lbnQoJHAse2NsYXNzTmFtZTpyZihcImZsZXgtZ3JvdyBvdmVyZmxvdy1hdXRvXCIpfSxhZigpLmNyZWF0ZUVsZW1lbnQobWYse2NsYXNzTmFtZTpcInJlbGF0aXZlXCJ9LGFmKCkuY3JlYXRlRWxlbWVudChsaCx7c3RhdGU6bH0pLGFmKCkuY3JlYXRlRWxlbWVudChfaCx7b25Mb2FkZWQ6ZnVuY3Rpb24oKXtsLnN0YWdlLnVwZGF0ZSgpLGUmJmgoKX0sc3RhdGU6bH0sYWYoKS5jcmVhdGVFbGVtZW50KGZoLHtzdGF0ZTpsfSksbC5nZXRTY2VuZUVsZW1lbnRzKCkubWFwKChmdW5jdGlvbih0KXt2YXIgZT10LnNjZW5lLG49dC5lbGU7cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChZZCx7a2V5Olwic2NlbmUtXCIrZS5nZXRJZCgpLHN0YXRlOmwsc2NlbmU6ZX0sbi5pbWFnZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gYWYoKS5jcmVhdGVFbGVtZW50KFpkLHtrZXk6XCJpbWFnZS1cIit0LmdldElkKCksaW1hZ2U6dCxzdGF0ZTpsfSl9KSksYWYoKS5jcmVhdGVFbGVtZW50KHZoLHtzdGF0ZTpsLGRpc3BsYXlhYmxlOm4uZGlzcGxheWFibGV9KSxuLnRleHRzLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9dC5hY3Rpb24sbj10Lm9uQ2xpY2s7cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChwLHtzdGF0ZTpsLGtleTpcInNheS1cIitlLmlkLGFjdGlvbjplLG9uQ2xpY2s6ZnVuY3Rpb24oKXtuKCksaCgpfX0pfSkpLG4ubWVudXMubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiBhZigpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7a2V5OlwibWVudS1cIitlfSxhZigpLmNyZWF0ZUVsZW1lbnQoZCx7c3RhdGU6bCxwcm9tcHQ6dC5hY3Rpb24ucHJvbXB0LGNob2ljZXM6dC5hY3Rpb24uY2hvaWNlcyxhZnRlckNob29zZTpmdW5jdGlvbihlKXt0Lm9uQ2xpY2soZSksaCgpfX0pKX0pKSl9KSkpKSkpKX1mdW5jdGlvbiBfaCh0KXt2YXIgZT10LmNoaWxkcmVuLG49dC5vbkxvYWRlZCxyPXQuc3RhdGUsbz1zaCgpLnByZWxvYWRlZCxpPW1oKCgwLG9mLnVzZVN0YXRlKSghMSksMiksYT1pWzBdLHM9aVsxXTtyZXR1cm4oMCxvZi51c2VFZmZlY3QpKChmdW5jdGlvbigpe3ZhciB0PW8uZXZlbnRzLm9uKG5oLkV2ZW50VHlwZXNbXCJldmVudDpwcmVsb2FkZWQucmVhZHlcIl0sKGZ1bmN0aW9uKCl7cyghMCksbigpfSkpLGU9ci5ldmVudHMub24oZWYuRXZlbnRUeXBlc1tcImV2ZW50OnN0YXRlLnByZWxvYWQudW5tb3VudFwiXSwoZnVuY3Rpb24oKXtzKCExKX0pKTtyZXR1cm4gZnVuY3Rpb24oKXtvLmV2ZW50cy5vZmYobmguRXZlbnRUeXBlc1tcImV2ZW50OnByZWxvYWRlZC5yZWFkeVwiXSx0KSxyLmV2ZW50cy5vZmYoZWYuRXZlbnRUeXBlc1tcImV2ZW50OnN0YXRlLnByZWxvYWQudW5tb3VudFwiXSxlKX19KSxbYV0pLGFmKCkuY3JlYXRlRWxlbWVudChhZigpLkZyYWdtZW50LG51bGwsYT9lOm51bGwpfWZ1bmN0aW9uIFNoKHQpe3ZhciBlPXQuY2hpbGRyZW4sbj10LmdhbWU7cmV0dXJuIGFmKCkuY3JlYXRlRWxlbWVudChhZigpLkZyYWdtZW50LG51bGwsYWYoKS5jcmVhdGVFbGVtZW50KGhmLG51bGwsYWYoKS5jcmVhdGVFbGVtZW50KENmLHtnYW1lOm59LGFmKCkuY3JlYXRlRWxlbWVudChhaCxudWxsLGUpKSkpfWZ1bmN0aW9uIGtoKHQpe3JldHVybiBraD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxraCh0KX1mdW5jdGlvbiB4aCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxBaChyLmtleSkscil9fWZ1bmN0aW9uIEFoKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9a2godCl8fCF0KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9a2gocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09ZT9TdHJpbmc6TnVtYmVyKSh0KX0odCxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1raChlKT9lOmUrXCJcIn1mdW5jdGlvbiBPaCh0LGUsbil7cmV0dXJuIGU9RWgoZSksZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09a2goZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHQsVGgoKT9SZWZsZWN0LmNvbnN0cnVjdChlLG58fFtdLEVoKHQpLmNvbnN0cnVjdG9yKTplLmFwcGx5KHQsbikpfWZ1bmN0aW9uIFRoKCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4oVGg9ZnVuY3Rpb24oKXtyZXR1cm4hIXR9KSgpfWZ1bmN0aW9uIEVoKHQpe3JldHVybiBFaD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sRWgodCl9ZnVuY3Rpb24gUGgodCxlKXtyZXR1cm4gUGg9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxQaCh0LGUpfXZhciBqaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MWUzLHI9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSwodD1PaCh0aGlzLGUpKS5zdGF0ZT17b3BhY2l0eToxfSx0LmR1cmF0aW9uPW4sdC5lYXNpbmc9cix0fXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZQaCh0LGUpfShlLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmeGgodC5wcm90b3R5cGUsZSksbiYmeGgodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJzZXRTcmNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zcmM9dCx0aGlzfX0se2tleTpcInN0YXJ0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49dGhpczt0aGlzLnN0YXRlLm9wYWNpdHk9ZS5GcmFtZXNbMF0sdGhpcy5yZXF1ZXN0QW5pbWF0aW9uKHtzdGFydDplLkZyYW1lc1swXSxlbmQ6ZS5GcmFtZXNbMV0sZHVyYXRpb246dGhpcy5kdXJhdGlvbn0se29uQ29tcGxldGU6ZnVuY3Rpb24oKXt0JiZ0KCksbi5zdGF0ZS5vcGFjaXR5PWUuRnJhbWVzWzFdfSxvblVwZGF0ZTpmdW5jdGlvbih0KXtuLnN0YXRlLm9wYWNpdHk9dH19LHtlYXNlOnRoaXMuZWFzaW5nfSl9fSx7a2V5OlwidG9FbGVtZW50UHJvcHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblt7c3R5bGU6e29wYWNpdHk6MX19LHtzdHlsZTp7b3BhY2l0eTp0aGlzLnN0YXRlLm9wYWNpdHksYmFja2dyb3VuZENvbG9yOmJzLmlzSW1hZ2VDb2xvcih0aGlzLnNyYyk/Uyh0aGlzLnNyYyk6XCJcIn0sc3JjOmJzLmlzSW1hZ2VTcmModGhpcy5zcmMpP2JzLnNyY1RvU3RyaW5nKHRoaXMuc3JjKTpcIlwifV19fSx7a2V5OlwiY29weVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMuZHVyYXRpb24sdGhpcy5lYXNpbmcpLnNldFNyYyh0aGlzLnNyYyl9fV0pfShNYyk7ZnVuY3Rpb24gQ2godCl7cmV0dXJuIENoPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LENoKHQpfWZ1bmN0aW9uIExoKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LEloKHIua2V5KSxyKX19ZnVuY3Rpb24gSWgodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1DaCh0KXx8IXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LGV8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1DaChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PUNoKGUpP2U6ZStcIlwifWZ1bmN0aW9uIE5oKHQsZSxuKXtyZXR1cm4gZT1SaChlKSxmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT1DaChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odCxNaCgpP1JlZmxlY3QuY29uc3RydWN0KGUsbnx8W10sUmgodCkuY29uc3RydWN0b3IpOmUuYXBwbHkodCxuKSl9ZnVuY3Rpb24gTWgoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2godCl7fXJldHVybihNaD1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gUmgodCl7cmV0dXJuIFJoPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxSaCh0KX1mdW5jdGlvbiBGaCh0LGUpe3JldHVybiBGaD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEZoKHQsZSl9amguRnJhbWVzPVswLDFdO3ZhciBEaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsbil7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MWUzLGk9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSwocj1OaCh0aGlzLGUpKS5zdGF0ZT17b3BhY2l0eTowLHRyYW5zZm9ybTpcIlwifSxyLmR1cmF0aW9uPW8sci5kaXJlY3Rpb249dCxyLm9mZnNldD1uLHIuZWFzaW5nPWksci5fX3N0YWNrPXgoKSxyfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZGaCh0LGUpfShlLHQpLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSYmTGgodC5wcm90b3R5cGUsZSksbiYmTGgodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KGUsW3trZXk6XCJzZXRTcmNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zcmM9dCx0aGlzfX0se2tleTpcInN0YXJ0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighdGhpcy5zcmMpdGhyb3cgbmV3IEVycm9yKFwic3JjIGlzIHJlcXVpcmVkLCBidXQgbm90IHByb3ZpZGVkXFxuYXQ6XFxuXCIrdGhpcy5fX3N0YWNrKTt0aGlzLnN0YXRlLm9wYWNpdHk9MCx0aGlzLnN0YXRlLnRyYW5zZm9ybT10aGlzLmdldEluaXRpYWxUcmFuc2Zvcm0oKSx0aGlzLnJlcXVlc3RBbmltYXRpb24oe3N0YXJ0OjAsZW5kOjEsZHVyYXRpb246dGhpcy5kdXJhdGlvbn0se29uQ29tcGxldGU6dCxvblVwZGF0ZTpmdW5jdGlvbih0KXtlLnN0YXRlLm9wYWNpdHk9dCxlLnN0YXRlLnRyYW5zZm9ybT1lLmdldFRyYW5zZm9ybSh0KX19LHtlYXNlOnRoaXMuZWFzaW5nfSl9fSx7a2V5OlwidG9FbGVtZW50UHJvcHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblt7c3R5bGU6e29wYWNpdHk6MX19LHtzdHlsZTp7b3BhY2l0eTp0aGlzLnN0YXRlLm9wYWNpdHksdHJhbnNmb3JtOnRoaXMuc3RhdGUudHJhbnNmb3JtLGJhY2tncm91bmRDb2xvcjpicy5pc0ltYWdlQ29sb3IodGhpcy5zcmMpP1ModGhpcy5zcmMpOlwiXCJ9LHNyYzpicy5pc0ltYWdlU3JjKHRoaXMuc3JjKT9icy5zcmNUb1N0cmluZyh0aGlzLnNyYyk6XCJcIn1dfX0se2tleTpcImNvcHlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLmRpcmVjdGlvbix0aGlzLm9mZnNldCx0aGlzLmR1cmF0aW9uLHRoaXMuZWFzaW5nKS5zZXRTcmModGhpcy5zcmMpfX0se2tleTpcImdldEluaXRpYWxUcmFuc2Zvcm1cIix2YWx1ZTpmdW5jdGlvbigpe3N3aXRjaCh0aGlzLmRpcmVjdGlvbil7Y2FzZVwibGVmdFwiOnJldHVyblwidHJhbnNsYXRlWCgtXCIuY29uY2F0KHRoaXMub2Zmc2V0LFwicHgpXCIpO2Nhc2VcInJpZ2h0XCI6cmV0dXJuXCJ0cmFuc2xhdGVYKFwiLmNvbmNhdCh0aGlzLm9mZnNldCxcInB4KVwiKTtjYXNlXCJ0b3BcIjpyZXR1cm5cInRyYW5zbGF0ZVkoLVwiLmNvbmNhdCh0aGlzLm9mZnNldCxcInB4KVwiKTtjYXNlXCJib3R0b21cIjpyZXR1cm5cInRyYW5zbGF0ZVkoXCIuY29uY2F0KHRoaXMub2Zmc2V0LFwicHgpXCIpO2RlZmF1bHQ6cmV0dXJuXCJcIn19fSx7a2V5OlwiZ2V0VHJhbnNmb3JtXCIsdmFsdWU6ZnVuY3Rpb24odCl7c3dpdGNoKHRoaXMuZGlyZWN0aW9uKXtjYXNlXCJsZWZ0XCI6cmV0dXJuXCJ0cmFuc2xhdGVYKFwiLmNvbmNhdCgoMS10KSotdGhpcy5vZmZzZXQsXCJweClcIik7Y2FzZVwicmlnaHRcIjpyZXR1cm5cInRyYW5zbGF0ZVgoXCIuY29uY2F0KCgxLXQpKnRoaXMub2Zmc2V0LFwicHgpXCIpO2Nhc2VcInRvcFwiOnJldHVyblwidHJhbnNsYXRlWShcIi5jb25jYXQoKDEtdCkqLXRoaXMub2Zmc2V0LFwicHgpXCIpO2Nhc2VcImJvdHRvbVwiOnJldHVyblwidHJhbnNsYXRlWShcIi5jb25jYXQoKDEtdCkqdGhpcy5vZmZzZXQsXCJweClcIik7ZGVmYXVsdDpyZXR1cm5cIlwifX19XSl9KE1jKTtmdW5jdGlvbiBCaCh0KXtyZXR1cm4gQmg9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sQmgodCl9ZnVuY3Rpb24gVmgodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsR2goci5rZXkpLHIpfX1mdW5jdGlvbiBHaCh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPUJoKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPUJoKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09QmgoZSk/ZTplK1wiXCJ9ZnVuY3Rpb24gVWgodCxlLG4pe3JldHVybiBlPXpoKGUpLGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PUJoKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0LEhoKCk/UmVmbGVjdC5jb25zdHJ1Y3QoZSxufHxbXSx6aCh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LG4pKX1mdW5jdGlvbiBIaCgpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaCh0KXt9cmV0dXJuKEhoPWZ1bmN0aW9uKCl7cmV0dXJuISF0fSkoKX1mdW5jdGlvbiB6aCh0KXtyZXR1cm4gemg9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHpoKHQpfWZ1bmN0aW9uIFdoKHQsZSl7cmV0dXJuIFdoPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sV2godCxlKX12YXIgJGg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjFlMyxyPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksKHQ9VWgodGhpcyxlKSkuc3RhdGU9e29wYWNpdHk6MH0sdC5kdXJhdGlvbj1uLHQuZWFzaW5nPXIsdH1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmV2godCxlKX0oZSx0KSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJlZoKHQucHJvdG90eXBlLGUpLG4mJlZoKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fShlLFt7a2V5Olwic2V0U3JjXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3JjPXQsdGhpc319LHtrZXk6XCJzdGFydFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7dGhpcy5zdGF0ZS5vcGFjaXR5PWUuRnJhbWVzWzBdLHRoaXMucmVxdWVzdEFuaW1hdGlvbih7c3RhcnQ6ZS5GcmFtZXNbMF0sZW5kOmUuRnJhbWVzWzFdLGR1cmF0aW9uOnRoaXMuZHVyYXRpb259LHtvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7bi5zdGF0ZS5vcGFjaXR5PWUuRnJhbWVzWzFdLHQmJnQoKX0sb25VcGRhdGU6ZnVuY3Rpb24odCl7bi5zdGF0ZS5vcGFjaXR5PXR9fSx7ZWFzZTp0aGlzLmVhc2luZ30pfX0se2tleTpcInRvRWxlbWVudFByb3BzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5be3N0eWxlOntvcGFjaXR5OnRoaXMuc3RhdGUub3BhY2l0eX19LHtzdHlsZTp7b3BhY2l0eToxLXRoaXMuc3RhdGUub3BhY2l0eSxiYWNrZ3JvdW5kQ29sb3I6YnMuaXNJbWFnZUNvbG9yKHRoaXMuc3JjKT9TKHRoaXMuc3JjKTpcIlwifSxzcmM6YnMuaXNJbWFnZVNyYyh0aGlzLnNyYyk/YnMuc3JjVG9TdHJpbmcodGhpcy5zcmMpOlwiXCJ9XX19LHtrZXk6XCJjb3B5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodGhpcy5kdXJhdGlvbix0aGlzLmVhc2luZykuc2V0U3JjKHRoaXMuc3JjKX19XSl9KE1jKTskaC5GcmFtZXM9WzEsMF19KSgpLGl9KSgpKSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/narraleaf-react/dist/main.js\n");

/***/ })

};
;